(function($e,m){typeof exports=="object"&&typeof module!="undefined"?module.exports=m(require("vuex"),require("vue"),require("element-plus")):typeof define=="function"&&define.amd?define(["vuex","vue","element-plus"],m):($e=typeof globalThis!="undefined"?globalThis:$e||self,$e["erp-poster-design"]=m($e.Vuex,$e.Vue,$e.elementPlus))})(this,function($e,m,jt){"use strict";var uE={loading(e,t){},changeRoute(e,t){e.routeFrom=t},changeOnline(e,t){e.online=t},changeUser(e,t){e.user.name=t,e.user={...e.user},localStorage.setItem("username",t)},managerEdit(e,t){e.tempEditing=t},setImg(e,t){e.imgs=t},setImgIndex(e,t){e.imgIndex=t},setEditImgVisible(e,t){e.editImgVisible=t},setImageCutoutVisible(e,t){e.imageCutoutVisible=t},setImageCutoutResult(e,t){e.imageCutoutResult=t},setImageCutoutRaw(e,t){e.imageCutoutRaw=t},setState(e,{key:t,value:n}){e[t]=n}},fE={hideLoading(e,t){setTimeout(()=>{e.commit("loading",!1)},600)},setFonts(e,t){e.state.fonts=t}};const hE={state:{loading:null,online:!0,user:{name:localStorage.getItem("username")},scroll:!0,manager:"",tempEditing:!0,fonts:[],app:null,imgs:[],imgIndex:0,editImgVisible:!1,imageCutoutVisible:!1,imageCutoutRaw:null,imageCutoutResult:null,templateVisible:!1,templateMode:1,templateId:null,templateDate:Date.now()},getters:{online:e=>(console.log(e),e.online),user:e=>e.user,manager:e=>e.manager,tempEditing:e=>e.tempEditing,fonts:e=>e.fonts},mutations:{...uE},actions:{...fE}};var dE={updatePaddingTop(e,t){e.dPaddingTop=t},selectItem(e,{data:t,type:n}){e.selectItem.data=t,e.selectItem.type=n},resize(e,t){const{width:n,height:r}=t,i=e.dActiveElement;i.width=n,i.height=r},setWidgetStyle(e,{uuid:t,key:n,value:r,pushHistory:i}){const a=e.dWidgets.find(l=>l.uuid===t);a[n]=r},setMouseEvent(e,t){e.activeMouseEvent=t},setDWidgets(e,t){e.dWidgets=t},setDPage(e,t){e.dPage=t},setShowMoveable(e,t){e.showMoveable=t},setShowRotatable(e,t){e.showRotatable=t},zoomScreenChange(e,t){e.zoomScreenChange=Math.random()},updateRect(e,t){e.updateRect=Math.random()},updateSelect(e,t){e.updateSelect=Math.random()},updateGuidelines(e,t){e.guidelines={...e.guidelines,...t}},setCropUuid(e,t){e.dCropUuid=t},setDraging(e,t){e.dDraging=t}};let gE=(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r};function pE(e,t){console.log("history\u538B\u6808","\u6765\u6E90: "+t);const n=e.state.dHistory,r=e.state.dPageHistory,i=e.state.dHistoryParams;if(!(n[n.length-1]&&n[n.length-1]===JSON.stringify(e.state.dWidgets))){if(i.index<n.length-1){const a=i.index+1,l=n.length-a;n.splice(a,l),r.splice(a,l),i.length=n.length,i.index=n.length-1}n.push(JSON.stringify(e.state.dWidgets)),r.push(JSON.stringify(e.state.dPage)),i.index=n.length-1,i.length=n.length}}function vE(e,t){e.commit("setShowMoveable",!1);const n=e.state.dHistory,r=e.state.dPageHistory,i=e.state.dHistoryParams;t==="undo"?(i.index-=1,console.log(i.index),i.index>-1&&(e.state.dWidgets=JSON.parse(n[i.index]),e.state.dPage=JSON.parse(r[i.index]))):t==="redo"&&(i.index+=1,e.state.dWidgets=JSON.parse(n[i.index]),e.state.dPage=JSON.parse(r[i.index]))}const pa=gE("1234567890abcdef",12);var mE={pushHistory(e,t){pE(e,t)},handleHistory(e,t){vE(e,t),e.state.dActiveElement=e.state.dPage},updateZoom(e,t){e.state.dZoom=t},updateScreen(e,{width:t,height:n}){e.state.dScreen.width=t,e.state.dScreen.height=n},updatePageData(e,{key:t,value:n,pushHistory:r}){const i=e.state.dPage;(i[t]!==n||r)&&(i[t]=n)},updateWidgetData(e,{uuid:t,key:n,value:r,pushHistory:i}){const a=e.state.dWidgets.find(l=>l.uuid===t);if(a&&(a[n]!==r||i)){switch(n){case"width":break;case"height":break;case"left":case"top":if(a.isContainer){let l=a.left-r,o=a.top-r;n==="left"&&(o=0),n==="top"&&(l=0);const c=e.state.dWidgets.length;for(let s=0;s<c;++s){const A=e.state.dWidgets[s];A.parent===a.uuid&&(A.left-=l,A.top-=o)}}break}a[n]=r,i&&setTimeout(()=>{i&&e.dispatch("pushHistory","updateWidgetData")},100)}},updateWidgetMultiple(e,{uuid:t,data:n,pushHistory:r}){for(const i of n){const{key:a,value:l}=i,o=e.state.dWidgets.find(c=>c.uuid===t);if(o&&(o[a]!==l||r)){switch(a){case"left":case"top":if(o.isContainer){let c=o.left-l,s=o.top-l;a==="left"&&(s=0),a==="top"&&(c=0);const A=e.state.dWidgets.length;for(let v=0;v<A;++v){const B=e.state.dWidgets[v];B.parent===o.uuid&&(B.left-=c,B.top-=s)}}break}o[a]=l}}setTimeout(()=>{e.dispatch("pushHistory","updateWidgetMultiple")},100)},addWidget(e,t){t.uuid=pa(),e.state.dWidgets.push(t);const n=e.state.dWidgets.length;e.dispatch("selectWidget",{uuid:e.state.dWidgets[n-1].uuid}),e.dispatch("pushHistory","addWidget"),e.dispatch("reChangeCanvas")},addGroup(e,t){let n=null;t.forEach(i=>{i.uuid=pa(),i.type==="w-group"&&(n=i)}),t.forEach(i=>{!i.isContainer&&(i.parent=n.uuid),i.text&&(i.text=decodeURIComponent(i.text)),e.state.dWidgets.push(i)});const r=e.state.dWidgets.length;e.state.dActiveElement=e.state.dWidgets[r-1],e.dispatch("pushHistory","addGroup"),e.dispatch("reChangeCanvas")},setTemplate(e,t){t.forEach(n=>{Number(n.uuid)<0&&(n.uuid=pa()),n.text&&(n.text=decodeURIComponent(n.text)),e.state.dWidgets.push(n)}),e.dispatch("pushHistory","setTemplate"),e.dispatch("reChangeCanvas")},deleteWidget(e){const t=e.state.dWidgets,n=e.state.dSelectWidgets,r=e.state.dActiveElement;let i=0;if(n.length!==0){for(let a=0;a<n.length;++a){const l=n[a].uuid,o=t.findIndex(c=>c.uuid===l);t.splice(o,1);try{document.getElementById(l).classList.remove("widget-selected")}catch{}}e.state.dSelectWidgets=[]}else{if(r.type==="page")return;const a=r.uuid,l=t.findIndex(o=>o.uuid===a);if(t.splice(l,1),r.isContainer)for(let o=t.length-1;o>=0;--o)t[o].parent===a&&t.splice(o,1);else if(r.parent!=="-1"){for(let o=t.length-1;o>=0&&!(t[o].parent===r.parent&&(i++,i>1));--o);if(i<=1){const o=t.findIndex(c=>c.uuid===r.parent);if(t.splice(o,1),i===1){const c=t.find(s=>s.parent===r.parent);c.parent="-1"}i=0}}}i===0?e.state.dActiveElement=e.state.dPage:e.state.dActiveElement=t.find(a=>a.uuid===r.parent),e.state.dActiveElement.uuid!=="-1"&&e.dispatch("updateGroupSize",e.state.dActiveElement.uuid),e.dispatch("pushHistory","deleteWidget"),e.dispatch("reChangeCanvas")},copyWidget(e){const t=JSON.parse(JSON.stringify(e.state.dActiveElement));if(t.type==="page")return;const n=[],r=e.state.dSelectWidgets;if(r.length===0){const i=t.uuid;if(n.push(t),t.isContainer){const a=e.state.dWidgets;for(let l=0;l<a.length;++l)a[l].parent===i&&n.push(a[l])}}else for(let i=0;i<r.length;++i){const a=r[i].uuid;if(n.push(r[i]),r[i].isContainer){const l=e.state.dWidgets;for(let o=0;o<l.length;++o)l[o].parent===a&&n.push(l[o])}}e.state.dCopyElement=JSON.parse(JSON.stringify(n))},pasteWidget(e){const t=JSON.parse(JSON.stringify(e.state.dCopyElement)),n=t.find(r=>r.isContainer);for(let r=0;r<t.length;++r)t[r].uuid=pa(),n&&t[r].uuid!==n.uuid?t[r].parent=n.uuid:t[r].parent="-1",n||(t[r].top+=50,t[r].left+=50);e.state.dWidgets=e.state.dWidgets.concat(t),e.state.dActiveElement=t[0],e.state.dSelectWidgets=t,n&&(e.state.dActiveElement=n,e.state.dSelectWidgets=[]),e.dispatch("pushHistory","pasteWidget"),e.dispatch("reChangeCanvas")},selectWidget(e,{uuid:t}){const n=e.state.dAltDown,r=e.state.dSelectWidgets,i=e.state.dWidgets.find(a=>a.uuid===t);if(n){if(t!=="-1"&&i.parent==="-1"){r.length===0&&e.state.dActiveElement.uuid!=="-1"&&r.push(e.state.dActiveElement);const a=r.findIndex(l=>l.uuid===t);a!==-1?(r.splice(a,1),r.length===0&&(e.state.dActiveElement=e.state.dPage)):r.push(i),r.length===1&&(e.state.dActiveElement=r[0],e.state.dSelectWidgets=[])}return}if(e.state.dSelectWidgets=[],t==="-1"){e.state.dActiveElement=e.state.dPage;const a=e.state.dPageHistory;a.length===0&&a.push(JSON.stringify(e.state.dPage)),setTimeout(()=>{e.state.dSelectWidgets=[]},10)}else e.state.dActiveElement={},setTimeout(()=>{e.state.dActiveElement=i},10)},selectWidgetsInOut(e,{uuid:t}){const n=e.state.dSelectWidgets,r=e.state.dWidgets.find(i=>i.uuid===t);if(r&&t!=="-1"&&r.parent==="-1"&&!r.isContainer){n.length===0&&e.state.dActiveElement.uuid!=="-1"&&n.push(e.state.dActiveElement);const i=n.findIndex(a=>a.uuid===t);i!==-1?(n.splice(i,1),n.length===0&&(e.state.dActiveElement=e.state.dPage)):n.push(r)}},initDMove(e,t){const n=e.state.dMouseXY,r=e.state.dActiveWidgetXY;n.x=t.startX,n.y=t.startY,r.x=t.originX,r.y=t.originY},stopDMove(e){e.state.dMoving&&e.dispatch("pushHistory","stopDMove"),e.state.dMoving=!1},dMove(e,t){const{donotMove:n}=t;e.state.dMoving=!0;const r=e.state.dPage,i=e.state.dActiveElement,a=e.state.dMouseXY,l=e.state.dActiveWidgetXY;let o=r;i.parent!=="-1"&&(o=e.state.dWidgets.find(B=>B.uuid===i.parent));const c=t.x-a.x,s=t.y-a.y;let A=l.x+Math.floor(c*100/e.state.dZoom),v=l.y+Math.floor(s*100/e.state.dZoom);if(A=Math.max(Math.min(A,r.width-i.record.width),0),v=Math.max(Math.min(v,r.height-i.record.height),0),i.isContainer){const B=i.left-A,x=i.top-v,M=e.state.dWidgets.length;for(let T=0;T<M;++T){const p=e.state.dWidgets[T];p.parent===i.uuid&&(p.left-=B,p.top-=x)}}n||(i.left=A,i.top=v),o.uuid!=="-1"&&e.dispatch("updateGroupSize",o.uuid),e.dispatch("reChangeCanvas")},initDResize(e,t){const n=e.state.dMouseXY,r=e.state.dActiveWidgetXY,i=e.state.dResizeWH;n.x=t.startX,n.y=t.startY,r.x=t.originX,r.y=t.originY,i.width=t.width,i.height=t.height},dResize(e,{x:t,y:n,dirs:r}){e.state.dResizeing=!0;const i=e.state.dPage,a=e.state.dActiveElement,l=e.state.dMouseXY,o=e.state.dActiveWidgetXY,c=e.state.dResizeWH;let s=i;a.parent!=="-1"&&(s=e.state.dWidgets.find(M=>M.uuid===a.parent));const A=t-l.x,v=n-l.y;let B=0,x=0;for(let M=0;M<r.length;++M)switch(r[M]){case"top":const p=o.y+Math.floor(v*100/e.state.dZoom);x=Math.max(p,0),x=Math.min(o.y+c.height-a.record.minHeight,x),a.height+=a.top-x,a.height=Math.max(a.height,a.record.minHeight),a.top=x;break;case"bottom":x=Math.floor(v*100/e.state.dZoom),a.height=c.height+x,a.height=Math.max(a.height,a.record.minHeight),a.height=Math.min(a.height,i.height-a.top);break;case"left":const u=o.x+Math.floor(A*100/e.state.dZoom);B=Math.max(u,0),a.width+=a.left-B,a.width=Math.max(a.width,a.record.minWidth),B=Math.min(o.x+c.width-a.record.minWidth,B),a.left=B;break;case"right":B=Math.floor(A*100/e.state.dZoom),a.width=c.width+B,a.width=Math.max(a.width,a.record.minWidth),a.width=Math.min(a.width,i.width-a.left);break}s.uuid!=="-1"&&e.dispatch("updateGroupSize",s.uuid),e.dispatch("reChangeCanvas")},stopDResize(e){e.state.dResizeing&&e.dispatch("pushHistory","stopDResize"),e.state.dResizeing=!1},reChangeCanvas(e){},pushColorToHistory(e,t){const n=e.state.dColorHistory,r=n.indexOf(t);r!==-1&&n.splice(r,1),n.length===4&&n.splice(n.length-1,1);const i=[t];e.state.dColorHistory=i.concat(n)},updateHoverUuid(e,t){e.state.dHoverUuid=t},showRefLine(e,t){e.state.dShowRefLine=t},updateAlign(e,{align:t,uuid:n,group:r}){const i=e.state.dWidgets,a=n?i.find(x=>x.uuid===n):e.state.dActiveElement;let l=r||e.state.dPage;a.parent!=="-1"&&(l=i.find(x=>x.uuid===a.parent));let o=a.left,c=a.top,s=l.record.width||l.width,A=l.record.height||l.height;l.uuid==="-1"&&(s=l.width,A=l.height);const v=a.width,B=a.height;switch(t){case"left":o=l.left;break;case"ch":o=l.left+s/2-v/2;break;case"right":o=l.left+s-v;break;case"top":c=l.top;break;case"cv":c=l.top+A/2-B/2;break;case"bottom":c=l.top+A-B;break}if(a.left!==o||a.top!==c){if(a.isContainer){const x=a.left-o,M=a.top-c,T=i.length;for(let p=0;p<T;++p){const u=i[p];u.parent===a.uuid&&(u.left-=x,u.top-=M)}}a.left=o,a.top=c,e.dispatch("pushHistory","updateAlign"),e.dispatch("reChangeCanvas")}},getWidgetJsonData(e){const t=JSON.parse(JSON.stringify(e.state.dPage)),n=JSON.parse(JSON.stringify(e.state.dWidgets));return t.widgets=n,t},updateAltDown(e,t){e.state.dAltDown=t,console.log("\u63A7\u5236\u7EC4\u5408\u6309\u952E, \u6210\u7EC4\u529F\u80FD\u4E3A: realCombined")},realCombined(e){const t=e.state.dSelectWidgets;if(t.length>1){const n=e.state.dWidgets,r=JSON.parse(e.state.dGroupJson);r.uuid=pa(),n.push(r);let i=Number(e.state.dPage.width),a=Number(e.state.dPage.height),l=0,o=0;const c=[],s=t.map(A=>A.uuid);for(const A of n)s.includes(A.uuid)&&c.push(A);for(let A=0;A<c.length;++A){const v=c[A].uuid,B=n.findIndex(M=>M.uuid===v),x={...n[B]};if(x.isContainer){n.splice(B,1);for(let M=0;M<n.length;M++){const T=n[M];T.parent===x.uuid&&(T.parent=r.uuid)}}else x.parent=r.uuid,n.splice(B,1),n.push(x);i=Math.min(i,x.left),a=Math.min(a,x.top),l=Math.max(l,Number(x.width||x.record.width)+Number(x.left)),o=Math.max(o,Number(x.height||x.record.height)+Number(x.top))}r.left=Number(i),r.top=Number(a),r.width=Number(l-i),r.height=Number(o-a),e.state.dActiveElement=r,e.state.dSelectWidgets=[],e.dispatch("pushHistory","realCombined")}},getCombined(e){const t=e.state.dSelectWidgets;return new Promise(n=>{if(t.length>1){const r=e.state.dWidgets,i=JSON.parse(e.state.dGroupJson);i.uuid=pa();let a=e.state.dPage.width,l=e.state.dPage.height,o=0,c=0;const s=[],A=t.map(v=>v.uuid);for(const v of r)A.includes(v.uuid)&&s.push(v);for(let v=0;v<s.length;++v){const B=s[v].uuid,x=r.findIndex(T=>T.uuid===B),M={...r[x]};a=Math.min(a,M.left),l=Math.min(l,M.top),o=Math.max(o,Number(M.width)+Number(M.left)),c=Math.max(c,Number(M.height)+Number(M.top))}i.left=a,i.top=l,i.width=o-a,i.height=c-l,n(i)}})},initGroupJson(e,t){e.state.dGroupJson=t},updateGroupSize(e,t){const n=e.state.dWidgets,r=n.find(c=>c.uuid===t);let i=e.state.dPage.width,a=e.state.dPage.height,l=0,o=0;for(let c=0;c<n.length;++c)n[c].parent===r.uuid&&(i=Math.min(i,n[c].left),a=Math.min(a,n[c].top),l=Math.max(l,n[c].record.width+n[c].left),o=Math.max(o,n[c].record.height+n[c].top));r.width=l-i,r.height=o-a,r.left=i,r.top=a},updateLayerIndex(e,{uuid:t,value:n,isGroup:r}){const i=e.state.dWidgets,a=i.find(B=>B.uuid===t),l=i.findIndex(B=>B.uuid===t);let o=[];if(r){o=i.filter(B=>B.parent===t);for(let B=0;B<o.length;++B){const x=i.findIndex(M=>M.uuid===o[B].uuid);i.splice(x,1)}}let c=l+n,s=!1;const A=i.length;let v=1;for(;c>=0&&c<A;){const B=i[c];if(a.parent!=="-1"){B.parent===a.parent&&(i.splice(l,1),i.splice(c,0,a),s=!0);break}else if(B.parent==="-1")if(v===0&&B.isContainer||!B.isContainer||n<0&&B.isContainer){v===0&&n>0&&(c-=n),i.splice(l,1),i.splice(c,0,a),s=!0;break}else B.isContainer&&(v=0);c+=n}if(c-=n,!s&&c!==l&&(i.splice(l,1),i.splice(c,0,a)),r){const B=i.findIndex(x=>x.uuid===t);for(let x=o.length-1;x>=0;--x)i.splice(B+1,0,o[x])}},ungroup(e,t){const n=e.state.dWidgets,r=n.findIndex(a=>a.uuid===t);n.splice(r,1);const i=n.length;for(let a=0;a<i;++a)n[a].parent===t&&(n[a].parent="-1",e.state.dSelectWidgets.push(n[a]));e.commit("updateSelect")},resetWidget(e){e.state.dWidgets=[],e.state.dPage.opacity=0},setDropOver(e,t){e.state.dDropOverUuid=t}};const yE={state:{dZoom:0,dPaddingTop:0,dScreen:{width:0,height:0},guidelines:{verticalGuidelines:[],horizontalGuidelines:[]},dActiveWidgetXY:{x:0,y:0},dMouseXY:{x:0,y:0},dMoving:!1,dDraging:!1,dResizeing:!1,dShowRefLine:!0,dResizeWH:{width:0,height:0},dActiveElement:{},dCopyElement:[],dHoverUuid:"-1",dDropOverUuid:"",dPage:{name:"\u80CC\u666F\u9875\u9762",type:"page",uuid:"-1",left:0,top:0,width:1920,height:1080,backgroundColor:"#ffffff",backgroundImage:"",backgroundTransform:{},opacity:1,tag:0,setting:[{label:"\u80CC\u666F\u989C\u8272",parentKey:"backgroundColor",value:!1}],record:{}},dWidgets:[],dHistory:[],dActiveUuidHistory:[],dPageHistory:[],dHistoryParams:{index:-1,length:0,maxLength:20},dColorHistory:[],dAltDown:!1,dSelectWidgets:[],dGroupJson:{},selectItem:{data:null},activeMouseEvent:null,showMoveable:!1,showRotatable:!0,zoomScreenChange:null,updateRect:null,updateSelect:null,dCropUuid:-1},getters:{selectItem(e){return e.selectItem},dZoom(e){return e.dZoom},dPaddingTop(e){return e.dPaddingTop},dScreen(e){return e.dScreen},dActiveWidgetXY(e){return e.dActiveWidgetXY},dMouseXY(e){return e.dMouseXY},dMoving(e){return e.dMoving},dDraging(e){return e.dDraging},dActiveElement(e){return e.dActiveElement},dPage(e){return e.dPage},dWidgets(e){return e.dWidgets},dHistoryParams(e){return e.dHistoryParams},dColorHistory(e){return e.dColorHistory},dHoverUuid(e){return e.dHoverUuid},dResizeing(e){return e.dResizeing},dShowRefLine(e){return e.dShowRefLine},dCopyElement(e){return e.dCopyElement},dAltDown(e){return e.dAltDown},dSelectWidgets(e){return e.dSelectWidgets},activeMouseEvent(e){return e.activeMouseEvent},showMoveable(e){return e.showMoveable},showRotatable(e){return e.showRotatable},zoomScreenChange(e){return e.zoomScreenChange},updateRect(e){return e.updateRect},updateSelect(e){return e.updateSelect},dDropOverUuid(e){return e.dDropOverUuid},guidelines(e){return e.guidelines},dCropUuid(e){return e.dCropUuid},dPageHistory(e){return e.dPageHistory},dHistory(e){return e.dHistory}},mutations:{...dE},actions:{...mE}};var tt=$e.createStore({...hE,modules:{design:yE}});const CE="1.0.0";var tr={isDev:{adb:"C:\\platform-tools",ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\1\\AppData\\Roaming","asl.log":"Destination=file",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-JLHGILQ",ComSpec:"C:\\Windows\\system32\\cmd.exe",CONDA_PROMPT_MODIFIER:"False",CUDA_PATH:"D:\\NVIDIA GPU Computing Toolkit",CUDA_PATH_V12_3:"D:\\NVIDIA GPU Computing Toolkit",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\1",INIT_CWD:"E:\\jwkj\\erp-poster-design",LOCALAPPDATA:"C:\\Users\\1\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-JLHGILQ",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_config_argv:'{"remain":[],"cooked":["run","v-build"],"original":["v-build"]}',npm_config_bin_links:"true",npm_config_ignore_optional:"",npm_config_ignore_scripts:"",npm_config_init_license:"MIT",npm_config_init_version:"1.0.0",npm_config_registry:"https://registry.yarnpkg.com",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_user_agent:"yarn/1.22.21 npm/? node/v20.9.0 win32 x64",npm_config_version_commit_hooks:"true",npm_config_version_git_message:"v%s",npm_config_version_git_sign:"",npm_config_version_git_tag:"true",npm_config_version_tag_prefix:"v",npm_execpath:"C:\\Users\\1\\AppData\\Roaming\\nvm\\v20.9.0\\node_modules\\yarn\\bin\\yarn.js",npm_lifecycle_event:"v-build",npm_lifecycle_script:"cross-env NODE_ENV=production && vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_author_name:"ShawnPhang",npm_package_browserslist_0:"> 1%",npm_package_browserslist_1:"last 2 versions",npm_package_browserslist_2:"not dead",npm_package_dependencies_axios:"^0.21.1",npm_package_dependencies_canvg:"^4.0.1",npm_package_dependencies_core_js:"^3.6.5",npm_package_dependencies_dayjs:"^1.10.7",npm_package_dependencies_element_plus:"^2.3.7",npm_package_dependencies_fontfaceobserver:"^2.1.0",npm_package_dependencies_html2canvas:"^1.4.1",npm_package_dependencies_moveable:"^0.26.0",npm_package_dependencies_moveable_helper:"^0.4.0",npm_package_dependencies_nanoid:"^3.1.23",npm_package_dependencies_normalize_css:"^8.0.1",npm_package_dependencies_qr_code_styling:"^1.6.0-rc.1",npm_package_dependencies_selecto:"^1.13.0",npm_package_dependencies_throttle_debounce:"^3.0.1",npm_package_dependencies_tui_image_editor:"^3.15.3",npm_package_dependencies_vue:"^3.0.0",npm_package_dependencies_vuedraggable:"^4.1.0",npm_package_dependencies_vuex:"^4.0.0-0",npm_package_dependencies_vue_router:"^4.0.0-0",npm_package_dependencies__palxp_color_picker:"^1.5.2",npm_package_dependencies__palxp_image_extraction:"^1.2.4",npm_package_dependencies__scena_guides:"^0.18.1",npm_package_dependencies__webtoon_psd:"^0.4.0",npm_package_description:"\u4E00\u6B3E\u6F02\u4EAE\u4E14\u529F\u80FD\u5F3A\u5927\u7684\u5728\u7EBF\u6D77\u62A5\u56FE\u7247\u8BBE\u8BA1\u5668\uFF0C\u4EFF\u7A3F\u5B9A\u8BBE\u8BA1\u3002",npm_package_devDependencies_autoprefixer:"^10.4.16",npm_package_devDependencies_babel_eslint:"^10.1.0",npm_package_devDependencies_cross_env:"^7.0.3",npm_package_devDependencies_esbuild_loader:"^2.13.1",npm_package_devDependencies_eslint:"^7.29.0",npm_package_devDependencies_eslint_config_alloy:"~4.1.0",npm_package_devDependencies_eslint_plugin_vue:"^7.12.1",npm_package_devDependencies_less:"^4.1.1",npm_package_devDependencies_postcss:"^8.4.33",npm_package_devDependencies_tailwindcss:"^3.4.1",npm_package_devDependencies_typescript:"~4.1.5",npm_package_devDependencies_unplugin_element_plus:"^0.7.1",npm_package_devDependencies_vite:"^2.4.1",npm_package_devDependencies_vite_plugin_compression:"^0.3.0",npm_package_devDependencies_vue_cli_plugin_norm:"~1.2.2",npm_package_devDependencies_vue_eslint_parser:"^7.6.0",npm_package_devDependencies_vue_tsc:"^0.2.0",npm_package_devDependencies__typescript_eslint_eslint_plugin:"^4.28.3",npm_package_devDependencies__typescript_eslint_parser:"^4.28.3",npm_package_devDependencies__types_node:"^16.3.1",npm_package_devDependencies__types_throttle_debounce:"^2.1.0",npm_package_devDependencies__vitejs_plugin_vue:"^1.2.4",npm_package_devDependencies__vue_cli_plugin_babel:"~4.5.0",npm_package_devDependencies__vue_cli_plugin_router:"~4.5.0",npm_package_devDependencies__vue_cli_plugin_typescript:"~4.5.0",npm_package_devDependencies__vue_cli_plugin_vuex:"~4.5.0",npm_package_devDependencies__vue_cli_service:"~4.5.0",npm_package_devDependencies__vue_compiler_sfc:"^3.1.4",npm_package_devDependencies__vue_eslint_config_typescript:"^7.0.0",npm_package_license:"MIT",npm_package_name:"xunpai-design",npm_package_private:"true",npm_package_readmeFilename:"README.md",npm_package_scripts_build:"node script/set config.json && npm run v-build && sh script/reverse.sh",npm_package_scripts_dev:"cross-env NODE_ENV=development vite",npm_package_scripts_prepared:"npm i && cd screenshot && npm i",npm_package_scripts_publish:"sh script/publish.sh",npm_package_scripts_publish_fast:"git add . && git commit -m 'build: auto publish' && sh script/publish.sh",npm_package_scripts_serve:"npm run dev",npm_package_scripts_short:"cd screenshot && npm run dev",npm_package_scripts_v_build:"cross-env NODE_ENV=production && vite build",npm_package_scripts_v_build_hard:"cross-env NODE_ENV=production vue-tsc --noEmit && vite build",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"12",NVM_HOME:"C:\\Users\\1\\AppData\\Roaming\\nvm",NVM_SYMLINK:"C:\\Program Files\\nodejs",OneDrive:"C:\\Users\\1\\OneDrive",OS:"Windows_NT",Path:"C:\\Users\\1\\AppData\\Local\\Temp\\yarn--1705652588843-0.9597868396784279;E:\\jwkj\\erp-poster-design\\node_modules\\.bin;C:\\Users\\1\\AppData\\Local\\Yarn\\Data\\link\\node_modules\\.bin;C:\\Users\\1\\AppData\\Local\\Yarn\\bin;C:\\Program Files\\libexec\\lib\\node_modules\\npm\\bin\\node-gyp-bin;C:\\Program Files\\lib\\node_modules\\npm\\bin\\node-gyp-bin;C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\node-gyp-bin;C:\\Users\\1\\AppData\\Local\\oh-my-posh;D:\\NVIDIA GPU Computing Toolkit\\bin;D:\\NVIDIA GPU Computing Toolkit\\libnvvp;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Users\\1\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Docker\\Docker\\resources\\bin;%adb%;D:\\\u5FAE\u4FE1web\u5F00\u53D1\u8005\u5DE5\u5177\\dll;C:\\Program Files\\NVIDIA Corporation\\Nsight Compute 2023.3.1\\;C:\\Users\\1\\AppData\\Local\\pnpm;C:\\Users\\1\\.cargo\\bin;C:\\Users\\1\\AppData\\Local\\Microsoft\\WindowsApps;D:\\Microsoft VS Code\\bin;C:\\Users\\1\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\1\\AppData\\Local\\Programs\\oh-my-posh\\bin;C:\\Users\\1\\AppData\\Roaming\\Python\\Scripts;C:\\Users\\1\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\Roaming\\pypoetry\\venv\\Scripts\\poetry;",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JSE;.WSF;.WSH;.MSC;.CPL",PNPM_HOME:"C:\\Users\\1\\AppData\\Local\\pnpm",POSH_AZURE_ENABLED:"False",POSH_CURSOR_COLUMN:"1",POSH_CURSOR_LINE:"30",POSH_GIT_ENABLED:"False",POSH_PATH:"C:\\Users\\1\\AppData\\Local\\oh-my-posh",POSH_PID:"9344",POSH_SHELL_VERSION:"5.1.22621.2506",POSH_THEME:"C:\\Users\\1\\AppData\\Local\\oh-my-posh\\themes\\spaceship.omp.json",POSH_THEMES_PATH:"C:\\Users\\1\\AppData\\Local\\oh-my-posh\\themes",POWERLINE_COMMAND:"oh-my-posh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 97 Stepping 2, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"6102",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\1\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\1\\AppData\\Local\\Temp",TMP:"C:\\Users\\1\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-JLHGILQ",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-JLHGILQ",USERNAME:"hankqin",USERPROFILE:"C:\\Users\\1",windir:"C:\\Windows",WSLENV:"WT_SESSION:WT_PROFILE_ID:",WT_PROFILE_ID:"{61c54bbd-c2c6-5271-96e7-009a87ff44bf}",WT_SESSION:"f26ae492-63ca-457d-8f1e-7d10d9a1e425",YARN_WRAP_OUTPUT:"false"}.NODE_ENV==="development",BASE_URL:"./",VERSION:CE,APP_NAME:"\u9CB8\u82C7ERP",COPYRIGHT:"ShawnPhang - Palxp.cn",API_URL:"https://api.erp.dev.jinweitec.com/admin",SCREEN_URL:"#{SCREEN_URL}",IMG_URL:"https://store.palxp.com/",ICONFONT_URL:"//at.alicdn.com/t/font_2717063_ypy8vprc3b.css?display=swap",ICONFONT_EXTRA:"//at.alicdn.com/t/c/font_4408337_shrx6afwab.css",QINIUYUN_PLUGIN:"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/qiniu-js/2.5.5/qiniu.min.js",supportSubFont:!0};const wE={left:0,top:0,list:[]},BE=[{type:"copy",text:"\u590D\u5236"},{type:"paste",text:"\u7C98\u8D34"},{type:"index-up",text:"\u4E0A\u79FB\u4E00\u5C42"},{type:"index-down",text:"\u4E0B\u79FB\u4E00\u5C42"},{type:"del",text:"\u5220\u9664"}],bE=[{type:"paste",text:"\u7C98\u8D34"}],Dg=["w-text","w-image","w-svg","w-group","w-qrcode"];function yo(e){let t=[],n=null,r=null;return new Promise(i=>{function a(l){if(!l||l.id==="page-design"){t.length>1?i(n):i(r||e);return}const o=Array.from(l.classList);t=t.concat(o.filter(c=>(Dg.includes(c)&&(r=l),c==="w-group"&&(n=l),Dg.includes(c)))),a(l.parentElement)}a(e)})}var OY="",ct=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const EE=m.defineComponent({setup(){},data(){return{menuList:wE,showMenuBg:!1,widgetMenu:BE,pageMenu:bE}},computed:{...$e.mapGetters(["dActiveElement","dAltDown","dWidgets","dCopyElement"]),styleObj(){return{left:this.menuList.left+"px",top:this.menuList.top+"px"}}},mounted(){document.oncontextmenu=this.mouseRightClick},methods:{...$e.mapActions(["selectWidget","copyWidget","pasteWidget","updateLayerIndex","deleteWidget","ungroup"]),async mouseRightClick(e){if(e.stopPropagation(),e.preventDefault(),this.showMenuBg){this.showMenuBg=!1;return}let t=await yo(e.target);if(t.getAttribute("data-type")){let r=t.getAttribute("data-uuid");if(r!=="-1"&&!this.dAltDown){let i=this.dWidgets.find(a=>a.uuid===r);i.parent!=="-1"&&i.parent!==this.dActiveElement.uuid&&i.parent!==this.dActiveElement.parent&&(r=i.parent)}this.selectWidget({uuid:r||"-1"}),this.showMenu(e)}},showMenu(e){let t=this.dActiveElement.uuid==="-1";if(this.menuList.list=t?this.pageMenu:this.widgetMenu,this.dActiveElement.isContainer){let l=[{type:"ungroup",text:"\u53D6\u6D88\u7EC4\u5408"}];this.menuList.list=l.concat(this.menuList.list)}this.showMenuBg=!0;let n=e.pageX,r=e.pageY,i=120;n+i>window.innerWidth&&(n-=i);let a=(14+10)*this.menuList.list.length+10;r+a>window.innerHeight&&(r-=a),this.menuList.left=n,this.menuList.top=r},closeMenu(){this.showMenuBg=!1},selectMenu(e){switch(e){case"copy":this.copyWidget();break;case"paste":if(this.dCopyElement.length===0)return;this.pasteWidget();break;case"index-up":this.updateLayerIndex({uuid:this.dActiveElement.uuid,value:1,isGroup:this.dActiveElement.isContainer});break;case"index-down":this.updateLayerIndex({uuid:this.dActiveElement.uuid,value:-1,isGroup:this.dActiveElement.isContainer});break;case"del":this.deleteWidget();break;case"ungroup":this.ungroup(this.dActiveElement.uuid);break}this.closeMenu()}}}),_E=["onClick"];function SE(e,t,n,r,i,a){return m.withDirectives((m.openBlock(),m.createElementBlock("div",{id:"menu-bg",class:"menu-bg",onClick:t[0]||(t[0]=(...l)=>e.closeMenu&&e.closeMenu(...l))},[m.createElementVNode("ul",{ref:"menuList",class:"menu-list",style:m.normalizeStyle(e.styleObj)},[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.menuList.list,(l,o)=>(m.openBlock(),m.createElementBlock("li",{key:o,class:m.normalizeClass({"menu-item":!0,"disable-menu":e.dCopyElement.length===0&&l.type==="paste"}),onClick:m.withModifiers(c=>e.selectMenu(l.type),["stop"])},m.toDisplayString(l.text),11,_E))),128))],4)],512)),[[m.vShow,e.showMenuBg]])}var IE=ct(EE,[["render",SE],["__scopeId","data-v-098cd40c"]]);function Tg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(r){return r.split(" ").map(function(i){return i?""+e+i:""}).join(" ")}).join(" ")}function Og(e,t){return t.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function wn(e,t){return function(n){n&&(e[t]=n)}}function vu(e,t,n){return function(r){r&&(e[t][n]=r)}}function Co(e,t){return function(n){var r=n.prototype;e.forEach(function(i){t(r,i)})}}function xE(e,t){return t===void 0&&(t={}),function(n,r){e.forEach(function(i){var a=t[i]||i;a in n||(n[a]=function(){for(var l,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var s=(l=this[r])[i].apply(l,o);return s===this[r]?this:s})})}}var ME=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(n){return this.values[this.keys.indexOf(n)]},t.set=function(n,r){var i=this.keys,a=this.values,l=i.indexOf(n),o=l===-1?i.length:l;i[o]=n,a[o]=r},e}(),DE=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(n){return this.object[n]},t.set=function(n,r){this.object[n]=r},e}(),TE=typeof Map=="function",OE=function(){function e(){}var t=e.prototype;return t.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},t.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},t.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},e}();function FE(e,t){var n=[],r=[];return e.forEach(function(i){var a=i[0],l=i[1],o=new OE;n[a]=o,r[l]=o}),n.forEach(function(i,a){i.connect(n[a-1])}),e.filter(function(i,a){return!t[a]}).map(function(i,a){var l=i[0],o=i[1];if(l===o)return[0,0];var c=n[l],s=r[o-1],A=c.getIndex();c.disconnect(),s?c.connect(s,s.next):c.connect(void 0,n[0]);var v=c.getIndex();return[A,v]})}var kE=function(){function e(n,r,i,a,l,o,c,s){this.prevList=n,this.list=r,this.added=i,this.removed=a,this.changed=l,this.maintained=o,this.changedBeforeAdded=c,this.fixed=s}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var n=FE(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=n.filter(function(a,l){var o=a[0],c=a[1],s=r[l],A=s[0],v=s[1];if(o!==c)return i.push([A,v]),!0}),this.cachePureChanged=i},e}();function cA(e,t,n){var r=TE?Map:n?DE:ME,i=n||function(g){return g},a=[],l=[],o=[],c=e.map(i),s=t.map(i),A=new r,v=new r,B=[],x=[],M={},T=[],p=0,u=0;return c.forEach(function(g,C){A.set(g,C)}),s.forEach(function(g,C){v.set(g,C)}),c.forEach(function(g,C){var f=v.get(g);typeof f=="undefined"?(++u,l.push(C)):M[f]=u}),s.forEach(function(g,C){var f=A.get(g);typeof f=="undefined"?(a.push(C),++p):(o.push([f,C]),u=M[C]||0,B.push([f-u,C-p]),x.push(C===f),f!==C&&T.push([f,C]))}),l.reverse(),new kE(e,t,a,l,T,o,B,x)}var UE=function(){function e(n,r){n===void 0&&(n=[]),this.findKeyCallback=r,this.list=[].slice.call(n)}var t=e.prototype;return t.update=function(n){var r=[].slice.call(n),i=cA(this.list,r,this.findKeyCallback);return this.list=r,i},e}(),Fg="rgb",mu="rgba",kg="hsl",Ug="hsla",LE=[Fg,mu,kg,Ug],wo="function",uA="property",yu="array",Bo="object",Lg="string",Pg="number",bo="undefined",fA=typeof window!==bo,Hi=typeof document!==bo&&document,Ng=["webkit","ms","moz","o"],Cu=function(e){if(!Hi)return"";var t=(Hi.body||Hi.documentElement).style,n=Ng.length;if(typeof t[e]!==bo)return e;for(var r=0;r<n;++r){var i="-"+Ng[r]+"-"+e;if(typeof t[i]!==bo)return i}return""},Rg=Cu("transform"),wu=Cu("filter"),Eo=Cu("animation"),PE=Eo.replace("animation","keyframes"),NE=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],wr=1e-7,hA={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,t){return e*t/100},vw:function(e,t){return t===void 0&&(t=window.innerWidth),e/100*t},vh:function(e,t){return t===void 0&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function RE(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r}function Bu(e,t,n,r){return(e*r+t*n)/(n+r)}function nr(e){return typeof e===bo}function Kt(e){return e&&typeof e===Bo}function Bn(e){return Array.isArray(e)}function Gt(e){return typeof e===Lg}function QE(e){return typeof e===Pg}function Gn(e){return typeof e===wo}function HE(e,t){var n=e===""||e==" ",r=t===""||t==" ";return r&&n||e===t}function Qg(e,t,n,r,i){var a=bu(e,t,n);return a?n:jE(e,t,n+1,r,i)}function bu(e,t,n){if(!e.ignore)return null;var r=t.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(r)}function jE(e,t,n,r,i){for(var a=function(s){var A=t[s].trim();if(A===e.close&&!bu(e,t,s))return{value:s};var v=s,B=zi(i,function(x){var M=x.open;return M===A});if(B&&(v=Qg(B,t,s,r,i)),v===-1)return l=s,"break";s=v,l=s},l,o=n;o<r;++o){var c=a(o);if(o=l,typeof c=="object")return c.value;if(c==="break")break}return-1}function _o(e,t){var n=Gt(t)?{separator:t}:t,r=n.separator,i=r===void 0?",":r,a=n.isSeparateFirst,l=n.isSeparateOnlyOpenClose,o=n.isSeparateOpenClose,c=o===void 0?l:o,s=n.openCloseCharacters,A=s===void 0?NE:s,v=A.map(function(w){var I=w.open,y=w.close;return I===y?I:I+"|"+y}).join("|"),B="(\\s*"+i+"\\s*|"+v+"|\\s+)",x=new RegExp(B,"g"),M=e.split(x).filter(function(w){return w&&w!=="undefined"}),T=M.length,p=[],u=[];function g(){return u.length?(p.push(u.join("")),u=[],!0):!1}for(var C=function(w){var I=M[w].trim(),y=w,D=zi(A,function(k){var U=k.open;return U===I}),F=zi(A,function(k){var U=k.close;return U===I});if(D){if(y=Qg(D,M,w,T,A),y!==-1&&c)return g()&&a||(p.push(M.slice(w,y+1).join("")),w=y,a)?(f=w,"break"):(f=w,"continue")}else if(F&&!bu(F,M,w)){var L=RE(A);return L.splice(A.indexOf(F),1),{value:_o(e,{separator:i,isSeparateFirst:a,isSeparateOnlyOpenClose:l,isSeparateOpenClose:c,openCloseCharacters:L})}}else if(HE(I,i)&&!l)return g(),a?(f=w,"break"):(f=w,"continue");y===-1&&(y=T-1),u.push(M.slice(w,y+1).join("")),w=y,f=w},f,d=0;d<T;++d){var h=C(d);if(d=f,typeof h=="object")return h.value;if(h==="break")break}return u.length&&p.push(u.join("")),p}function Jr(e){return _o(e,"")}function cr(e){return _o(e,",")}function So(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function Ur(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2],i=t[3];return{prefix:n,unit:i,value:parseFloat(r)}}function ji(e){return e.replace(/[\s-_]+([^\s-_])/g,function(t,n){return n.toUpperCase()})}function Io(e,t){return t===void 0&&(t="-"),e.replace(/([a-z])([A-Z])/g,function(n,r,i){return""+r+t+i.toLowerCase()})}function Eu(e){return[].slice.call(e)}function xo(){return Date.now?Date.now():new Date().getTime()}function Br(e,t,n){n===void 0&&(n=-1);for(var r=e.length,i=0;i<r;++i)if(t(e[i],i,e))return i;return n}function zi(e,t,n){var r=Br(e,t);return r>-1?e[r]:n}var Hg=function(){var e=xo(),t=fA&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return t?t.bind(window):function(n){var r=xo(),i=setTimeout(function(){n(r-e)},1e3/60);return i}}(),zE=function(){var e=fA&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return e?e.bind(window):function(t){clearTimeout(t)}}();function ui(e){return Object.keys(e)}function Mo(e,t){t===void 0&&(t=[]),e.sort(function(n,r){var i=t.indexOf(n),a=t.indexOf(r);return a===-1&&i===-1?0:i===-1?1:a===-1?-1:i-a})}function An(e,t){var n=Ur(e),r=n.value,i=n.unit;if(Kt(t)){var a=t[i];if(a){if(Gn(a))return a(r);if(hA[i])return hA[i](r,a)}}else if(i==="%")return r*t/100;return hA[i]?hA[i](r):r}function _u(e,t,n){return Math.max(t,Math.min(e,n))}function jg(e,t,n,r){return r===void 0&&(r=e[0]/e[1]),[[gt(t[0],wr),gt(t[0]/r,wr)],[gt(t[1]*r,wr),gt(t[1],wr)]].filter(function(i){return i.every(function(a,l){var o=t[l],c=gt(o,wr);return n?a<=o||a<=c:a>=o||a>=c})})[0]||e}function zg(e,t,n,r){if(!r)return e.map(function(x,M){return _u(x,t[M],n[M])});var i=e[0],a=e[1],l=r===!0?i/a:r,o=jg(e,t,!1,l),c=o[0],s=o[1],A=jg(e,n,!0,l),v=A[0],B=A[1];return i<c||a<s?(i=c,a=s):(i>v||a>B)&&(i=v,a=B),[i,a]}function VE(e){for(var t=e.length,n=0,r=t-1;r>=0;--r)n+=e[r];return n}function Do(e){for(var t=e.length,n=0,r=t-1;r>=0;--r)n+=e[r];return t?n/t:0}function Zt(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function GE(e){return[0,1].map(function(t){return Do(e.map(function(n){return n[t]}))})}function Su(e){var t=GE(e),n=Zt(t,e[0]),r=Zt(t,e[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function Lr(e,t){return Math.sqrt(Math.pow((t?t[0]:0)-e[0],2)+Math.pow((t?t[1]:0)-e[1],2))}function gt(e,t){if(!t)return e;var n=1/t;return Math.round(e/t)/n}function Vg(e,t){return e.forEach(function(n,r){e[r]=gt(e[r],t)}),e}function WE(e){return e.replace("#","")}function Gg(e){var t=WE(e),n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16),a=parseInt(t.substring(6,8),16)/255;return isNaN(a)&&(a=1),[n,r,i,a]}function YE(e){var t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),i=e.charAt(4),a=["#",t,t,n,n,r,r,i,i];return a.join("")}function XE(e){var t,n=e[0],r=e[1],i=e[2];n<0&&(n+=Math.floor((Math.abs(n)+360)/360)*360),n%=360;var a=(1-Math.abs(2*i-1))*r,l=a*(1-Math.abs(n/60%2-1)),o=i-a/2,c;return n<60?c=[a,l,0]:n<120?c=[l,a,0]:n<180?c=[0,a,l]:n<240?c=[0,l,a]:n<300?c=[l,0,a]:n<360?c=[a,0,l]:c=[0,0,0],[Math.round((c[0]+o)*255),Math.round((c[1]+o)*255),Math.round((c[2]+o)*255),(t=e[3])!==null&&t!==void 0?t:1]}function Wg(e){if(e.charAt(0)==="#")return e.length===4||e.length===5?Gg(YE(e)):Gg(e);if(e.indexOf("(")!==-1){var t=So(e),n=t.prefix,r=t.value;if(!n||!r)return;var i=cr(r),a=[0,0,0,1],l=i.length;switch(n){case Fg:case mu:for(var o=0;o<l;++o)a[o]=parseFloat(i[o]);return a;case kg:case Ug:for(var o=0;o<l;++o)i[o].indexOf("%")!==-1?a[o]=parseFloat(i[o])/100:a[o]=parseFloat(i[o]);return XE(a)}}}function dA(e,t){return Hi?t?Hi.querySelectorAll(e):Hi.querySelector(e):t?[]:null}function Wn(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function To(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function va(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function KE(e,t){if(!e||!t||!t.length)return{};var n;if(e instanceof Element)n=e;else if(e.length)n=e[0];else return{};for(var r={},i=fi(n).getComputedStyle(n),a=t.length,l=0;l<a;++l)r[t[l]]=i[t[l]];return r}function Jt(e,t,n,r){e.addEventListener(t,n,r)}function Wt(e,t,n,r){e.removeEventListener(t,n,r)}function $r(e){return(e==null?void 0:e.ownerDocument)||Hi}function fi(e){var t;return((t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function ZE(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function Yg(e){return Kt(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var Iu=function(e,t){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Iu(e,t)};function Vi(e,t){Iu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hi=function(){return hi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hi.apply(this,arguments)};function Xg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function JE(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r}function xu(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function Mu(e,t){var n=Object.keys(e),r=Object.keys(t),i=cA(n,r,function(c){return c}),a={},l={},o={};return i.added.forEach(function(c){var s=r[c];a[s]=t[s]}),i.removed.forEach(function(c){var s=n[c];l[s]=e[s]}),i.maintained.forEach(function(c){var s=c[0],A=n[s],v=[e[A],t[A]];e[A]!==t[A]&&(o[A]=v)}),{added:a,removed:l,changed:o}}function Kg(e){e.forEach(function(t){t()})}function Zg(e){var t=0;return e.map(function(n){return n==null?"$compat"+ ++t:""+n})}function Jg(e,t,n,r){if(Gt(e)||QE(e))return new t1("text_"+e,t,n,r,null,{});var i=typeof e.type=="string"?n1:e.type.prototype.render?i1:r1;return new i(e.type,t,n,r,e.ref,e.props)}function $g(e){var t=[];return e.forEach(function(n){t=t.concat(Bn(n)?$g(n):n)}),t}function qg(e){var t=e.className,n=Xg(e,["className"]);return t!=null&&(n.class=t),delete n.style,delete n.children,n}function Du(e,t){if(!t)return e;for(var n in t)nr(e[n])&&(e[n]=t[n]);return e}function on(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t||{},a=i.key,l=i.ref,o=Xg(i,["key","ref"]);return{type:e,key:a,ref:l,props:hi(hi({},o),{children:$g(n).filter(function(c){return c!=null&&c!==!1})})}}var Oo=function(){function e(n,r,i,a,l,o){o===void 0&&(o={}),this.type=n,this.key=r,this.index=i,this.container=a,this.ref=l,this.props=o,this._providers=[]}var t=e.prototype;return t._should=function(n,r){return!0},t._update=function(n,r,i,a){if(this.base&&!Gt(r)&&!a&&!this._should(r.props,i))return!1;this.original=r,this._setState(i);var l=this.props;return Gt(r)||(this.props=r.props,this.ref=r.ref),this._render(n,this.base?l:{},i),!0},t._mounted=function(){var n=this.ref;n&&n(this.base)},t._setState=function(n){},t._updated=function(){var n=this.ref;n&&n(this.base)},t._destroy=function(){var n=this.ref;n&&n(null)},e}();function $E(e,t,n){var r=Mu(e,t),i=r.added,a=r.removed,l=r.changed;for(var o in i)n.setAttribute(o,i[o]);for(var o in l)n.setAttribute(o,l[o][1]);for(var o in a)n.removeAttribute(o)}function qE(e,t,n){var r=Mu(e,t),i=r.added,a=r.removed,l=r.changed;for(var o in a)n.removeEventListener(o);for(var o in i)n.addEventListener(o,i[o]);for(var o in l)n.removeEventListener(o),n.addEventListener(o,l[o][1]);for(var o in a)n.removeEventListener(o)}function e1(e,t,n){var r=n.style,i=Mu(e,t),a=i.added,l=i.removed,o=i.changed;for(var c in a){var s=Io(c,"-");r.setProperty?r.setProperty(s,a[c]):r[s]=a[c]}for(var c in o){var s=Io(c,"-");r.setProperty?r.setProperty(s,o[c][1]):r[s]=o[c][1]}for(var c in l){var s=Io(c,"-");r.removeProperty?r.removeProperty(s):r[s]=""}}function ep(e){var t={},n={};for(var r in e)r.indexOf("on")===0?n[r.replace("on","").toLowerCase()]=e[r]:t[r]=e[r];return{attributes:t,events:n}}var t1=function(e){Vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n._render=function(r){var i=this,a=!this.base;return a&&(this.base=document.createTextNode(this.type.replace("text_",""))),r.push(function(){a?i._mounted():i._updated()}),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},t}(Oo),n1=function(e){Vi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.events={},r._isSVG=!1,r}var n=t.prototype;return n.addEventListener=function(r,i){var a=this.events;a[r]=function(l){l.nativeEvent=l,i(l)},this.base.addEventListener(r,a[r])},n.removeEventListener=function(r){var i=this.events;this.base.removeEventListener(r,i[r]),delete i[r]},n._should=function(r){return xu(this.props,r)},n._render=function(r,i){var a=this,l=!this.base;if(l){var o=this._hasSVG();this._isSVG=o;var c=this.props.portalContainer;if(!c){var s=this.type;o?c=document.createElementNS("http://www.w3.org/2000/svg",s):c=document.createElement(s)}this.base=c}Uo(this,this._providers,this.props.children,r,null);var A=this.base,v=ep(i),B=v.attributes,x=v.events,M=ep(this.props),T=M.attributes,p=M.events;return $E(qg(B),qg(T),A),qE(x,p,this),e1(i.style||{},this.props.style||{},A),r.push(function(){l?a._mounted():a._updated()}),!0},n._unmount=function(){var r=this.events,i=this.base;for(var a in r)i.removeEventListener(a,r[a]);this._providers.forEach(function(l){l._unmount()}),this.events={},this.props.portalContainer||i.parentNode.removeChild(i)},n._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var r=Tu(this.container);return r&&"ownerSVGElement"in r},t}(Oo);function Tu(e){if(!e)return null;var t=e.base;return t instanceof Node?t:Tu(e.container)}function Fo(e){if(!e)return null;if(e instanceof Node)return e;var t=e.$_provider._providers;return t.length?Fo(t[0].base):null}var r1=function(e){Vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n._render=function(r){var i=this.type(this.props);return Uo(this,this._providers,i?[i]:[],r),!0},n._unmount=function(){this._providers.forEach(function(r){r._unmount()})},t}(Oo),tp=function(e){Vi(t,e);function t(r){var i=e.call(this,"container","container",0,null)||this;return i.base=r,i}var n=t.prototype;return n._render=function(){return!0},n._unmount=function(){},t}(Oo),i1=function(e){Vi(t,e);function t(r,i,a,l,o,c){return c===void 0&&(c={}),e.call(this,r,i,a,l,o,Du(c,r.defaultProps))||this}var n=t.prototype;return n._should=function(r,i){return this.base.shouldComponentUpdate(Du(r,this.type.defaultProps),i||this.base.state)},n._render=function(r,i){var a=this;this.props=Du(this.props,this.type.defaultProps);var l=!this.base;l?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var o=this.base,c=o.state,s=o.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),Uo(this,this._providers,s?[s]:[],r),r.push(function(){l?(a._mounted(),o.componentDidMount()):(a._updated(),o.componentDidUpdate(i,c))})},n._setState=function(r){var i=this.base;!i||!r||(i.state=r)},n._unmount=function(){this._providers.forEach(function(r){r._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(Oo),gA=function(){function e(n){n===void 0&&(n={}),this.props=n,this.state={},this.$_timer=0,this.$_state={}}var t=e.prototype;return t.shouldComponentUpdate=function(n,r){return!0},t.render=function(){return null},t.setState=function(n,r,i){var a=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=hi(hi({},this.$_state),n),i?this.$_setState(r,i):this.$_timer=setTimeout(function(){a.$_timer=0,a.$_setState(r,i)})},t.forceUpdate=function(n){this.setState({},n,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(n,r){},t.componentWillUnmount=function(){},t.$_setState=function(n,r){var i=[],a=this.$_provider,l=Uo(a.container,[a],[a.original],i,hi(hi({},this.state),this.$_state),r);l&&(n&&i.push(n),Kg(i))},e}(),ko=function(e){Vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(r,i){return xu(this.props,r)||xu(this.state,i)},t}(gA),a1=function(e){Vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){var r=this.props,i=r.element,a=r.container;this._portalProvider=new tp(a),pA(i,a,this._portalProvider)},n.componentDidUpdate=function(){var r=this.props,i=r.element,a=r.container;pA(i,a,this._portalProvider)},n.componentWillUnmount=function(){var r=this.props.container;pA(null,r,this._portalProvider),this._portalProvider=null},t}(ko);function o1(e,t,n){var r=[];Uo(e,e._providers,t,r,n),Kg(r)}function s1(e,t){for(var n=e._providers,r=n.length,i=t.index+1;i<r;++i){var a=Fo(n[i].base);if(a)return a}return null}function A1(e,t,n){var r=n.map(function(c){return Gt(c)?null:c.key}),i=Zg(t.map(function(c){return c.key})),a=Zg(r),l=cA(i,a,function(c){return c});l.removed.forEach(function(c){t.splice(c,1)[0]._unmount()}),l.ordered.forEach(function(c){var s=c[0],A=c[1],v=t.splice(s,1)[0];t.splice(A,0,v);var B=Fo(v.base),x=Fo(t[A+1]&&t[A+1].base);B&&B.parentNode.insertBefore(B,x)}),l.added.forEach(function(c){t.splice(c,0,Jg(n[c],r[c],c,e))});var o=l.maintained.filter(function(c){c[0];var s=c[1],A=n[s],v=t[s],B=Gt(A)?"text_"+A:A.type;return B!==v.type?(v._unmount(),t.splice(s,1,Jg(A,r[s],s,e)),!0):(v.index=s,!1)});return JE(l.added,o.map(function(c){c[0];var s=c[1];return s}))}function Uo(e,t,n,r,i,a){var l=A1(e,t,n),o=t.filter(function(s,A){return s._update(r,n[A],i,a)}),c=Tu(e);return c&&l.reverse().forEach(function(s){var A=t[s],v=Fo(A.base);if(!!v&&c!==v&&!v.parentNode){var B=s1(e,A);c.insertBefore(v,B)}}),o.length>0}function pA(e,t,n){n===void 0&&(n=t.__REACT_COMPAT__);var r=!!n;return n||(n=new tp(t)),o1(n,e?[e]:[]),r||(t.__REACT_COMPAT__=n),n}function vA(e,t,n){var r=t.__REACT_COMPAT__;e&&!r&&(t.innerHTML=""),pA(e,t,r),n&&n()}function np(e,t){return on(a1,{element:e,container:t})}var l1="simple-1.1.0";function Ou(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return!0;return!1}function rp(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return e[r];return null}function ip(e){var t=e;if(typeof t=="undefined"){if(typeof navigator=="undefined"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function Fu(e,t){try{return new RegExp(e,"g").exec(t)}catch{return null}}function c1(){if(typeof navigator=="undefined"||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!!(t&&t.length)}function u1(e,t){var n=Fu("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return n?n[3]:""}function ku(e){return e.replace(/_/g,".")}function Lo(e,t){var n=null,r="-1";return Ou(e,function(i){var a=Fu("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!a||i.brand?!1:(n=i,r=a[3]||"-1",i.versionAlias?r=i.versionAlias:i.versionTest&&(r=u1(i.versionTest.toLowerCase(),t)||r),r=ku(r),!0)}),{preset:n,version:r}}function Po(e,t){var n={brand:"",version:"-1"};return Ou(e,function(r){var i=ap(t,r);return i?(n.brand=r.id,n.version=r.versionAlias||i.version,n.version!=="-1"):!1}),n}function ap(e,t){return rp(e,function(n){var r=n.brand;return Fu(""+t.test,r.toLowerCase())})}var Uu=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],op=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Lu=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],sp=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Ap=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function lp(e){return!!Lo(sp,e).preset}function f1(e){var t=ip(e),n=!!/mobi/g.exec(t),r={name:"unknown",version:"-1",majorVersion:-1,webview:lp(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=Lo(Uu,t),l=a.preset,o=a.version,c=Lo(Ap,t),s=c.preset,A=c.version,v=Lo(op,t);if(r.chromium=!!v.preset,r.chromiumVersion=v.version,!r.chromium){var B=Lo(Lu,t);r.webkit=!!B.preset,r.webkitVersion=B.version}return s&&(i.name=s.id,i.version=A,i.majorVersion=parseInt(A,10)),l&&(r.name=l.id,r.version=o,r.webview&&i.name==="ios"&&r.name!=="safari"&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}function h1(e){var t=navigator.userAgentData,n=(t.uaList||t.brands).slice(),r=e&&e.fullVersionList,i=t.mobile||!1,a=n[0],l=(e&&e.platform||t.platform||navigator.platform).toLowerCase(),o={name:a.brand,version:a.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Po(sp,n).brand||lp(ip())},c={name:"unknown",version:"-1",majorVersion:-1};o.webkit=!o.chromium&&Ou(Lu,function(M){return ap(n,M)});var s=Po(op,n);if(o.chromium=!!s.brand,o.chromiumVersion=s.version,!o.chromium){var A=Po(Lu,n);o.webkit=!!A.brand,o.webkitVersion=A.version}var v=rp(Ap,function(M){return new RegExp(""+M.test,"g").exec(l)});if(c.name=v?v.id:"",e&&(c.version=e.platformVersion),r&&r.length){var B=Po(Uu,r);o.name=B.brand||o.name,o.version=B.version||o.version}else{var x=Po(Uu,n);o.name=x.brand||o.name,o.version=x.brand&&e?e.uaFullVersion:x.version}return o.webkit&&(c.name=i?"ios":"mac"),c.name==="ios"&&o.webview&&(o.version="-1"),c.version=ku(c.version),o.version=ku(o.version),c.majorVersion=parseInt(c.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:c,isMobile:i,isHints:!0}}function d1(e){return typeof e=="undefined"&&c1()?h1():f1(e)}function g1(e,t,n,r,i,a){for(var l=0;l<i;++l){var o=n+l*i,c=r+l*i;e[o]+=e[c]*a,t[o]+=t[c]*a}}function p1(e,t,n,r,i){for(var a=0;a<i;++a){var l=n+a*i,o=r+a*i,c=e[l],s=t[l];e[l]=e[o],e[o]=c,t[l]=t[o],t[o]=s}}function v1(e,t,n,r,i){for(var a=0;a<r;++a){var l=n+a*r;e[l]/=i,t[l]/=i}}function cp(e,t,n){n===void 0&&(n=Math.sqrt(e.length));for(var r=e.slice(),i=0;i<n;++i)r[i*n+t-1]=0,r[(t-1)*n+i]=0;return r[(t-1)*(n+1)]=1,r}function br(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=e.slice(),r=hn(t),i=0;i<t;++i){var a=t*i+i;if(!gt(n[a],wr)){for(var l=i+1;l<t;++l)if(n[t*i+l]){p1(n,r,i,l,t);break}}if(!gt(n[a],wr))return[];v1(n,r,i,t,n[a]);for(var l=0;l<t;++l){var o=l,c=l+i*t,s=n[c];!gt(s,wr)||i===l||g1(n,r,o,i,t,-s)}}return r}function m1(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=[],r=0;r<t;++r)for(var i=0;i<t;++i)n[i*t+r]=e[t*r+i];return n}function y1(e,t){t===void 0&&(t=Math.sqrt(e.length));for(var n=[],r=e[t*t-1],i=0;i<t-1;++i)n[i]=e[t*(t-1)+i]/r;return n[t-1]=0,n}function C1(e,t){for(var n=hn(t),r=0;r<t-1;++r)n[t*(t-1)+r]=e[r]||0;return n}function No(e,t){for(var n=e.slice(),r=e.length;r<t-1;++r)n[r]=0;return n[t-1]=1,n}function di(e,t,n){if(t===void 0&&(t=Math.sqrt(e.length)),t===n)return e;for(var r=hn(n),i=Math.min(t,n),a=0;a<i-1;++a){for(var l=0;l<i-1;++l)r[a*n+l]=e[a*t+l];r[(a+1)*n-1]=e[(a+1)*t-1],r[(n-1)*n+a]=e[(t-1)*t+a]}return r[n*n-1]=e[t*t-1],r}function Pu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=hn(e);return t.forEach(function(i){r=$t(r,i,e)}),r}function $t(e,t,n){n===void 0&&(n=Math.sqrt(e.length));var r=[],i=e.length/n,a=t.length/i;if(i){if(!a)return e}else return t;for(var l=0;l<n;++l)for(var o=0;o<a;++o){r[o*n+l]=0;for(var c=0;c<i;++c)r[o*n+l]+=e[c*n+l]*t[o*i+c]}return r}function Bt(e,t){for(var n=Math.min(e.length,t.length),r=e.slice(),i=0;i<n;++i)r[i]=r[i]+t[i];return r}function mt(e,t){for(var n=Math.min(e.length,t.length),r=e.slice(),i=0;i<n;++i)r[i]=r[i]-t[i];return r}function w1(e,t){return t===void 0&&(t=e.length===6),t?[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]:e}function up(e,t){return t===void 0&&(t=e.length===9),t?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function Qn(e,t,n){n===void 0&&(n=t.length);var r=$t(e,t,n),i=r[n-1];return r.map(function(a){return a/i})}function B1(e,t){return $t(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function b1(e,t){return $t(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function E1(e,t){return $t(e,ma(t,4))}function mA(e,t){var n=t[0],r=n===void 0?1:n,i=t[1],a=i===void 0?1:i,l=t[2],o=l===void 0?1:l;return $t(e,[r,0,0,0,0,a,0,0,0,0,o,0,0,0,0,1],4)}function gi(e,t){return Qn(ma(t,3),No(e,3))}function Nu(e,t){var n=t[0],r=n===void 0?0:n,i=t[1],a=i===void 0?0:i,l=t[2],o=l===void 0?0:l;return $t(e,[1,0,0,0,0,1,0,0,0,0,1,0,r,a,o,1],4)}function Ru(e,t){return $t(e,t,4)}function ma(e,t){var n=Math.cos(e),r=Math.sin(e),i=hn(t);return i[0]=n,i[1]=r,i[t]=-r,i[t+1]=n,i}function hn(e){for(var t=e*e,n=[],r=0;r<t;++r)n[r]=r%(e+1)?0:1;return n}function fp(e,t){for(var n=hn(t),r=Math.min(e.length,t-1),i=0;i<r;++i)n[(t+1)*i]=e[i];return n}function Ro(e,t){for(var n=hn(t),r=Math.min(e.length,t-1),i=0;i<r;++i)n[t*(t-1)+i]=e[i];return n}function Qu(e,t,n,r,i,a,l,o){var c=e[0],s=e[1],A=t[0],v=t[1],B=n[0],x=n[1],M=r[0],T=r[1],p=i[0],u=i[1],g=a[0],C=a[1],f=l[0],d=l[1],h=o[0],w=o[1],I=[c,0,A,0,B,0,M,0,s,0,v,0,x,0,T,0,1,0,1,0,1,0,1,0,0,c,0,A,0,B,0,M,0,s,0,v,0,x,0,T,0,1,0,1,0,1,0,1,-p*c,-u*c,-g*A,-C*A,-f*B,-d*B,-h*M,-w*M,-p*s,-u*s,-g*v,-C*v,-f*x,-d*x,-h*T,-w*T],y=br(I,8);if(!y.length)return[];var D=$t(y,[p,u,g,C,f,d,h,w],8);return D[8]=1,di(m1(D),3,4)}var Qo=function(){return Qo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Qo.apply(this,arguments)};function Hu(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function hp(e,t){return t===void 0&&(t=0),Ca(Gi(e,t))}function ya(e,t){var n=Qn(e,[t[0],t[1]||0,t[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function dp(e,t){t===void 0&&(t=document.body);for(var n=e,r=Hu();n;){var i=getComputedStyle(n).transform;if(r=Ru(hp(i),r),n===t)break;n=n.parentElement}return r=br(r,4),r[12]=0,r[13]=0,r[14]=0,r}function Ca(e){var t=Hu();return e.forEach(function(n){var r=n.matrixFunction,i=n.functionValue;!r||(t=r(t,i))}),t}function Gi(e,t){t===void 0&&(t=0);var n=Bn(e)?e:Jr(e);return n.map(function(r){var i=So(r),a=i.prefix,l=i.value,o=null,c=a,s="";if(a==="translate"||a==="translateX"||a==="translate3d"){var A=Kt(t)?Qo(Qo({},t),{"o%":t["%"]}):{"%":t,"o%":t},v=cr(l).map(function(k,U){return U===0&&"x%"in A?A["%"]=t["x%"]:U===1&&"y%"in A?A["%"]=t["y%"]:A["%"]=t["o%"],An(k,A)}),B=v[0],x=v[1],M=x===void 0?0:x,T=v[2],p=T===void 0?0:T;o=Nu,s=[B,M,p]}else if(a==="translateY"){var u=Kt(t)?Qo({"%":t["y%"]},t):{"%":t},M=An(l,u);o=Nu,s=[0,M,0]}else if(a==="translateZ"){var p=parseFloat(l);o=Nu,s=[0,0,p]}else if(a==="scale"||a==="scale3d"){var g=cr(l).map(function(k){return parseFloat(k)}),C=g[0],f=g[1],d=f===void 0?C:f,h=g[2],w=h===void 0?1:h;o=mA,s=[C,d,w]}else if(a==="scaleX"){var C=parseFloat(l);o=mA,s=[C,1,1]}else if(a==="scaleY"){var d=parseFloat(l);o=mA,s=[1,d,1]}else if(a==="scaleZ"){var w=parseFloat(l);o=mA,s=[1,1,w]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var I=Ur(l),y=I.unit,D=I.value,F=y==="rad"?D:D*Math.PI/180;a==="rotate"||a==="rotateZ"?(c="rotateZ",o=E1):a==="rotateX"?o=B1:a==="rotateY"&&(o=b1),s=F}else if(a==="matrix3d")o=Ru,s=cr(l).map(function(k){return parseFloat(k)});else if(a==="matrix"){var L=cr(l).map(function(k){return parseFloat(k)});o=Ru,s=[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}else c="";return{name:a,functionName:c,value:l,matrixFunction:o,functionValue:s}})}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function _1(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r}function Yn(e){return gt(e,wr)}function S1(e,t){return e.every(function(n,r){return Yn(n-t[r])===0})}function I1(e,t){return!Yn(e[0]-t[0])&&!Yn(e[1]-t[1])}function Ho(e){return e.length<3?0:Math.abs(VE(e.map(function(t,n){var r=e[n+1]||e[0];return t[0]*r[1]-r[0]*t[1]})))/2}function ju(e,t){var n=t.width,r=t.height,i=t.left,a=t.top,l=yA(e),o=l.minX,c=l.minY,s=l.maxX,A=l.maxY,v=n/(s-o),B=r/(A-c);return e.map(function(x){return[i+(x[0]-o)*v,a+(x[1]-c)*B]})}function yA(e){var t=e.map(function(r){return r[0]}),n=e.map(function(r){return r[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,n)}}function CA(e,t,n){var r=e[0],i=e[1],a=yA(t),l=a.minX,o=a.maxX,c=[[l,i],[o,i]],s=wA(c[0],c[1]),A=zu(t),v=[];if(A.forEach(function(M){var T=wA(M[0],M[1]),p=M[0];if(S1(s,T))v.push({pos:e,line:M,type:"line"});else{var u=pp(gp(s,T),[c,M]);u.forEach(function(g){M.some(function(C){return I1(C,g)})?v.push({pos:g,line:M,type:"point"}):Yn(p[1]-i)!==0&&v.push({pos:g,line:M,type:"intersection"})})}}),!n&&zi(v,function(M){return M[0]===r}))return!0;var B=0,x={};return v.forEach(function(M){var T=M.pos,p=M.type,u=M.line;if(!(T[0]>r))if(p==="intersection")++B;else{if(p==="line")return;if(p==="point"){var g=zi(u,function(d){return d[1]!==i}),C=x[T[0]],f=g[1]>i?1:-1;C?C!==f&&++B:x[T[0]]=f}}}),B%2===1}function wA(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],l=i-n,o=a-r;Math.abs(l)<wr&&(l=0),Math.abs(o)<wr&&(o=0);var c=0,s=0,A=0;return l?o?(c=-o/l,s=1,A=-c*n-r):(s=1,A=-r):o&&(c=-1,A=n),[c,s,A]}function gp(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],l=t[1],o=t[2],c=n===0&&a===0,s=r===0&&l===0,A=[];if(c&&s)return[];if(c){var v=-i/r,B=-o/l;return v!==B?[]:[[-1/0,v],[1/0,v]]}else if(s){var x=-i/n,M=-o/a;return x!==M?[]:[[x,-1/0],[x,1/0]]}else if(n===0){var T=-i/r,p=-(l*T+o)/a;A=[[p,T]]}else if(a===0){var T=-o/l,p=-(r*T+i)/n;A=[[p,T]]}else if(r===0){var p=-i/n,T=-(a*p+o)/l;A=[[p,T]]}else if(l===0){var p=-o/a,T=-(n*p+i)/r;A=[[p,T]]}else{var p=(r*o-l*i)/(l*n-r*a),T=-(n*p+i)/r;A=[[p,T]]}return A.map(function(u){return[u[0],u[1]]})}function pp(e,t){var n=t.map(function(v){return[0,1].map(function(B){return[Math.min(v[0][B],v[1][B]),Math.max(v[0][B],v[1][B])]})}),r=[];if(e.length===2){var i=e[0],a=i[0],l=i[1];if(Yn(a-e[1][0])){if(!Yn(l-e[1][1])){var s=Math.max.apply(Math,n.map(function(v){return v[0][0]})),A=Math.min.apply(Math,n.map(function(v){return v[0][1]}));if(Yn(s-A)>0)return[];r=[[s,l],[A,l]]}}else{var o=Math.max.apply(Math,n.map(function(v){return v[1][0]})),c=Math.min.apply(Math,n.map(function(v){return v[1][1]}));if(Yn(o-c)>0)return[];r=[[a,o],[a,c]]}}return r.length||(r=e.filter(function(v){var B=v[0],x=v[1];return n.every(function(M){return 0<=Yn(B-M[0][0])&&0<=Yn(M[0][1]-B)&&0<=Yn(x-M[1][0])&&0<=Yn(M[1][1]-x)})})),r.map(function(v){return[Yn(v[0]),Yn(v[1])]})}function zu(e){return _1(e.slice(1),[e[0]]).map(function(t,n){return[e[n],t]})}function x1(e,t){var n=e.slice(),r=t.slice();Su(n)===-1&&n.reverse(),Su(r)===-1&&r.reverse();var i=zu(n),a=zu(r),l=i.map(function(A){return wA(A[0],A[1])}),o=a.map(function(A){return wA(A[0],A[1])}),c=[];l.forEach(function(A,v){var B=i[v],x=[];o.forEach(function(M,T){var p=gp(A,M),u=pp(p,[B,a[T]]);x.push.apply(x,u.map(function(g){return{index1:v,index2:T,pos:g,type:"intersection"}}))}),x.sort(function(M,T){return Lr(B[0],M.pos)-Lr(B[0],T.pos)}),c.push.apply(c,x),CA(B[1],r)&&c.push({index1:v,index2:-1,pos:B[1],type:"inside"})}),a.forEach(function(A,v){if(!!CA(A[1],n)){var B=!1,x=Br(c,function(M){var T=M.index2;return T===v?(B=!0,!1):!!B});x===-1&&(B=!1,x=Br(c,function(M){var T=M.index1,p=M.index2;return T===-1&&p+1===v?(B=!0,!1):!!B})),x===-1?c.push({index1:-1,index2:v,pos:A[1],type:"inside"}):c.splice(x,0,{index1:-1,index2:v,pos:A[1],type:"inside"})}});var s={};return c.filter(function(A){var v=A.pos,B=v[0]+"x"+v[1];return s[B]?!1:(s[B]=!0,!0)})}function Vu(e,t){var n=x1(e,t);return n.map(function(r){var i=r.pos;return i})}function M1(e,t){var n=Vu(e,t);return Ho(n)}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var Gu=function(e,t){return Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Gu(e,t)};function D1(e,t){Gu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vp=typeof Map=="function"?void 0:function(){var e=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++e)}}(),T1=function(e){D1(t,e);function t(n){return n===void 0&&(n=[]),e.call(this,n,vp)||this}return t}(UE);function wa(e,t){return cA(e,t,vp)}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Wu=function(){return Wu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Wu.apply(this,arguments)};function O1(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r}var F1=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Kt(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Kt(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var a=this._events[n];if(a){var l=Br(a,function(o){return o.listener===r});l>-1&&a.splice(l,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(a){i._addEvent(n,a,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var a=this._events[n];if(!n||!a)return!0;var l=!1;return r.eventType=n,r.stop=function(){l=!0},r.currentTarget=this,O1(a).forEach(function(o){o.listener(r),o.once&&i.off(n,o.listener)}),!l},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var a=this._events;a[n]=a[n]||[];var l=a[n];l.push(Wu({listener:r},i))},e}(),Wi=F1;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Yu=function(e,t){return Yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Yu(e,t)};function k1(e,t){Yu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ba=function(){return Ba=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ba.apply(this,arguments)};function U1(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function mp(e,t){return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}function BA(e){if(e){if(Gt(e))return document.querySelector(e)}else return null;if(Gn(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var L1=function(e){k1(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r._currentOptions=null,r._lock=!1,r._unregister=null,r._onScroll=function(){var i=r._currentOptions;r._lock||!i||r.emit("scrollDrag",{next:function(a){r.checkScroll({container:i.container,inputEvent:a})}})},r}var n=t.prototype;return n.dragStart=function(r,i){var a=BA(i.container);if(!a){this._flag=!1;return}var l=0,o=0,c=0,s=0;if(a===document.body)c=window.innerWidth,s=window.innerHeight;else{var A=a.getBoundingClientRect();l=A.top,o=A.left,c=A.width,s=A.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:l,left:o,width:c,height:s},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},n.drag=function(r,i){if(clearTimeout(this._timer),!!this._flag){var a=r.clientX,l=r.clientY,o=i.threshold,c=o===void 0?0:o,s=this,A=s._startRect,v=s._startPos;this._currentOptions=i;var B=[0,0];return A.top>l-c?(v[1]>A.top||l<v[1])&&(B[1]=-1):A.top+A.height<l+c&&(v[1]<A.top+A.height||l>v[1])&&(B[1]=1),A.left>a-c?(v[0]>A.left||a<v[0])&&(B[0]=-1):A.left+A.width<a+c&&(v[0]<A.left+A.width||a>v[0])&&(B[0]=1),!B[0]&&!B[1]?!1:this._continueDrag(Ba(Ba({},i),{direction:B,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var i=this;if(this._isWait)return!1;var a=r.prevScrollPos,l=a===void 0?this._prevScrollPos:a,o=r.direction,c=r.throttleTime,s=c===void 0?0:c,A=r.inputEvent,v=r.isDrag,B=this._getScrollPosition(o||[0,0],r),x=B[0]-l[0],M=B[1]-l[1],T=o||[x?Math.abs(x)/x:0,M?Math.abs(M)/M:0];return this._prevScrollPos=B,this._lock=!1,!x&&!M?!1:(this.emit("move",{offsetX:T[0]?x:0,offsetY:T[1]?M:0,inputEvent:A}),s&&v&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},s)),!0)},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(r,i){var a=i.container,l=i.getScrollPosition,o=l===void 0?U1:l;return o({container:BA(a),direction:r})},n._continueDrag=function(r){var i=this,a,l=r.container,o=r.direction,c=r.throttleTime,s=r.useScroll,A=r.isDrag,v=r.inputEvent;if(!(!this._flag||A&&this._isWait)){var B=xo(),x=Math.max(c+this._prevTime-B,0);if(x>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},x),!1;this._prevTime=B;var M=this._getScrollPosition(o,r);this._prevScrollPos=M,A&&(this._isWait=!0),s||(this._lock=!0);var T={container:BA(l),direction:o,inputEvent:v};return(a=r.requestScroll)===null||a===void 0||a.call(r,T),this.emit("scroll",T),this._isWait=!1,s||this.checkScroll(Ba(Ba({},r),{prevScrollPos:M,direction:o,inputEvent:v}))}},n._registerScrollEvent=function(r){this._unregisterScrollEvent();var i=r.checkScrollEvent;if(!!i){var a=i===!0?mp:i,l=BA(r.container);i===!0&&(l===document.body||l===document.documentElement)?this._unregister=mp(window,this._onScroll):this._unregister=a(l,this._onScroll)}},n._unregisterScrollEvent=function(){var r;(r=this._unregister)===null||r===void 0||r.call(this),this._unregister=null},t}(Wi),yp=L1;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Xu=function(e,t){return Xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Xu(e,t)};function P1(e,t){Xu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pn=function(){return pn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},pn.apply(this,arguments)};function N1(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function Ku(e){return N1([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function R1(e){return e.touches&&e.touches.length>=2}function bA(e){return e?e.touches?H1(e.touches):[wp(e)]:[]}function Q1(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function Cp(e,t,n){var r=n.length,i=jo(e,r),a=i.clientX,l=i.clientY,o=i.originalClientX,c=i.originalClientY,s=jo(t,r),A=s.clientX,v=s.clientY,B=jo(n,r),x=B.clientX,M=B.clientY,T=a-A,p=l-v,u=a-x,g=l-M;return{clientX:o,clientY:c,deltaX:T,deltaY:p,distX:u,distY:g}}function Zu(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function H1(e){for(var t=Math.min(e.length,2),n=[],r=0;r<t;++r)n.push(wp(e[r]));return n}function wp(e){return{clientX:e.clientX,clientY:e.clientY}}function jo(e,t){t===void 0&&(t=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=0;r<t;++r){var i=e[r];n.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,n.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,n.clientX+=i.clientX,n.clientY+=i.clientY}return t?{clientX:n.clientX/t,clientY:n.clientY/t,originalClientX:n.originalClientX/t,originalClientY:n.originalClientY/t}:n}var Ju=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return e.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),Ku(t)},e.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),Ku(t)-Ku(this.startClients)},e.prototype.getPosition=function(t,n){t===void 0&&(t=this.prevClients);var r=Cp(t||this.prevClients,this.prevClients,this.startClients),i=r.deltaX,a=r.deltaY;return this.movement+=Math.sqrt(i*i+a*a),this.prevClients=t,r},e.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);var n=this.prevClients;return this.startClients.map(function(r,i){return Cp([t[i]],[n[i]],[r])})},e.prototype.getMovement=function(t){var n=this.movement;if(!t)return n;var r=jo(t,this.length),i=jo(this.prevClients,this.length),a=r.clientX-i.clientX,l=r.clientY-i.clientY;return Math.sqrt(a*a+l*l)+n},e.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),Zu(t)},e.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),Zu(t)/Zu(this.startClients)},e.prototype.move=function(t,n){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=n})},e}(),Bp=["textarea","input"],$u=function(e){P1(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._window=window,i.onDragStart=function(B,x){if(x===void 0&&(x=!0),!(!i.flag&&B.cancelable===!1)){var M=B.type.indexOf("drag")>=-1;if(!(i.flag&&M)){i._isDragAPI=!0;var T=i.options,p=T.container,u=T.pinchOutside,g=T.preventWheelClick,C=T.preventRightClick,f=T.preventDefault,d=T.checkInput,h=T.dragFocusedInput,w=T.preventClickEventOnDragStart,I=T.preventClickEventOnDrag,y=T.preventClickEventByCondition,D=i._useTouch,F=!i.flag;if(i._isSecondaryButton=B.which===3||B.button===2,g&&(B.which===2||B.button===1)||C&&(B.which===3||B.button===2))return i.stop(),!1;if(F){var L=i._window.document.activeElement,k=B.target;if(k){var U=k.tagName.toLowerCase(),N=Bp.indexOf(U)>-1,z=k.isContentEditable;if(N||z){if(d||!h&&L===k)return!1;if(L&&(L===k||z&&L.isContentEditable&&L.contains(k)))if(h)k.blur();else return!1}else if((f||B.type==="touchstart")&&L){var H=L.tagName.toLowerCase();(L.isContentEditable||Bp.indexOf(H)>-1)&&L.blur()}(w||I||y)&&Jt(i._window,"click",i._onClick,!0)}i.clientStores=[new Ju(bA(B))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=x,i._dragFlag=!0,i._prevInputEvent=B,i.data={},i.doubleFlag=xo()-i.prevTime<200,i._isMouseEvent=Q1(B),!i._isMouseEvent&&i._preventMouseEvent&&(i._preventMouseEvent=!1);var X=i._preventMouseEvent||i.emit("dragStart",pn(pn({data:i.data,datas:i.data,inputEvent:B,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:x,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){B.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));X===!1&&i.stop(),i._isMouseEvent&&i.flag&&f&&B.preventDefault()}if(!i.flag)return!1;var ne=0;if(F?(i._attchDragEvent(),D&&u&&(ne=setTimeout(function(){Jt(p,"touchstart",i.onDragStart,{passive:!1})}))):D&&u&&Wt(p,"touchstart",i.onDragStart),i.flag&&R1(B)){if(clearTimeout(ne),F&&B.touches.length!==B.changedTouches.length)return;i.pinchFlag||i.onPinchStart(B)}}}},i.onDrag=function(B,x){if(!!i.flag){var M=i.options.preventDefault;!i._isMouseEvent&&M&&B.preventDefault(),i._prevInputEvent=B;var T=bA(B),p=i.moveClients(T,B,!1);if(i._dragFlag){if(i.pinchFlag||p.deltaX||p.deltaY){var u=i._preventMouseEvent||i.emit("drag",pn(pn({},p),{isScroll:!!x,inputEvent:B}));if(u===!1){i.stop();return}}i.pinchFlag&&i.onPinch(B,T)}i.getCurrentStore().getPosition(T,!0)}},i.onDragEnd=function(B){if(!!i.flag){var x=i.options,M=x.pinchOutside,T=x.container,p=x.preventClickEventOnDrag,u=x.preventClickEventOnDragStart,g=x.preventClickEventByCondition,C=i.isDrag;(p||u||g)&&requestAnimationFrame(function(){i._allowClickEvent()}),!g&&!u&&p&&!C&&i._allowClickEvent(),i._useTouch&&M&&Wt(T,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(B);var f=B!=null&&B.touches?bA(B):[],d=f.length;d===0||!i.options.keepDragging?i.flag=!1:i._addStore(new Ju(f));var h=i._getPosition(),w=xo(),I=!C&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=C||I?0:w,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",pn({data:i.data,datas:i.data,isDouble:I,isDrag:C,isClick:!C,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:B,isTrusted:i._isTrusted},h)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){i._preventMouseEvent=!1})})),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){Wt(i._window,"click",i._onClick,!0)},i._onClick=function(B){i._allowClickEvent(),i._preventMouseEvent=!1;var x=i.options.preventClickEventByCondition;x!=null&&x(B)||(B.stopPropagation(),B.preventDefault())},i._onContextMenu=function(B){var x=i.options;x.preventRightClick?i.onDragEnd(B):B.preventDefault()},i._passCallback=function(){};var a=[].concat(n),l=a[0];i._window=ZE(l)?l:fi(l),i.options=pn({checkInput:!1,container:l&&!("document"in l)?fi(l):l,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var o=i.options,c=o.container,s=o.events,A=o.checkWindowBlur;if(i._useDrag=s.indexOf("drag")>-1,i._useTouch=s.indexOf("touch")>-1,i._useMouse=s.indexOf("mouse")>-1,i.targets=a,i._useDrag&&a.forEach(function(B){Jt(B,"dragstart",i.onDragStart)}),i._useMouse&&(a.forEach(function(B){Jt(B,"mousedown",i.onDragStart),Jt(B,"mousemove",i._passCallback)}),Jt(c,"contextmenu",i._onContextMenu)),A&&Jt(fi(),"blur",i.onBlur),i._useTouch){var v={passive:!1};a.forEach(function(B){Jt(B,"touchstart",i.onDragStart,v),Jt(B,"touchmove",i._passCallback,v)})}return i}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,i){return r+i.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(n,r,i,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(n,r),a&&this.onDrag(i,!0))},t.prototype.move=function(n,r){var i=n[0],a=n[1],l=this.getCurrentStore(),o=l.prevClients;return this.moveClients(o.map(function(c){var s=c.clientX,A=c.clientY;return{clientX:s+i,clientY:A+a,originalClientX:s,originalClientY:A}}),r,!0)},t.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},t.prototype.setEventData=function(n){var r=this.data;for(var i in n)r[i]=n[i];return this},t.prototype.setEventDatas=function(n){return this.setEventData(n)},t.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),pn(pn({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var n=this,r=this.targets,i=this.options.container;this.off(),Wt(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(a){Wt(a,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(a){Wt(a,"mousedown",n.onDragStart)}),Wt(i,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(a){Wt(a,"touchstart",n.onDragStart)}),Wt(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(n){var r=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var a=new Ju(bA(n));this.pinchFlag=!0,this._addStore(a);var l=this.emit("pinchStart",pn(pn({data:this.data,datas:this.data,angle:a.getAngle(),touches:this.getCurrentStore().getPositions()},a.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));l===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",pn(pn({data:this.data,datas:this.data,movement:this.getMovement(r),angle:i.getAngle(r),rotation:i.getRotation(r),touches:i.getPositions(r),scale:i.getScale(r),distance:i.getDistance(r)},i.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(n){if(!!this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",pn(pn({data:this.data,datas:this.data,isPinch:r,touches:i.getPositions()},i.getPosition()),{inputEvent:n}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(n,r,i){var a=this._getPosition(n,i),l=this.isDrag;(a.deltaX||a.deltaY)&&(this.isDrag=!0);var o=!1;return!l&&this.isDrag&&(o=!0),pn(pn({data:this.data,datas:this.data},a),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:o})},t.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},t.prototype._getPosition=function(n,r){var i=this.getCurrentStore(),a=i.getPosition(n,r),l=this.clientStores.slice(1).reduce(function(s,A){var v=A.getPosition();return s.distX+=v.distX,s.distY+=v.distY,s},a),o=l.distX,c=l.distY;return pn(pn({},a),{distX:o,distY:c})},t.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,i={passive:!1};this._isDragAPI&&(Jt(r,"dragover",this.onDrag,i),Jt(n,"dragend",this.onDragEnd)),this._useMouse&&(Jt(r,"mousemove",this.onDrag),Jt(n,"mouseup",this.onDragEnd)),this._useTouch&&(Jt(r,"touchmove",this.onDrag,i),Jt(n,"touchend",this.onDragEnd,i),Jt(n,"touchcancel",this.onDragEnd,i))},t.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(Wt(r,"dragover",this.onDrag),Wt(n,"dragend",this.onDragEnd)),this._useMouse&&(Wt(r,"mousemove",this.onDrag),Wt(n,"mouseup",this.onDragEnd)),this._useTouch&&(Wt(r,"touchstart",this.onDragStart),Wt(r,"touchmove",this.onDrag),Wt(n,"touchend",this.onDragEnd),Wt(n,"touchcancel",this.onDragEnd))},t}(Wi);function j1(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var z1=j1;function V1(e){return z1(e).toString(36)}function G1(e){if(e&&e.getRootNode){var t=e.getRootNode();if(t.nodeType===11)return t}}function W1(e,t,n){return n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,i){var a=i.trim();return(a?cr(a):[""]).map(function(l){var o=l.trim();return o.indexOf("@")===0?o:o.indexOf(":global")>-1?o.replace(/\:global/g,""):o.indexOf(":host")>-1?"".concat(o.replace(/\:host/g,".".concat(e))):o?".".concat(e," ").concat(o):".".concat(e)}).join(", ")+" {"})}function Y1(e,t,n,r,i){var a=$r(r),l=a.createElement("style");return l.setAttribute("type","text/css"),l.setAttribute("data-styled-id",e),l.setAttribute("data-styled-count","1"),n.nonce&&l.setAttribute("nonce",n.nonce),l.innerHTML=W1(e,t,n),(i||a.head||a.body).appendChild(l),l}function EA(e){var t="rCS"+V1(e);return{className:t,inject:function(n,r){r===void 0&&(r={});var i=G1(n),a=(i||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!a)a=Y1(t,e,r,n,i);else{var l=parseFloat(a.getAttribute("data-styled-count"))||0;a.setAttribute("data-styled-count","".concat(l+1))}return{destroy:function(){var o,c=parseFloat(a.getAttribute("data-styled-count"))||0;c<=1?(a.remove?a.remove():(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=null):a.setAttribute("data-styled-count","".concat(c-1))}}}}}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var qu=function(e,t){return qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},qu(e,t)};function bp(e,t){qu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ef=function(){return ef=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ef.apply(this,arguments)};function X1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var K1=function(e){bp(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.injectResult=null,r.tag="div",r}var n=t.prototype;return n.render=function(){var r=this.props,i=r.className,a=i===void 0?"":i;r.cspNonce;var l=r.portalContainer,o=X1(r,["className","cspNonce","portalContainer"]),c=this.injector.className,s=this.tag,A={};return l1.indexOf("simple")>-1&&l&&(A={portalContainer:l}),on(s,ef({ref:wn(this,"element"),"data-styled-id":c,className:a+" "+c},A,o))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},t}(gA);function tf(e,t){var n=EA(t);return function(r){bp(i,r);function i(){var a=r!==null&&r.apply(this,arguments)||this;return a.injector=n,a.tag=e,a}return i}(K1)}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var nf=function(e,t){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},nf(e,t)};function zo(e,t){nf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ne=function(){return Ne=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ne.apply(this,arguments)};function Z1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function J1(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Ft(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r}function Vo(e,t){var n;return Ne({events:{},props:(n={},n[e]=Boolean,n),name:e},t)}function Ep(e,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*e+'px" height="'+32*e+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+t+'deg);transform-origin: 16px 16px"></path></svg>'}function $1(e){var t=Ep(1,e),n=Ep(2,e),r=Math.round(e/45)*45%180,i="ns-resize";return r===135?i="nwse-resize":r===45?i="nesw-resize":r===90&&(i="ew-resize"),"cursor:"+i+";cursor: url('"+t+"') 16 16, "+i+";cursor: -webkit-image-set(url('"+t+"') 1x, url('"+n+"') 2x) 16 16, "+i+";"}var q1=d1(),_p=q1.browser.webkit,Sp=_p&&function(){var e=/applewebkit\/([^\s]+)/g.exec(navigator.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),rf="moveable-",e_=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`+[0,15,30,45,60,75,90,105,120,135,150,165].map(function(e){return`
.direction[data-rotation="`+e+`"] {
	`+$1(e)+`
}
`}).join(`
`)+`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`+(Sp?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"")+`
`,t_=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Go=1e-4,bn=1e-7,_A=1e-9,Wo=Math.pow(10,10),Ip=-Wo,xp=["n","w","s","e","nw","ne","sw","se"],n_={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},r_={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Mp=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager"];function i_(e,t){return[e[0]*t[0],e[1]*t[1]]}function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tg.apply(void 0,Ft([rf],e))}function a_(e){if(!e||e==="none")return[1,0,0,1,0,0];if(Kt(e))return e;var t=So(e).value;return t.split(/s*,\s*/g).map(function(n){return parseFloat(n)})}function af(e,t,n){return Pu(t,Ro(n,t),e,Ro(n.map(function(r){return-r}),t))}function o_(e,t,n){if(t==="%"){var r=Af(e.ownerSVGElement);return r[n?"width":"height"]/100}return 1}function s_(e){var t=of(Xn(e,":before"));return t.map(function(n,r){var i=Ur(n),a=i.value,l=i.unit;return a*o_(e,l,r===0)})}function of(e){var t=e.transformOrigin;return t?t.split(" "):["0","0"]}function SA(e,t,n){for(var r=document.body,i=!e||n?e:e.parentElement,a=e===t||i===t,l="relative";i&&i!==r;){t===i&&(a=!0);var o=Xn(i),c=o.transform;if(l=o.position,i.tagName.toLowerCase()==="svg"||l!=="static"||c&&c!=="none")break;i=i.parentElement,l="relative"}return{isStatic:l==="static",isEnd:a||!i||i===r,offsetParent:i||r}}function A_(e,t,n,r){var i,a=e.tagName.toLowerCase(),l=e.offsetLeft,o=e.offsetTop;if(r){var c=(t||document.documentElement).getBoundingClientRect();l-=c.left,o-=c.top}var s=nr(l),A=!s,v,B;return!A&&a!=="svg"?(v=Sp?s_(e):of(n).map(function(x){return parseFloat(x)}),B=v.slice(),A=!0,i=f_(e,v),l=i[0],o=i[1],v[0]=i[2],v[1]=i[3]):(v=of(n).map(function(x){return parseFloat(x)}),B=v.slice()),{tagName:a,isSVG:s,hasOffset:A,offset:[l||0,o||0],origin:v,targetOrigin:B}}function Dp(e,t,n){n===void 0&&(n=Xn(e));var r=Xn(document.body),i=r.position;if(!t&&(!i||i==="static"))return[0,0];var a=parseInt(r.marginLeft,10),l=parseInt(r.marginTop,10);return n.position==="absolute"&&((n.top!=="auto"||n.bottom!=="auto")&&(l=0),(n.left!=="auto"||n.right!=="auto")&&(a=0)),[a,l]}function sf(e){e.forEach(function(t){var n=t.matrix;n&&(t.matrix=di(n,3,4))})}function Tp(e,t){for(var n=e,r=[],i=e===t,a=!1,l=3,o,c,s,A=SA(t,t,!0).offsetParent;n&&!i;){var v=Xn(n),B=v.position,x=B==="fixed",M=w1(a_(v.transform)),T=M.length;!a&&T===16&&(a=!0,l=4,sf(r)),a&&T===9&&(M=di(M,3,4));var p=A_(n,t,v,x),u=p.tagName,g=p.hasOffset,C=p.isSVG,f=p.origin,d=p.targetOrigin,h=p.offset,w=h[0],I=h[1];u==="svg"&&s?(r.push({type:"target",target:n,matrix:u_(n,l)}),r.push({type:"offset",target:n,matrix:hn(l)})):u==="g"&&e!==n&&(w=0,I=0);var y=SA(n,t),D=y.offsetParent,F=y.isEnd,L=y.isStatic;_p&&g&&!C&&L&&(B==="relative"||B==="static")&&(w-=D.offsetLeft,I-=D.offsetTop,i=i||F);var k=0,U=0;if(g&&A!==D&&(k=D.clientLeft,U=D.clientTop),g&&D===document.body){var N=Dp(n,!1,v);w+=N[0],I+=N[1]}if(r.push({type:"target",target:n,matrix:af(M,l,f)}),g?r.push({type:"offset",target:n,matrix:Ro([w-n.scrollLeft+k,I-n.scrollTop+U],l)}):r.push({type:"offset",target:n,origin:f}),s||(s=M),o||(o=f),c||(c=d),i||x)break;n=D,i=F}return s||(s=hn(l)),o||(o=[0,0]),c||(c=[0,0]),{offsetContainer:A,matrixes:r,targetMatrix:s,transformOrigin:o,targetOrigin:c,is3d:a}}function Op(e,t,n,r){var i;n===void 0&&(n=t);var a=0,l=0,o=0,c={};if(e){var s=Xn(e);a=e.offsetWidth,l=e.offsetHeight,nr(a)&&(i=Lp(e,s,!0),a=i[0],l=i[1])}if(e){var A=c_(e,t,n,r),v=xA(A.allMatrix,A.transformOrigin,a,l);c=Ne(Ne({},A),v);var B=xA(A.allMatrix,[50,50],100,100);o=Pp([B.pos1,B.pos2],B.direction)}var x=r?4:3;return Ne({width:a,height:l,rotation:o,rootMatrix:hn(x),beforeMatrix:hn(x),offsetMatrix:hn(x),allMatrix:hn(x),targetMatrix:hn(x),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!r,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1},c)}function l_(e,t,n){return n===void 0&&(n=t),Op(e,t,n,!0)}function c_(e,t,n,r){n===void 0&&(n=t);var i=Tp(e,t),a=i.matrixes,l=i.is3d,o=i.targetMatrix,c=i.transformOrigin,s=i.targetOrigin,A=i.offsetContainer,v=Tp(A,n),B=v.matrixes,x=v.is3d,M=r||x||l,T=M?4:3,p=e.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in e,u=o,g=hn(T),C=hn(T),f=hn(T),d=hn(T),h=a.length,w=n||document.body,I=SA(w,w,!0).offsetParent;B.reverse(),a.reverse(),!l&&M&&(u=di(u,3,4),sf(a)),!x&&M&&sf(B),B.forEach(function(F){C=$t(C,F.matrix,T)}),a.forEach(function(F,L){if(h-2===L&&(f=g.slice()),h-1===L&&(d=g.slice()),!F.matrix){var k=a[L+1],U=h_(F,k,I,T,$t(C,g,T));F.matrix=Ro(U,T)}g=$t(g,F.matrix,T)});var y=!p&&l;u||(u=hn(y?4:3));var D=IA(p&&u.length===16?di(u,4,3):u,y);return C=cp(C,T,T),{rootMatrix:C,beforeMatrix:f,offsetMatrix:d,allMatrix:g,targetMatrix:u,targetTransform:D,transformOrigin:c,targetOrigin:s,is3d:M}}function IA(e,t){return t===void 0&&(t=e.length>9),(t?"matrix3d":"matrix")+"("+up(e,!t).join(",")+")"}function Af(e){var t=e.clientWidth,n=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:n};var r=e.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||t,height:i.height||n,clientWidth:t,clientHeight:n}}function u_(e,t){var n=Af(e),r=n.width,i=n.height,a=n.clientWidth,l=n.clientHeight,o=a/r,c=l/i,s=e.preserveAspectRatio.baseVal,A=s.align,v=s.meetOrSlice,B=[0,0],x=[o,c],M=[0,0];if(A!==1){var T=(A-2)%3,p=Math.floor((A-2)/3);B[0]=r*T/2,B[1]=i*p/2;var u=v===2?Math.max(c,o):Math.min(o,c);x[0]=u,x[1]=u,M[0]=(a-r)/2*T,M[1]=(l-i)/2*p}var g=fp(x,t);return g[t*(t-1)]=M[0],g[t*(t-1)+1]=M[1],af(g,t,B)}function f_(e,t){if(!e.getBBox)return[0,0];var n=e.getBBox(),r=Af(e.ownerSVGElement),i=n.x-r.x,a=n.y-r.y;return[i,a,t[0]-i,t[1]-a]}function In(e,t,n){return Qn(e,No(t,n),n)}function Yo(e,t,n,r){return[[0,0],[t,0],[0,n],[t,n]].map(function(i){return In(e,i,r)})}function ur(e){var t=e.map(function(s){return s[0]}),n=e.map(function(s){return s[1]}),r=Math.min.apply(Math,t),i=Math.min.apply(Math,n),a=Math.max.apply(Math,t),l=Math.max.apply(Math,n),o=a-r,c=l-i;return{left:r,top:i,right:a,bottom:l,width:o,height:c}}function Fp(e,t,n,r){var i=Yo(e,t,n,r);return ur(i)}function h_(e,t,n,r,i){var a,l=e.target,o=e.origin,c=t.matrix,s=Lp(l,void 0,!0),A=s[0],v=s[1],B=n.getBoundingClientRect(),x=[0,0];n===document.body&&(x=Dp(l,!0));for(var M=l.getBoundingClientRect(),T=M.left-B.left+n.scrollLeft-(n.clientLeft||0)+x[0],p=M.top-B.top+n.scrollTop-(n.clientTop||0)+x[1],u=M.width,g=M.height,C=Pu(r,i,c),f=Fp(C,A,v,r),d=f.left,h=f.top,w=f.width,I=f.height,y=In(C,o,r),D=mt(y,[d,h]),F=[T+D[0]*u/w,p+D[1]*g/I],L=[0,0],k=0;++k<10;){var U=br(i,r);a=mt(In(U,F,r),In(U,y,r)),L[0]=a[0],L[1]=a[1];var N=Pu(r,i,Ro(L,r),c),z=Fp(N,A,v,r),H=z.left,X=z.top,ne=H-T,ie=X-p;if(Math.abs(ne)<2&&Math.abs(ie)<2)break;F[0]-=ne,F[1]-=ie}return L.map(function(he){return Math.round(he)})}function xA(e,t,n,r){var i=e.length===16,a=i?4:3,l=Yo(e,n,r,a),o=l[0],c=o[0],s=o[1],A=l[1],v=A[0],B=A[1],x=l[2],M=x[0],T=x[1],p=l[3],u=p[0],g=p[1],C=In(e,t,a),f=C[0],d=C[1],h=Math.min(c,v,M,u),w=Math.min(s,B,T,g),I=Math.max(c,v,M,u),y=Math.max(s,B,T,g);c=c-h||0,v=v-h||0,M=M-h||0,u=u-h||0,s=s-w||0,B=B-w||0,T=T-w||0,g=g-w||0,f=f-h||0,d=d-w||0;var D=Su(l);return{left:h,top:w,right:I,bottom:y,origin:[f,d],pos1:[c,s],pos2:[v,B],pos3:[M,T],pos4:[u,g],direction:D}}function Er(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function kp(e,t){return Er([t[0]-e[0],t[1]-e[1]])}function Xo(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=Zt(e,t));var i=kp(e,t);return{transform:"translateY(-50%) translate("+e[0]+"px, "+e[1]+"px) rotate("+r+"rad) scaleY("+n+")",width:i+"px"}}function Up(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.length,a=n.reduce(function(o,c){return o+c[0]},0)/i,l=n.reduce(function(o,c){return o+c[1]},0)/i;return{transform:"translateZ(0px) translate("+a+"px, "+l+"px) rotate("+e+"rad) scale("+t+")"}}function d_(e){var t=Xn(e);return[parseFloat(t.width),parseFloat(t.height)]}function Lp(e,t,n,r){t===void 0&&(t=Xn(e)),r===void 0&&(r=n||t.boxSizing==="border-box");var i=e.offsetWidth,a=e.offsetHeight,l=!nr(i);if((n||r)&&l)return[i,a];if(!l&&e.tagName.toLowerCase()!=="svg"){var o=e.getBBox();return[o.width,o.height]}if(i=e.clientWidth,a=e.clientHeight,n||r){var c=parseFloat(t.borderLeftWidth)||0,s=parseFloat(t.borderRightWidth)||0,A=parseFloat(t.borderTopWidth)||0,v=parseFloat(t.borderBottomWidth)||0;return[i+c+s,a+A+v]}else{var B=parseFloat(t.paddingLeft)||0,x=parseFloat(t.paddingRight)||0,M=parseFloat(t.paddingTop)||0,T=parseFloat(t.paddingBottom)||0;return[i-B-x,a-M-T]}}function Pp(e,t){return Zt(t>0?e[0]:e[1],t>0?e[1]:e[0])}function lf(e,t,n,r,i){var a=1,l=[0,0],o=cf(),c=cf(),s=cf(),A=Op(t,n,i,!1);if(t){var v=A.is3d?4:3,B=xA(A.offsetMatrix,Bt(A.transformOrigin,y1(A.targetMatrix,v)),A.width,A.height);a=B.direction,l=Bt(B.origin,[B.left-A.left,B.top-A.top]),o=MA(t),c=MA(SA(r,r,!0).offsetParent||document.body,!0),e&&(s=MA(e))}return Ne({targetClientRect:o,containerClientRect:c,moveableClientRect:s,beforeDirection:a,beforeOrigin:l,originalBeforeOrigin:l,target:t},A)}function cf(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function MA(e,t){var n=0,r=0,i=0,a=0;if(e===document.body||e===document.documentElement)i=window.innerWidth,a=window.innerHeight,n=-(document.documentElement.scrollLeft||document.body.scrollLeft),r=-(document.documentElement.scrollTop||document.body.scrollTop);else{var l=e.getBoundingClientRect();n=l.left,r=l.top,i=l.width,a=l.height}var o={left:n,right:n+i,top:r,bottom:r+a,width:i,height:a};return t&&(o.clientLeft=e.clientLeft,o.clientTop=e.clientTop,o.clientWidth=e.clientWidth,o.clientHeight=e.clientHeight,o.scrollWidth=e.scrollWidth,o.scrollHeight=e.scrollHeight,o.overflow=Xn(e).overflow!=="visible"),o}function uf(e){if(!!e){var t=e.getAttribute("data-direction");if(!!t){var n=[0,0];return t.indexOf("w")>-1&&(n[0]=-1),t.indexOf("e")>-1&&(n[0]=1),t.indexOf("n")>-1&&(n[1]=-1),t.indexOf("s")>-1&&(n[1]=1),n}}}function ff(e,t){return[Bt(t,e[0]),Bt(t,e[1]),Bt(t,e[2]),Bt(t,e[3])]}function Pr(e){var t=e.left,n=e.top,r=e.pos1,i=e.pos2,a=e.pos3,l=e.pos4;return ff([r,i,a,l],[t,n])}function g_(e){return Math.round(e%1===-.5?e-1:e)}function ba(e,t){e[t]&&(e[t].unset(),e[t]=null)}function bt(e,t,n){var r=t.datas;r.datas||(r.datas={});var i=Ne(Ne({},n),{target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,moveable:e,datas:r.datas});return r.isStartEvent?r.lastEvent=i:r.isStartEvent=!0,i}function rr(e,t,n){var r=t.datas,i="isDrag"in n?n.isDrag:t.isDrag;return r.datas||(r.datas={}),Ne(Ne({isDrag:i},n),{moveable:e,target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,lastEvent:r.lastEvent,isDouble:t.isDouble,datas:r.datas})}function lt(e,t,n,r){return e.triggerEvent(t,n,r)}function Xn(e,t){return window.getComputedStyle(e,t)}function DA(e,t,n){var r={},i={};return e.filter(function(a){var l=a.name;if(r[l]||!t.some(function(o){return a[o]}))return!1;if(!n&&a.ableGroup){if(i[a.ableGroup])return!1;i[a.ableGroup]=!0}return r[l]=!0,!0})}function hf(e,t){return e===t||e==null&&t==null}function p_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length-1,r=0;r<n;++r){var i=e[r];if(!nr(i))return i}return e[n]}function df(e,t){var n=[],r=[];return e.forEach(function(i,a){var l=t(i,a,e),o=r.indexOf(l),c=n[o]||[];o===-1&&(r.push(l),n.push(c)),c.push(i)}),n}function v_(e,t){var n=[],r={};return e.forEach(function(i,a){var l=t(i,a,e),o=r[l];o||(o=[],r[l]=o,n.push(o)),o.push(i)}),n}function gf(e){return e.reduce(function(t,n){return t.concat(n)},[])}function Ea(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.sort(function(n,r){return Math.abs(r)-Math.abs(n)}),e[0]}function m_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.sort(function(n,r){return Math.abs(n)-Math.abs(r)}),e[0]}function Yi(e,t,n){return Qn(br(e,n),No(t,n),n)}function Np(e,t){var n,r=e.is3d,i=e.rootMatrix,a=r?4:3;return n=Yi(i,[t.distX,t.distY],a),t.distX=n[0],t.distY=n[1],t}function TA(e,t,n,r,i){return mt(In(e,Bt(n,t),i),r)}function _r(e,t,n){return n?e/t*100+"%":e+"px"}function y_(e,t,n,r){var i=e[t],a=i.direction,l=i.sub,o=e.map(function(){return[0,0]}),c=a?a.split(""):[];if(r&&t<8){var s=c.filter(function(v){return v==="w"||v==="e"})[0],A=c.filter(function(v){return v==="n"||v==="s"})[0];o[t]=n,e.forEach(function(v,B){var x=v.direction;!x||(x.indexOf(s)>-1&&(o[B][0]=n[0]),x.indexOf(A)>-1&&(o[B][1]=n[1]))}),s&&(o[1][0]=n[0]/2,o[5][0]=n[0]/2),A&&(o[3][1]=n[1]/2,o[7][1]=n[1]/2)}else a&&!l?c.forEach(function(v){var B=v==="n"||v==="s";e.forEach(function(x,M){var T=x.direction,p=x.horizontal,u=x.vertical;!T||T.indexOf(v)===-1||(o[M]=[B||!p?0:n[0],!B||!u?0:n[1]])})}):o[t]=n;return o}function _a(e){return Math.abs(e)<=bn?0:e}function Ko(e,t){return t.isRequest?t.requestAble==="resizable"||t.requestAble==="scalable"?t.parentDirection:!1:Wn(t.inputEvent.target,pt("direction"))}function C_(e){var t={};for(var n in e)t[e[n]]=n;return t}function w_(e,t){var n=e.slice(0,t<0?void 0:t),r=e.slice(0,t<0?void 0:t+1),i=e[t]||"",a=t<0?[]:e.slice(t),l=t<0?[]:e.slice(t+1),o=Gi(n),c=Gi(r),s=Gi([i]),A=Gi(a),v=Gi(l),B=Ca(o),x=Ca(c),M=Ca(A),T=Ca(v),p=$t(B,M,4);return{transforms:e,beforeFunctionMatrix:B,beforeFunctionMatrix2:x,targetFunctionMatrix:Ca(s),afterFunctionMatrix:M,afterFunctionMatrix2:T,allFunctionMatrix:p,beforeFunctions:o,beforeFunctions2:c,targetFunction:s[0],afterFunctions:A,afterFunctions2:v,beforeFunctionTexts:n,beforeFunctionTexts2:r,targetFunctionText:i,afterFunctionTexts:a,afterFunctionTexts2:l}}function B_(e){return!e||!Kt(e)?!1:Bn(e)||"length"in e}function OA(e,t){return e?Gt(e)?t?document.querySelector(e):e:Gn(e)?e():"current"in e?e.current:e:null}function pf(e,t){if(!e)return[];var n=B_(e)?[].slice.call(e):[e];return n.reduce(function(r,i){return Gt(i)&&t?Ft(r,[].slice.call(document.querySelectorAll(i))):(r.push(OA(i,t)),r)},[])}function b_(e,t){var n=[];return e.forEach(function(r){if(!!r){if(Gt(r)){t[r]&&n.push.apply(n,t[r]);return}n.push(r)}}),n}function E_(e,t,n){var r=Zt(e,t)/Math.PI*180;return r=n>=0?r:180-r,r=r>=0?r:360+r,r}function Rp(e,t){var n=e.rootMatrix,r=e.is3d,i=r?4:3,a=br(n,i);return r||(a=di(a,3,4)),a[12]=0,a[13]=0,a[14]=0,ya(a,t)}var __=Vo("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(e,t){var n=t.datas,r=t.targets,i=t.angle,a=t.originalDatas,l=e.props,o=l.pinchable,c=l.ables;if(!o)return!1;var s="onPinch"+(r?"Group":"")+"Start",A="drag"+(r?"Group":"")+"ControlStart",v=(o===!0?e.controlAbles:c.filter(function(T){return o.indexOf(T.name)>-1})).filter(function(T){return T.canPinch&&T[A]}),B=bt(e,t,{});r&&(B.targets=r);var x=lt(e,s,B);n.isPinch=x!==!1,n.ables=v;var M=n.isPinch;return M?(v.forEach(function(T){if(a[T.name]=a[T.name]||{},!!T[A]){var p=Ne(Ne({},t),{datas:a[T.name],parentRotate:i,isPinch:!0});T[A](e,p)}}),e.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},M):!1},pinch:function(e,t){var n=t.datas,r=t.scale,i=t.distance,a=t.originalDatas,l=t.inputEvent,o=t.targets,c=t.angle;if(!!n.isPinch){var s=i*(1-1/r),A=bt(e,t,{});o&&(A.targets=o);var v="onPinch"+(o?"Group":"");lt(e,v,A);var B=n.ables,x="drag"+(o?"Group":"")+"Control";return B.forEach(function(M){!M[x]||M[x](e,Ne(Ne({},t),{datas:a[M.name],inputEvent:l,parentDistance:s,parentRotate:c,isPinch:!0}))}),A}},pinchEnd:function(e,t){var n=t.datas,r=t.isPinch,i=t.inputEvent,a=t.targets,l=t.originalDatas;if(!!n.isPinch){var o="onPinch"+(a?"Group":"")+"End",c=rr(e,t,{isDrag:r});a&&(c.targets=a),lt(e,o,c);var s=n.ables,A="drag"+(a?"Group":"")+"ControlEnd";return s.forEach(function(v){!v[A]||v[A](e,Ne(Ne({},t),{isDrag:r,datas:l[v.name],inputEvent:i,isPinch:!0}))}),r}},pinchGroupStart:function(e,t){return this.pinchStart(e,Ne(Ne({},t),{targets:e.props.targets}))},pinchGroup:function(e,t){return this.pinch(e,Ne(Ne({},t),{targets:e.props.targets}))},pinchGroupEnd:function(e,t){return this.pinchEnd(e,Ne(Ne({},t),{targets:e.props.targets}))}});function FA(e,t,n,r,i){var a=t.gesto.move(n,e.inputEvent),l=a.originalDatas||a.datas,o=l.draggable||(l.draggable={});return Ne(Ne({},i?Np(t,a):a),{isDrag:!0,isPinch:!!r,parentEvent:!0,datas:o,originalDatas:e.originalDatas})}var Zo=function(){function e(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var t=e.prototype;return t.dragStart=function(n,r){this.isDrag=!1,this.isFlag=!1;var i=r.originalDatas;return this.datas=i,i.draggable||(i.draggable={}),Ne(Ne({},this.move(n,r.inputEvent)),{type:"dragstart"})},t.drag=function(n,r){return this.move([n[0]-this.prevX,n[1]-this.prevY],r)},t.move=function(n,r){var i,a;return this.isFlag?(i=this.prevX+n[0],a=this.prevY+n[1],this.isDrag=!0):(this.prevX=n[0],this.prevY=n[1],this.startX=n[0],this.startY=n[1],i=n[0],a=n[1],this.isFlag=!0),this.prevX=i,this.prevY=a,{type:"drag",clientX:i,clientY:a,inputEvent:r,isDrag:this.isDrag,distX:i-this.startX,distY:a-this.startY,deltaX:n[0],deltaY:n[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function Sa(e,t,n){var r=n.originalDatas;r.groupable=r.groupable||{};var i=r.groupable;i.childDatas=i.childDatas||[];var a=i.childDatas;return e.moveables.map(function(l,o){return a[o]=a[o]||{},a[o][t]=a[o][t]||{},Ne(Ne({},n),{datas:a[o][t],originalDatas:a[o]})})}function vf(e,t,n,r,i,a){var l=!!n.match(/Start$/g),o=!!n.match(/End$/g),c=i.isPinch,s=i.datas,A=Sa(e,t.name,i),v=e.moveables,B=A.map(function(x,M){var T=v[M],p=x;l?p=new Zo().dragStart(r,x):(T.state.gesto||(T.state.gesto=s.childGestos[M]),p=FA(x,T.state,r,c,a));var u=t[n](T,Ne(Ne({},p),{parentFlag:!0}));return o&&(T.state.gesto=null),u});return l&&(s.childGestos=v.map(function(x){return x.state.gesto})),B}function qr(e,t,n,r,i,a){i===void 0&&(i=function(A,v){return v});var l=!!n.match(/End$/g),o=Sa(e,t.name,r),c=e.moveables,s=o.map(function(A,v){var B=c[v],x=A;x=i(B,A);var M=t[n](B,Ne(Ne({},x),{parentFlag:!0}));return M&&a&&a(B,A,M,v),l&&(B.state.gesto=null),M});return s}function Qp(e,t){var n=t.clientX,r=t.clientY,i=t.datas,a=e.state,l=a.moveableClientRect,o=a.rootMatrix,c=a.is3d,s=a.pos1,A=l.left,v=l.top,B=c?4:3,x=mt(Yi(o,[n-A,r-v],B),s),M=x[0],T=x[1],p=Nr({datas:i,distX:M,distY:T}),u=p[0],g=p[1];return[u,g]}function Xi(e,t){var n=t.datas,r=e.state,i=r.allMatrix,a=r.beforeMatrix,l=r.is3d,o=r.left,c=r.top,s=r.origin,A=r.offsetMatrix,v=r.targetMatrix,B=r.transformOrigin,x=l?4:3;n.is3d=l,n.matrix=i,n.targetMatrix=v,n.beforeMatrix=a,n.offsetMatrix=A,n.transformOrigin=B,n.inverseMatrix=br(i,x),n.inverseBeforeMatrix=br(a,x),n.absoluteOrigin=No(Bt([o,c],s),x),n.startDragBeforeDist=Qn(n.inverseBeforeMatrix,n.absoluteOrigin,x),n.startDragDist=Qn(n.inverseMatrix,n.absoluteOrigin,x)}function S_(e){return xA(e.datas.beforeTransform,[50,50],100,100).direction}function kA(e,t){var n=e.datas,r=e.originalDatas.beforeRenderable,i=n.transformIndex,a=r.nextTransforms,l=r.nextTransformAppendedIndexes,o=i===-1?a.length:i+l.filter(function(v){return v<i}).length,c=w_(a,o),s=c.targetFunction,A=t==="rotate"?"rotateZ":t;n.beforeFunctionTexts=c.beforeFunctionTexts,n.afterFunctionTexts=c.afterFunctionTexts,n.beforeTransform=c.beforeFunctionMatrix,n.beforeTransform2=c.beforeFunctionMatrix2,n.targetTansform=c.targetFunctionMatrix,n.afterTransform=c.afterFunctionMatrix,n.afterTransform2=c.afterFunctionMatrix2,n.targetAllTransform=c.allFunctionMatrix,s.functionName===A?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):(n.isAppendTransform=!0,r.nextTransformAppendedIndexes=Ft(l,[o]))}function UA(e,t,n){return e.beforeFunctionTexts.join(" ")+" "+(e.isAppendTransform?n:t)+" "+e.afterFunctionTexts.join(" ")}function I_(e){var t=e.datas,n=e.distX,r=e.distY,i=jp({datas:t,distX:n,distY:r}),a=i[0],l=i[1],o=Hp(t,C1([a,l],4));return Qn(o,No([0,0,0],4),4)}function Hp(e,t,n){var r=e.beforeTransform,i=e.afterTransform,a=e.beforeTransform2,l=e.afterTransform2,o=e.targetAllTransform,c=n?$t(o,t,4):$t(t,o,4),s=$t(br(n?a:r,4),c,4),A=$t(s,br(n?l:i,4),4);return A}function jp(e){var t=e.datas,n=e.distX,r=e.distY,i=t.inverseBeforeMatrix,a=t.is3d,l=t.startDragBeforeDist,o=t.absoluteOrigin,c=a?4:3;return mt(Qn(i,Bt(o,[n,r]),c),l)}function Nr(e,t){var n=e.datas,r=e.distX,i=e.distY,a=n.inverseBeforeMatrix,l=n.inverseMatrix,o=n.is3d,c=n.startDragBeforeDist,s=n.startDragDist,A=n.absoluteOrigin,v=o?4:3;return mt(Qn(t?a:l,Bt(A,[r,i]),v),t?c:s)}function x_(e,t){var n=e.datas,r=e.distX,i=e.distY,a=n.beforeMatrix,l=n.matrix,o=n.is3d,c=n.startDragBeforeDist,s=n.startDragDist,A=n.absoluteOrigin,v=o?4:3;return mt(Qn(t?a:l,Bt(t?c:s,[r,i]),v),A)}function M_(e,t,n,r,i,a){return r===void 0&&(r=t),i===void 0&&(i=n),a===void 0&&(a=[0,0]),e?e.map(function(l,o){var c=Ur(l),s=c.value,A=c.unit,v=o?i:r,B=o?n:t;if(l==="%"||isNaN(s)){var x=v?a[o]/v:0;return B*x}else if(A!=="%")return s;return B*s/100}):a}function zp(e){var t=[];return e[1]>=0&&(e[0]>=0&&t.push(3),e[0]<=0&&t.push(2)),e[1]<=0&&(e[0]>=0&&t.push(1),e[0]<=0&&t.push(0)),t}function Vp(e,t){return zp(t).map(function(n){return e[n]})}function Hn(e,t){var n=Vp(e,t);return[Do(n.map(function(r){return r[0]})),Do(n.map(function(r){return r[1]}))]}function D_(e,t){return Hn(e,t.map(function(n){return-n}))}function T_(e,t,n,r,i,a){var l=Yo(t,n,r,i),o=Hn(l,a),c=e[0]-o[0],s=e[1]-o[1];return[c,s]}function LA(e,t,n,r){return $t(e,af(t,r,n),r)}function O_(e,t,n){var r=e.transformOrigin,i=e.offsetMatrix,a=e.is3d,l=t.beforeTransform,o=t.afterTransform,c=a?4:3,s=hp([n]);return LA(i,di($t($t(l,s,4),o,4),4,c),r,c)}function F_(e,t){var n=e.transformOrigin,r=e.offsetMatrix,i=e.is3d,a=e.targetMatrix,l=i?4:3;return LA(r,$t(a,fp(t,l),l),n,l)}function PA(e){var t=e.originalDatas.beforeRenderable;return{setTransform:function(n,r){r===void 0&&(r=-1),t.startTransforms=Bn(n)?n:Jr(n),mf(e,r)},setTransformIndex:function(n){mf(e,n)}}}function NA(e,t){var n=e.originalDatas.beforeRenderable,r=n.startTransforms;mf(e,Br(r,function(i){return i.indexOf(t+"(")===0}))}function mf(e,t){var n=e.originalDatas.beforeRenderable,r=e.datas;if(r.transformIndex=t,t!==-1){var i=n.startTransforms[t];if(!!i){var a=Gi([i]);r.startValue=a[0].functionValue}}}function Gp(e,t){var n=e.originalDatas.beforeRenderable;n.nextTransforms=Jr(t)}function Wp(e,t,n,r,i){return Gp(i,t),{transform:t,drag:Kn.drag(e,FA(i,e.state,n,r,!1))}}function Yp(e,t,n,r,i){var a=e.state,l=a.left,o=a.top,c=e.props.groupable,s=O_(e.state,i,t),A=c?l:0,v=c?o:0,B=Kp(e,n,s),x=mt(r,B);return mt(x,[A,v])}function k_(e,t,n,r,i){return Yp(e,"scale("+t.join(", ")+")",n,r,i)}function Xp(e){var t=e.state,n=t.width,r=t.height,i=t.transformOrigin;return[-1+i[0]/(n/2),-1+i[1]/(r/2)]}function Kp(e,t,n){n===void 0&&(n=e.state.allMatrix);var r=e.state,i=r.width,a=r.height,l=r.is3d,o=l?4:3,c=[i/2*(1+t[0]),a/2*(1+t[1])];return In(n,c,o)}function U_(e,t,n,r){var i=Xp(e);return Yp(e,"rotate("+t+"deg)",i,n,r)}function L_(e,t,n,r,i,a){var l=e.props.groupable,o=e.state,c=o.transformOrigin,s=o.targetMatrix,A=o.offsetMatrix,v=o.is3d,B=o.width,x=o.height,M=o.left,T=o.top,p=v?4:3,u=M_(a,t,n,B,x,c),g=l?M:0,C=l?T:0,f=LA(A,s,u,p),d=T_(i,f,t,n,p,r);return mt(d,[g,C])}function Ia(e,t){return Hn(Pr(e.state),t)}function Zp(e,t,n){var r=In(e,[t.clientLeft,t.clientTop],n);return[t.left+r[0],t.top+r[1]]}function Jp(e,t,n,r,i,a){var l=i[0],o=i[1],c=a[0],s=a[1],A=[],v=r?0:1,B=t==="vertical"?"horizontal":"vertical",x=df(e.filter(function(M){var T=M.type;return T===t}),function(M){var T=M.element;return T}).map(function(M){return M[0]}).filter(function(M){var T=M.pos,p=M.sizes;return T[v]<=s&&c<=T[v]+p[v]});return x.forEach(function(M){var T=M.pos[r],p=T+M.sizes[r];x.forEach(function(u){var g=u.pos,C=u.sizes,f=u.element,d=u.className,h=g[r],w=h+C[r],I=0,y=0,D=!0;if(p<=h)y=p-h,I=w-y,l<I-n&&(D=!1);else if(w<=T)y=T-w,I=h-y,o>I+n&&(D=!1);else return;if(D&&A.push({pos:B==="vertical"?[I,g[1]]:[g[0],I],element:f,sizes:C,size:0,type:B,gap:y,className:d,gapGuidelines:x}),p<=l&&o<=h){var F=(h+p-(o-l))/2;gt(l-(F-n),.1)>=0&&A.push({pos:B==="vertical"?[F,g[1]]:[g[0],F],className:d,element:f,sizes:C,size:0,type:B,gap:p-l,gapGuidelines:x})}})}),A}function $p(e,t,n,r,i,a,l){i===void 0&&(i=0),a===void 0&&(a=0),l===void 0&&(l={left:0,top:0,right:0,bottom:0});var o=[],c=l.left,s=l.top,A=l.bottom,v=l.right,B=n+v-c,x=r+A-s;return e&&e.forEach(function(M){o.push({type:"horizontal",pos:[c,gt(M-a+s,.1)],size:B})}),t&&t.forEach(function(M){o.push({type:"vertical",pos:[gt(M-i+c,.1),s],size:x})}),o}function P_(e,t){var n=[];if(!t.length)return n;var r=e.state,i=e.props.snapCenter,a=r.containerClientRect,l=r.targetClientRect,o=l.top,c=l.left,s=r.rootMatrix,A=r.is3d,v=A?4:3,B=Zp(s,a,v),x=B[0],M=B[1],T=Pr(r),p=yA(T),u=p.minX,g=p.minY,C=mt([u,g],Yi(s,[c-x,o-M],v)).map(function(h){return g_(h)}),f=C[0],d=C[1];return t.forEach(function(h){var w=h.element,I=h.top,y=h.left,D=h.right,F=h.bottom,L=h.className,k=w.getBoundingClientRect(),U=k.left-x,N=k.top-M,z=N+k.height,H=U+k.width,X=Yi(s,[U,N],v),ne=X[0],ie=X[1],he=Yi(s,[H,z],v),le=he[0],Ae=he[1],R=le-ne,re=Ae-ie,ee=[R,re];I!==!1&&n.push({type:"vertical",element:w,pos:[gt(ne+f,.1),ie],size:re,sizes:ee,className:L}),F!==!1&&n.push({type:"vertical",element:w,pos:[gt(le+f,.1),ie],size:re,sizes:ee,className:L}),y!==!1&&n.push({type:"horizontal",element:w,pos:[ne,gt(ie+d,.1)],size:R,sizes:ee,className:L}),D!==!1&&n.push({type:"horizontal",element:w,pos:[ne,gt(Ae+d,.1)],size:R,sizes:ee,className:L}),i&&(n.push({type:"vertical",element:w,pos:[gt((ne+le)/2+f,.1),ie],size:re,sizes:ee,center:!0,className:L}),n.push({type:"horizontal",element:w,pos:[ne,gt((ie+Ae)/2+d,.1)],size:R,sizes:ee,center:!0,className:L}))}),n}function RA(e,t,n){n===void 0&&(n=[]);var r=[],i=e.state;if(t&&i.guidelines&&i.guidelines.length)return r;var a=e.props.elementGuidelines,l=a===void 0?[]:a;if(!l.length)return r;var o=i.elementGuidelineValues||[],c=l.map(function(M){return Kt(M)&&"element"in M?M:{element:OA(M,!0)}}).filter(function(M){return M.element});i.elementGuidelineValues=c;var s=wa(o.map(function(M){return M.element}),c.map(function(M){return M.element})),A=s.added,v=s.removed,B=v.map(function(M){return o[M].element}),x=P_(e,A.map(function(M){return c[M]}).filter(function(M){return M.refresh&&t||!M.refresh&&!t}));return Ft(n.filter(function(M){return B.indexOf(M.element)===-1}),x)}function yf(e){var t=e.state,n=t.snapOffset,r=t.staticGuidelines,i=t.containerClientRect,a=i.overflow,l=i.scrollHeight,o=i.scrollWidth,c=i.clientHeight,s=i.clientWidth,A=i.clientLeft,v=i.clientTop,B=e.props,x=B.snapHorizontal,M=x===void 0?!0:x,T=B.snapVertical,p=T===void 0?!0:T,u=B.snapGap,g=u===void 0?!0:u,C=B.verticalGuidelines,f=B.horizontalGuidelines,d=B.snapThreshold,h=d===void 0?5:d,w=B.snapGridWidth,I=w===void 0?0:w,y=B.snapGridHeight,D=y===void 0?0:y,F=Ft(r,RA(e,!0));if(g){var L=ur(Pr(e.state)),k=L.top,U=L.left,N=L.bottom,z=L.right,H=r.filter(function(X){var ne=X.element;return ne});F.push.apply(F,Ft(Jp(H,"horizontal",h,0,[U,z],[k,N]),Jp(H,"vertical",h,1,[k,N],[U,z])))}return F.push.apply(F,N_(I,D,a?o:s,a?l:c,A,v)),F.push.apply(F,$p(M&&f||!1,p&&C||!1,a?o:s,a?l:c,A,v,n)),F}function N_(e,t,n,r,i,a){i===void 0&&(i=0),a===void 0&&(a=0);var l=[];if(t)for(var o=0;o<=r;o+=t)l.push({type:"horizontal",pos:[0,gt(o-a,.1)],size:n,hide:!0});if(e)for(var o=0;o<=n;o+=e)l.push({type:"vertical",pos:[gt(o-i,.1),0],size:r,hide:!0});return l}function QA(e,t,n,r,i){var a=e.props,l=a.snapElement,o=l===void 0?!0:l,c=p_(i,a.snapThreshold,5);return qp(e.state.guidelines,t,n,{snapThreshold:c,snapCenter:r,snapElement:o})}function qp(e,t,n,r){return{vertical:tv(e,"vertical",t,r),horizontal:tv(e,"horizontal",n,r)}}function R_(e,t,n){var r=n[0],i=n[1],a=t[0],l=t[1],o=mt(n,t),c=o[0],s=o[1],A=s>0,v=c>0;c=_a(c),s=_a(s);var B={isSnap:!1,offset:0,pos:0},x={isSnap:!1,offset:0,pos:0};if(c===0&&s===0)return{vertical:B,horizontal:x};var M=QA(e,c?[r]:[],s?[i]:[]),T=M.vertical,p=M.horizontal;T.posInfos.filter(function(U){var N=U.pos;return v?N>=a:N<=a}),p.posInfos.filter(function(U){var N=U.pos;return A?N>=l:N<=l}),T.isSnap=T.posInfos.length>0,p.isSnap=p.posInfos.length>0;var u=Cf(T),g=u.isSnap,C=u.guideline,f=Cf(p),d=f.isSnap,h=f.guideline,w=d?h.pos[1]:0,I=g?C.pos[0]:0;if(c===0)d&&(x.isSnap=!0,x.pos=h.pos[1],x.offset=i-x.pos);else if(s===0)g&&(B.isSnap=!0,B.pos=I,B.offset=r-I);else{var y=s/c,D=n[1]-y*r,F=0,L=0,k=!1;g?(L=I,F=y*L+D,k=!0):d&&(F=w,L=(F-D)/y,k=!0),k&&(B.isSnap=!0,B.pos=L,B.offset=r-L,x.isSnap=!0,x.pos=F,x.offset=i-F)}return{vertical:B,horizontal:x}}function ev(e,t,n,r){var i=e.props.snapCenter,a=i&&n,l=["left","right"],o=["top","bottom"];return a&&(l.push("center"),o.push("middle")),l=l.filter(function(c){return c in t}),o=o.filter(function(c){return c in t}),QA(e,l.map(function(c){return t[c]}),o.map(function(c){return t[c]}),a,r)}function Cf(e){var t=e.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=e.posInfos[0],r=n.guidelineInfos[0],i=r.offset,a=r.dist,l=r.guideline;return{isSnap:t,offset:i,dist:a,pos:n.pos,guideline:l}}function tv(e,t,n,r){var i=r===void 0?{}:r,a=i.snapThreshold,l=a===void 0?5:a,o=i.snapElement,c=i.snapCenter;if(!e||!e.length)return{isSnap:!1,index:-1,posInfos:[]};var s=t==="vertical",A=s?0:1,v=n.map(function(x,M){var T=e.map(function(p){var u=p.pos,g=x-u[A];return{offset:g,dist:Math.abs(g),guideline:p}}).filter(function(p){var u=p.guideline,g=p.dist,C=u.type,f=u.center,d=u.element;return!(!o&&d||!c&&f||C!==t||g>l)}).sort(function(p,u){return p.dist-u.dist});return{pos:x,index:M,guidelineInfos:T}}).filter(function(x){return x.guidelineInfos.length>0}).sort(function(x,M){return x.guidelineInfos[0].dist-M.guidelineInfos[0].dist}),B=v.length>0;return{isSnap:B,index:B?v[0].index:-1,posInfos:v}}function Q_(e,t,n){var r=[];if(n[0]&&n[1])r=[n,[-n[0],n[1]],[n[0],-n[1]]].map(function(l){return Hn(t,l)});else if(!n[0]&&!n[1])for(var i=[t[0],t[1],t[3],t[2],t[0]],a=0;a<4;++a)r.push(i[a]),r.push([(i[a][0]+i[a+1][0])/2,(i[a][1]+i[a+1][1])/2]);else e.props.keepRatio?r=[[-1,-1],[-1,1],[1,-1],[1,1],n].map(function(l){return Hn(t,l)}):(r=Vp(t,n),r.length>1&&r.push([(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]));return QA(e,r.map(function(l){return l[0]}),r.map(function(l){return l[1]}),!0,1)}function nv(e,t){var n=Math.abs(e.offset),r=Math.abs(t.offset);return e.isBound&&t.isBound?r-n:e.isBound?-1:t.isBound?1:e.isSnap&&t.isSnap?r-n:e.isSnap?-1:t.isSnap||n<bn?1:r<bn?-1:n-r}function HA(e,t){return e.slice().sort(function(n,r){var i=n.sign[t],a=r.sign[t],l=n.offset[t],o=r.offset[t];if(i){if(!a)return-1}else return 1;return nv({isBound:n.isBound,isSnap:n.isSnap,offset:l},{isBound:r.isBound,isSnap:r.isSnap,offset:o})})[0]}function rv(e,t){var n=Do([t[0][0],t[1][0]]),r=Do([t[0][1],t[1][1]]);return{vertical:n<=e[0],horizontal:r<=e[1]}}function iv(e,t){var n=t[0],r=t[1],i=r[0]-n[0],a=r[1]-n[1];Math.abs(i)<bn&&(i=0),Math.abs(a)<bn&&(a=0);var l,o;if(!i)l=n[0],o=e[0];else if(!a)l=n[1],o=e[1];else{var c=a/i;l=c*(e[0]-n[0])+n[1],o=e[1]}return l-o}function av(e,t,n){n===void 0&&(n=bn);var r=iv(e[0],t)<=0;return e.slice(1).every(function(i){var a=iv(i,t),l=a<=0;return l===r||Math.abs(a)<=n})}function ov(e,t,n,r,i){return i===void 0&&(i=0),r&&t-i<=e||!r&&e<=n+i?{isBound:!0,offset:r?t-e:n-e}:{isBound:!1,offset:0}}function H_(e,t,n){var r=e.props.innerBounds;if(!r)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var i=r.left,a=r.top,l=r.width,o=r.height,c=[[i,a],[i,a+o]],s=[[i,a],[i+l,a]],A=[[i+l,a],[i+l,a+o]],v=[[i,a+o],[i+l,a+o]],B=rv(n,t),x=B.horizontal,M=B.vertical;if(av([n,[i,a],[i+l,a],[i,a+o],[i+l,a+o]],t))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var T=pi(t,s,M),p=pi(t,v,M),u=pi(t,c,x),g=pi(t,A,x),C=T.isBound&&p.isBound,f=T.isBound||p.isBound,d=u.isBound&&g.isBound,h=u.isBound||g.isBound,w=Ea(T.offset,p.offset),I=Ea(u.offset,g.offset),y=[0,0],D=!1,F=!1;return Math.abs(I)<Math.abs(w)?(y=[w,0],D=f,F=C):(y=[0,I],D=h,F=d),{isAllBound:F,isVerticalBound:f,isHorizontalBound:h,isBound:D,offset:y}}function pi(e,t,n,r,i){var a=e[0],l=e[1],o=t[0],c=t[1],s=_a(l[1]-a[1]),A=_a(l[0]-a[0]),v=_a(c[1]-o[1]),B=_a(c[0]-o[0]);if(B){if(!v){if(i&&!A)return{isBound:!1,offset:0};if(s){var p=(o[1]-a[1])/(s/A)+a[0];return ov(p,o[0],c[0],n,r)}else{var M=o[1]-a[1],T=Math.abs(M)<=(r||0);return{isBound:T,offset:T?M:0}}}}else{if(i&&!s)return{isBound:!1,offset:0};if(A){var x=s/A*(o[0]-a[0])+a[1];return ov(x,o[1],c[1],n,r)}else{var M=o[0]-a[0],T=Math.abs(M)<=(r||0);return{isBound:T,offset:T?M:0}}}return{isBound:!1,offset:0}}function sv(e,t,n,r){return t.map(function(i){var a=i[0],l=i[1],o=i[2],c=H_(e,[l,o],n),s=c.isBound,A=c.offset,v=c.isVerticalBound,B=c.isHorizontalBound,x=Nr({datas:r,distX:A[0],distY:A[1]}).map(function(M,T){return M*(a[T]?2/a[T]:0)});return{sign:a,isBound:s,isVerticalBound:v,isHorizontalBound:B,isSnap:!1,offset:x}})}function j_(e,t,n){var r,i=Av(t,[0,0],!1).map(function(B){var x=B[0],M=B[1],T=B[2];return[x.map(function(p){return Math.abs(p)*2}),M,T]}),a=sv(e,i,Hn(t,[0,0]),n),l=HA(a,0),o=HA(a,1),c=0,s=0,A=l.isVerticalBound||o.isVerticalBound,v=l.isHorizontalBound||o.isHorizontalBound;return(A||v)&&(r=x_({datas:n,distX:-l.offset[0],distY:-o.offset[1]}),c=r[0],s=r[1]),{vertical:{isBound:A,offset:c},horizontal:{isBound:v,offset:s}}}function z_(e,t){var n=[],r=e[0],i=e[1];return r&&i?n.push([[0,i*2],e,[-r,i]],[[r*2,0],e,[r,-i]]):r?(n.push([[r*2,0],[r,1],[r,-1]]),t&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):i?(n.push([[0,i*2],[1,i],[-1,i]]),t&&n.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}function Av(e,t,n){return z_(t,n).map(function(r){var i=r[0],a=r[1],l=r[2];return[i,Hn(e,a),Hn(e,l)]})}function lv(e,t,n,r){var i=r?e.map(function(l){return gi(l,r)}):e,a=Ft([n],t);return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(l){return!av(a,l)})}function V_(e){var t=e[0],n=e[1],r=n[0]-t[0],i=n[1]-t[1];if(!r)return Math.abs(t[0]);if(!i)return Math.abs(t[1]);var a=i/r;return Math.abs((-a*t[0]+t[1])/Math.sqrt(Math.pow(a,2)+1))}function G_(e){var t=e[0],n=e[1],r=n[0]-t[0],i=n[1]-t[1];if(!r)return[t[0],0];if(!i)return[0,t[1]];var a=i/r,l=-a*t[0]+t[1];return[-l/(a+1/a),l/(a*a+1)]}function W_(e,t,n,r,i){var a=e.props.innerBounds,l=i*Math.PI/180;if(!a)return[];var o=a.left,c=a.top,s=a.width,A=a.height,v=o-r[0],B=o+s-r[0],x=c-r[1],M=c+A-r[1],T=[[v,x],[B,x],[v,M],[B,M]],p=Hn(n,[0,0]);if(!lv(n,T,p,0))return[];var u=[],g=T.map(function(C){return[Er(C),Zt([0,0],C)]});return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach(function(C){var f=Zt([0,0],G_(C)),d=V_(C);u.push.apply(u,g.filter(function(h){var w=h[0];return w&&d<=w}).map(function(h){var w=h[0],I=h[1],y=Math.acos(w?d/w:0),D=I+y,F=I-y;return[l+D-f,l+F-f]}).reduce(function(h,w){return h.push.apply(h,w),h},[]).filter(function(h){return!lv(t,T,p,h)}).map(function(h){return gt(h*180/Math.PI,bn)}))}),u}function Y_(e){var t=e.props.innerBounds;if(!t)return{vertical:[],horizontal:[]};var n=e.getRect(),r=n.pos1,i=n.pos2,a=n.pos3,l=n.pos4,o=[r,i,a,l],c=Hn(o,[0,0]),s=t.left,A=t.top,v=t.width,B=t.height,x=[[s,A],[s,A+B]],M=[[s,A],[s+v,A]],T=[[s+v,A],[s+v,A+B]],p=[[s,A+B],[s+v,A+B]],u=[[r,i],[i,l],[l,a],[a,r]],g=[],C=[],f={top:!1,bottom:!1,left:!1,right:!1};return u.forEach(function(d){var h=rv(c,d),w=h.horizontal,I=h.vertical,y=pi(d,M,I,1,!0),D=pi(d,p,I,1,!0),F=pi(d,x,w,1,!0),L=pi(d,T,w,1,!0);y.isBound&&!f.top&&(g.push(A),f.top=!0),D.isBound&&!f.bottom&&(g.push(A+B),f.bottom=!0),F.isBound&&!f.left&&(C.push(s),f.left=!0),L.isBound&&!f.right&&(C.push(s+v),f.right=!0)}),{horizontal:g,vertical:C}}function wf(e,t,n){var r=e||{},i=r.position,a=i===void 0?"client":i,l=r.left,o=l===void 0?-1/0:l,c=r.top,s=c===void 0?-1/0:c,A=r.right,v=A===void 0?1/0:A,B=r.bottom,x=B===void 0?1/0:B,M={position:a,left:o,top:s,right:v,bottom:x};return{vertical:cv(M,t,!0),horizontal:cv(M,n,!1)}}function jA(e,t){var n=e.state,r=n.containerClientRect,i=r.clientHeight,a=r.clientWidth,l=r.clientLeft,o=r.clientTop,c=n.snapOffset,s=c.left,A=c.top,v=c.right,B=c.bottom,x=t||e.props.bounds||{},M=x.position||"client",T=M==="css",p=x.left,u=p===void 0?-1/0:p,g=x.top,C=g===void 0?-1/0:g,f=x.right,d=f===void 0?T?-1/0:1/0:f,h=x.bottom,w=h===void 0?T?-1/0:1/0:h;return T&&(d=a+v-s-d,w=i+B-A-w),{left:u+s-l,right:d+s-l,top:C+A-o,bottom:w+A-o}}function X_(e,t,n){var r=jA(e),i=r.left,a=r.top,l=r.right,o=r.bottom,c=n[0],s=n[1],A=mt(n,t),v=A[0],B=A[1];Math.abs(v)<bn&&(v=0),Math.abs(B)<bn&&(B=0);var x=B>0,M=v>0,T={isBound:!1,offset:0,pos:0},p={isBound:!1,offset:0,pos:0};if(v===0&&B===0)return{vertical:T,horizontal:p};if(v===0)x?o<s&&(p.pos=o,p.offset=s-o):a>s&&(p.pos=a,p.offset=s-a);else if(B===0)M?l<c&&(T.pos=l,T.offset=c-l):i>c&&(T.pos=i,T.offset=c-i);else{var u=B/v,g=n[1]-u*c,C=0,f=0,d=!1;M&&l<=c?(C=u*l+g,f=l,d=!0):!M&&c<=i&&(C=u*i+g,f=i,d=!0),d&&(C<a||C>o)&&(d=!1),d||(x&&o<=s?(C=o,f=(C-g)/u,d=!0):!x&&s<=a&&(C=a,f=(C-g)/u,d=!0)),d&&(T.isBound=!0,T.pos=f,T.offset=c-f,p.isBound=!0,p.pos=C,p.offset=s-C)}return{vertical:T,horizontal:p}}function cv(e,t,n){var r=e[n?"left":"top"],i=e[n?"right":"bottom"],a=Math.min.apply(Math,t),l=Math.max.apply(Math,t),o=[];return r+1>a&&o.push({isBound:!0,offset:a-r,pos:r}),i-1<l&&o.push({isBound:!0,offset:l-i,pos:i}),o.length||o.push({isBound:!1,offset:0,pos:0}),o.sort(function(c,s){return Math.abs(s.offset)-Math.abs(c.offset)})}function uv(e,t,n){var r=n?e.map(function(i){return gi(i,n)}):e;return r.some(function(i){return i[0]<t.left&&Math.abs(i[0]-t.left)>.1||i[0]>t.right&&Math.abs(i[0]-t.right)>.1||i[1]<t.top&&Math.abs(i[1]-t.top)>.1||i[1]>t.bottom&&Math.abs(i[1]-t.bottom)>.1})}function K_(e,t,n){var r=Er(e),i=Math.sqrt(r*r-t*t)||0;return[i,-i].sort(function(a,l){return Math.abs(a-e[n?0:1])-Math.abs(l-e[n?0:1])}).map(function(a){return Zt([0,0],n?[a,t]:[t,a])})}function Z_(e,t,n,r,i){if(!e.props.bounds)return[];var a=i*Math.PI/180,l=jA(e),o=l.left,c=l.top,s=l.right,A=l.bottom,v=o-r[0],B=s-r[0],x=c-r[1],M=A-r[1],T={left:v,top:x,right:B,bottom:M};if(!uv(n,T,0))return[];var p=[];return[[v,0],[B,0],[x,1],[M,1]].forEach(function(u){var g=u[0],C=u[1];n.forEach(function(f){var d=Zt([0,0],f);p.push.apply(p,K_(f,g,C).map(function(h){return a+h-d}).filter(function(h){return!uv(t,T,h)}).map(function(h){return gt(h*180/Math.PI,bn)}))})}),p}var J_={horizontal:["left","top","width","Y","X"],vertical:["top","left","height","X","Y"]};function $_(e,t,n,r){var i=[],a=df(e.filter(function(l){var o=l.element,c=l.gap;return o&&!c}),function(l){var o=l.element,c=l.pos,s=c[r],A=Math.min(0,s-t)<0?-1:1,v=A+"_"+c[r?0:1],B=zi(i,function(x){var M=x[0],T=x[1];return o===M&&s===T});return B?B[2]:(i.push([o,s,v]),v)});return a.forEach(function(l){l.sort(function(o,c){var s=Bf(o.pos[r],o.size,t,n).size-Bf(c.pos[r],o.size,t,n).size;return s||o.pos[r?0:1]-c.pos[r?0:1]})}),a}function Bf(e,t,n,r){var i=e-n,a=i<0?i+t:r,l=i<0?0:i,o=l-a;return{size:o,pos:a}}function q_(e,t){var n,r=e.direction,i=e.classNames,a=e.size,l=e.pos,o=e.zoom,c=e.key,s=r==="horizontal",A=s?"Y":"X";return t.createElement("div",{key:c,className:i.join(" "),style:(n={},n[s?"width":"height"]=""+a,n.transform="translate("+l[0]+", "+l[1]+") translate"+A+"(-50%) scale"+A+"("+o+")",n)})}function zA(e,t){return q_(Ne(Ne({},e),{classNames:Ft([pt("line","guideline",e.direction)],e.classNames).filter(function(n){return n}),size:e.size||e.sizeValue+"px",pos:e.pos||e.posValue.map(function(n){return gt(n,.1)+"px"})}),t)}function fv(e,t,n,r,i,a,l,o,c,s,A,v){var B=e.props,x=B.zoom,M=B.isDisplaySnapDigit,T=M===void 0?!0:M,p=J_[t],u=p[0],g=p[1],C=p[2],f=p[4];return gf(n.map(function(d,h){var w=!0;return d.map(function(I,y){var D,F=I.pos,L=I.size,k=Bf(F[s],L,i,a),U=k.pos,N=k.size;if(N<o)return null;var z=w;w=!1;var H=T&&z?parseFloat(N.toFixed(c)):0;return v.createElement("div",{key:t+"LinkGuideline"+h+"-"+y,className:pt("guideline-group",t),style:(D={},D[u]=r+U+"px",D[g]=-l+F[s?0:1]+"px",D[C]=N+"px",D)},zA({direction:t,classNames:[pt("dashed")],size:"100%",posValue:[0,0],sizeValue:N,zoom:x},v),v.createElement("div",{className:pt("size-value"),style:{transform:"translate"+f+"(-50%) scale("+x+")"}},H>0?A(H):""))})}))}function hv(e,t,n,r,i,a,l,o){var c=e.props.zoom;return n.map(function(s,A){var v=s.type,B=s.pos,x=[0,0];return x[l]=r,x[l?0:1]=-i+B,zA({key:t+"TargetGuideline"+A,classNames:[pt("target","bold",v)],posValue:x,sizeValue:a,zoom:c,direction:t},o)})}function dv(e,t,n,r,i,a){var l=e.props.isDisplayInnerSnapDigit,o=n?0:1,c=r[n],s=a[n],A=[],v=t.filter(function(x){var M=x.element,T=x.pos,p=x.size;if(l&&M&&T[n]<c&&c+s<T[n]+p){var u=T[n]-c,g=T[o]-r[o];return A.push(Ne(Ne({},x),{inner:!0,gap:u,renderPos:n?[g,u]:[u,g]})),A.push(Ne(Ne({},x),{inner:!0,gap:T[n]+p-c-s,renderPos:n?[g,s]:[s,g]})),!1}return!0});v=v.filter(function(x){var M=x.element,T=x.pos,p=x.size,u=T[n];return M?v.every(function(g){var C=g.element,f=g.pos,d=g.size,h=f[n];return!C||x===g?!0:u+p<=h||h+d<=u||u<h&&h+d<u+p}):!0});var B=$_(v,i[n],s,n);return A=A.filter(function(x){var M=x.gap,T=x.pos[o];return B.every(function(p){return p.every(function(u){var g=u.pos,C=-c+g[n];return g[o]!==T?!0:!(M<0&&C<0||M>0&&C>a[n])})})}),{guidelines:v,groups:B,gapGuidelines:A}}function gv(e,t,n,r,i){var a=e.props.zoom;return n.filter(function(l){var o=l.hide;return!o}).map(function(l,o){var c=l.pos,s=l.size,A=l.element,v=[-r[0]+c[0],-r[1]+c[1]];return zA({key:t+"Guideline"+o,classNames:A?[pt("bold")]:[],direction:t,posValue:v,sizeValue:s,zoom:a},i)})}function pv(e,t,n,r,i){var a=e.props,l=a.snapDigit,o=l===void 0?0:l,c=a.isDisplaySnapDigit,s=c===void 0?!0:c,A=a.zoom,v=t==="horizontal"?"X":"Y",B=t==="horizontal"?"width":"height";return n.map(function(x,M){var T,p=x.renderPos,u=x.gap,g=x.className,C=x.inner,f=Math.abs(u),d=s?parseFloat(f.toFixed(o)):0;return i.createElement("div",{key:t+"GapGuideline"+M,className:pt("guideline-group",t),style:(T={left:p[0]+"px",top:p[1]+"px"},T[B]=f+"px",T)},zA({direction:t,classNames:[pt(C?"dashed":"gap"),g],size:"100%",posValue:[0,0],sizeValue:f,zoom:A},i),i.createElement("div",{className:pt("size-value","gap"),style:{transform:"translate"+v+"(-50%) scale("+A+")"}},d>0?r(d):""))})}function bf(e){var t=e.state;if(!(t.guidelines&&t.guidelines.length)){var n=e.state.container,r=e.props.snapContainer||n,i=t.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(n!==r){var l=OA(r,!0);if(l){var o=MA(l),c=Rp(t,[o.left-i.left,o.top-i.top]),s=Rp(t,[o.right-i.right,o.bottom-i.bottom]);a.left=gt(c[0],.1),a.top=gt(c[1],.1),a.right=gt(s[0],.1),a.bottom=gt(s[1],.1)}}t.snapOffset=a,t.elementGuidelineValues=[],t.staticGuidelines=RA(e,!1),t.guidelines=yf(e),t.enableSnap=!0}}function xa(e,t){var n=e.props,r=n.snappable,i=n.bounds,a=n.innerBounds,l=n.verticalGuidelines,o=n.horizontalGuidelines,c=n.snapGridWidth,s=n.snapGridHeight,A=e.state,v=A.guidelines,B=A.enableSnap;return!r||!B||t&&r!==!0&&r.indexOf(t)<0?!1:!!(c||s||i||a||v&&v.length||l&&l.length||o&&o.length)}function Ef(e,t,n,r,i){var a=lS(e,t,n,r);if(!a)return{isOutside:!1,offset:[0,0]};var l=Lr(e,t),o=Lr(a,e),c=Lr(a,t),s=o>l||c>l,A=Nr({datas:i,distX:a[0],distY:a[1]}),v=A[0],B=A[1];return{offset:[v,B],isOutside:s}}function vv(e,t,n,r,i,a){var l=Yo(e,t,n,a?4:3),o=D_(l,i);return ff(l,mt(r,o))}function mv(e,t){return e.isBound?e.offset:t.isSnap?t.offset:0}function VA(e,t){return e.isBound?e.offset:t.isSnap?Cf(t).offset:0}function eS(e,t,n,r){var i=X_(e,t,n),a=i.horizontal,l=i.vertical,o=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:R_(e,t,n),c=o.horizontal,s=o.vertical,A=mv(a,c),v=mv(l,s),B=Math.abs(A),x=Math.abs(v);return{horizontal:{isBound:a.isBound,isSnap:c.isSnap,offset:A,dist:B},vertical:{isBound:l.isBound,isSnap:s.isSnap,offset:v,dist:x}}}function GA(e,t,n,r){r===void 0&&(r=n);var i=wf(jA(e),r.map(function(M){return M[0]}),r.map(function(M){return M[1]})),a=i.horizontal,l=i.vertical,o=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:QA(e,n.map(function(M){return M[0]}),n.map(function(M){return M[1]}),e.props.snapCenter),c=o.horizontal,s=o.vertical,A=VA(a[0],c),v=VA(l[0],s),B=Math.abs(A),x=Math.abs(v);return{horizontal:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:A,dist:B,bounds:a,snap:c},vertical:{isBound:l[0].isBound,isSnap:s.isSnap,snapIndex:s.index,offset:v,dist:x,bounds:l,snap:s}}}function yv(e,t,n,r,i){i===void 0&&(i={});var a=wf(t,n,r),l=a.horizontal,o=a.vertical,c=i.isRequest?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:qp(e,n,r,i),s=c.horizontal,A=c.vertical,v=VA(l[0],s),B=VA(o[0],A),x=Math.abs(v),M=Math.abs(B);return{horizontal:{isBound:l[0].isBound,isSnap:s.isSnap,snapIndex:s.index,offset:v,dist:x,bounds:l,snap:s},vertical:{isBound:o[0].isBound,isSnap:A.isSnap,snapIndex:A.index,offset:B,dist:M,bounds:o,snap:A}}}function tS(e,t,n,r,i){var a=[-n[0],-n[1]],l=e.state,o=l.width,c=l.height,s=e.props.bounds,A=1/0,v=1/0;if(s){var B=[[n[0],-n[1]],[-n[0],n[1]]],x=s.left,M=x===void 0?-1/0:x,T=s.top,p=T===void 0?-1/0:T,u=s.right,g=u===void 0?1/0:u,C=s.bottom,f=C===void 0?1/0:C;B.forEach(function(d){var h=d[0]!==a[0],w=d[1]!==a[1],I=Hn(t,d),y=Zt(r,I)*360/Math.PI;if(w){var D=I.slice();(Math.abs(y-360)<2||Math.abs(y-180)<2)&&(D[1]=r[1]);var F=Ef(r,D,(r[1]<I[1]?f:p)-I[1],!1,i),L=F.offset,k=L[1],U=F.isOutside;isNaN(k)||(v=c+(U?1:-1)*Math.abs(k))}if(h){var D=I.slice();(Math.abs(y-90)<2||Math.abs(y-270)<2)&&(D[0]=r[0]);var N=Ef(r,D,(r[0]<I[0]?g:M)-I[0],!0,i),z=N.offset[0],H=N.isOutside;isNaN(z)||(A=o+(H?1:-1)*Math.abs(z))}})}return{maxWidth:A,maxHeight:v}}function nS(e,t,n,r){var i=Zt(e,t)/Math.PI*180,a=n.vertical,l=a.isBound,o=a.isSnap,c=a.dist,s=n.horizontal,A=s.isBound,v=s.isSnap,B=s.dist,x=i%180,M=x<3||x>177,T=x>87&&x<93;return B<c&&(l||o&&!T&&(!r||!M))?"vertical":A||v&&!M&&(!r||!T)?"horizontal":""}function rS(e,t,n,r,i,a){return n.map(function(l){var o=l[0],c=l[1],s=Hn(t,o),A=Hn(t,c),v=r?eS(e,s,A,i):GA(e,i,[A]),B=v.horizontal,x=B.offset,M=B.isBound,T=B.isSnap,p=v.vertical,u=p.offset,g=p.isBound,C=p.isSnap,f=mt(c,o);if(!u&&!x)return{isBound:g||M,isSnap:C||T,sign:f,offset:[0,0]};var d=nS(s,A,v,r);if(!d)return{sign:f,isBound:!1,isSnap:!1,offset:[0,0]};var h=d==="vertical",w=Ef(s,A,-(h?u:x),h,a).offset.map(function(I,y){return I*(f[y]?2/f[y]:0)});return{sign:f,isBound:h?g:M,isSnap:h?C:T,offset:w}})}function iS(e,t){var n=[],r=[-e[0],-e[1]];return e[0]&&e[1]?(n.push([r,[e[0],-e[1]]],[r,[-e[0],e[1]]]),t&&n.push([r,e])):e[0]?t?n.push([r,[r[0],-1]],[r,[r[0],1]],[r,[e[0],-1]],[r,e],[r,[e[0],1]]):n.push([[r[0],-1],[e[0],-1]],[[r[0],0],[e[0],0]],[[r[0],1],[e[0],1]]):e[1]?t?n.push([r,[-1,r[1]]],[r,[1,r[1]]],[r,[-1,e[1]]],[r,[1,e[1]]],[r,e]):n.push([[-1,r[1]],[-1,e[1]]],[[0,r[1]],[0,e[1]]],[[1,r[1]],[1,e[1]]]):n.push([r,[1,0]],[r,[-1,0]],[r,[0,-1]],[r,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),n}function aS(e,t,n,r,i,a){var l=iS(n,r),o=Av(t,n,r),c=Ft(rS(e,t,l,r,i,a),sv(e,o,Hn(t,[0,0]),a)),s=HA(c,0),A=HA(c,1);return{width:{isBound:s.isBound,offset:s.offset[0]},height:{isBound:A.isBound,offset:A.offset[1]}}}function oS(e,t,n,r,i,a,l,o,c){var s=Hn(t,l),A=GA(e,o,[s]),v=A.horizontal.offset,B=A.vertical.offset;if(B||v){var x=Nr({datas:c,distX:-B,distY:-v}),M=x[0],T=x[1],p=Math.min(i||1/0,n+l[0]*M),u=Math.min(a||1/0,r+l[1]*T);return[p-n,u-r]}return[0,0]}function Cv(e,t,n,r,i,a,l,o){for(var c=Pr(e.state),s=e.props.keepRatio,A=0,v=0,B=0;B<2;++B){var x=t(A,v),M=aS(e,x,i,s,l,o),T=M.width,p=M.height,u=T.isBound,g=p.isBound,C=T.offset,f=p.offset;if(B===1&&(u||(C=0),g||(f=0)),B===0&&l&&!u&&!g)return[0,0];if(s){var d=Math.abs(C)*(n?1/n:1),h=Math.abs(f)*(r?1/r:1),w=u&&g?d<h:g||!u&&d<h;w?C=n*f/r:f=r*C/n}A+=C,v+=f}if(i[0]&&i[1]){var I=tS(e,c,i,a,o),y=I.maxWidth,D=I.maxHeight,F=oS(e,t(A,v).map(function(U){return U.map(function(N){return gt(N,Go)})}),n+A,r+v,y,D,i,l,o),C=F[0],f=F[1];A+=C,v+=f}return[A,v]}function wv(e,t,n,r){if(!xa(e,"rotatable"))return r;var i=t.pos1,a=t.pos2,l=t.pos3,o=t.pos4,c=r*Math.PI/180,s=[i,a,l,o].map(function(B){return mt(B,n)}),A=s.map(function(B){return gi(B,c)}),v=Ft(Z_(e,s,A,n,r),W_(e,s,A,n,r));return v.sort(function(B,x){return Math.abs(B-r)-Math.abs(x-r)}),v.length?v[0]:r}function sS(e,t,n,r,i,a,l){if(!xa(e,"resizable"))return[0,0];var o=e.state,c=o.allMatrix,s=o.is3d;return Cv(e,function(A,v){return vv(c,t+A,n+v,i,r,s)},t,n,r,i,a,l)}function AS(e,t,n,r,i){var a=i.width,l=i.height,o=i.fixedPosition;if(!xa(e,"scalable"))return[0,0];var c=i.is3d,s=Cv(e,function(A,v){return vv(F_(i,Bt(t,[A/a,v/l])),a,l,o,n,c)},a,l,n,o,r,i);return[s[0]/a,s[1]/l]}function lS(e,t,n,r){var i=t[0]-e[0],a=t[1]-e[1];if(Math.abs(i)<bn&&(i=0),Math.abs(a)<bn&&(a=0),!i)return r?[0,0]:[0,n];if(!a)return r?[n,0]:[0,0];var l=a/i,o=e[1]-l*e[0];if(r){var c=l*(t[0]+n)+o;return[n,c-t[1]]}else{var s=(t[1]+n-o)/l;return[s-t[0],n]}}function cS(e,t){t.absolutePoses=Pr(e.state)}function uS(e,t,n,r,i){var a=t[0],l=t[1],o=n[0],c=n[1],s=r[0],A=r[1],v=i[0],B=i[1],x=-v,M=-B;if(e&&a&&l){x=0,M=0;var T=[];if(o&&c?T.push([0,B],[v,0]):o?T.push([v,0]):c?T.push([0,B]):s&&A?T.push([0,B],[v,0]):s?T.push([v,0]):A&&T.push([0,B]),T.length){T.sort(function(C,f){return Er(mt([a,l],C))-Er(mt([a,l],f))});var p=T[0];if(p[0]&&Math.abs(a)>bn)x=-p[0],M=l*Math.abs(a+x)/Math.abs(a)-l;else if(p[1]&&Math.abs(l)>bn){var u=l;M=-p[1],x=a*Math.abs(l+M)/Math.abs(u)-a}if(e&&c&&o)if(Math.abs(x)>bn&&Math.abs(x)<Math.abs(v)){var g=Math.abs(v)/Math.abs(x);x*=g,M*=g}else if(Math.abs(M)>bn&&Math.abs(M)<Math.abs(B)){var g=Math.abs(B)/Math.abs(M);x*=g,M*=g}else x=Ea(-v,x),M=Ea(-B,M)}}else x=a||o?-v:0,M=l||c?-B:0;return[x,M]}function fS(e,t,n,r,i,a){if(!xa(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var l=ff(a.absolutePoses,[t,n]),o=ur(l),c=o.left,s=o.right,A=o.top,v=o.bottom,B=e.props.snapCenter,x=[[c,A],[s,A],[c,v],[s,v]];B&&x.push([(c+s)/2,(A+v)/2]);var M=GA(e,i,x,l),T=M.vertical,p=M.horizontal,u=j_(e,l,a),g=u.vertical,C=u.horizontal,f=T.isSnap,d=p.isSnap,h=T.isBound||g.isBound,w=p.isBound||C.isBound,I=Ea(T.offset,g.offset),y=Ea(p.offset,C.offset),D=uS(r,[t,n],[h,w],[f,d],[I,y]),F=D[0],L=D[1];return[{isBound:h,isSnap:f,offset:F},{isBound:w,isSnap:d,offset:L}]}function Bv(e){var t=[];return e.forEach(function(n){n.guidelineInfos.forEach(function(r){var i=r.guideline;t.indexOf(i)>-1||t.push(i)})}),t}function hS(e,t,n,r,i,a,l){var o=Math.abs(a),c=i[t]+(a>0?r[0]:0);return e.filter(function(s){var A=s.pos;return A[t]<=n[t]}).sort(function(s,A){var v=s.pos,B=A.pos;return B[t]-v[t]}).filter(function(s){var A=s.pos,v=s.sizes,B=A[t];return gt(B+v[t],Go)===gt(c-o,Go)?(c=B,!0):!1}).map(function(s){var A=-n[t]+s.pos[t]+s.sizes[t];return Ne(Ne({},s),{gap:a,renderPos:t?[l,A]:[A,l]})})}function dS(e,t,n,r,i,a,l){var o=Math.abs(a),c=i[t]+(a<0?r[t]:0);return e.filter(function(s){var A=s.pos;return A[t]>n[t]}).sort(function(s,A){var v=s.pos,B=A.pos;return v[t]-B[t]}).filter(function(s){var A=s.pos,v=s.sizes,B=A[t];return gt(B,Go)===gt(c+o,Go)?(c=B+v[t],!0):!1}).map(function(s){var A=-n[t]+s.pos[t]-o;return Ne(Ne({},s),{gap:a,renderPos:t?[l,A]:[A,l]})})}function bv(e,t,n,r){var i=e.filter(function(c){var s=c.element,A=c.gap,v=c.type;return s&&A&&v===t}),a=t==="vertical"?[0,1]:[1,0],l=a[0],o=a[1];return gf(i.map(function(c){var s=c.pos,A=c.gap,v=c.gapGuidelines,B=c.sizes,x=m_(s[o]+B[o]-n[o],s[o]-n[o]-r[o]),M=Math.min(B[o],r[o]);if(x>0&&x>M?x=(x-M/2)*2:x<0&&x<-M&&(x=(x+M/2)*2),x===0)return[];var T=(x>0?0:r[o])+x/2;return Ft(hS(v,l,n,r,s,A,T),dS(v,l,n,r,s,A,T))}))}function Ev(e,t,n,r,i,a){var l=wf(jA(e,a),t,n),o=l.vertical,c=l.horizontal;o.forEach(function(B){B.isBound&&r.push({type:"bounds",pos:B.pos})}),c.forEach(function(B){B.isBound&&i.push({type:"bounds",pos:B.pos})});var s=Y_(e),A=s.vertical,v=s.horizontal;A.forEach(function(B){Br(r,function(x){var M=x.type,T=x.pos;return M==="bounds"&&T===B})>=0||r.push({type:"bounds",pos:B})}),v.forEach(function(B){Br(i,function(x){var M=x.type,T=x.pos;return M==="bounds"&&T===B})>=0||i.push({type:"bounds",pos:B})})}var gS={name:"snappable",props:{snappable:[Boolean,Array],snapContainer:Object,snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(e,t){var n=e.state,r=n.top,i=n.left,a=n.pos1,l=n.pos2,o=n.pos3,c=n.pos4,s=n.snapRenderInfo,A=n.targetClientRect,v=n.containerClientRect,B=n.is3d,x=n.rootMatrix;if(!s||!xa(e,""))return[];n.staticGuidelines=RA(e,!1,n.staticGuidelines),n.guidelines=yf(e);var M=B?4:3,T=Math.min(a[0],l[0],o[0],c[0]),p=Math.min(a[1],l[1],o[1],c[1]),u=Zp(x,v,M),g=Yi(x,[A.left-u[0],A.top-u[1]],M),C=g[0],f=g[1],d=e.props,h=d.snapThreshold,w=h===void 0?5:h,I=d.snapDigit,y=I===void 0?0:I,D=d.snapDistFormat,F=D===void 0?function(we){return we}:D,L=s.externalPoses||[],k=Pr(e.state),U=[],N=[],z=[],H=[],X=[],ne=ur(k),ie=ne.width,he=ne.height,le=ne.top,Ae=ne.left,R=ne.bottom,re=ne.right,ee=L.length>0,oe=ee?ur(L):{};if(!s.request){if(s.direction&&X.push(Q_(e,k,s.direction)),s.snap){var Z=ur(k);s.center&&(Z.middle=(Z.top+Z.bottom)/2,Z.center=(Z.left+Z.right)/2),X.push(ev(e,Z,!0,1))}ee&&(s.center&&(oe.middle=(oe.top+oe.bottom)/2,oe.center=(oe.left+oe.right)/2),X.push(ev(e,oe,!0,1))),X.forEach(function(we){var Ee=we.vertical.posInfos,me=we.horizontal.posInfos;U.push.apply(U,Ee.filter(function(fe){var de=fe.guidelineInfos;return de.some(function(ve){var Ce=ve.guideline;return!Ce.hide})}).map(function(fe){return{type:"snap",pos:fe.pos}})),N.push.apply(N,me.filter(function(fe){var de=fe.guidelineInfos;return de.some(function(ve){var Ce=ve.guideline;return!Ce.hide})}).map(function(fe){return{type:"snap",pos:fe.pos}})),z.push.apply(z,Bv(Ee)),H.push.apply(H,Bv(me))})}Ev(e,[Ae,re],[le,R],U,N),ee&&Ev(e,[oe.left,oe.right],[oe.top,oe.bottom],U,N,s.externalBounds);var J=bv(z,"vertical",[i,r],[ie,he]),q=bv(H,"horizontal",[i,r],[ie,he]),Y=Ft(z,H);lt(e,"onSnap",{guidelines:Y.filter(function(we){var Ee=we.element;return!Ee}),elements:df(Y.filter(function(we){var Ee=we.element;return Ee}),function(we){var Ee=we.element;return Ee}),gaps:Ft(q,J)},!0);var te=dv(e,H,0,[i,r],[C,f],[ie,he]),V=te.guidelines,K=te.groups,$=te.gapGuidelines,se=dv(e,z,1,[i,r],[C,f],[ie,he]),pe=se.guidelines,ue=se.groups,ye=se.gapGuidelines;return Ft(pv(e,"vertical",Ft(q,ye),F,t),pv(e,"horizontal",Ft(J,$),F,t),fv(e,"horizontal",K,T,C,ie,r,w,y,0,F,t),fv(e,"vertical",ue,p,f,he,i,w,y,1,F,t),gv(e,"horizontal",V,[i,r],t),gv(e,"vertical",pe,[i,r],t),hv(e,"horizontal",N,T,r,ie,0,t),hv(e,"vertical",U,p,i,he,1,t))},dragStart:function(e,t){e.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},bf(e)},drag:function(e){var t=e.state;t.staticGuidelines=RA(e,!1,t.staticGuidelines),t.guidelines=yf(e)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,t){if(Ko(e,t)||Df(e,t))return!0;if(!t.isRequest&&t.inputEvent)return Wn(t.inputEvent.target,pt("snap-control"))},dragControlStart:function(e){e.state.snapRenderInfo=null,bf(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,t){this.dragStart(e,t)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,bf(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var t=e.state;t.enableSnap=!1,t.staticGuidelines=[],t.guidelines=[],t.snapRenderInfo=null}},Kn={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(e,t){var n=e.props,r=n.throttleDragRotate,i=n.zoom,a=e.state,l=a.dragInfo,o=a.beforeOrigin;if(!r||!l)return[];var c=l.dist;if(!c[0]&&!c[1])return[];var s=Er(c),A=Zt(c,[0,0]);return[t.createElement("div",{className:pt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:s+"px",transform:"translate("+o[0]+"px, "+o[1]+"px) rotate("+A+"rad) scaleY("+i+")"}})]},dragStart:function(e,t){var n=t.datas,r=t.parentEvent,i=t.parentGesto,a=e.state,l=a.target,o=a.gesto;if(o)return!1;a.gesto=i||e.targetGesto;var c=Xn(l);n.datas={},n.left=parseFloat(c.left||"")||0,n.top=parseFloat(c.top||"")||0,n.bottom=parseFloat(c.bottom||"")||0,n.right=parseFloat(c.right||"")||0,n.startValue=[0,0],Xi(e,t),NA(t,"translate"),cS(e,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1;var s=bt(e,t,Ne({set:function(v){n.startValue=v}},PA(t))),A=r||lt(e,"onDragStart",s);return A!==!1?(n.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(a.gesto=null,n.isPinch=!1),n.isDrag?s:!1},drag:function(e,t){kA(t,"translate");var n=t.datas,r=t.parentEvent,i=t.parentFlag,a=t.isPinch,l=t.isRequest,o=t.distX,c=t.distY,s=n.isDrag,A=n.prevDist,v=n.prevBeforeDist,B=n.startValue;if(!!s){var x=e.props,M=x.parentMoveable,T=r?0:x.throttleDrag||0,p=r?0:x.throttleDragRotate||0,u=!1,g=0;if(!r&&p>0&&(o||c)){var C=x.startDragRotate||0,f=gt(C+Zt([0,0],[o,c])*180/Math.PI,p)-C,d=c*Math.abs(Math.cos((f-90)/180*Math.PI)),h=o*Math.abs(Math.cos(f/180*Math.PI)),w=Er([h,d]);g=f*Math.PI/180,o=w*Math.cos(g),c=w*Math.sin(g)}if(!a&&!r&&!i&&(!p||o||c)){var I=fS(e,o,c,p,l,n),y=I[0],D=I[1],F=y.isSnap,L=y.isBound,k=y.offset,U=D.isSnap,N=D.isBound,z=D.offset;u=F||U||L||N,o+=k,c+=z}n.passDeltaX=o-(n.passDistX||0),n.passDeltaY=c-(n.passDistY||0),n.passDistX=o,n.passDistY=c;var H=Bt(jp({datas:n,distX:o,distY:c}),B),X=Bt(I_({datas:n,distX:o,distY:c}),B);!p&&!u&&(Vg(X,T),Vg(H,T));var ne=mt(H,B),ie=mt(X,B),he=mt(ie,A),le=mt(ne,v);n.prevDist=ie,n.prevBeforeDist=ne;var Ae=n.left+ne[0],R=n.top+ne[1],re=n.right-ne[0],ee=n.bottom-ne[1],oe=UA(n,"translate("+X[0]+"px, "+X[1]+"px)","translate("+ie[0]+"px, "+ie[1]+"px)");if(e.state.dragInfo.dist=r?[0,0]:ie,!(!r&&!M&&he.every(function(te){return!te})&&le.some(function(te){return!te}))){var Z=e.state,J=Z.width,q=Z.height,Y=bt(e,t,{transform:oe,dist:ie,delta:he,translate:X,beforeDist:ne,beforeDelta:le,beforeTranslate:H,left:Ae,top:R,right:re,bottom:ee,width:J,height:q,isPinch:a});return!r&&lt(e,"onDrag",Y),Y}}},dragEnd:function(e,t){var n=t.parentEvent,r=t.datas,i=t.isDrag;if(e.state.gesto=null,e.state.dragInfo=null,!!r.isDrag)return r.isDrag=!1,!n&&lt(e,"onDragEnd",rr(e,t,{})),i},dragGroupStart:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=this.dragStart(e,t);if(!a)return!1;var l=vf(e,this,"dragStart",[r||0,i||0],t,!1),o=Ne(Ne({},a),{targets:e.props.targets,events:l}),c=lt(e,"onDragGroupStart",o);return n.isDrag=c!==!1,n.isDrag?a:!1},dragGroup:function(e,t){var n=t.datas;if(!!n.isDrag){var r=this.drag(e,t),i=t.datas,a=i.passDeltaX,l=i.passDeltaY,o=vf(e,this,"drag",[a,l],t,!1);if(!!r){var c=Ne({targets:e.props.targets,events:o},r);return lt(e,"onDragGroup",c),c}}},dragGroupEnd:function(e,t){var n=t.isDrag,r=t.datas;if(!!r.isDrag)return this.dragEnd(e,t),vf(e,this,"dragEnd",[0,0],t,!1),lt(e,"onDragGroupEnd",rr(e,t,{targets:e.props.targets})),n},request:function(e){var t={},n=e.getRect(),r=0,i=0;return{isControl:!1,requestStart:function(){return{datas:t}},request:function(a){return"x"in a?r=a.x-n.left:"deltaX"in a&&(r+=a.deltaX),"y"in a?i=a.y-n.top:"deltaY"in a&&(i+=a.deltaY),{datas:t,distX:r,distY:i}},requestEnd:function(){return{datas:t,isDrag:!0}}}},unset:function(e){e.state.dragInfo=null}};function _f(e,t,n,r){r===void 0&&(r="");var i=e.state,a=i.renderPoses,l=i.rotation,o=i.direction,c=e.props,s=c.renderDirections,A=s===void 0?t:s,v=c.zoom,B={};if(!A)return[];var x=o>0?1:-1,M=A===!0?xp:A,T=l/Math.PI*180;return M.forEach(function(p){B[p]=!0}),M.map(function(p){var u=n_[p];if(!u||!B[p])return null;var g=(gt(T,15)+x*r_[p]+720)%180;return n.createElement("div",{className:pt("control","direction",p,r),"data-rotation":g,"data-direction":p,key:"direction-"+p,style:Up.apply(void 0,Ft([l,v],u.map(function(C){return a[C]})))})})}function Ma(e,t,n,r,i,a){for(var l=[],o=6;o<arguments.length;o++)l[o-6]=arguments[o];var c=Zt(n,r),s=t?gt(c/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line"+a,className:pt.apply(void 0,Ft(["line","direction",t],l)),"data-rotation":s,"data-line-index":a,"data-direction":t,style:Xo(n,r,i,c)})}function Sf(e,t){return _f(e,xp,t)}function _v(e,t){return _f(e,["nw","ne","sw","se"],t)}function If(e,t,n,r,i,a){var l=e.state.is3d?4:3,o=In(e.state.rootMatrix,i,l),c=Bt([a.left,a.top],o);t.startAbsoluteOrigin=c,t.prevDeg=Zt(c,[n,r])/Math.PI*180,t.prevSnapDeg=t.prevDeg,t.startDeg=t.prevDeg,t.loop=0}function xf(e,t,n,r,i,a){var l=n.prevDeg,o=wv(e,t,n.origin,r);n.prevDeg=o;var c=o-l;return[c,o,a+o]}function WA(e,t,n,r,i,a,l,o){var c=n.prevDeg,s=n.prevSnapDeg,A=n.startDeg,v=n.loop;c>r&&c>270&&r<90?++n.loop:c<r&&c<90&&r>270&&--n.loop;var B=n.loop,x=v*360+s-A+a,M=B*360+r-A+a;n.prevDeg=M-B*360+A-a,M=gt(M,l);var T=i*(M-a);o&&(T=wv(e,t,n.origin,T),M=T/i+a),n.prevSnapDeg=M-B*360+A-a;var p=i*(M-x);return[p,T,a+T]}function Mf(e,t,n,r,i,a,l,o){return WA(e,t,n,Zt(n.startAbsoluteOrigin,[i,a])/Math.PI*180,r,l,o,!0)}function pS(e,t,n){var r=t[0],i=t[1],a=t[2],l=t[3];if(e!=="none"){var o=(e||"top").split("-"),c=o[0],s=o[1],A=[r,i];c==="left"?A=[a,r]:c==="right"?A=[i,l]:c==="bottom"&&(A=[l,a]);var v=[(A[0][0]+A[1][0])/2,(A[0][1]+A[1][1])/2],B=Pp(A,n);if(s){var x=s==="top"||s==="left",M=c==="bottom"||c==="left";v=A[x&&!M||!x&&M?0:1]}return[v,B]}}function Df(e,t){if(t.isRequest)return t.requestAble==="rotatable";var n=t.inputEvent.target;if(Wn(n,pt("rotation-control")))return!0;var r=e.props.rotationTarget;return r?pf(r,!0).some(function(i){return i?n===i||n.contains(i):!1}):!1}var vS={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[`.rotation {
            position: absolute;
            height: 40px;
            width: 1px;
            transform-origin: 50% 100%;
            height: calc(40px * var(--zoom));
            top: auto;
            left: 0;
            bottom: 100%;
            will-change: transform;
        }
        .rotation .rotation-line {
            display: block;
            width: 100%;
            height: 100%;
            transform-origin: 50% 50%;
        }
        .rotation .rotation-control {
            border-color: #4af;
            border-color: var(--moveable-color);
            background:#fff;
            cursor: alias;
        }`],render:function(e,t){var n=e.props,r=n.rotatable,i=n.rotationPosition,a=n.zoom,l=n.renderDirections,o=e.state,c=o.renderPoses,s=o.direction;if(!r)return null;var A=pS(i,c,s),v=[];if(A){var B=A[0],x=A[1];v.push(t.createElement("div",{key:"rotation",className:pt("rotation"),style:{transform:"translate(-50%) translate("+B[0]+"px, "+B[1]+"px) rotate("+x+"rad)"}},t.createElement("div",{className:pt("line rotation-line"),style:{transform:"scaleX("+a+")"}}),t.createElement("div",{className:pt("control rotation-control"),style:{transform:"translate(0.5px) scale("+a+")"}})))}return l&&v.push.apply(v,_f(e,[],t)),v},dragControlCondition:Df,dragControlStart:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.parentRotate,l=t.parentFlag,o=t.isPinch,c=t.isRequest,s=e.state,A=s.target,v=s.left,B=s.top,x=s.origin,M=s.beforeOrigin,T=s.direction,p=s.beforeDirection,u=s.targetTransform,g=s.moveableClientRect;if(!c&&!A)return!1;var C=e.getRect();if(n.rect=C,n.transform=u,n.left=v,n.top=B,n.fixedPosition=Kp(e,Xp(e)),n.absoluteInfo={origin:C.origin,startValue:C.rotation},If(e,n.absoluteInfo,r,i,x,g),c||o||l){var f=a||0;n.beforeInfo={origin:C.beforeOrigin,prevDeg:f,startDeg:f,prevSnapDeg:f,loop:0},n.afterInfo={origin:C.origin,prevDeg:f,startDeg:f,prevSnapDeg:f,loop:0}}else n.beforeInfo={origin:C.beforeOrigin},n.afterInfo={origin:C.origin},If(e,n.beforeInfo,r,i,M,g),If(e,n.afterInfo,r,i,x,g);n.direction=T,n.beforeDirection=p,n.startValue=0,n.datas={},NA(t,"rotate");var d=bt(e,t,Ne(Ne({set:function(w){n.startValue=w*Math.PI/180}},PA(t)),{dragStart:Kn.dragStart(e,new Zo().dragStart([0,0],t))})),h=lt(e,"onRotateStart",d);return n.isRotate=h!==!1,e.state.snapRenderInfo={request:t.isRequest},n.isRotate?d:!1},dragControl:function(e,t){var n,r,i,a,l,o,c,s,A,v=t.datas,B=t.clientX,x=t.clientY,M=t.parentRotate,T=t.parentFlag,p=t.isPinch,u=t.groupDelta,g=v.beforeDirection,C=v.beforeInfo,f=v.afterInfo,d=v.absoluteInfo,h=v.isRotate,w=v.startValue,I=v.rect;if(!!h){kA(t,"rotate");var y=S_(t),D=g*y,F=e.props,L=F.throttleRotate,k=L===void 0?0:L,U=F.parentMoveable,N,z,H,X,ne,ie,he,le,Ae,R=180/Math.PI*w,re=d.startValue;if(!T&&"parentDist"in t){var ee=t.parentDist;n=xf(e,I,f,ee,D,R),N=n[0],z=n[1],H=n[2],r=xf(e,I,C,ee,g,R),X=r[0],ne=r[1],ie=r[2],i=xf(e,I,d,ee,D,re),he=i[0],le=i[1],Ae=i[2]}else p||T?(a=WA(e,I,f,M,D,R,k),N=a[0],z=a[1],H=a[2],l=WA(e,I,C,M,g,R,k),X=l[0],ne=l[1],ie=l[2],o=WA(e,I,d,M,D,re,k),he=o[0],le=o[1],Ae=o[2]):(c=Mf(e,I,f,D,B,x,R,k),N=c[0],z=c[1],H=c[2],s=Mf(e,I,C,g,B,x,R,k),X=s[0],ne=s[1],ie=s[2],A=Mf(e,I,d,D,B,x,re,k),he=A[0],le=A[1],Ae=A[2]);if(!(!he&&!N&&!X&&!U)){var oe=UA(v,"rotate("+H+"deg)","rotate("+z+"deg)"),Z=U_(e,z,v.fixedPosition,v),J=mt(Bt(u||[0,0],Z),v.prevInverseDist||[0,0]);v.prevInverseDist=Z;var q=bt(e,t,Ne({delta:N,dist:z,rotate:H,beforeDist:ne,beforeDelta:X,beforeRotate:ie,absoluteDist:le,absoluteDelta:he,absoluteRotate:Ae,isPinch:!!p},Wp(e,oe,J,p,t)));return lt(e,"onRotate",q),q}}},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;return n.isRotate?(n.isRotate=!1,lt(e,"onRotateEnd",rr(e,t,{})),r):!1},dragGroupControlCondition:Df,dragGroupControlStart:function(e,t){var n=t.datas,r=e.state,i=r.left,a=r.top,l=r.beforeOrigin,o=this.dragControlStart(e,t);if(!o)return!1;o.set(n.beforeDirection*e.rotation);var c=qr(e,this,"dragControlStart",t,function(v,B){var x=v.state,M=x.left,T=x.top,p=x.beforeOrigin,u=Bt(mt([M,T],[i,a]),mt(p,l));return B.datas.groupClient=u,Ne(Ne({},B),{parentRotate:0})}),s=Ne(Ne({},o),{targets:e.props.targets,events:c}),A=lt(e,"onRotateGroupStart",s);return n.isRotate=A!==!1,n.isRotate?o:!1},dragGroupControl:function(e,t){var n=t.datas;if(!!n.isRotate){var r=this.dragControl(e,t);if(!!r){var i=n.beforeDirection,a=r.beforeDist,l=r.beforeDelta,o=l/180*Math.PI,c=qr(e,this,"dragControl",t,function(A,v){var B=v.datas.groupClient,x=B[0],M=B[1],T=gi([x,M],o*i),p=T[0],u=T[1],g=[p-x,u-M];return v.datas.groupClient=[p,u],Ne(Ne({},v),{parentRotate:a,groupDelta:g})});e.rotation=i*r.beforeRotate;var s=Ne({targets:e.props.targets,events:c,set:function(A){e.rotation=A}},r);return lt(e,"onRotateGroup",s),s}}},dragGroupControlEnd:function(e,t){var n=t.isDrag,r=t.datas;if(!!r.isRotate){this.dragControlEnd(e,t),qr(e,this,"dragControlEnd",t);var i=rr(e,t,{targets:e.props.targets});return lt(e,"onRotateGroupEnd",i),n}},request:function(e){var t={},n=0,r=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(i){return"deltaRotate"in i?n+=i.deltaRotate:"rotate"in i&&(n=i.rotate-r),{datas:t,parentDist:n}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},mS={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(e,t){var n=e.props,r=n.resizable,i=n.edge;if(r)return i?_v(e,t):Sf(e,t)},dragControlCondition:Ko,dragControlStart:function(e,t){var n,r=t.inputEvent,i=t.isPinch,a=t.parentDirection,l=t.datas,o=t.parentFlag,c=a||(i?[0,0]:uf(r.target)),s=e.state,A=s.target,v=s.width,B=s.height;if(!c||!A)return!1;!i&&Xi(e,t),l.datas={},l.direction=c,l.startOffsetWidth=v,l.startOffsetHeight=B,l.prevWidth=0,l.prevHeight=0,n=d_(A),l.startWidth=n[0],l.startHeight=n[1];var x=[Math.max(0,v-l.startWidth),Math.max(0,B-l.startHeight)];if(l.minSize=x,l.maxSize=[1/0,1/0],!o){var M=Xn(A),T=M.position,p=M.minWidth,u=M.minHeight,g=M.maxWidth,C=M.maxHeight,f=T==="static"||T==="relative",d=f?A.parentElement:A.offsetParent,h=v,w=B;if(d&&(h=d.clientWidth,w=d.clientHeight,f)){var I=Xn(d);h-=parseFloat(I.paddingLeft)||0,w-=parseFloat(I.paddingTop)||0}l.minSize=Bt([An(p,h)||0,An(u,w)||0],x),l.maxSize=Bt([An(g,h)||1/0,An(C,w)||1/0],x)}var y=e.props.transformOrigin||"% %";l.transformOrigin=y&&Gt(y)?y.split(" "):y,l.isWidth=!c[0]&&!c[1]||c[0]||!c[1];function D(U){l.ratio=U&&isFinite(U)?U:0}function F(U){l.fixedDirection=U,l.fixedPosition=Ia(e,U)}D(v/B),F([-c[0],-c[1]]);var L=bt(e,t,{direction:c,set:function(U){var N=U[0],z=U[1];l.startWidth=N,l.startHeight=z},setMin:function(U){l.minSize=U},setMax:function(U){l.maxSize=[U[0]||1/0,U[1]||1/0]},setRatio:D,setFixedDirection:F,setOrigin:function(U){l.transformOrigin=U},dragStart:Kn.dragStart(e,new Zo().dragStart([0,0],t))}),k=lt(e,"onResizeStart",L);return k!==!1&&(l.isResize=!0,e.state.snapRenderInfo={request:t.isRequest,direction:c}),l.isResize?L:!1},dragControl:function(e,t){var n,r=t.datas,i=t.distX,a=t.distY,l=t.parentFlag,o=t.isPinch,c=t.parentDistance,s=t.parentScale,A=t.parentKeepRatio,v=t.dragClient,B=t.parentDist,x=t.isRequest,M=r.isResize,T=r.transformOrigin,p=r.fixedDirection,u=r.startWidth,g=r.startHeight,C=r.prevWidth,f=r.prevHeight,d=r.minSize,h=r.maxSize,w=r.ratio,I=r.isWidth,y=r.startOffsetWidth,D=r.startOffsetHeight;if(!!M){var F=e.props,L=F.throttleResize,k=L===void 0?0:L,U=F.parentMoveable,N=F.snapThreshold,z=N===void 0?5:N,H=r.direction,X=H,ne=0,ie=0;!H[0]&&!H[1]&&(X=[1,1]);var he=w&&(e.props.keepRatio||A),le=v;if(v||(!l&&o?le=Ia(e,[0,0]):le=r.fixedPosition),B)ne=B[0],ie=B[1],he&&(ne?ie||(ie=ne/w):ne=ie*w);else if(s)ne=(s[0]-1)*y,ie=(s[1]-1)*D;else if(o)c&&(ne=c,ie=c*D/y);else{var Ae=Nr({datas:r,distX:i,distY:a});if(ne=X[0]*Ae[0],ie=X[1]*Ae[1],he&&y&&D){var R=Zt([0,0],Ae),re=Zt([0,0],X),ee=Er([ne,ie]),oe=Math.cos(R-re)*ee;if(!X[0])ie=oe,ne=ie/w;else if(!X[1])ne=oe,ie=ne*w;else{var Z=X[0]*2*y,J=X[1]*2*D,q=Er([Z+Ae[0],J+Ae[1]])-Er([Z,J]),Y=Zt([0,0],[w,1]);ne=Math.cos(Y)*q,ie=Math.sin(Y)*q}}else if(!he){var te=Ft(H);y||(Ae[0]<0?te[0]=-1:Ae[0]>0&&(te[0]=1)),D||(Ae[1]<0?te[1]=-1:Ae[1]>0&&(te[1]=1)),H=te,X=te,ne=X[0]*Ae[0],ie=X[1]*Ae[1]}}var V=X[0]||he?Math.max(y+ne,bn):y,K=X[1]||he?Math.max(D+ie,bn):D;he&&y&&D&&(I?K=V/w:V=K*w);var $=[0,0];if(o||($=sS(e,V,K,H,le,x,r)),B&&(!B[0]&&($[0]=0),!B[1]&&($[1]=0)),he){X[0]&&X[1]&&$[0]&&$[1]&&(Math.abs($[0])>Math.abs($[1])?$[1]=0:$[0]=0);var se=!$[0]&&!$[1];se&&(I?V=gt(V,k):K=gt(K,k)),X[0]&&!X[1]||$[0]&&!$[1]||se&&I?(V+=$[0],K=V/w):(!X[0]&&X[1]||!$[0]&&$[1]||se&&!I)&&(K+=$[1],V=K*w)}else y+ne<-z&&($[0]=0),y+ie<-z&&($[1]=0),V+=$[0],K+=$[1],$[0]||(V=gt(V,k)),$[1]||(K=gt(K,k));n=zg([V,K],d,h,he),V=n[0],K=n[1],V=Math.round(V),K=Math.round(K),ne=V-y,ie=K-D;var pe=[ne-C,ie-f];r.prevWidth=ne,r.prevHeight=ie;var ue=L_(e,V,K,p,le,T);if(!(!U&&pe.every(function(we){return!we})&&ue.every(function(we){return!we}))){var ye=bt(e,t,{width:u+ne,height:g+ie,offsetWidth:V,offsetHeight:K,direction:H,dist:[ne,ie],delta:pe,isPinch:!!o,drag:Kn.drag(e,FA(t,e.state,ue,!!o,!1))});return lt(e,"onResize",ye),ye}}},dragControlAfter:function(e,t){var n=t.datas,r=n.isResize,i=n.startOffsetWidth,a=n.startOffsetHeight,l=n.prevWidth,o=n.prevHeight;if(!!r){var c=e.state,s=c.width,A=c.height,v=s-(i+l),B=A-(a+o),x=Math.abs(v)>3,M=Math.abs(B)>3;if(x&&(n.startWidth+=v,n.startOffsetWidth+=v,n.prevWidth+=v),M&&(n.startHeight+=B,n.startOffsetHeight+=B,n.prevHeight+=B),x||M)return this.dragControl(e,t),!0}},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;if(!n.isResize)return!1;n.isResize=!1;var i=rr(e,t,{});return lt(e,"onResizeEnd",i),r},dragGroupControlCondition:Ko,dragGroupControlStart:function(e,t){var n=t.datas,r=this.dragControlStart(e,t);if(!r)return!1;var i=Sa(e,"resizable",t);function a(s,A){var v=n.fixedDirection,B=n.fixedPosition,x=Ia(s,v),M=Qn(ma(-e.rotation/180*Math.PI,3),[x[0]-B[0],x[1]-B[1],1],3),T=M[0],p=M[1];return A.datas.originalX=T,A.datas.originalY=p,A}var l=qr(e,this,"dragControlStart",t,function(s,A){return a(s,A)}),o=Ne(Ne({},r),{targets:e.props.targets,events:l,setFixedDirection:function(s){r.setFixedDirection(s),l.forEach(function(A,v){A.setFixedDirection(s),a(e.moveables[v],i[v])})}}),c=lt(e,"onResizeGroupStart",o);return n.isResize=c!==!1,n.isResize?r:!1},dragGroupControl:function(e,t){var n=t.datas;if(!!n.isResize){var r=this.dragControl(e,t);if(!!r){var i=r.offsetWidth,a=r.offsetHeight,l=r.dist,o=e.props.keepRatio,c=[i/(i-l[0]),a/(a-l[1])],s=n.fixedPosition,A=qr(e,this,"dragControl",t,function(B,x){var M=Qn(ma(e.rotation/180*Math.PI,3),[x.datas.originalX*c[0],x.datas.originalY*c[1],1],3),T=M[0],p=M[1];return Ne(Ne({},x),{parentDist:null,parentScale:c,dragClient:Bt(s,[T,p]),parentKeepRatio:o})}),v=Ne({targets:e.props.targets,events:A},r);return lt(e,"onResizeGroup",v),v}}},dragGroupControlEnd:function(e,t){var n=t.isDrag,r=t.datas;if(!!r.isResize){this.dragControlEnd(e,t),qr(e,this,"dragControlEnd",t);var i=rr(e,t,{targets:e.props.targets});return lt(e,"onResizeGroupEnd",i),n}},request:function(e){var t={},n=0,r=0,i=e.getRect();return{isControl:!0,requestStart:function(a){return{datas:t,parentDirection:a.direction||[1,1]}},request:function(a){return"offsetWidth"in a?n=a.offsetWidth-i.offsetWidth:"deltaWidth"in a&&(n+=a.deltaWidth),"offsetHeight"in a?r=a.offsetHeight-i.offsetHeight:"deltaHeight"in a&&(r+=a.deltaHeight),{datas:t,parentDist:[n,r]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},yS={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(e,t){var n=e.props,r=n.resizable,i=n.scalable,a=n.edge;if(!r&&i)return a?_v(e,t):Sf(e,t)},dragControlCondition:Ko,dragControlStart:function(e,t){var n=t.datas,r=t.isPinch,i=t.inputEvent,a=t.parentDirection,l=a||(r?[0,0]:uf(i.target)),o=e.state,c=o.width,s=o.height,A=o.targetTransform,v=o.target,B=o.pos1,x=o.pos2,M=o.pos4;if(!l||!v)return!1;r||Xi(e,t),n.datas={},n.transform=A,n.prevDist=[1,1],n.direction=l,n.width=c,n.height=s,n.startValue=[1,1];var T=Lr(B,x),p=Lr(x,M),u=!l[0]&&!l[1]||l[0]||!l[1];n.scaleWidth=T,n.scaleHeight=p,n.scaleXRatio=T/c,n.scaleYRatio=p/s,NA(t,"scale"),n.isWidth=u;function g(h){n.ratio=h&&isFinite(h)?h:0}function C(h){n.fixedDirection=h,n.fixedPosition=Ia(e,h)}g(Lr(B,x)/Lr(x,M)),C([-l[0],-l[1]]);var f=bt(e,t,Ne(Ne({direction:l,set:function(h){n.startValue=h},setRatio:g,setFixedDirection:C},PA(t)),{dragStart:Kn.dragStart(e,new Zo().dragStart([0,0],t))})),d=lt(e,"onScaleStart",f);return d!==!1&&(n.isScale=!0,e.state.snapRenderInfo={request:t.isRequest,direction:l}),n.isScale?f:!1},dragControl:function(e,t){kA(t,"scale");var n=t.datas,r=t.distX,i=t.distY,a=t.parentScale,l=t.parentDistance,o=t.parentKeepRatio,c=t.parentFlag,s=t.isPinch,A=t.dragClient,v=t.parentDist,B=t.isRequest,x=n.prevDist,M=n.direction,T=n.width,p=n.height,u=n.isScale,g=n.startValue,C=n.isWidth,f=n.ratio,d=n.fixedDirection,h=n.scaleXRatio,w=n.scaleYRatio;if(!u)return!1;var I=e.props,y=I.throttleScale,D=I.parentMoveable,F=M;!M[0]&&!M[1]&&(F=[1,1]);var L=f&&(e.props.keepRatio||o),k=e.state,U=1,N=1,z=A;if(A||(!c&&s?z=Ia(e,[0,0]):z=n.fixedPosition),v)U=(T+v[0])/T,N=(p+v[1])/p;else if(a)U=a[0],N=a[1];else if(s)l&&(U=(T+l)/T,N=(p+l*p/T)/p);else{var H=Nr({datas:n,distX:r,distY:i}),X=F[0]*H[0]*h,ne=F[1]*H[1]*w;if(L&&T&&p)if(!F[0])X=ne*f;else if(!F[1])ne=X/f;else{var ie=Er([X,ne]),he=Zt([0,0],H),le=Zt([0,0],F),Ae=Math.cos(he-le)*ie,R=Zt([0,0],[f,1]);X=Math.cos(R)*Ae,ne=Math.sin(R)*Ae}U=(T+X/h)/T,N=(p+ne/w)/p}U=F[0]||L?U*g[0]:g[0],N=F[1]||L?N*g[1]:g[1],U===0&&(U=(x[0]>0?1:-1)*_A),N===0&&(N=(x[1]>0?1:-1)*_A);var re=[U/g[0],N/g[1]],ee=[U,N];if(!s&&e.props.groupable){var oe=k.snapRenderInfo||{},Z=oe.direction;Bn(Z)&&(Z[0]||Z[1])&&(k.snapRenderInfo={direction:M,request:t.isRequest})}var J=[0,0];if(s||(J=AS(e,re,M,B,n)),L){F[0]&&F[1]&&J[0]&&J[1]&&(Math.abs(J[0]*T)>Math.abs(J[1]*p)?J[1]=0:J[0]=0);var q=!J[0]&&!J[1];if(q&&(C?re[0]=gt(re[0]*g[0],y)/g[0]:re[1]=gt(re[1]*g[1],y)/g[1]),F[0]&&!F[1]||J[0]&&!J[1]||q&&C){re[0]+=J[0];var Y=T*re[0]*g[0]/f;re[1]=Y/p/g[1]}else if(!F[0]&&F[1]||!J[0]&&J[1]||q&&!C){re[1]+=J[1];var te=p*re[1]*g[1]*f;re[0]=te/T/g[0]}}else re[0]+=J[0],re[1]+=J[1],J[0]||(re[0]=gt(re[0]*g[0],y)/g[0]),J[1]||(re[1]=gt(re[1]*g[1],y)/g[1]);re[0]===0&&(re[0]=(x[0]>0?1:-1)*_A),re[1]===0&&(re[1]=(x[1]>0?1:-1)*_A);var V=[re[0]/x[0],re[1]/x[1]];ee=i_(re,g);var K=k_(e,re,d,z,n),$=mt(K,n.prevInverseDist||[0,0]);if(n.prevDist=re,n.prevInverseDist=K,U===x[0]&&N===x[1]&&$.every(function(ue){return!ue})&&!D)return!1;var se=UA(n,"scale("+ee.join(", ")+")","scale("+re.join(", ")+")"),pe=bt(e,t,Ne({offsetWidth:T,offsetHeight:p,direction:M,scale:ee,dist:re,delta:V,isPinch:!!s},Wp(e,se,$,s,t)));return lt(e,"onScale",pe),pe},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;return n.isScale?(n.isScale=!1,lt(e,"onScaleEnd",rr(e,t,{})),r):!1},dragGroupControlCondition:Ko,dragGroupControlStart:function(e,t){var n=t.datas,r=this.dragControlStart(e,t);if(!r)return!1;var i=Sa(e,"resizable",t);function a(s,A){var v=n.fixedDirection,B=n.fixedPosition,x=Ia(s,v),M=Qn(ma(-e.rotation/180*Math.PI,3),[x[0]-B[0],x[1]-B[1],1],3),T=M[0],p=M[1];return A.datas.originalX=T,A.datas.originalY=p,A}n.moveableScale=e.scale;var l=qr(e,this,"dragControlStart",t,function(s,A){return a(s,A)}),o=Ne(Ne({},r),{targets:e.props.targets,events:l,setFixedDirection:function(s){r.setFixedDirection(s),l.forEach(function(A,v){A.setFixedDirection(s),a(e.moveables[v],i[v])})}}),c=lt(e,"onScaleGroupStart",o);return n.isScale=c!==!1,n.isScale?o:!1},dragGroupControl:function(e,t){var n=t.datas;if(!!n.isScale){var r=this.dragControl(e,t);if(!!r){var i=n.moveableScale;e.scale=[r.scale[0]*i[0],r.scale[1]*i[1]];var a=e.props.keepRatio,l=r.dist,o=r.scale,c=n.fixedPosition,s=qr(e,this,"dragControl",t,function(v,B){var x=Qn(ma(e.rotation/180*Math.PI,3),[B.datas.originalX*l[0],B.datas.originalY*l[1],1],3),M=x[0],T=x[1];return Ne(Ne({},B),{parentDist:null,parentScale:o,parentKeepRatio:a,dragClient:Bt(c,[M,T])})}),A=Ne({targets:e.props.targets,events:s},r);return lt(e,"onScaleGroup",A),A}}},dragGroupControlEnd:function(e,t){var n=t.isDrag,r=t.datas;if(!!r.isScale){this.dragControlEnd(e,t),qr(e,this,"dragControlEnd",t);var i=rr(e,t,{targets:e.props.targets});return lt(e,"onScaleGroupEnd",i),n}},request:function(){var e={},t=0,n=0;return{isControl:!0,requestStart:function(r){return{datas:e,parentDirection:r.direction||[1,1]}},request:function(r){return t+=r.deltaWidth,n+=r.deltaHeight,{datas:e,parentDist:[t,n]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function vi(e,t){return e.map(function(n,r){return Bu(n,t[r],1,2)})}function Sv(e,t,n){var r=Zt(e,t),i=Zt(e,n),a=i-r;return a>=0?a:a+2*Math.PI}function CS(e,t){var n=Sv(e[0],e[1],e[2]),r=Sv(t[0],t[1],t[2]),i=Math.PI;return!(n>=i&&r<=i||n<=i&&r>=i)}var wS={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(e,t){var n=e.props,r=n.resizable,i=n.scalable,a=n.warpable,l=n.zoom;if(r||i||!a)return[];var o=e.state,c=o.pos1,s=o.pos2,A=o.pos3,v=o.pos4,B=vi(c,s),x=vi(s,c),M=vi(c,A),T=vi(A,c),p=vi(A,v),u=vi(v,A),g=vi(s,v),C=vi(v,s);return Ft([t.createElement("div",{className:pt("line"),key:"middeLine1",style:Xo(B,p,l)}),t.createElement("div",{className:pt("line"),key:"middeLine2",style:Xo(x,u,l)}),t.createElement("div",{className:pt("line"),key:"middeLine3",style:Xo(M,g,l)}),t.createElement("div",{className:pt("line"),key:"middeLine4",style:Xo(T,C,l)})],Sf(e,t))},dragControlCondition:function(e,t){return t.isRequest?!1:Wn(t.inputEvent.target,pt("direction"))},dragControlStart:function(e,t){var n=t.datas,r=t.inputEvent,i=e.props.target,a=r.target,l=uf(a);if(!l||!i)return!1;var o=e.state,c=o.transformOrigin,s=o.is3d,A=o.targetTransform,v=o.targetMatrix,B=o.width,x=o.height,M=o.left,T=o.top;n.datas={},n.targetTransform=A,n.warpTargetMatrix=s?v:di(v,3,4),n.targetInverseMatrix=cp(br(n.warpTargetMatrix,4),3,4),n.direction=l,n.left=M,n.top=T,n.poses=[[0,0],[B,0],[0,x],[B,x]].map(function(g){return mt(g,c)}),n.nextPoses=n.poses.map(function(g){var C=g[0],f=g[1];return Qn(n.warpTargetMatrix,[C,f,0,1],4)}),n.startValue=hn(4),n.prevMatrix=hn(4),n.absolutePoses=Pr(o),n.posIndexes=zp(l),Xi(e,t),NA(t,"matrix3d"),o.snapRenderInfo={request:t.isRequest,direction:l};var p=bt(e,t,Ne({set:function(g){n.startValue=g}},PA(t))),u=lt(e,"onWarpStart",p);return u!==!1&&(n.isWarp=!0),n.isWarp},dragControl:function(e,t){var n=t.datas,r=t.isRequest,i=t.distX,a=t.distY,l=n.targetInverseMatrix,o=n.prevMatrix,c=n.isWarp,s=n.startValue,A=n.poses,v=n.posIndexes,B=n.absolutePoses;if(!c)return!1;if(kA(t,"matrix3d"),xa(e,"warpable")){var x=v.map(function(y){return B[y]});x.length>1&&x.push([(x[0][0]+x[1][0])/2,(x[0][1]+x[1][1])/2]);var M=GA(e,r,x.map(function(y){return[y[0]+i,y[1]+a]})),T=M.horizontal,p=M.vertical;a-=T.offset,i-=p.offset}var u=Nr({datas:n,distX:i,distY:a},!0),g=n.nextPoses.slice();if(v.forEach(function(y){g[y]=Bt(g[y],u)}),!t_.every(function(y){return CS(y.map(function(D){return A[D]}),y.map(function(D){return g[D]}))}))return!1;var C=Qu(A[0],A[2],A[1],A[3],g[0],g[2],g[1],g[3]);if(!C.length)return!1;var f=$t(l,C,4),d=Hp(n,f,!0),h=$t(br(o,4),d,4);n.prevMatrix=d;var w=$t(s,d,4),I=UA(n,"matrix3d("+w.join(", ")+")","matrix3d("+d.join(", ")+")");return Gp(t,I),lt(e,"onWarp",bt(e,t,{delta:h,matrix:w,dist:d,multiply:$t,transform:I})),!0},dragControlEnd:function(e,t){var n=t.datas,r=t.isDrag;return n.isWarp?(n.isWarp=!1,lt(e,"onWarpEnd",rr(e,t,{})),r):!1}},BS=pt("area-pieces"),YA=pt("area-piece"),Iv=pt("avoid");function Tf(e){var t=e.areaElement,n=e.state,r=n.width,i=n.height;va(t,Iv),t.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+i+"px"}function xv(e){return e.createElement("div",{key:"area_pieces",className:BS},e.createElement("div",{className:YA}),e.createElement("div",{className:YA}),e.createElement("div",{className:YA}),e.createElement("div",{className:YA}))}var Mv={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(e,t){var n=e.props,r=n.target,i=n.dragArea,a=n.groupable,l=n.passDragArea,o=e.state,c=o.width,s=o.height,A=o.renderPoses,v=l?pt("area","pass"):pt("area");if(a)return[t.createElement("div",{key:"area",ref:wn(e,"areaElement"),className:v}),xv(t)];if(!r||!i)return[];var B=Qu([0,0],[c,0],[0,s],[c,s],A[0],A[1],A[2],A[3]),x=B.length?IA(B,!0):"none";return[t.createElement("div",{key:"area",ref:wn(e,"areaElement"),className:v,style:{top:"0px",left:"0px",width:c+"px",height:s+"px",transformOrigin:"0 0",transform:x}}),xv(t)]},dragStart:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.inputEvent;if(!a)return!1;n.isDragArea=!1;var l=e.areaElement,o=e.state,c=o.moveableClientRect,s=o.renderPoses,A=o.rootMatrix,v=o.is3d,B=c.left,x=c.top,M=ur(s),T=M.left,p=M.top,u=M.width,g=M.height,C=v?4:3,f=Yi(A,[r-B,i-x],C),d=f[0],h=f[1];d-=T,h-=p;var w=[{left:T,top:p,width:u,height:h-10},{left:T,top:p,width:d-10,height:g},{left:T,top:p+h+10,width:u,height:g-h-10},{left:T+d+10,top:p,width:u-d-10,height:g}],I=[].slice.call(l.nextElementSibling.children);w.forEach(function(y,D){I[D].style.cssText="left: "+y.left+"px;top: "+y.top+"px; width: "+y.width+"px; height: "+y.height+"px;"}),To(l,Iv),o.disableNativeEvent=!0},drag:function(e,t){var n=t.datas,r=t.inputEvent;if(this.enableNativeEvent(e),!r)return!1;n.isDragArea||(n.isDragArea=!0,Tf(e))},dragEnd:function(e,t){this.enableNativeEvent(e);var n=t.inputEvent,r=t.datas;if(!n)return!1;r.isDragArea||Tf(e)},dragGroupStart:function(e,t){return this.dragStart(e,t)},dragGroup:function(e,t){return this.drag(e,t)},dragGroupEnd:function(e,t){return this.dragEnd(e,t)},unset:function(e){Tf(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var t=e.state;t.disableNativeEvent&&requestAnimationFrame(function(){t.disableNativeEvent=!1})}},bS=Vo("origin",{render:function(e,t){var n=e.props.zoom,r=e.state,i=r.beforeOrigin,a=r.rotation;return[t.createElement("div",{className:pt("control","origin"),style:Up(a,n,i),key:"beforeOrigin"})]}});function ES(e){var t=e.scrollContainer;return[t.scrollLeft,t.scrollTop]}var _S={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(e,t){var n=e.props,r=n.scrollContainer,i=r===void 0?e.getContainer():r,a=new yp,l=OA(i,!0);t.datas.dragScroll=a;var o=t.isControl?"controlGesto":"targetGesto",c=t.targets;a.on("scroll",function(s){var A=s.container,v=s.direction,B=bt(e,t,{scrollContainer:A,direction:v}),x=c?"onScrollGroup":"onScroll";c&&(B.targets=c),lt(e,x,B)}).on("move",function(s){var A=s.offsetX,v=s.offsetY;e[o].scrollBy(A,v,t.inputEvent,!1)}),a.dragStart(t,{container:l})},checkScroll:function(e,t){var n=t.datas.dragScroll;if(!!n){var r=e.props,i=r.scrollContainer,a=i===void 0?e.getContainer():i,l=r.scrollThreshold,o=l===void 0?0:l,c=r.getScrollPosition,s=c===void 0?ES:c;return n.drag(t,{container:a,threshold:o,getScrollPosition:function(A){return s({scrollContainer:A.container,direction:A.direction})}}),!0}},drag:function(e,t){return this.checkScroll(e,t)},dragEnd:function(e,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(e,t){return this.dragStart(e,Ne(Ne({},t),{isControl:!0}))},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupStart:function(e,t){return this.dragStart(e,Ne(Ne({},t),{targets:e.props.targets}))},dragGroup:function(e,t){return this.drag(e,Ne(Ne({},t),{targets:e.props.targets}))},dragGroupEnd:function(e,t){return this.dragEnd(e,Ne(Ne({},t),{targets:e.props.targets}))},dragGroupControlStart:function(e,t){return this.dragStart(e,Ne(Ne({},t),{targets:e.props.targets,isControl:!0}))},dragGroupContro:function(e,t){return this.drag(e,Ne(Ne({},t),{targets:e.props.targets}))},dragGroupControEnd:function(e,t){return this.dragEnd(e,Ne(Ne({},t),{targets:e.props.targets}))}},Dv={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,props:Object},events:{}},SS=Vo("padding",{render:function(e,t){var n=e.props;if(n.dragArea)return[];var r=n.padding||{},i=r.left,a=i===void 0?0:i,l=r.top,o=l===void 0?0:l,c=r.right,s=c===void 0?0:c,A=r.bottom,v=A===void 0?0:A,B=e.state,x=B.renderPoses,M=B.pos1,T=B.pos2,p=B.pos3,u=B.pos4,g=[M,T,p,u],C=[];return a>0&&C.push([0,2]),o>0&&C.push([0,1]),s>0&&C.push([1,3]),v>0&&C.push([2,3]),C.map(function(f,d){var h=f[0],w=f[1],I=g[h],y=g[w],D=x[h],F=x[w],L=Qu([0,0],[100,0],[0,100],[100,100],I,y,D,F);if(!!L.length)return t.createElement("div",{key:"padding"+d,className:pt("padding"),style:{transform:IA(L,!0)}})})}}),Tv=["nw","ne","se","sw"];function XA(e,t){var n=e[0]+e[1],r=n>t?t/n:1;return e[0]*=r,e[1]=t-e[1]*r,e}var IS=[1,2,5,6],xS=[0,3,4,7],Ki=[1,-1,-1,1],Zi=[1,1,-1,-1];function Of(e,t,n,r,i,a,l,o,c){a===void 0&&(a=0),l===void 0&&(l=0),o===void 0&&(o=r),c===void 0&&(c=i);var s=[],A=!1,v=e.map(function(B,x){var M=t[x],T=M.horizontal,p=M.vertical;if(p&&!A&&(A=!0,s.push("/")),A){var u=Math.max(0,p===1?B[1]-l:c-B[1]);return s.push(_r(u,i,n)),u}else{var u=Math.max(0,T===1?B[0]-a:o-B[0]);return s.push(_r(u,r,n)),u}});return{styles:s,raws:v}}function Ov(e){for(var t=[0,0],n=[0,0],r=e.length,i=0;i<r;++i){var a=e[i];!a.sub||(a.horizontal&&(t[1]===0&&(t[0]=i),t[1]=i-t[0]+1,n[0]=i+1),a.vertical&&(n[1]===0&&(n[0]=i),n[1]=i-n[0]+1))}return{horizontalRange:t,verticalRange:n}}function Fv(e,t,n,r,i,a){var l,o,c,s;a===void 0&&(a=[0,0]);var A=e.indexOf("/"),v=(A>-1?e.slice(0,A):e).length,B=e.slice(0,v),x=e.slice(v+1),M=B[0],T=M===void 0?"0px":M,p=B[1],u=p===void 0?T:p,g=B[2],C=g===void 0?T:g,f=B[3],d=f===void 0?u:f,h=x[0],w=h===void 0?T:h,I=x[1],y=I===void 0?w:I,D=x[2],F=D===void 0?w:D,L=x[3],k=L===void 0?y:L,U=[T,u,C,d].map(function(ie){return An(ie,t)}),N=[w,y,F,k].map(function(ie){return An(ie,n)}),z=U.slice(),H=N.slice();l=XA([z[0],z[1]],t),z[0]=l[0],z[1]=l[1],o=XA([z[3],z[2]],t),z[3]=o[0],z[2]=o[1],c=XA([H[0],H[3]],n),H[0]=c[0],H[3]=c[1],s=XA([H[1],H[2]],n),H[1]=s[0],H[2]=s[1];var X=z.slice(0,Math.max(a[0],B.length)),ne=H.slice(0,Math.max(a[1],x.length));return Ft(X.map(function(ie,he){var le=Tv[he];return{horizontal:Ki[he],vertical:0,pos:[r+ie,i+(Zi[he]===-1?n:0)],sub:!0,raw:U[he],direction:le}}),ne.map(function(ie,he){var le=Tv[he];return{horizontal:0,vertical:Zi[he],pos:[r+(Ki[he]===-1?t:0),i+ie],sub:!0,raw:N[he],direction:le}}))}function kv(e,t,n,r,i){i===void 0&&(i=t.length);var a=Ov(e.slice(r)),l=a.horizontalRange,o=a.verticalRange,c=n-r,s=0;if(c===0)s=i;else if(c>0&&c<l[1])s=l[1]-c;else if(c>=o[0])s=o[0]+o[1]-c;else return;e.splice(n,s),t.splice(n,s)}function Uv(e,t,n,r,i,a,l,o,c,s,A){s===void 0&&(s=0),A===void 0&&(A=0);var v=Ov(e.slice(n)),B=v.horizontalRange,x=v.verticalRange;if(r>-1)for(var M=Ki[r]===1?a-s:o-a,T=B[1];T<=r;++T){var p=Zi[T]===1?A:c,u=0;if(r===T?u=a:T===0?u=s+M:Ki[T]===-1&&(u=o-(t[n][0]-s)),e.splice(n+T,0,{horizontal:Ki[T],vertical:0,pos:[u,p]}),t.splice(n+T,0,[u,p]),T===0)break}else if(i>-1){var g=Zi[i]===1?l-A:c-l;if(B[1]===0&&x[1]===0){var C=[s+g,A];e.push({horizontal:Ki[0],vertical:0,pos:C}),t.push(C)}for(var f=x[0],T=x[1];T<=i;++T){var u=Ki[T]===1?s:o,p=0;if(i===T?p=l:T===0?p=A+g:Zi[T]===1?p=t[n+f][1]:Zi[T]===-1&&(p=c-(t[n+f][1]-A)),e.push({horizontal:0,vertical:Zi[T],pos:[u,p]}),t.push([u,p]),T===0)break}}}function Lv(e,t){t===void 0&&(t=e.map(function(i){return i.raw}));var n=e.map(function(i,a){return i.horizontal?t[a]:null}).filter(function(i){return i!=null}),r=e.map(function(i,a){return i.vertical?t[a]:null}).filter(function(i){return i!=null});return{horizontals:n,verticals:r}}var MS=[[0,-1,"n"],[1,0,"e"]],DS=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Ff(e,t,n){var r=e.props.clipRelative,i=e.state,a=i.width,l=i.height,o=t,c=o.type,s=o.poses,A=c==="rect",v=c==="circle";if(c==="polygon")return n.map(function(h){return _r(h[0],a,r)+" "+_r(h[1],l,r)});if(A||c==="inset"){var B=n[1][1],x=n[3][0],M=n[7][0],T=n[5][1];if(A)return[B,x,T,M].map(function(h){return h+"px"});var p=[B,a-x,l-T,M].map(function(h,w){return _r(h,w%2?a:l,r)});if(n.length>8){var u=mt(n[4],n[0]),g=u[0],C=u[1];p.push.apply(p,Ft(["round"],Of(n.slice(8),s.slice(8),r,g,C,M,B,x,T).styles))}return p}else if(v||c==="ellipse"){var f=n[0],d=_r(Math.abs(n[1][1]-f[1]),v?Math.sqrt((a*a+l*l)/2):l,r),p=v?[d]:[_r(Math.abs(n[2][0]-f[0]),a,r),d];return p.push("at",_r(f[0],a,r),_r(f[1],l,r)),p}}function Pv(e,t,n,r){var i=[r,(r+t)/2,t],a=[e,(e+n)/2,n];return DS.map(function(l){var o=l[0],c=l[1],s=l[2],A=i[o+1],v=a[c+1];return{vertical:Math.abs(c),horizontal:Math.abs(o),direction:s,pos:[A,v]}})}function Nv(e,t,n,r,i){var a,l,o,c,s,A,v,B=i;if(!B){var x=Xn(e),M=x.clipPath;B=M!=="none"?M:x.clip}if(!((!B||B==="none"||B==="auto")&&(B=r,!B))){var T=So(B),p=T.prefix,u=p===void 0?B:p,g=T.value,C=g===void 0?"":g,f=u==="circle",d=" ";if(u==="polygon"){var h=cr(C||"0% 0%, 100% 0%, 100% 100%, 0% 100%");d=",";var w=h.map(function(pe){var ue=pe.split(" "),ye=ue[0],we=ue[1];return{vertical:1,horizontal:1,pos:[An(ye,t),An(we,n)]}});return{type:u,clipText:B,poses:w,splitter:d}}else if(f||u==="ellipse"){var I="",y="",D=0,F=0,h=Jr(C);if(f){var L="";a=h[0],L=a===void 0?"50%":a,l=h[2],I=l===void 0?"50%":l,o=h[3],y=o===void 0?"50%":o,D=An(L,Math.sqrt((t*t+n*n)/2)),F=D}else{var k="",U="";c=h[0],k=c===void 0?"50%":c,s=h[1],U=s===void 0?"50%":s,A=h[3],I=A===void 0?"50%":A,v=h[4],y=v===void 0?"50%":v,D=An(k,t),F=An(U,n)}var N=[An(I,t),An(y,n)],w=Ft([{vertical:1,horizontal:1,pos:N,direction:"nesw"}],MS.slice(0,f?1:2).map(function(ye){return{vertical:Math.abs(ye[1]),horizontal:ye[0],direction:ye[2],sub:!0,pos:[N[0]+ye[0]*D,N[1]+ye[1]*F]}}));return{type:u,clipText:B,radiusX:D,radiusY:F,left:N[0]-D,top:N[1]-F,poses:w,splitter:d}}else if(u==="inset"){var h=Jr(C||"0 0 0 0"),z=h.indexOf("round"),H=(z>-1?h.slice(0,z):h).length,X=h.slice(H+1),ne=h.slice(0,H),ie=ne[0],he=ne[1],le=he===void 0?ie:he,Ae=ne[2],R=Ae===void 0?ie:Ae,re=ne[3],ee=re===void 0?le:re,oe=[ie,R].map(function(ye){return An(ye,n)}),Z=oe[0],J=oe[1],q=[ee,le].map(function(ye){return An(ye,t)}),Y=q[0],te=q[1],V=t-te,K=n-J,$=Fv(X,V-Y,K-Z,Y,Z),w=Ft(Pv(Z,V,K,Y),$);return{type:"inset",clipText:B,poses:w,top:Z,left:Y,right:V,bottom:K,radius:X,splitter:d}}else if(u==="rect"){var h=cr(C||"0px, "+t+"px, "+n+"px, 0px");d=",";var se=h.map(function(fe){var de=Ur(fe).value;return de}),Z=se[0],te=se[1],J=se[2],Y=se[3],w=Pv(Z,te,J,Y);return{type:"rect",clipText:B,poses:w,top:Z,right:te,bottom:J,left:Y,values:h,splitter:d}}}}function TS(e,t){var n=Qp(e,t),r=n[0],i=n[1],a=t.datas,l=a.clipPath,o=a.index,c=l,s=c.type,A=c.poses,v=c.splitter,B=A.map(function(u){return u.pos});if(s==="polygon")B.splice(o,0,[r,i]);else if(s==="inset"){var x=IS.indexOf(o),M=xS.indexOf(o),T=A.length;if(Uv(A,B,8,x,M,r,i,B[4][0],B[4][1],B[0][0],B[0][1]),T===A.length)return}else return;var p=Ff(e,l,B);lt(e,"onClip",bt(e,t,{clipEventType:"added",clipType:s,poses:B,clipStyles:p,clipStyle:s+"("+p.join(v)+")",distX:0,distY:0}))}function OS(e,t){var n=t.datas,r=n.clipPath,i=n.index,a=r,l=a.type,o=a.poses,c=a.splitter,s=o.map(function(B){return B.pos}),A=s.length;if(l==="polygon")o.splice(i,1),s.splice(i,1);else if(l==="inset"){if(i<8||(kv(o,s,i,8,A),A===o.length))return}else return;var v=Ff(e,r,s);lt(e,"onClip",bt(e,t,{clipEventType:"removed",clipType:l,poses:s,clipStyles:v,clipStyle:l+"("+v.join(c)+")",distX:0,distY:0}))}var FS={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(e,t){var n=e.props,r=n.customClipPath,i=n.defaultClipPath,a=n.clipArea,l=n.zoom,o=e.state,c=o.target,s=o.width,A=o.height,v=o.allMatrix,B=o.is3d,x=o.left,M=o.top,T=o.pos1,p=o.pos2,u=o.pos3,g=o.pos4,C=o.clipPathState,f=o.snapBoundInfos;if(!c)return[];var d=Nv(c,s,A,i||"inset",C||r);if(!d)return[];var h=B?4:3,w=d.type,I=d.poses,y=I.map(function(V){var K=In(v,V.pos,h);return[K[0]-x,K[1]-M]}),D=[],F=[],L=w==="rect",k=w==="inset",U=w==="polygon";if(L||k||U){var N=k?y.slice(0,8):y;F=N.map(function(V,K){var $=K===0?N[N.length-1]:N[K-1],se=Zt($,V),pe=kp($,V);return t.createElement("div",{key:"clipLine"+K,className:pt("line","clip-line","snap-control"),"data-clip-index":K,style:{width:pe+"px",transform:"translate("+$[0]+"px, "+$[1]+"px) rotate("+se+"rad) scaleY("+l+")"}})})}if(D=y.map(function(V,K){return t.createElement("div",{key:"clipControl"+K,className:pt("control","clip-control","snap-control"),"data-clip-index":K,style:{transform:"translate("+V[0]+"px, "+V[1]+"px) scale("+l+")"}})}),k&&D.push.apply(D,y.slice(8).map(function(V,K){return t.createElement("div",{key:"clipRadiusControl"+K,className:pt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+K,style:{transform:"translate("+V[0]+"px, "+V[1]+"px) scale("+l+")"}})})),w==="circle"||w==="ellipse"){var z=d.left,H=d.top,X=d.radiusX,ne=d.radiusY,ie=mt(In(v,[z,H],h),In(v,[0,0],h)),he=ie[0],le=ie[1],Ae="none";if(!a){for(var R=Math.max(10,X/5,ne/5),re=[],ee=0;ee<=R;++ee){var oe=Math.PI*2/R*ee;re.push([X+(X-l)*Math.cos(oe),ne+(ne-l)*Math.sin(oe)])}re.push([X,-2]),re.push([-2,-2]),re.push([-2,ne*2+2]),re.push([X*2+2,ne*2+2]),re.push([X*2+2,-2]),re.push([X,-2]),Ae="polygon("+re.map(function(V){return V[0]+"px "+V[1]+"px"}).join(", ")+")"}D.push(t.createElement("div",{key:"clipEllipse",className:pt("clip-ellipse","snap-control"),style:{width:X*2+"px",height:ne*2+"px",clipPath:Ae,transform:"translate("+(-x+he)+"px, "+(-M+le)+"px) "+IA(v)}}))}if(a){var Z=ur(Ft([T,p,u,g],y)),J=Z.width,q=Z.height,Y=Z.left,te=Z.top;if(U||L||k){var re=k?y.slice(0,8):y;D.push(t.createElement("div",{key:"clipArea",className:pt("clip-area","snap-control"),style:{width:J+"px",height:q+"px",transform:"translate("+Y+"px, "+te+"px)",clipPath:"polygon("+re.map(function(K){return K[0]-Y+"px "+(K[1]-te)+"px"}).join(", ")+")"}}))}}return f&&["vertical","horizontal"].forEach(function(V){var K=f[V],$=V==="horizontal";K.isSnap&&F.push.apply(F,K.snap.posInfos.map(function(se,pe){var ue=se.pos,ye=mt(In(v,$?[0,ue]:[ue,0],h),[x,M]),we=mt(In(v,$?[s,ue]:[ue,A],h),[x,M]);return Ma(t,"",ye,we,l,"clip"+V+"snap"+pe,"guideline")})),K.isBound&&F.push.apply(F,K.bounds.map(function(se,pe){var ue=se.pos,ye=mt(In(v,$?[0,ue]:[ue,0],h),[x,M]),we=mt(In(v,$?[s,ue]:[ue,A],h),[x,M]);return Ma(t,"",ye,we,l,"clip"+V+"bounds"+pe,"guideline","bounds","bold")}))}),Ft(D,F)},dragControlCondition:function(e,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,t){var n=e.props,r=n.dragWithClip,i=r===void 0?!0:r;return i?!1:this.dragControlStart(e,t)},drag:function(e,t){return this.dragControl(e,t)},dragEnd:function(e,t){return this.dragControlEnd(e,t)},dragControlStart:function(e,t){var n=e.state,r=e.props,i=r.defaultClipPath,a=r.customClipPath,l=n.target,o=n.width,c=n.height,s=t.inputEvent?t.inputEvent.target:null,A=s?s.getAttribute("class"):"",v=t.datas,B=Nv(l,o,c,i||"inset",a);if(!B)return!1;var x=B.clipText,M=B.type,T=B.poses,p=lt(e,"onClipStart",bt(e,t,{clipType:M,clipStyle:x,poses:T.map(function(u){return u.pos})}));return p===!1?(v.isClipStart=!1,!1):(v.isControl=A.indexOf("clip-control")>-1,v.isLine=A.indexOf("clip-line")>-1,v.isArea=A.indexOf("clip-area")>-1||A.indexOf("clip-ellipse")>-1,v.index=s?parseInt(s.getAttribute("data-clip-index"),10):-1,v.clipPath=B,v.isClipStart=!0,n.clipPathState=x,Xi(e,t),!0)},dragControl:function(e,t){var n=t.datas,r=t.originalDatas;if(!n.isClipStart)return!1;var i=r&&r.draggable||{},a=n,l=a.isControl,o=a.isLine,c=a.isArea,s=a.index,A=a.clipPath;if(!A)return!1;var v=i.isDrag?i.prevDist:Nr(t),B=v[0],x=v[1],M=e.props,T=e.state,p=T.width,u=T.height,g=!c&&!l&&!o,C=A.type,f=A.poses,d=A.splitter,h=f.map(function(K){return K.pos});g&&(B=-B,x=-x);var w=!l||f[s].direction==="nesw",I=C==="inset"||C==="rect",y=f.map(function(){return[0,0]});if(l&&!w){var D=f[s],F=D.horizontal,L=D.vertical,k=[B*Math.abs(F),x*Math.abs(L)];y=y_(f,s,k,I)}else w&&(y=h.map(function(){return[B,x]}));var U=h.map(function(K,$){return Bt(K,y[$])}),N=Ft(U);T.snapBoundInfos=null;var z=A.type==="circle",H=A.type==="ellipse";if(z||H){var X=ur(U),ne=Math.abs(X.bottom-X.top),ie=Math.abs(H?X.right-X.left:ne),he=U[0][1]+ne,le=U[0][0]-ie,Ae=U[0][0]+ie;z&&(N.push([Ae,X.bottom]),y.push([1,0])),N.push([X.left,he]),y.push([0,1]),N.push([le,X.bottom]),y.push([1,0])}var R=$p((M.clipHorizontalGuidelines||[]).map(function(K){return An(""+K,u)}),(M.clipVerticalGuidelines||[]).map(function(K){return An(""+K,p)}),p,u),re=[],ee=[];if(z||H)re=[N[4][0],N[2][0]],ee=[N[1][1],N[3][1]];else if(I){var oe=[N[0],N[2],N[4],N[6]],Z=[y[0],y[2],y[4],y[6]];re=oe.filter(function(K,$){return Z[$][0]}).map(function(K){return K[0]}),ee=oe.filter(function(K,$){return Z[$][1]}).map(function(K){return K[1]})}else re=N.filter(function(K,$){return y[$][0]}).map(function(K){return K[0]}),ee=N.filter(function(K,$){return y[$][1]}).map(function(K){return K[1]});for(var J=function(K){var $=yv(R,M.clipTargetBounds&&{left:0,top:0,right:p,bottom:u},re,ee,{snapThreshold:5}),se=$.horizontal,pe=$.vertical,ue=se.offset,ye=pe.offset;if((H||z)&&y[0][0]===0&&y[0][1]===0){var we=ur(U),Ee=we.bottom-we.top,me=H?we.right-we.left:Ee,fe=pe.isBound?Math.abs(ye):pe.snapIndex===0?-ye:ye,de=se.isBound?Math.abs(ue):se.snapIndex===0?-ue:ue;me-=fe,Ee-=de,z&&(Ee=nv(pe,se)>0?Ee:me,me=Ee);var ve=N[0];N[1][1]=ve[1]-Ee,N[2][0]=ve[0]+me,N[3][1]=ve[1]+Ee,N[4][0]=ve[0]-me}else return N.forEach(function(Ce,xe){var De=y[xe];De[0]&&(Ce[0]-=ye),De[1]&&(Ce[1]-=ue)}),"break"},q=0;q<2;++q){var Y=J();if(Y==="break")break}var te=Ff(e,A,U),V=C+"("+te.join(d)+")";if(T.clipPathState=V,z||H)re=[N[4][0],N[2][0]],ee=[N[1][1],N[3][1]];else if(I){var oe=[N[0],N[2],N[4],N[6]];re=oe.map(function($){return $[0]}),ee=oe.map(function($){return $[1]})}else re=N.map(function(K){return K[0]}),ee=N.map(function(K){return K[1]});return T.snapBoundInfos=yv(R,M.clipTargetBounds&&{left:0,top:0,right:p,bottom:u},re,ee,{snapThreshold:1}),lt(e,"onClip",bt(e,t,{clipEventType:"changed",clipType:C,poses:U,clipStyle:V,clipStyles:te,distX:B,distY:x})),!0},dragControlEnd:function(e,t){this.unset(e);var n=t.isDrag,r=t.datas,i=t.isDouble,a=r.isLine,l=r.isClipStart,o=r.isControl;return l?(lt(e,"onClipEnd",rr(e,t,{})),i&&(o?OS(e,t):a&&TS(e,t)),i||n):!1},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},kS={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(e,t){return t.isRequest?t.requestAble==="originDraggable":Wn(t.inputEvent.target,pt("origin"))},dragControlStart:function(e,t){var n=t.datas;Xi(e,t);var r=bt(e,t,{dragStart:Kn.dragStart(e,new Zo().dragStart([0,0],t))}),i=lt(e,"onDragOriginStart",r);return n.startOrigin=e.state.transformOrigin,n.startTargetOrigin=e.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,i===!1?(n.isDragOrigin=!1,!1):r},dragControl:function(e,t){var n=t.datas,r=t.isPinch,i=t.isRequest;if(!n.isDragOrigin)return!1;var a=Nr(t),l=a[0],o=a[1],c=e.state,s=c.width,A=c.height,v=c.offsetMatrix,B=c.targetMatrix,x=c.is3d,M=e.props.originRelative,T=M===void 0?!0:M,p=x?4:3,u=[l,o];if(i){var g=t.distOrigin;(g[0]||g[1])&&(u=g)}var C=Bt(n.startOrigin,u),f=Bt(n.startTargetOrigin,u),d=mt(u,n.prevOrigin),h=LA(v,B,C,p),w=e.getRect(),I=ur(Yo(h,s,A,p)),y=[w.left-I.left,w.top-I.top];n.prevOrigin=u;var D=[_r(f[0],s,T),_r(f[1],A,T)].join(" "),F=bt(e,t,{width:s,height:A,origin:C,dist:u,delta:d,transformOrigin:D,drag:Kn.drag(e,FA(t,e.state,y,!!r,!1))});return lt(e,"onDragOrigin",F),F},dragControlEnd:function(e,t){var n=t.datas;return n.isDragOrigin?(lt(e,"onDragOriginEnd",rr(e,t,{})),!0):!1},dragGroupControlCondition:function(e,t){return this.dragControlCondition(e,t)},dragGroupControlStart:function(e,t){var n=this.dragControlStart(e,t);return!!n},dragGroupControl:function(e,t){var n=this.dragControl(e,t);return n?(e.transformOrigin=n.transformOrigin,!0):!1},request:function(e){var t={},n=e.getRect(),r=0,i=0,a=n.transformOrigin,l=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(o){return"deltaOrigin"in o?(l[0]+=o.deltaOrigin[0],l[1]+=o.deltaOrigin[1]):"origin"in o?(l[0]=o.origin[0]-a[0],l[1]=o.origin[1]-a[1]):("x"in o?r=o.x-n.left:"deltaX"in o&&(r+=o.deltaX),"y"in o?i=o.y-n.top:"deltaY"in o&&(i+=o.deltaY)),{datas:t,distX:r,distY:i,distOrigin:l}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function US(e,t,n,r,i,a,l){var o=Lv(e),c=o.horizontals,s=o.verticals,A=c.length,v=s.length,B=-1,x=-1;n===0?A===0?B=0:A===1&&(B=1):n===3&&(A<=2?B=2:A<=3&&(B=3)),n===2?v===0?x=0:v<4&&(x=3):n===1&&(v<=1?x=1:v<=2&&(x=2)),Uv(e,t,0,B,x,r,i,a,l)}function Rv(e,t,n,r,i){r===void 0&&(r=[0,0]);var a,l=[];if(i)a=i;else{var o=Xn(e);a=o&&o.borderRadius||""}return!a||!i&&a==="0px"?l=[]:l=Jr(a),Fv(l,t,n,0,0,r)}function Qv(e,t,n,r,i,a){var l=e.state,o=l.width,c=l.height,s=Of(a,i,e.props.roundRelative,o,c),A=s.raws,v=s.styles,B=Lv(i,A),x=B.horizontals,M=B.verticals,T=v.join(" ");l.borderRadiusState=T,lt(e,"onRound",bt(e,t,{horizontals:x,verticals:M,borderRadius:T,width:o,height:c,delta:r,dist:n}))}var LS={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
}`,`:host[data-able-roundable] .line.direction {
    cursor: pointer;
}`],render:function(e,t){var n=e.state,r=n.target,i=n.width,a=n.height,l=n.allMatrix,o=n.is3d,c=n.left,s=n.top,A=n.borderRadiusState,v=e.props,B=v.minRoundControls,x=B===void 0?[0,0]:B,M=v.maxRoundControls,T=M===void 0?[4,4]:M,p=v.zoom;if(!r)return null;var u=o?4:3,g=Rv(r,i,a,x,A);if(!g)return null;var C=0,f=0;return g.map(function(d,h){f+=Math.abs(d.horizontal),C+=Math.abs(d.vertical);var w=mt(In(l,d.pos,u),[c,s]),I=d.vertical?C<=T[1]:f<=T[0];return t.createElement("div",{key:"borderRadiusControl"+h,className:pt("control","border-radius"),"data-radius-index":h,style:{display:I?"block":"none",transform:"translate("+w[0]+"px, "+w[1]+"px) scale("+p+")"}})})},dragControlCondition:function(e,t){if(!t.inputEvent||t.isRequest)return!1;var n=t.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragControlStart:function(e,t){var n=t.inputEvent,r=t.datas,i=n.target,a=i.getAttribute("class")||"",l=a.indexOf("border-radius")>-1,o=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,c=l?parseInt(i.getAttribute("data-radius-index"),10):-1,s=o?parseInt(i.getAttribute("data-line-index"),10):-1;if(!l&&!o)return!1;var A=lt(e,"onRoundStart",bt(e,t,{}));if(A===!1)return!1;r.lineIndex=s,r.controlIndex=c,r.isControl=l,r.isLine=o,Xi(e,t);var v=e.props,B=v.roundRelative,x=v.minRoundControls,M=x===void 0?[0,0]:x,T=e.state,p=T.target,u=T.width,g=T.height;r.isRound=!0,r.prevDist=[0,0];var C=Rv(p,u,g,M)||[];return r.controlPoses=C,T.borderRadiusState=Of(C.map(function(f){return f.pos}),C,B,u,g).styles.join(" "),!0},dragControl:function(e,t){var n=t.datas;if(!n.isRound||!n.isControl||!n.controlPoses.length)return!1;var r=n.controlIndex,i=n.controlPoses,a=Nr(t),l=a[0],o=a[1],c=[l,o],s=mt(c,n.prevDist),A=e.props.maxRoundControls,v=A===void 0?[4,4]:A,B=e.state,x=B.width,M=B.height,T=i[r],p=T.vertical,u=T.horizontal,g=i.map(function(f){var d=f.horizontal,h=f.vertical,w=[d*u*c[0],h*p*c[1]];if(d){if(v[0]===1)return w;if(v[0]<4&&d!==u)return w}else{if(v[1]===0)return w[1]=h*u*c[0]/x*M,w;if(p){if(v[1]===1)return w;if(v[1]<4&&h!==p)return w}}return[0,0]});g[r]=c;var C=i.map(function(f,d){return Bt(f.pos,g[d])});return n.prevDist=[l,o],Qv(e,t,c,s,i,C),!0},dragControlEnd:function(e,t){var n=e.state;n.borderRadiusState="";var r=t.datas,i=t.isDouble;if(!r.isRound)return!1;var a=n.width,l=n.height,o=r.isControl,c=r.controlIndex,s=r.isLine,A=r.lineIndex,v=r.controlPoses,B=v.map(function(C){return C.pos}),x=B.length,M=e.props.roundClickable,T=M===void 0?!0:M;if(i&&T){if(o)kv(v,B,c,0);else if(s){var p=Qp(e,t),u=p[0],g=p[1];US(v,B,A,u,g,a,l)}x!==v.length&&Qv(e,t,[0,0],[0,0],v,B)}return lt(e,"onRoundEnd",rr(e,t,{})),n.borderRadiusState="",!0},unset:function(e){e.state.borderRadiusState=""}},Hv={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},setTransform:function(e,t){var n=e.state,r=n.is3d,i=n.target,a=n.targetMatrix,l=i==null?void 0:i.style.transform,o=r?"matrix3d("+a.join(",")+")":"matrix("+up(a,!0)+")";t.datas.startTransforms=!l||l==="none"?[o]:Jr(l)},resetTransform:function(e,t){t.datas.nextTransforms=t.datas.startTransforms,t.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,t){return bt(e,t,{setTransform:function(n){t.datas.startTransforms=Bn(n)?n:Jr(n)},isPinch:!!t.isPinch})},fillDragParams:function(e,t){return bt(e,t,{isPinch:!!t.isPinch})},dragStart:function(e,t){this.setTransform(e,t),lt(e,"onBeforeRenderStart",this.fillDragStartParams(e,t))},drag:function(e,t){this.resetTransform(e,t),lt(e,"onBeforeRender",bt(e,t,{isPinch:!!t.isPinch}))},dragEnd:function(e,t){lt(e,"onBeforeRenderEnd",bt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(e,t){var n=this;this.dragStart(e,t);var r=Sa(e,"beforeRenderable",t),i=e.moveables,a=r.map(function(l,o){var c=i[o];return n.setTransform(c,l),n.fillDragStartParams(c,l)});lt(e,"onBeforeRenderGroupStart",bt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,setTransform:function(){},events:a}))},dragGroup:function(e,t){var n=this;this.drag(e,t);var r=Sa(e,"beforeRenderable",t),i=e.moveables,a=r.map(function(l,o){var c=i[o];return n.resetTransform(c,l),n.fillDragParams(c,l)});lt(e,"onBeforeRenderGroup",bt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,events:a}))},dragGroupEnd:function(e,t){this.dragEnd(e,t),lt(e,"onBeforeRenderGroupEnd",bt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)}},jv={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragStart:function(e,t){lt(e,"onRenderStart",bt(e,t,{isPinch:!!t.isPinch}))},drag:function(e,t){lt(e,"onRender",bt(e,t,{isPinch:!!t.isPinch}))},dragEnd:function(e,t){lt(e,"onRenderEnd",bt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(e,t){lt(e,"onRenderGroupStart",bt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets}))},dragGroup:function(e,t){lt(e,"onRenderGroup",bt(e,t,{isPinch:!!t.isPinch,targets:e.props.targets}))},dragGroupEnd:function(e,t){lt(e,"onRenderGroupEnd",bt(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)}};function Jo(e,t,n,r,i,a,l){var o=i==="Start",c=e.state.target,s=a.isRequest;if(!c||o&&r.indexOf("Control")>-1&&!s&&e.areaElement===a.inputEvent.target)return!1;var A=""+n+r+i,v=""+n+r+"Condition",B=i==="End",x=i.indexOf("After")>-1,M=o&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());M&&e.updateRect(i,!0,!1),i===""&&!x&&!s&&Np(e.state,a);var T=Ft([Hv],e[t].slice(),[jv]);if(s){var p=a.requestAble;T.some(function(I){return I.name===p})||T.push.apply(T,e.props.ables.filter(function(I){return I.name===p}))}if(!T.length)return!1;var u=T.filter(function(I){return I[A]}),g=a.datas;M&&u.forEach(function(I){I.unset&&I.unset(e)});var C=a.inputEvent,f;B&&C&&(f=document.elementFromPoint(a.clientX,a.clientY)||C.target);var d=u.filter(function(I){var y=I.name,D=g[y]||(g[y]={});return o&&(D.isEventStart=!I[v]||I[v](e,a)),D.isEventStart?I[A](e,Ne(Ne({},a),{datas:D,originalDatas:g,inputTarget:f})):!1}),h=d.length,w=o&&u.length&&!h;return(B||w)&&(e.state.gesto=null,e.moveables&&e.moveables.forEach(function(I){I.state.gesto=null})),M&&w&&u.forEach(function(I){I.unset&&I.unset(e)}),e.isUnmounted||w?!1:((!o&&h&&!l||B)&&(e.updateRect(i,!0,!1),e.forceUpdate()),!o&&!B&&!x&&h&&!l&&Jo(e,t,n,r,i+"After",a),!0)}function zv(e,t,n){var r=e.controlBox.getElement(),i=[];i.push(r),(!e.props.dragArea||e.props.dragTarget)&&i.push(t);var a=function(l){var o=l.inputEvent.target,c=e.areaElement;return o===c||!e.isMoveableElement(o)||Wn(o,"moveable-area")||Wn(o,"moveable-padding")};return kf(e,i,"targetAbles",n,{dragStart:a,pinchStart:a})}function kf(e,t,n,r,i){i===void 0&&(i={});var a=e.props,l=a.pinchOutside,o=a.pinchThreshold,c={container:window,pinchThreshold:o,pinchOutside:l},s=new $u(t,c);return["drag","pinch"].forEach(function(A){["Start","","End"].forEach(function(v){s.on(""+A+v,function(B){var x=B.eventType;if(i[x]&&!i[x](B)){B.stop();return}var M=Jo(e,n,A,r,v,B);M||B.stop()})})}),s}var PS=function(){function e(n,r,i){var a=this;this.target=n,this.moveable=r,this.eventName=i,this.ables=[],this.onEvent=function(l){var o=a.eventName,c=a.moveable;c.state.disableNativeEvent||a.ables.forEach(function(s){s[o](c,{inputEvent:l})})},this.target.addEventListener(this.eventName.toLowerCase(),this.onEvent)}var t=e.prototype;return t.setAbles=function(n){this.ables=n},t.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this.onEvent),this.target=null,this.moveable=null},e}(),Da=function(e){zo(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state=Ne({container:null,target:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},lf(null)),r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r.onPreventClick=function(i){i.stopPropagation(),Wt(window,"click",r.onPreventClick,!0)},r}var n=t.prototype;return n.render=function(){var r=this.props,i=this.state,a=r.edge,l=r.parentPosition,o=r.className,c=r.target,s=r.zoom,A=r.cspNonce,v=r.translateZ,B=r.cssStyled,x=r.portalContainer;this.checkUpdate(),this.updateRenderPoses();var M=l||{left:0,top:0},T=M.left,p=M.top,u=i.left,g=i.top,C=i.target,f=i.direction,d=i.renderPoses,h=r.targets,w=(h&&h.length||c)&&C,I=this.isDragging(),y={},D={createElement:on};return this.getEnabledAbles().forEach(function(F){y["data-able-"+F.name.toLowerCase()]=!0}),on(B,Ne({cspNonce:A,ref:wn(this,"controlBox"),className:pt("control-box",f===-1?"reverse":"",I?"dragging":"")+" "+o},y,{onClick:this.onPreventClick,portalContainer:x,style:{position:"absolute",display:w?"block":"none",transform:"translate3d("+(u-T)+"px, "+(g-p)+"px, "+v+")","--zoom":s,"--zoompx":s+"px"}}),this.renderAbles(),Ma(D,a?"n":"",d[0],d[1],s,0),Ma(D,a?"e":"",d[1],d[3],s,1),Ma(D,a?"w":"",d[0],d[2],s,2),Ma(D,a?"s":"",d[2],d[3],s,3))},n.componentDidMount=function(){this.controlBox.getElement();var r=this.props,i=r.parentMoveable,a=r.container,l=r.wrapperMoveable;this.updateEvent(r),this.updateNativeEvents(r),!a&&!i&&!l&&this.updateRect("",!1,!0),this.updateCheckInput()},n.componentDidUpdate=function(r){this.updateNativeEvents(r),this.updateEvent(r),this.updateCheckInput()},n.componentWillUnmount=function(){this.isUnmounted=!0,ba(this,"targetGesto"),ba(this,"controlGesto");var r=this.events;for(var i in r){var a=r[i];a&&a.destroy()}},n.getContainer=function(){var r=this.props,i=r.parentMoveable,a=r.wrapperMoveable,l=r.container;return l||a&&a.getContainer()||i&&i.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(r){return r&&(r.getAttribute("class")||"").indexOf(rf)>-1},n.dragStart=function(r){return this.targetGesto&&this.targetGesto.triggerDragStart(r),this},n.hitTest=function(r){var i=this.state,a=i.target,l=i.pos1,o=i.pos2,c=i.pos3,s=i.pos4,A=i.targetClientRect;if(!a)return 0;var v;if(r instanceof Element){var B=r.getBoundingClientRect();v={left:B.left,top:B.top,width:B.width,height:B.height}}else v=Ne({width:0,height:0},r);var x=v.left,M=v.top,T=v.width,p=v.height,u=ju([l,o,s,c],A),g=M1(u,[[x,M],[x+T,M],[x+T,M+p],[x,M+p]]),C=Ho(u);return!g||!C?0:Math.min(100,g/C*100)},n.isInside=function(r,i){var a=this.state,l=a.target,o=a.pos1,c=a.pos2,s=a.pos3,A=a.pos4,v=a.targetClientRect;return l?CA([r,i],ju([o,c,A,s],v)):!1},n.updateRect=function(r,i,a){a===void 0&&(a=!0);var l=this.props,o=l.parentMoveable,c=this.state,s=c.target||this.props.target,A=this.getContainer(),v=o?o.props.rootContainer:l.rootContainer;this.updateState(lf(this.controlBox&&this.controlBox.getElement(),s,A,A,v||A),o?!1:a)},n.isTargetChanged=function(r,i){var a=this.props,l=a.dragTarget||a.target,o=r.dragTarget||r.target,c=a.dragArea,s=r.dragArea,A=!c&&o!==l;return A||(i||c)&&s!==c},n.updateNativeEvents=function(r){var i=this,a=this.props,l=a.dragArea?this.areaElement:this.state.target,o=this.events,c=ui(o);if(this.isTargetChanged(r))for(var s in o){var A=o[s];A&&A.destroy(),o[s]=null}if(!!l){var v=this.enabledAbles;c.forEach(function(B){var x=DA(v,[B]),M=x.length>0,T=o[B];if(!M){T&&(T.destroy(),o[B]=null);return}T||(T=new PS(l,i,B),o[B]=T),T.setAbles(x)})}},n.updateEvent=function(r){var i=this.controlBox.getElement(),a=this.targetAbles.length,l=this.controlAbles.length,o=this.props,c=o.dragTarget||o.target,s=this.isTargetChanged(r,!0),A=!a&&this.targetGesto||s;A&&(ba(this,"targetGesto"),this.updateState({gesto:null})),l||ba(this,"controlGesto"),c&&a&&!this.targetGesto&&(this.targetGesto=zv(this,c,"")),!this.controlGesto&&l&&(this.controlGesto=kf(this,i,"controlAbles","Control")),A&&this.unsetAbles()},n.isDragging=function(){return(this.targetGesto?this.targetGesto.isFlag():!1)||(this.controlGesto?this.controlGesto.isFlag():!1)},n.updateTarget=function(r){this.updateRect(r,!0)},n.getRect=function(){var r=this.state,i=Pr(this.state),a=i[0],l=i[1],o=i[2],c=i[3],s=ur(i),A=r.width,v=r.height,B=s.width,x=s.height,M=s.left,T=s.top,p=[r.left,r.top],u=Bt(p,r.origin),g=Bt(p,r.beforeOrigin),C=r.transformOrigin;return{width:B,height:x,left:M,top:T,pos1:a,pos2:l,pos3:o,pos4:c,offsetWidth:A,offsetHeight:v,beforeOrigin:g,origin:u,transformOrigin:C,rotation:this.getRotation()}},n.getManager=function(){return this},n.getRotation=function(){var r=this.state,i=r.pos1,a=r.pos2,l=r.direction;return E_(i,a,l)},n.request=function(r,i,a){i===void 0&&(i={});var l=this.props,o=l.ables,c=l.groupable,s=o.filter(function(p){return p.name===r})[0];if(this.isDragging()||!s||!s.request)return{request:function(){return this},requestEnd:function(){return this}};var A=this,v=s.request(this),B=a||i.isInstant,x=v.isControl?"controlAbles":"targetAbles",M=(c?"Group":"")+(v.isControl?"Control":""),T={request:function(p){return Jo(A,x,"drag",M,"",Ne(Ne({},v.request(p)),{requestAble:r,isRequest:!0}),B),this},requestEnd:function(){return Jo(A,x,"drag",M,"End",Ne(Ne({},v.requestEnd()),{requestAble:r,isRequest:!0}),B),this}};return Jo(A,x,"drag",M,"Start",Ne(Ne({},v.requestStart(i)),{requestAble:r,isRequest:!0}),B),B?T.request(i).requestEnd():T},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var r=this.state,i=this.props,a=r.originalBeforeOrigin,l=r.transformOrigin,o=r.allMatrix,c=r.is3d,s=r.pos1,A=r.pos2,v=r.pos3,B=r.pos4,x=r.left,M=r.top,T=i.padding||{},p=T.left,u=p===void 0?0:p,g=T.top,C=g===void 0?0:g,f=T.bottom,d=f===void 0?0:f,h=T.right,w=h===void 0?0:h,I=c?4:3,y=i.groupable?a:Bt(a,[x,M]);r.renderPoses=[Bt(s,TA(o,[-u,-C],l,y,I)),Bt(A,TA(o,[w,-C],l,y,I)),Bt(v,TA(o,[-u,d],l,y,I)),Bt(B,TA(o,[w,d],l,y,I))]},n.checkUpdate=function(){var r=this.props,i=r.target,a=r.container,l=r.parentMoveable,o=this.state,c=o.target,s=o.container;if(!(!c&&!i)){this.updateAbles();var A=!hf(c,i)||!hf(s,a);!A||(this.updateState({target:i,container:a}),!l&&(a||this.controlBox)&&this.updateRect("End",!1,!1))}},n.triggerEvent=function(r,i){var a=this.props[r];return a&&a(i)},n.useCSS=function(r,i){var a=this.props.customStyledMap,l=r+i;return a[l]||(a[l]=tf(r,i)),a[l]},n.unsetAbles=function(){var r=this;this.targetAbles.filter(function(i){return i.unset?(i.unset(r),!0):!1}).length&&this.forceUpdate()},n.updateAbles=function(r,i){r===void 0&&(r=this.props.ables),i===void 0&&(i="");var a=this.props,l=a.triggerAblesSimultaneously,o=r.filter(function(x){return x&&(x.always||a[x.name])}),c="drag"+i+"Start",s="pinch"+i+"Start",A="drag"+i+"ControlStart",v=DA(o,[c,s],l),B=DA(o,[A],l);this.enabledAbles=o,this.targetAbles=v,this.controlAbles=B},n.updateState=function(r,i){if(i)this.setState(r);else{var a=this.state;for(var l in r)a[l]=r[l]}},n.getEnabledAbles=function(){var r=this.props,i=r.ables;return i.filter(function(a){return a&&r[a.name]})},n.renderAbles=function(){var r=this,i=this.props,a=i.triggerAblesSimultaneously,l={createElement:on};return v_(gf(DA(this.getEnabledAbles(),["render"],a).map(function(o){var c=o.render;return c(r,l)||[]})).filter(function(o){return o}),function(o){var c=o.key;return c}).map(function(o){return o[0]})},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},t.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{}},t}(ko),Uf={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(e,t){var n=e.props.targets||[];e.moveables=[];var r=e.state,i=r.left,a=r.top,l={left:i,top:a};return n.map(function(o,c){return t.createElement(Da,{key:"moveable"+c,ref:vu(e,"moveables",c),target:o,origin:!1,cssStyled:e.props.cssStyled,customStyledMap:e.props.customStyledMap,parentMoveable:e,parentPosition:l})})}},NS=Vo("clickable",{props:{},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragStart:function(e,t){t.isRequest||Jt(window,"click",e.onPreventClick,!0)},dragControlStart:function(e,t){this.dragStart(e,t)},dragGroupStart:function(e,t){this.dragStart(e,t),t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(e,t){this.endEvent(e);var n=e.state.target,r=t.inputEvent,i=t.inputTarget;if(!(!r||!i||t.isDrag||e.isMoveableElement(i))){var a=n.contains(i);lt(e,"onClick",bt(e,t,{isDouble:t.isDouble,inputTarget:i,isTarget:n===i,containsTarget:a}))}},dragGroupEnd:function(e,t){this.endEvent(e);var n=t.inputEvent,r=t.inputTarget;if(!(!n||!r||t.isDrag||e.isMoveableElement(r)||t.datas.inputTarget===r)){var i=e.props.targets,a=i.indexOf(r),l=a>-1,o=!1;a===-1&&(a=Br(i,function(c){return c.contains(r)}),o=a>-1),lt(e,"onClickGroup",bt(e,t,{isDouble:t.isDouble,targets:i,inputTarget:r,targetIndex:a,isTarget:l,containsTarget:o}))}},dragControlEnd:function(e){this.endEvent(e)},dragGroupControlEnd:function(e){this.endEvent(e)},endEvent:function(e){var t=this;requestAnimationFrame(function(){t.unset(e)})},unset:function(e){Wt(window,"click",e.onPreventClick,!0)}});function Ta(e){var t=e.originalDatas.draggable;return t||(e.originalDatas.draggable={},t=e.originalDatas.draggable),Ne(Ne({},e),{datas:t})}var RS=Vo("edgeDraggable",{dragControlCondition:function(e,t){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return Wn(n,pt("direction"))&&Wn(n,pt("line"))},dragControlStart:function(e,t){return Kn.dragStart(e,Ta(t))},dragControl:function(e,t){return Kn.drag(e,Ta(t))},dragControlEnd:function(e,t){return Kn.dragEnd(e,Ta(t))},dragGroupControlCondition:function(e,t){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return Wn(n,pt("direction"))&&Wn(n,pt("line"))},dragGroupControlStart:function(e,t){return Kn.dragGroupStart(e,Ta(t))},dragGroupControl:function(e,t){return Kn.dragGroup(e,Ta(t))},dragGroupControlEnd:function(e,t){return Kn.dragGroupEnd(e,Ta(t))},unset:function(e){e.state.dragInfo=null}}),Vv={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},Lf=[Hv,Dv,gS,__,Kn,RS,vS,mS,yS,wS,_S,SS,bS,kS,FS,LS,Uf,Vv,NS,Mv,jv],QS=Lf.reduce(function(e,t){return Ne(Ne({},e),"events"in t?t.events:{})},{}),HS=Lf.reduce(function(e,t){return Ne(Ne({},e),t.props)},{}),jS=C_(QS),zS=Object.keys(jS),VS=Object.keys(HS);function KA(e,t){return Math.max.apply(Math,e.map(function(n){var r=n[0],i=n[1],a=n[2],l=n[3];return Math.max(r[t],i[t],a[t],l[t])}))}function ZA(e,t){return Math.min.apply(Math,e.map(function(n){var r=n[0],i=n[1],a=n[2],l=n[3];return Math.min(r[t],i[t],a[t],l[t])}))}function GS(e,t){if(!e.length)return[0,0,0,0];var n=e.map(function(T){var p=T.state;return Pr(p)}),r=Wo,i=Wo,a=0,l=0,o=gt(t,bn);if(o%90){var c=o/180*Math.PI,s=Math.tan(c),A=-1/s,v=[Ip,Wo],B=[Ip,Wo];n.forEach(function(T){T.forEach(function(p){var u=p[1]-s*p[0],g=p[1]-A*p[0];v[0]=Math.max(v[0],u),v[1]=Math.min(v[1],u),B[0]=Math.max(B[0],g),B[1]=Math.min(B[1],g)})}),v.forEach(function(T){B.forEach(function(p){var u=(p-T)/(s-A),g=s*u+T;r=Math.min(r,u),i=Math.min(i,g)})});var x=n.map(function(T){var p=T[0],u=T[1],g=T[2],C=T[3];return[gi(p,-c),gi(u,-c),gi(g,-c),gi(C,-c)]});a=KA(x,0)-ZA(x,0),l=KA(x,1)-ZA(x,1)}else if(r=ZA(n,0),i=ZA(n,1),a=KA(n,0)-r,l=KA(n,1)-i,o%180){var M=a;a=l,l=M}return[r,i,a,l]}var WS=function(e){zo(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.differ=new T1,r.moveables=[],r.transformOrigin="50% 50%",r}var n=t.prototype;return n.updateEvent=function(r){var i=this.state,a=this.props,l=r.dragTarget||i.target,o=a.dragTarget||this.areaElement;l!==o&&(ba(this,"targetGesto"),ba(this,"controlGesto"),i.target=null),i.target||(i.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetGesto=zv(this,o,"Group"),this.controlGesto=kf(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var c=!hf(r.container,a.container);c&&(i.container=a.container);var s=this.differ.update(a.targets),A=s.added,v=s.changed,B=s.removed;(c||A.length||v.length||B.length)&&this.updateRect()},n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(r,i,a){if(a===void 0&&(a=!0),!!this.controlBox){this.moveables.forEach(function(k){k.updateRect(r,!1,!1)});var l=this.state,o=this.props,c=l.target||o.target;(!i||r!==""&&o.updateGroup)&&(this.rotation=o.defaultGroupRotate,this.transformOrigin=o.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var s=this.rotation,A=this.scale,v=GS(this.moveables,s),B=v[0],x=v[1],M=v[2],T=v[3],p="rotate("+s+"deg) scale("+(A[0]>=0?1:-1)+", "+(A[1]>=0?1:-1)+")";c.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+M+"px; height:"+T+"px;"+("transform:"+p),l.width=M,l.height=T;var u=this.getContainer(),g=lf(this.controlBox.getElement(),c,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||u),C=[g.left,g.top],f=Pr(g),d=f[0],h=f[1],w=f[2],I=f[3],y=yA([d,h,w,I]),D=[y.minX,y.minY];g.pos1=mt(d,D),g.pos2=mt(h,D),g.pos3=mt(w,D),g.pos4=mt(I,D),g.left=B-g.left+D[0],g.top=x-g.top+D[1],g.origin=mt(Bt(C,g.origin),D),g.beforeOrigin=mt(Bt(C,g.beforeOrigin),D),g.originalBeforeOrigin=Bt(C,g.originalBeforeOrigin);var F=g.targetClientRect,L=A[0]*A[1]>0?1:-1;F.top+=g.top-l.top,F.left+=g.left-l.left,c.style.transform="translate("+-D[0]+"px, "+-D[1]+"px) "+p,this.updateState(Ne(Ne({},g),{direction:L,beforeDirection:L}),a)}},n.getRect=function(){return Ne(Ne({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},n.triggerEvent=function(r,i,a){if(a||r.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,r,i)},n.updateAbles=function(){e.prototype.updateAbles.call(this,Ft(this.props.ables,[Uf]),"Group")},t.defaultProps=Ne(Ne({},Da.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(Da),YS=function(e){zo(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.moveables=[],r}var n=t.prototype;return n.render=function(){var r=this,i=this.props,a=i.cspNonce,l=i.cssStyled,o=i.targets;return on(l,{cspNonce:a,ref:wn(this,"controlBox"),className:pt("control-box")},o.map(function(c,s){return on(Da,Ne({key:"moveable"+s,ref:vu(r,"moveables",s)},r.props,{target:c,wrapperMoveable:r}))}))},n.componentDidUpdate=function(){},n.updateRect=function(r,i,a){a===void 0&&(a=!0),this.moveables.forEach(function(l){l.updateRect(r,i,a)})},n.getRect=function(){return Ne(Ne({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},n.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},n.dragStart=function(){return this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.updateRenderPoses=function(){},n.updateEvent=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},t}(Da),XS=function(e){zo(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r}var n=t.prototype;return t.makeStyled=function(){var r={},i=this.getTotalAbles();i.forEach(function(l){var o=l.css;!o||o.forEach(function(c){r[c]=!0})});var a=ui(r).join(`
`);this.defaultStyled=tf("div",Og(rf,e_+a))},t.getTotalAbles=function(){return Ft([Dv,Uf,Vv,Mv],this.defaultAbles)},n.render=function(){var r=this.constructor;r.defaultStyled||r.makeStyled();var i=this.props,a=i.ables,l=i.props,o=Z1(i,["ables","props"]),c=pf(o.target||o.targets),s=b_(c,this.selectorMap);this.refTargets=c;var A=s.length>1,v=r.getTotalAbles(),B=Ft(v,a||[]),x=Ne(Ne(Ne({},o),l||{}),{ables:B,cssStyled:r.defaultStyled,customStyledMap:r.customStyledMap});return A?o.individualGroupable?on(YS,Ne({key:"individual-group",ref:wn(this,"moveable")},x,{target:null,targets:s})):on(WS,Ne({key:"group",ref:wn(this,"moveable")},x,{target:null,targets:s})):on(Da,Ne({key:"single",ref:wn(this,"moveable")},x,{target:s[0]}))},n.componentDidMount=function(){this.updateRefs()},n.componentDidUpdate=function(){this.updateRefs()},n.updateRefs=function(r){var i=pf(this.props.target||this.props.targets),a=this.refTargets.some(function(c,s){var A=i[s];return!c&&!A?!1:c!==A}),l=r?{}:this.selectorMap,o={};this.refTargets.forEach(function(c){Gt(c)&&(l[c]?o[c]=l[c]:(a=!0,o[c]=[].slice.call(document.querySelectorAll(c))))}),this.selectorMap=o,a&&this.forceUpdate()},n.getManager=function(){return this.moveable},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,J1([xE(Mp)],t.prototype,"moveable",void 0),t}(ko),KS=function(e){zo(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.defaultAbles=Lf,t}(XS);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Pf=function(e,t){return Pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Pf(e,t)};function Nf(e,t){Pf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $o=function(){return $o=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$o.apply(this,arguments)};function ZS(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}var JS=function(e){Nf(t,e);function t(r){var i=e.call(this,r)||this;return i.state={},i.state=i.props,i}var n=t.prototype;return n.render=function(){return np(on(KS,$o({ref:wn(this,"moveable")},this.state)),this.state.parentElement)},t}(gA),$S=VS,qS=Mp,Gv=zS;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Rf=function(){return Rf=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Rf.apply(this,arguments)};function eI(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r}var tI=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Kt(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Kt(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var a=this._events[n];if(a){var l=Br(a,function(o){return o.listener===r});l>-1&&a.splice(l,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(a){i._addEvent(n,a,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var a=this._events[n];if(!n||!a)return!0;var l=!1;return r.eventType=n,r.stop=function(){l=!0},r.currentTarget=this,eI(a).forEach(function(o){o.listener(r),o.once&&i.off(n,o.listener)}),!l},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var a=this._events;a[n]=a[n]||[];var l=a[n];l.push(Rf({listener:r},i))},e}(),nI=function(e){Nf(t,e);function t(r,i){i===void 0&&(i={});var a=e.call(this)||this;a.tempElement=document.createElement("div");var l=$o({container:r||document.body},i),o={};Gv.forEach(function(s){o[ji("on "+s)]=function(A){return a.trigger(s,A)}}),vA(on(JS,$o({ref:wn(a,"innerMoveable"),parentElement:r},l,o)),a.tempElement);var c=l.target;return Bn(c)&&c.length>1&&a.updateRect(),a}var n=t.prototype;return n.setState=function(r,i){this.innerMoveable.setState(r,i)},n.destroy=function(){vA(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},t=ZS([Co(qS,function(r,i){r[i]||(r[i]=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var o=this.getMoveable();if(!(!o||!o[i]))return o[i].apply(o,a)})}),Co($S,function(r,i){Object.defineProperty(r,i,{get:function(){return this.getMoveable().props[i]},set:function(a){var l;this.setState((l={},l[i]=a,l))},enumerable:!0,configurable:!0})})],t),t}(tI),rI=function(e){Nf(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(nI);function iI(e,t,n){return l_(e,t,n)}var aI=rI;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function Wv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oI(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],l;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){l={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function Qf(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oI(arguments[t]));return e}var qo=function(e){return typeof e=="undefined"},Yv=function(){function e(n,r){var i,a;if(this._canceled=!1,r)try{for(var l=Wv(Object.keys(r)),o=l.next();!o.done;o=l.next()){var c=o.value;this[c]=r[c]}}catch(s){i={error:s}}finally{try{o&&!o.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}this.eventType=n}var t=e.prototype;return t.stop=function(){this._canceled=!0},t.isCanceled=function(){return this._canceled},e}(),sI=function(){function e(){this._eventHandler={}}var t=e.prototype;return t.trigger=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=n instanceof Yv?n.eventType:n,l=Qf(this._eventHandler[a]||[]);return l.length<=0?this:(n instanceof Yv?(n.currentTarget=this,l.forEach(function(o){o(n)})):l.forEach(function(o){o.apply(void 0,Qf(r))}),this)},t.once=function(n,r){var i=this;if(typeof n=="object"&&qo(r)){var a=n;for(var l in a)this.once(l,a[l]);return this}else if(typeof n=="string"&&typeof r=="function"){var o=function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];r.apply(void 0,Qf(c)),i.off(n,o)};this.on(n,o)}return this},t.hasOn=function(n){return!!this._eventHandler[n]},t.on=function(n,r){if(typeof n=="object"&&qo(r)){var i=n;for(var a in i)this.on(a,i[a]);return this}else if(typeof n=="string"&&typeof r=="function"){var l=this._eventHandler[n];qo(l)&&(this._eventHandler[n]=[],l=this._eventHandler[n]),l.push(r)}return this},t.off=function(n,r){var i,a;if(qo(n))return this._eventHandler={},this;if(qo(r)){if(typeof n=="string")return delete this._eventHandler[n],this;var l=n;for(var o in l)this.off(o,l[o]);return this}var c=this._eventHandler[n];if(c){var s=0;try{for(var A=Wv(c),v=A.next();!v.done;v=A.next()){var B=v.value;if(B===r){c.splice(s,1),c.length<=0&&delete this._eventHandler[n];break}s++}}catch(x){i={error:x}}finally{try{v&&!v.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}}return this},e.VERSION="3.0.4",e}();function Xv(e){return Object.keys(e)}function AI(e){return typeof e=="object"}function lI(e){return typeof e=="function"}var Hf="__observers__",cI="__computed__",jf=1,zf="__CFCS_DETECTED_DEPENDENCIES__",Vf=function(e,t){return Vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vf(e,t)};function uI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Gf(){Object[zf]=Object[zf]||{};var e=Object[zf];return e[jf]=e[jf]||[],e[jf]}function fI(){var e=Gf();return e[e.length-1]}function hI(e){var t=Gf(),n=[],r={host:e,observers:n,push:function(i){e!==i&&n.indexOf(i)===-1&&n.push(i)}};return t.push(r),r}function dI(){var e=Gf();return e.pop()}var Kv=function(){function e(n){this._emitter=new sI,this._current=n}var t=e.prototype;return Object.defineProperty(t,"current",{get:function(){var n=fI();return n==null||n.push(this),this._current},set:function(n){this._setCurrent(n)},enumerable:!1,configurable:!0}),t.subscribe=function(n){return this.current,this._emitter.on("update",n),this},t.unsubscribe=function(n){return this._emitter.off("update",n),this},t._setCurrent=function(n){var r=this._current,i=n!==r;this._current=n,i&&this._emitter.trigger("update",n,r)},t.toString=function(){return"".concat(this.current)},t.valueOf=function(){return this.current},e}(),gI=function(e){uI(t,e);function t(r){var i=e.call(this)||this;return i._computedCallback=r,i._registered=[],i._onCheckUpdate=function(){i._setCurrent(i.current)},i._current=i.current,i}var n=t.prototype;return Object.defineProperty(n,"current",{get:function(){var r=this;hI(this);var i=this._computedCallback(),a=dI();return this._registered.forEach(function(l){l.unsubscribe(r._onCheckUpdate)}),a.observers.forEach(function(l){l.subscribe(r._onCheckUpdate)}),this._registered=a.observers,i},enumerable:!1,configurable:!0}),t}(Kv);function Zv(e,t,n){n===void 0&&(n=t);var r={configurable:!0,get:function(){return ts(this,n).current},set:function(i){ts(this,n,i).current=i}};Object.defineProperty(e,t,r),n!==t&&Object.defineProperty(e,n,{configurable:!0,get:function(){return ts(this,n).current}})}function pI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length>1?Zv(e[0],e[1]):function(n,r){return Zv(n,r,e[0])}}function vI(e){e.subscribe=function(t,n){this[t],ts(this,t).subscribe(n)},e.unsubscribe=function(t,n){var r=this;if(!t){Xv(Yf(this)).forEach(function(i){r.unsubscribe(i)});return}t in this&&ts(this,t).unsubscribe(n)}}function Jv(e,t){var n=lI(e)?e():e,r={};return $v(r),Xv(n).forEach(function(i){var a=n[i];em(a)?qv(r,i,a):qv(r,i,es(a)),pI(i)(r,i)}),vI(r),r}function mI(e){return Jv(e)}function yI(e){return Jv(e)}function es(e){return new Kv(e)}function Wf(e){return new gI(e)}function $v(e){var t={};return Object.defineProperty(e,Hf,{get:function(){return t}}),t}function Yf(e,t){var n,r;e[Hf]||$v(e);var i=e[Hf];if(!t){var a=(r=(n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.prototype)===null||r===void 0?void 0:r[cI];a&&a.forEach(function(l){!(l in i)&&l in e&&e[l]})}return i}function ts(e,t,n){var r=Yf(e);return r[t]||(r[t]=es(n)),r[t]}function qv(e,t,n){var r=Yf(e);r[t]=n}function em(e){return e&&AI(e)&&"current"in e&&"subscribe"in e&&"unsubscribe"in e}function ei(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Oa=function(){function e(t){this.separator=t,this.orderMap={}}return e.prototype.getFullName=function(t){return t.join(this.separator)},e.prototype.get=function(t){return this.orderMap[this.getFullName(t)]},e.prototype.hasName=function(t){var n=t.length;if(!n)return!1;var r=t[n-1],i=this.get(t.slice(0,n-1));return i?i.indexOf(r)>=0:!1},e.prototype.gets=function(t,n){n===void 0&&(n=!0);var r=[],i=this;function a(l,o){var c=i.get(l);if(!!c)return c.forEach(function(s){var A=ei(ei([],o,!0),[s],!1),v=a(ei(ei([],l,!0),[s],!1),A);(!v||!v.length)&&r.push(ei(ei([],o,!0),[s],!1))}),c}return a(t,n?t:[]),r},e.prototype.set=function(t,n){var r=this;return t.forEach(function(i,a){r.addName(t.slice(0,a),i)}),this.orderMap[this.getFullName(t)]=n,n},e.prototype.add=function(t){var n=t.length;return n?this.addName(t.slice(0,-1),t[n-1]):[]},e.prototype.addName=function(t,n){var r=this.get(t)||this.set(t,[]);return r.indexOf(n)===-1&&r.push(n),r},e.prototype.findIndex=function(t,n){var r=this.orderMap[this.getFullName(t)];return r?r.indexOf(n):-1},e.prototype.remove=function(t){var n=this.getFullName(t),r=this.orderMap;for(var i in r)i.indexOf(n)===0&&delete r[i];var a=t.length;if(a){var l=t.slice(0,-1),o=t[a-1];this.splice(l,this.findIndex(l,o),1)}return this},e.prototype.filter=function(t,n,r){r===void 0&&(r=!0);var i=this.gets(t,r).filter(n),a=new e(this.separator),l=r?[]:t;return i.forEach(function(o){a.add(ei(ei([],l,!0),o,!0))}),a},e.prototype.splice=function(t,n,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var l=this.get(t)||this.set(t,[]);return l.splice.apply(l,ei([n,r],i,!1)),this},e.prototype.clear=function(){this.orderMap={}},e.prototype.setObject=function(t){var n=this.orderMap;for(var r in t)n[r]=t[r].slice()},e.prototype.getObject=function(){var t={},n=this.orderMap;for(var r in n)t[r]=n[r].slice();return t},e.prototype.clone=function(){var t=new e(this.separator);return t.setObject(t.orderMap),t},e}(),Xf=function(e,t){return Xf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Xf(e,t)};function JA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ns=function(){return ns=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ns.apply(this,arguments)};function CI(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function qt(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function tm(e,t,n){var r=1-n;return n*n*n+3*n*n*r*t+3*n*r*r*e}function wI(e,t,n){for(var r=n,i=n,a=1;Math.abs(a)>1/1e3;){if(i=tm(e,t,r),a=i-n,Math.abs(a)<1/1e3)return r;r-=a/2}return r}function Ji(e,t,n,r){var i=function(a){var l=wI(e,n,_u(a,0,1));return tm(t,r,l)};return i.easingName="cubic-bezier(".concat(e,",").concat(t,",").concat(n,",").concat(r,")"),i}function Kf(e,t){var n=function(r){var i=1/e;return r>=1?1:(t==="start"?i:0)+Math.floor(r/i)*i};return n.easingName="steps(".concat(e,", ").concat(t,")"),n}var BI=Kf(1,"start"),bI=Kf(1,"end"),EI=Ji(0,0,1,1),_I=Ji(.25,.1,.25,1),SI=Ji(.42,0,1,1),II=Ji(0,0,.58,1),xI=Ji(.42,0,.58,1),rs,nm="__SCENEJS_",rm="data-scene-id",mi="animation-timing-function",im={transform:{},filter:{},attribute:{},html:!0},$A={easing:[mi]},MI=(rs={},rs[mi]=!0,rs.contents=!0,rs.html=!0,rs),am=1e6,is=1e-6,Rr="duration",qA="fillMode",as="direction",Sr="iterationCount",fr="delay",os="easing",yi="playSpeed",Fa="easingName",DI="iterationTime",$i="paused",om="ended",TI="timeupdate",sm="play",ss="running",el="iteration",ka="startAnimation",tl="pauseAnimation",Zf="alternate",Am="reverse",Jf="alternate-reverse",OI="normal",As="infinite",Ci="playState",$f="playCSS",qf="prevTime",wi="tickTime",nl="currentTime",hr="selector",lm="transform",cm={linear:EI,ease:_I,"ease-in":SI,"ease-out":II,"ease-in-out":xI,"step-start":BI,"step-end":bI},qi="_///_",FI=[Rr,qA,as,Sr,fr,os,yi],Ua=function(){function e(t,n){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",n&&this.setOptions(n),this.value=Gt(t)?t.split(this.separator):t}return e.prototype.setOptions=function(t){for(var n in t)this[n]=t[n];return this},e.prototype.size=function(){return this.value.length},e.prototype.get=function(t){return this.value[t]},e.prototype.set=function(t,n){return this.value[t]=n,this},e.prototype.clone=function(){var t=this,n=t.separator,r=t.prefix,i=t.suffix,a=t.model,l=t.type,o=this.value.map(function(c){return Na(c)?c.clone():c});return new e(o,{separator:n,prefix:r,suffix:i,model:a,type:l})},e.prototype.toValue=function(){return this.prefix+this.join()+this.suffix},e.prototype.join=function(){return this.value.map(function(t){return Na(t)?t.toValue():t}).join(this.separator)},e.prototype.forEach=function(t){return this.value.forEach(t),this},e}();function kI(e){for(var t=_o(e,";"),n={},r=t.length,i=r,a=0;a<r;++a){var l=_o(t[a],":");if(l.length<2||!l[1]){--i;continue}n[l[0].trim()]=Qr(l[1].trim())}return{styles:n,length:i}}function um(e){var t=mu;return e.length===3&&(e[3]=1),new Ua(e,{model:t,separator:",",type:"color",prefix:"".concat(t,"("),suffix:")"})}function UI(e){var t=So(e),n=t.prefix,r=t.value,i=t.suffix;if(typeof r=="undefined")return e;if(LE.indexOf(n)>-1)return um(Wg(e));var a=Qr(r,n),l=[r],o=",",c="".concat(n,"("),s=")".concat(i);return Na(a)&&(o=a.separator,l=a.value,c+=a.prefix,s=a.suffix+s),new Ua(l,{separator:o,model:n,prefix:c,suffix:s})}function eh(e,t){return new Ua(e,{type:"array",separator:t})}function LI(e){var t=Wg(e);return t?um(t):e}function Qr(e,t){if(!Gt(e))return Bn(e)?eh(e,","):e;var n=cr(e);return n.length>1?eh(n.map(function(r){return Qr(r)}),","):(n=Jr(e),n.length>1?eh(n.map(function(r){return Qr(r)})," "):(n=/^(['"])([^'"]*)(['"])$/g.exec(e),n&&n[1]===n[3]?new Ua([Qr(n[2])],{prefix:n[1],suffix:n[1]}):e.indexOf("(")!==-1?UI(e):e.charAt(0)==="#"&&t!=="url"?LI(e):e))}function fm(e,t){t===void 0&&(t={});var n=e.model;if(n){e.setOptions({model:"",suffix:"",prefix:""});var r=e.size()>1?e:e.get(0);t[n]=r}else e.forEach(function(i){fm(i,t)});return t}function ls(e){var t=typeof e;if(t===Bo){if(Bn(e))return yu;if(Na(e))return uA}else if(t===Lg||t===Pg)return"value";return t}function hm(e){return Kt(e)&&e.constructor===Object}function th(e,t){var n=[];if(hm(e))for(var r in e)t.push(r),n=n.concat(th(e[r],t)),t.pop();else n.push(t.slice());return n}function dm(e,t){for(var n in t){var r=t[n];if(!hm(r)){e[n]=!0;continue}Kt(e[n])||(e[n]={}),dm(e[n],t[n])}return e}function La(e){return Math.round(e*am)/am}function cs(e,t,n){n===void 0&&(n=e.length);for(var r=t,i=0;i<n;++i){if(!Kt(r)||r==null)return;r=r[e[i]]}return r}function gm(e,t,n){var r=t.length,i=e;if(r===0)return!1;for(var a=0;a<r;++a)if(i===!0||(i=i[t[a]],!i||!n&&i===!0))return!1;return!0}function Pa(e,t){return gm(im,e,t)}function nh(e){return gm(MI,e,!0)}function rl(e,t){e.state[$f]=t}function rh(e){return e.state[$f]&&e.isPaused()}function pm(e){return!e.isEnded()&&e.state[$f]}function vm(e){for(;;){var t="".concat(Math.floor(Math.random()*1e7));if(!fA||!e)return t;var n=dA('[data-scene-id="'.concat(t,'"]'));if(!n)return t}}function mm(e){return e.getId()||e.setId(vm(!1)).getId()}function ym(e){return"".concat(e).match(/[0-9a-zA-Z]+/g).join("")}function Cm(e,t,n,r){if(r===void 0&&(r={}),!(!Eo||e.getPlayState()===ss)){var i=n||ka;if(rh(e))e.addPlayClass(!0,i,r);else{e.isEnded()&&e.setTime(0),t&&e.exportCSS({className:i});var a=e.addPlayClass(!1,i,r);if(!a)return;PI(e,a),rl(e,!0)}e.setPlayState(ss)}}function PI(e,t){var n=e.state,r=e.getDuration(),i=!r||!isFinite(r),a=function(){rl(e,!1),e.finish()},l=function(){e.trigger(sm),Jt(t,"animationcancel",a),Jt(t,"animationend",a),Jt(t,"animationiteration",o)};e.once(om,function(){Wt(t,"animationcancel",a),Wt(t,"animationend",a),Wt(t,"animationiteration",o),Wt(t,"animationstart",l)});var o=function(c){var s=c.elapsedTime,A=s,v=i?0:A/r;n[nl]=A,e.setIteration(v)};Jt(t,"animationstart",l)}function wm(e){var t;if(Gt(e))if(e in cm)t=cm[e];else{var n=Qr(e);if(Gt(n))return 0;if(n.model==="cubic-bezier")e=n.value.map(function(r){return parseFloat(r)}),t=Ji(e[0],e[1],e[2],e[3]);else if(n.model==="steps")t=Kf(parseFloat(n.value[0]),n.value[1]);else return 0}else Bn(e)?t=Ji(e[0],e[1],e[2],e[3]):t=e;return t}function Na(e){if(!e)return!1;var t=e.constructor.prototype;return!!(t.clone&&t.get&&t.setOptions)}function Bm(e){return e&&!!e.constructor.prototype.getItem}function us(e){return e&&!!e.constructor.prototype.getFrame}function ih(e){return e&&!!e.constructor.prototype.toCSSText}function bm(e,t){var n={};for(var r in e){var i=e[r];if(ih(i))n[r]=i;else if(Kt(i)){var a=bm(i,t);for(var l in a)n["".concat(r).concat(t).concat(l)]=a[l]}}return n}function NI(e){return"length"in e&&e.length>=0}function RI(e,t,n){return function(r){var i=r.prototype;e.forEach(function(a){i[ji("get ".concat(a))]=function(){return this[n][a]}}),t.forEach(function(a){i[ji("set ".concat(a))]=function(l){return this[n][a]=l,this}})}}function Em(e,t,n){return n===Am?!0:t!==As&&e===t&&t%1===0?n===(e%2>=1?Jf:Zf):n===(e%2>=1?Zf:Jf)}var _m=["id",Sr,fr,qA,as,yi,Rr,yi,DI,Ci],QI=qt(qt([],_m,!0),[os,Fa],!1),ah=function(e){JA(t,e);function t(n){var r=e.call(this)||this;return r.timerId=0,r.state=mI({id:"",easing:0,easingName:"linear",iterationCount:1,delay:0,fillMode:"forwards",direction:OI,playSpeed:1,currentTime:0,iterationTime:-1,iteration:0,tickTime:0,prevTime:0,playState:$i,duration:0}),r.setOptions(n),r}return t.prototype.setEasing=function(n){var r=wm(n),i=r&&r[Fa]||"linear",a=this.state;return a[os]=r,a[Fa]=i,this},t.prototype.setOptions=function(n){n===void 0&&(n={});for(var r in n){var i=n[r];if(r===os){this.setEasing(i);continue}else if(r===Rr){i&&this.setDuration(i);continue}FI.indexOf(r)>-1&&(this.state[r]=i)}return this},t.prototype.getTotalDuration=function(){return this.getActiveDuration(!0)},t.prototype.getActiveDuration=function(n){var r=this.state,i=r[Sr];return i===As?1/0:(n?r[fr]:0)+this.getDuration()*i},t.prototype.isEnded=function(){return this.state[wi]===0&&this.state[Ci]===$i?!0:!(this.getTime()<this.getActiveDuration())},t.prototype.isPaused=function(){return this.state[Ci]===$i},t.prototype.start=function(n){n===void 0&&(n=this.state[fr]);var r=this.state;return r[Ci]=ss,r[wi]>=n?(this.trigger(sm),!0):!1},t.prototype.play=function(n){var r=this,i=this.state,a=i[fr],l=this.getTime();return i[Ci]=ss,this.isEnded()&&(l===0||l>=this.getActiveDuration())&&this.setTime(-a,!0),this.timerId=Hg(function(o){i[qf]=o,r.tick(o,n)}),this.start(),this},t.prototype.pause=function(){var n=this.state;return n[Ci]!==$i&&(n[Ci]=$i,this.trigger($i)),zE(this.timerId),this},t.prototype.finish=function(){return this.setTime(0),this.state[wi]=0,this.end(),this},t.prototype.end=function(){return this.pause(),this.trigger(om),this},t.prototype.setTime=function(n,r,i,a){var l=this.getActiveDuration(),o=this.state,c=o[wi],s=o[fr],A=r?n:this.getUnitTime(n);o[wi]=s+A,A<0?A=0:A>l&&(A=l),o[nl]=A,this.calculate();var v=r&&!i,B=o[wi],x=Gt(n)?parseFloat(n):n;return v&&c<s&&x>=0&&this.start(0),a==null||a(),v&&(B<c||this.isEnded())?(this.end(),this):this.isDelay()?this:(this.trigger(TI,{currentTime:A,time:this.getIterationTime(),iterationCount:o[el]}),this)},t.prototype.getTime=function(){return this.state[nl]},t.prototype.getUnitTime=function(n){if(Gt(n)){var r=this.getDuration()||100;if(n==="from")return 0;if(n==="to")return r;var i=Ur(n),a=i.unit,l=i.value;return a==="%"?(!this.getDuration()&&this.setDuration(r),La(parseFloat(n)/100*r)):a===">"?l+is:l}else return La(n)},t.prototype.isDelay=function(){var n=this.state,r=n[fr],i=n[wi];return r>0&&i<r},t.prototype.setIteration=function(n){var r=this.state,i=Math.floor(n),a=r[Sr]===As?1/0:r[Sr];return r[el]<i&&i<a&&this.trigger(el,{currentTime:r[nl],iterationCount:i}),r[el]=n,this},t.prototype.calculate=function(){var n=this.state,r=n[Sr],i=n[qA],a=n[as],l=this.getDuration(),o=this.getTime(),c=l===0?0:o/l,s=l?o%l:0;if(!l)return this.setIterationTime(0),this;this.setIteration(c);var A=Em(c,r,a),v=isFinite(l);if(v&&A&&(s=l-s),v&&r!==As){var B=i==="both"||i==="forwards";c>=r&&(s=l*(B?r%1||1:0),A&&(s=l-s))}return this.setIterationTime(s),this},t.prototype.tick=function(n,r){var i=this;if(!this.isPaused()){var a=this.state,l=a[yi],o=a[qf],c=a[fr],s=a[wi],A=s+Math.min(1e3,n-o)/1e3*l;a[qf]=n,r&&r>=A?(this.setTime(r-c,!0),this.pause()):this.setTime(A-c,!0),a[Ci]!==$i&&(this.timerId=Hg(function(v){i.tick(v,r)}))}},t=CI([RI(QI,_m,"state")],t),t}(Wi);function Sm(e,t){if(t===void 0&&(t=[]),!e)return"";var n=[],r=ui(e);return Mo(r,t),r.forEach(function(i){n.push("".concat(i.replace(/\d$/g,""),"(").concat(e[i],")"))}),n.join(" ")}function Im(e,t){return t===void 0&&(t=!1),oh({},e,t)}function oh(e,t,n){n===void 0&&(n=!1);for(var r in t){var i=t[r],a=ls(i);a===uA?e[r]=n?i.toValue():i.clone():a===wo?e[r]=n?sh([r],i):i:a===yu?e[r]=i.slice():a===Bo?Kt(e[r])&&!Na(e[r])?oh(e[r],i,n):e[r]=Im(i,n):e[r]=t[r]}return e}function il(e){return e[0]in $A?$A[e[0]]:e}function sh(e,t){var n=ls(t);if(n===uA)return t.toValue();if(n===wo){if(e[0]!==mi)return sh(e,t())}else if(n===Bo)return Im(t,!0);return t}var Ra=function(e){JA(t,e);function t(n){n===void 0&&(n={});var r=e.call(this)||this;return r.properties={},r.orderMap=new Oa(qi),r.properties={},r.set(n),r}return t.prototype.get=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.raw.apply(this,n);return sh(il(n),i)},t.prototype.getOrders=function(n){return this.orderMap.get(n)},t.prototype.setOrders=function(n,r){var i=this.orderMap.set(n,r);return this._update(),i},t.prototype.getOrderObject=function(){return this.orderMap.getObject()},t.prototype.setOrderObject=function(n){this.orderMap.setObject(n),this._update()},t.prototype.getKeys=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.raw.apply(this,n),a=ls(i)===Bo?ui(i):[];return Mo(a,this.orderMap.get(n)),a},t.prototype.gets=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=this.get.apply(this,r),l=this.getKeys.apply(this,r);return l.map(function(o){var c=a[o];return{key:o,value:c,children:n.gets.apply(n,qt(qt([],r,!1),[o],!1))}})},t.prototype.raw=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return cs(il(n),this.properties)},t.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=il(n),a=i.length;if(!a)return this;this.orderMap.remove(i);var l=cs(i,this.properties,a-1);return Kt(l)&&delete l[i[a-1]],this._update(),this},t.prototype.set=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._set.apply(this,n),this._update(),this},t.prototype.getNames=function(){return th(this.properties,[])},t.prototype.has=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=il(n),a=i.length;return a?!nr(cs(i,this.properties,a)):!1},t.prototype.clone=function(){var n=new t;return n.setOrderObject(this.orderMap.orderMap),n.merge(this)},t.prototype.merge=function(n){var r=this.properties,i=n.properties;return i&&oh(r,i),this},t.prototype.toCSSObject=function(n){var r=this.get(),i={};for(var a in r)if(!Pa([a],!0)){var l=r[a];a===mi&&(a=mi.replace("animation",Eo),l=(Gt(l)?l:l[Fa])||"initial"),n&&(a=ji(a.replace(/^[-]+/g,""))),i[a]=l}var o=Sm(r[lm],this.orderMap.get([lm])),c=Sm(r.filter,this.orderMap.get([wu]));return Rg&&o&&(i[Rg]=o),wu&&c&&(i[wu]=c),i},t.prototype.toCSSText=function(){var n=this.toCSSObject(),r=[],i=ui(n);return Mo(i,this.orderMap.get([])),i.forEach(function(a){r.push("".concat(Io(a,"-"),":").concat(n[a],";"))}),r.join("")},t.prototype.toCSS=function(){var n=this.toCSSObject(),r=[],i=ui(n);return Mo(i,this.orderMap.get([])),i.forEach(function(a){r.push("".concat(a,":").concat(n[a],";"))}),r.join("")},t.prototype.clear=function(){return this.properties={},this.orderMap.clear(),this},t.prototype._set=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this,a=n.length,l=n.slice(0,-1),o=n[a-1],c=l[0];if(a===1&&ih(o))i.merge(o);else if(c in $A)i._setByPath($A[c],o);else if(a===2&&Bn(c))i._setByPath(c,o);else if(Na(o))Pa(l)?i._set.apply(i,qt(qt([],l,!1),[fm(o)],!1)):i._setByPath(l,o);else if(Bn(o))i._setByPath(l,o);else if(Kt(o)){!i.has.apply(i,l)&&Pa(l)&&i._setByPath(l,{});for(var s in o)i._set.apply(i,qt(qt([],l,!1),[s,o[s]],!1))}else if(Gt(o)){if(Pa(l,!0)){if(nh(l)||!Pa(l))this._setByPath(l,o);else{var A=Qr(o);Kt(A)&&i._set.apply(i,qt(qt([],l,!1),[A],!1))}return this}else{var v=kI(o),B=v.styles,x=v.length;for(var M in B)i._set.apply(i,qt(qt([],l,!1),[M,B[M]],!1));if(x)return this}i._setByPath(l,o)}else i._setByPath(l,o)},t.prototype._setByPath=function(n,r){for(var i=this.properties,a=n.length,l=0;l<a-1;++l){var o=n[l];!(o in i)&&(i[o]={}),i=i[o]}if(!!a){var c=n[a-1];this.orderMap.add(n),a===1&&c===mi?i[c]=wm(r):i[c]=Gt(r)&&!nh(n)?Qr(r,c):r}},t.prototype._update=function(){this.emit("update")},t}(Wi);function Ah(e,t,n,r){var i=t.length;return e.map(function(a,l){return l>=i?a:fs(a,t[l],n,r)})}function HI(e,t,n,r){var i=e.value,a=t.value,l=e.model,o=t.model;if(l!==o)return fs(e.toValue(),t.toValue(),n,r);i.length===3&&(i[3]=1),a.length===3&&(a[3]=1);for(var c=Ah(i,a,n,r),s=l,A=0;A<3;++A)c[A]=parseInt(c[A],10);var v=new Ua(c,{type:"color",model:s,prefix:"".concat(s,"("),suffix:")"});return v}function jI(e,t,n,r){var i=e.type;if(i==="color")return HI(e,t,n,r);var a=e.value,l=t.value,o=Ah(a,l,n,r);return new Ua(o,{type:i,separator:e.separator||t.separator,prefix:e.prefix||t.prefix,suffix:e.suffix||t.suffix,model:e.model||t.model})}function fs(e,t,n,r){if(r===0)return t;if(n===0||n+r===0)return e;var i=ls(e),a=ls(t),l=i===wo,o=a===wo;if(l||o)return function(){return fs(l?Qr(e()):e,o?Qr(t()):t,n,r)};if(i===a){if(i===uA)return jI(e,t,n,r);if(i===yu)return Ah(e,t,n,r);if(i!=="value")return e}else return e;var c=Ur("".concat(e)),s=Ur("".concat(t)),A;if(isNaN(c.value)||isNaN(s.value))return e;A=Bu(c.value,s.value,n,r);var v=c.prefix||s.prefix,B=c.unit||s.unit;return!v&&!B?A:v+A+B}function zI(e,t,n,r,i,a){if(e===t)return r;if(e===n)return i;if(!a)return fs(r,i,e-t,n-e);var l=a((e-t)/(n-t)),o=fs(r,i,l,1-l);return o}function xm(e,t){for(var n=e.length,r=0;r<n;++r){if(e[r]===t)return[r,r];if(e[r]>t)return[r>0?r-1:0,r]}return[n-1,n-1]}function Mm(e){var t=[];for(var n in e)t.push("".concat(Eo,"-").concat(Io(n),":").concat(e[n],";"));return t.join("")}function VI(e,t){for(var n=e.length,r=0;r<n;++r)if(t<e[r]){e.splice(r,0,t);return}e[n]=t}function lh(e,t,n){var r=e[e.length-1];(!r||r[0]!==t||r[1]!==n)&&e.push([La(t),La(n)])}function GI(e,t){var n=e.map(function(i){return[i,i]}),r=[];return t.forEach(function(i){for(var a=i[Sr],l=i[fr],o=i[yi],c=i[as],s=Math.ceil(a),A=n[n.length-1][0],v=n.length,B=A*a,x=0;x<s;++x)for(var M=c===Am||c===Zf&&x%2||c===Jf&&!(x%2),T=0;T<v;++T){var p=n[M?v-T-1:T],u=p[1],g=A*x+(M?A-p[0]:p[0]),C=n[M?v-T:T-1];if(g>B){if(T!==0){var f=A*x+(M?A-C[0]:C[0]),d=Bu(C[1],u,B-f,g-B);lh(r,(l+A*a)/o,d)}break}else if(g===B&&r.length&&r[r.length-1][0]===B+l)break;lh(r,(l+g)/o,u)}l&&r.unshift([0,r[0][1]]),n=r,r=[]}),n}var WI=function(e){JA(t,e);function t(n,r){var i=e.call(this)||this;return i.times=[],i.items={},i.nameMap=new Oa(qi),i.elements=[],i.needUpdate=!0,i.registeredElement=!1,i.load(n,r),i}return t.prototype.getDuration=function(){var n=this.times,r=n.length;return(r===0?0:n[r-1])||this.state[Rr]},t.prototype.size=function(){return this.times.length},t.prototype.setDuration=function(n){if(!n)return this;var r=this.getDuration();if(r>0){var i=n/r,a=this,l=a.times,o=a.items,c={};this.times=l.map(function(s){var A=La(s*i);return c[A]=o[s],A}),this.items=c}else this.newFrame(n);return this},t.prototype.setId=function(n){var r=this.state,i=this.elements,a=i.length;if(r.id=n||vm(!!a),a&&!r[hr]){var l=ym(this.getId());r[hr]="[".concat(rm,'="').concat(l,'"]'),i.forEach(function(o){o.setAttribute(rm,l)})}return this},t.prototype.set=function(n){for(var r=this,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(us(n))return this.set(0,n);if(Bn(n))for(var l=n.length,o=0;o<l;++o){var c=l===1?0:this.getUnitTime("".concat(o/(l-1)*100,"%"));this.set(c,n[o])}else if(Kt(n)){var s=function(v){var B=n[v];cr(v).forEach(function(x){var M=r.getUnitTime(x);isNaN(M)?th(B,[x]).forEach(function(T){for(var p,u=cs(T.slice(1),B),g=Bn(u)?u:[cs(T,r.target),u],C=g.length,f=0;f<C;++f)(p=r.newFrame("".concat(f/(C-1)*100,"%"))).set.apply(p,qt(qt([],T,!1),[g[f]],!1))}):r.set(M,B)})};for(var c in n)s(c)}else if(!nr(n)){var A=i[0];cr(n+"").forEach(function(v){var B=r.getUnitTime(v);if(us(A)){var x=A.getDelay(),M=A.toObject(!r.hasFrame(B+x)),T=A.getDuration(),p=A.getDirection(),u=p.indexOf("reverse")>-1;for(var g in M){var C=u?T-parseFloat(g):parseFloat(g);r.set(B+C,M[g])}}else if(i.length===1&&Bn(A))A.forEach(function(d){r.set(B,d)});else{var f=r.newFrame(B);f.set.apply(f,i)}})}return this.needUpdate=!0,this},t.prototype.get=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this.getFrame(n);return a&&a.get.apply(a,r)},t.prototype.getOrders=function(n){return this.needUpdate&&this.update(),this.nameMap.get(n)},t.prototype.setOrders=function(n,r){this.needUpdate&&this.update();var i=this.nameMap.set(n,r);return this.updateFrameOrders(),i},t.prototype.getOrderObject=function(){return this.nameMap.getObject()},t.prototype.setOrderObject=function(n){this.nameMap.setObject(n),this.updateFrameOrders()},t.prototype.remove=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(r.length){var a=this.getFrame(n);a&&a.remove.apply(a,r)}else this.removeFrame(n);return this.needUpdate=!0,this},t.prototype.append=function(n){return us(n)?this.set(this.getDuration(),n):this.append(new t(n)),this},t.prototype.prepend=function(n){if(us(n)){var r=n.getDuration()+n.getDelay(),i=this.getFrame(0);this.removeFrame(0),this.unshift(r),this.set(0,n),this.set(r+is,i)}else this.prepend(new t(n));return this},t.prototype.unshift=function(n){var r=this,i=r.times,a=r.items,l={};return this.times=i.map(function(o){var c=La(n+o);return l[c]=a[o],c}),this.items=l,this},t.prototype.toObject=function(n){n===void 0&&(n=!0);var r={},i=this.getDelay();return this.forEach(function(a,l){r[(!l&&!n?is:0)+i+l]=a.clone()}),r},t.prototype.setSelector=function(n){return this.setElement(n),this},t.prototype.getElements=function(){return this.elements},t.prototype.setElements=function(n){return this.setElement(n)},t.prototype.setElement=function(n){n!==!0&&this.registeredElement!==n&&(this.registeredElement=n);var r=this.state,i=this.registeredElement,a=n,l=[];if(Gn(i)&&(a=i(this.getId(),0)),a){if(a===!0||Gt(a)){var o=Gt(r[hr])&&r[hr]||"".concat(r.id),c=a===!0?o:a,s=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(c);try{l=Eu(dA(s?s[1]:c,!0))}catch{l=[]}r[hr]=c}else if(NI(a))l=Eu(a);else if(a instanceof Element)l=[a];else if("current"in a||"value"in a){var A=a.current||a.value;A?l=[A]:l=[]}}else return this;return l.length?(this.elements=l,this.setId(this.getId()),this.target=l[0].style,this.targetFunc=function(v){var B=v.get("attribute");if(B){var x=function(u){l.forEach(function(g){g.setAttribute(u,B[u])})};for(var M in B)x(M)}if(v.has("html")){var T=v.get("html");l.forEach(function(u){u.innerHTML=T})}var p=v.toCSSText();if(r.cssText!==p)return r.cssText=p,l.forEach(function(u){u.style.cssText+=p}),v},this):this},t.prototype.setTarget=function(n){return this.target=n,this.targetFunc=function(r){var i=r.get();for(var a in i)n[a]=i[a]},this},t.prototype.setCSS=function(n,r){return r===void 0&&(r=[]),this.set(n,KE(this.elements,r)),this},t.prototype.setTime=function(n,r,i,a){var l=this;return e.prototype.setTime.call(this,n,r,i,function(){var o=l.getIterationTime(),c=l.getEasing()||a,s=l.getNowFrame(o,c),A=l.getTime();l.temp=s,l.trigger("animate",{frame:s,currentTime:A,time:o}),l.targetFunc&&l.targetFunc(s)}),this},t.prototype.update=function(){var n=this.nameMap,r={};this.forEach(function(l){dm(r,l.properties)});var i=new Oa(qi);function a(l,o){var c=ui(l);Mo(c,n.get(o)),i.set(o,c),c.forEach(function(s){var A=l[s];Kt(A)&&a(A,qt(qt([],o,!0),[s],!1))})}return a(r,[]),this.nameMap=i,this.forEach(function(l){l.setOrderObject(i.orderMap)}),this.needUpdate=!1,this},t.prototype.newFrame=function(n){var r=this.getFrame(n);return r||(r=new Ra,this.setFrame(n,r),r)},t.prototype.setFrame=function(n,r){var i=this.getUnitTime(n);return this.items[i]=r,VI(this.times,i),this.needUpdate=!0,this},t.prototype.getFrame=function(n){return this.items[this.getUnitTime(n)]},t.prototype.removeFrame=function(n){var r=this.getUnitTime(n),i=this.items,a=this.times.indexOf(r);return delete i[r],a>-1&&this.times.splice(a,1),this.needUpdate=!0,this},t.prototype.hasFrame=function(n){return this.getUnitTime(n)in this.items},t.prototype.hasName=function(n){return this.needUpdate&&this.update(),!!this.nameMap.hasName(n)},t.prototype.mergeFrame=function(n,r){if(r){var i=this.newFrame(n);i.merge(r)}return this},t.prototype.getNowFrame=function(n,r,i){var a=this;this.needUpdate&&this.update();var l=new Ra,o=xm(this.times,n),c=o[0],s=o[1],A=this.getEasing()||r,v=this.nameMap;if(this.hasName([mi])){var B=this.getNowValue(n,[mi],c,s,!1,0,!0);Gn(B)&&(A=B)}if(i){var x=this.getFrame(n),M=x.orderMap.filter([],function(g){return x.has.apply(x,g)});for(var T in im){var p=v.get([T]);M.get([T])&&p&&M.set([T],p)}v=M}var u=v.gets([]);return l.setOrderObject(v.orderMap),u.forEach(function(g){var C=a.getNowValue(n,g,c,s,i,A,nh(g));nr(C)||l.set(g,C)}),l},t.prototype.getCurrentFrame=function(n,r){var i=this.getIterationTime(),a=n||this.needUpdate||!this.temp?this.getComputedFrame(i,r):this.temp;return this.temp=a,a},t.prototype.getComputedFrame=function(n,r,i){return this.getNowFrame(n,r,i)},t.prototype.load=function(n,r){var i;if(n===void 0&&(n={}),r===void 0&&(r=n.options),r&&this.setOptions(r),Bn(n))this.set(n);else if(n.keyframes)this.set(n.keyframes);else for(var a in n)a!=="options"&&this.set((i={},i[a]=n[a],i));return r&&r[Rr]&&this.setDuration(r[Rr]),this},t.prototype.clone=function(){var n=new t;return n.setOptions(this.state),n.setOrderObject(this.nameMap.orderMap),this.forEach(function(r,i){n.setFrame(i,r.clone())}),n},t.prototype.forEach=function(n){var r=this.times,i=this.items;return r.forEach(function(a){n(i[a],a,i)}),this},t.prototype.setOptions=function(n){n===void 0&&(n={}),e.prototype.setOptions.call(this,n);var r=n.id,i=n.selector,a=n.elements,l=n.element,o=n.target;return r&&this.setId(r),o?this.setTarget(o):i&&!this.state.noRegisterElement?this.setSelector(i):(a||l)&&this.setElement(a||l),this},t.prototype.toCSS=function(n,r,i){n===void 0&&(n={className:ka}),r===void 0&&(r=this.getDuration()),i===void 0&&(i=[]);var a=this.state,l=a[hr];if(!l)return"";var o=this.getDuration();a[Rr]=o,i.push(a);var c=Eu(i).reverse(),s=ym(mm(this)),A=i[0],v=Br(c,function(I){return I[Sr]===As||!isFinite(I[Rr])},i.length-1),B=c.slice(0,v),x=r||B.reduce(function(I,y){return(y[fr]+I*y[Sr])/y[yi]},o),M=c.slice(v).reduce(function(I,y){return(I+y[fr])/y[yi]},0),T=zi(c,function(I){return I[os]&&I[Fa]},a)[Fa],p=c[v][Sr],u=A[qA],g=c[v][as],C=Mm({fillMode:u,direction:g,iterationCount:p,delay:"".concat(M,"s"),name:"".concat(nm,"KEYFRAMES_").concat(s),duration:"".concat(x/A[yi],"s"),timingFunction:T}),f=cr(l).map(function(I){var y=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(I);return y?[y[1],y[2]]:[I,""]}),d=n.className,h=n.selector,w=Gn(h)?h(this,l):h;return`
    `.concat(w||f.map(function(I){var y=I[0],D=I[1];return"".concat(y,".").concat(d).concat(D)})," {").concat(C,`}
    `).concat(f.map(function(I){var y=I[0],D=I[1];return"".concat(y,".").concat(tl).concat(D)})," {").concat(Eo,`-play-state: paused;}
    @`).concat(PE," ").concat(nm,"KEYFRAMES_").concat(s,"{").concat(this._toKeyframes(x,B,g),"}")},t.prototype.exportCSS=function(n,r,i){if(!this.elements.length)return"";var a=this.toCSS(n,r,i),l=i&&!nr(i[Sr]);return l||(this.styledInjector&&(this.styledInjector.destroy(),this.styledInjector=null),this.styled=EA(a),this.styledInjector=this.styled.inject(this.getAnimationElement(),{original:!0})),this},t.prototype.pause=function(){return e.prototype.pause.call(this),rh(this)&&this.pauseCSS(),this},t.prototype.pauseCSS=function(){return this.elements.forEach(function(n){To(n,tl)}),this},t.prototype.endCSS=function(){return this.elements.forEach(function(n){va(n,tl),va(n,ka)}),rl(this,!1),this},t.prototype.end=function(){return pm(this)&&this.endCSS(),e.prototype.end.call(this),this},t.prototype.playCSS=function(n,r,i){return n===void 0&&(n=!0),i===void 0&&(i={}),Cm(this,n,r,i),this},t.prototype.getAnimationElement=function(){return this.elements[0]},t.prototype.addPlayClass=function(n,r,i){i===void 0&&(i={});var a=this.elements,l=a.length,o=Mm(i);if(!!l)return n?a.forEach(function(c){va(c,tl)}):(a.forEach(function(c){c.style.cssText+=o,Wn(c,ka)&&va(c,ka)}),a.forEach(function(c){c.clientWidth}),a.forEach(function(c){To(c,ka)})),a[0]},t.prototype.clear=function(){return this.times=[],this.items={},this.nameMap=new Oa(qi),this.styledInjector&&this.styledInjector.destroy(),this.styled=null,this.styledInjector=null,this.temp=null,this.needUpdate=!0,this},t.prototype.getNowValue=function(n,r,i,a,l,o,c){var s=this.times,A=s.length,v,B,x,M,T=nr(i),p=nr(a);if(T||p){var u=xm(s,n);T&&(i=u[0]),p&&(a=u[1])}for(var g=i;g>=0;--g){var C=this.getFrame(s[g]);if(C.has.apply(C,r)){v=s[g],x=C;break}}var f=x&&x.raw.apply(x,r);if(l&&!Pa([r[0]]))return v===n?f:void 0;if(c)return f;for(var g=a;g<A;++g){var C=this.getFrame(s[g]);if(C.has.apply(C,r)){B=s[g],M=C;break}}var d=M&&M.raw.apply(M,r);return!x||nr(f)?d:!M||nr(d)||f===d?f:zI(n,Math.max(v,0),B,f,d,o)},t.prototype._toKeyframes=function(n,r,i){var a=this,l={},o=this.times.slice();if(!o.length)return"";var c=this.getDuration();!this.getFrame(0)&&o.unshift(0),!this.getFrame(c)&&o.push(c);var s=GI(o,r),A=s[s.length-1];A[0]<n&&lh(s,n,A[1]);var v=-1;return s.map(function(B){var x=B[0],M=B[1];l[M]||(l[M]=(!a.hasFrame(M)||M===0||M===c?a.getNowFrame(M):a.getNowFrame(M,0,!0)).toCSSText());var T=x/n*100;return T-v<is&&(T+=is),v=T,"".concat(Math.min(T,100),`%{
                `).concat(x===0&&!Em(0,1,i)?"":l[M],`
            }`)}).join("")},t.prototype.updateFrameOrders=function(){var n=this.nameMap.orderMap;this.forEach(function(r){r.setOrderObject(n)})},t}(ah),Dm=function(e){JA(t,e);function t(n,r){var i=e.call(this)||this;return i.items={},i.orderMap=new Oa(qi),i.load(n,r),i}return t.prototype.getDuration=function(){var n=0;return this.forEach(function(r){n=Math.max(n,r.getTotalDuration()/r.getPlaySpeed())}),n||this.state[Rr]},t.prototype.setDuration=function(n){this.items;var r=this.getDuration();if(n===0||!isFinite(r))return this;if(r===0)this.forEach(function(a){a.setDuration(n)});else{var i=n/r;this.forEach(function(a){a.setDelay(a.getDelay()*i),a.setDuration(a.getDuration()*i)})}return e.prototype.setDuration.call(this,n),this},t.prototype.getItem=function(n){return this.items[n]},t.prototype.newItem=function(n,r){if(r===void 0&&(r={}),this.items[n])return this.items[n];var i=new WI;return this.setItem(n,i),i.setOptions(r),i},t.prototype.removeItem=function(n){return delete this.items[n],this.orderMap.remove([n]),this},t.prototype.setItem=function(n,r){return r.setId(n),this.items[n]=r,this.orderMap.add([n]),this},t.prototype.getCurrentFrames=function(n,r){var i=this.getEasing()||r,a={};return this.forEach(function(l){var o=l.getId();Bm(l)?a[o]=l.getCurrentFrames(n,i):a[o]=l.getCurrentFrame(n,i)}),this.temp=a,a},t.prototype.getCurrentFlattedFrames=function(n,r){var i=this.getCurrentFrames(n,r);return bm(i,qi)},t.prototype.setTime=function(n,r,i,a){var l=this;return e.prototype.setTime.call(this,n,r,i,function(){var o=l.getIterationTime(),c=l.getEasing()||a;l.forEach(function(A){A.setTime(o*A.getPlaySpeed()-A.getDelay(),r,!0,c)});var s=l.getCurrentFrames(!1,a);l.trigger("animate",{frames:s,currentTime:l.getTime(),time:o})}),this},t.prototype.forEach=function(n){var r=this.items;return this.getOrders().forEach(function(i,a){n(r[i],i,a,r)}),this},t.prototype.toCSS=function(n,r,i){r===void 0&&(r=this.getDuration()),i===void 0&&(i=[]);var a=!r||!isFinite(r)?0:r,l=[],o=this.state;return o[Rr]=this.getDuration(),this.forEach(function(c){l.push(c.toCSS(n,a,i.concat(o)))}),l.join("")},t.prototype.exportCSS=function(n,r,i){var a=this.toCSS(n,r,i);return(!i||!i.length)&&(this.styledInjector&&(this.styledInjector.destroy(),this.styledInjector=null),this.styled=EA(a),this.styledInjector=this.styled.inject(this.getAnimationElement(),{original:!0})),this},t.prototype.append=function(n){n.setDelay(n.getDelay()+this.getDuration()),this.setItem(mm(n),n)},t.prototype.pauseCSS=function(){return this.forEach(function(n){n.pauseCSS()})},t.prototype.pause=function(){return e.prototype.pause.call(this),rh(this)&&this.pauseCSS(),this.forEach(function(n){n.pause()}),this},t.prototype.endCSS=function(){this.forEach(function(n){n.endCSS()}),rl(this,!1)},t.prototype.end=function(){return pm(this)&&this.endCSS(),e.prototype.end.call(this),this},t.prototype.getOrders=function(){return this.orderMap.get([])||[]},t.prototype.setOrders=function(n){return this.orderMap.set([],n)},t.prototype.getAnimationElement=function(){var n;return this.forEach(function(r){var i=r.getAnimationElement();!n&&(n=i)}),n},t.prototype.addPlayClass=function(n,r,i){i===void 0&&(i={});var a;return this.forEach(function(l){var o=l.addPlayClass(n,r,i);!a&&(a=o)}),a},t.prototype.playCSS=function(n,r,i){return n===void 0&&(n=!0),i===void 0&&(i={}),Cm(this,n,r,i),this},t.prototype.set=function(n){return this.load(n),this},t.prototype.clear=function(){this.finish(),this.items={},this.orderMap=new Oa(qi),this.styledInjector&&this.styledInjector.destroy(),this.styled=null,this.styledInjector=null},t.prototype.load=function(n,r){if(n===void 0&&(n={}),r===void 0&&(r=n.options),!n)return this;this.setOptions(r);var i=r&&r[hr]||this.state[hr],a=function(c){if(c==="options")return"continue";var s=n[c],A=void 0;if(Bm(s)||us(s))l.setItem(c,s),A=s;else if(Gn(s)){var v=[];i&&fA&&(l.state.noRegisterElement||(v=dA("".concat(Gn(i)?i(c):c),!0)));for(var B=v.length,x=B||s.defaultCount||0,M=new t,T=[],p=0;p<x;++p){var u=v[p],g=M.newItem(p);g.setId().load(s(p,v[p])),T.push(g.getId()),u&&g.setElement(u)}if(!B){var C=[];M.state[hr]=function(f){return C.length||(C=dA("".concat(Gn(i)?i(c):c),!0)),C[T.indexOf(f)]}}return l.setItem(c,M),"continue"}else A=l.newItem(c,{noRegisterElement:!0}),A.load(s);l.state.noRegisterElement||i&&A.setSelector(i)},l=this;for(var o in n)a(o)},t.prototype.setOptions=function(n){n===void 0&&(n={}),e.prototype.setOptions.call(this,n);var r=n.selector;return r&&(this.state[hr]=r),this},t.prototype.setSelector=function(n){var r=this.state,i=n===!0?r[hr]||!0:n;r[hr]=i;var a=Gn(n);return i&&this.forEach(function(l,o){l.setSelector(a?n(o):i)}),this},t.prototype.start=function(n){n===void 0&&(n=this.state[fr]);var r=e.prototype.start.call(this,n);return r?this.forEach(function(i){i.start(0)}):this.forEach(function(i){i.setPlayState(ss)}),r},t.VERSION="1.10.3",t}(ah);function hs(e){var t=e.prototype;return ui(t).filter(function(n){var r=Object.getOwnPropertyDescriptor(t,n);return n==="constructor"?!1:!r.get&&!r.set&&Gn(r.value||t[n])})}var YI=hs(Wi),ch=qt(qt([],YI,!0),hs(ah),!0);qt(qt([],ch,!0),hs(Dm),!0),qt(qt([],ch,!0),hs(Dm),!0);var Tm=qt(qt([],ch,!0),hs(Ra),!0),Om={methods:Tm,created:function(e){var t=Gn(e)?e():e,n=es(0),r;em(t)?r=t:r=es(ih(t)?t:new Ra(t));var i=Wf(function(){return r.current,n.current,r.current.toCSSText()}),a=Wf(function(){return r.current,i.current,r.current.toCSSObject()}),l=Wf(function(){return r.current,i.current,r.current.toCSSObject(!0)}),o=function(){++n.current};r.subscribe(function(s,A){A.off("update",o),s.on("update",o)});var c=yI(ns({cssText:i,cssObject:a,camelCasedCSSObject:l,onUpdate:o},Tm.reduce(function(s,A){return s[A]=function(){for(var v,B=[],x=0;x<arguments.length;x++)B[x]=arguments[x];var M=r.current;return M==null?void 0:(v=M[A]).call.apply(v,qt([M],B,!1))},s},{})));return c},destroy:function(e){e.off("update",e.onUpdate)}};ns(ns({},Om),{created:function(e){var t=Gn(e)?e():e,n=es(new Ra);return t.on("animate",function(r){n.current=r.frame}),Om.created(n)}});/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var uh=function(){return uh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},uh.apply(this,arguments)};function XI(e,t){var n=e.getOrders(["transform"])||[];return n.indexOf(t)}var KI=function(){function e(n){var r=this;n===void 0&&(n={}),this.map=new Map,this.onBeforeRenderStart=function(i){var a=r.testFrame(i);i.setTransform(a.toCSSObject().transform||"")},this.onBeforeRenderGroupStart=function(i){i.events.forEach(function(a){r.onBeforeRenderStart(a)})},this.onDragStart=function(i){var a=r.testFrame(i);if(!a)return!1;r.setTranasform(i,a,"translate")},this.onDrag=function(i){r.testDrag(i),r.testRender(i.target)},this.onDragGroupStart=function(i){i.events.forEach(function(a){r.onDragStart(a)})},this.onDragGroup=function(i){i.events.forEach(function(a){r.onDrag(a)})},this.onResizeStart=function(i){i.dragStart&&r.onDragStart(i.dragStart),i.setOrigin(["%","%"])},this.onResize=function(i){r.testResize(i),r.testRender(i.target)},this.onResizeGroupStart=function(i){i.events.forEach(function(a){r.onResizeStart(a)})},this.onResizeGroup=function(i){i.events.forEach(function(a){r.onResize(a)})},this.onScaleStart=function(i){var a=r.testFrame(i);if(!a)return!1;r.setTranasform(i,a,"scale"),i.dragStart&&r.onDragStart(i.dragStart)},this.onScale=function(i){r.testScale(i),r.testRender(i.target)},this.onScaleGroupStart=function(i){i.events.forEach(function(a){r.onScaleStart(a)})},this.onScaleGroup=function(i){i.events.forEach(function(a){r.onScale(a)})},this.onRotateStart=function(i){var a=r.testFrame(i);if(!a)return!1;r.setTranasform(i,a,"rotate"),i.dragStart&&r.onDragStart(i.dragStart)},this.onRotate=function(i){r.testRotate(i),r.testRender(i.target)},this.onRotateGroupStart=function(i){i.events.forEach(function(a){r.onRotateStart(a)})},this.onRotateGroup=function(i){i.events.forEach(function(a){r.onRotate(a)})},this.onClip=function(i){var a=r.testFrame(i);i.clipType==="rect"?a.set("clip",i.clipStyle):a.set("clip-path",i.clipStyle),r.testRender(i.target)},this.onDragOriginStart=function(i){i.dragStart&&r.onDragStart(i.dragStart)},this.onDragOrigin=function(i){var a=r.testFrame(i);a.set("transform-origin",i.transformOrigin),r.testDrag(i.drag),r.testRender(i.target)},this.onRound=function(i){var a=r.testFrame(i);a.set("border-radius",i.borderRadius),r.testRender(i.target)},this.onWarpStart=function(i){var a=r.testFrame(i);if(!a)return!1;r.setTranasform(i,a,"matrix3d")},this.onWarp=function(i){var a=r.testFrame(i);a.set("transform","matrix3d",i.matrix.join(", ")),r.testRender(i.target)},this.onRender=function(i){var a=i.target,l=r.getFrame(a);!a||!l||r.render(a,l)},this.options=uh({useBeforeRender:!1,useRender:!1,createAuto:!0},n)}var t=e.prototype;return e.create=function(n){return new e(n)},t.render=function(n,r){if(r===void 0&&(r=this.getFrame(n)),n.style.cssText+=r.toCSS(),"ownerSVGElement"in n&&n.tagName.toLowerCase()!=="svg"){var i=r.getOrders(["transform"]);n.setAttribute("transform",i.map(function(a){var l=r.get("transform",a);return a+"("+l.split(",").map(function(o){return parseFloat(o)}).join(", ")+")"}).join(" "))}},t.clear=function(){this.map.clear()},t.getTargets=function(){return this.map.keys()},t.getFrames=function(){return this.map.values()},t.getFrame=function(n){return this.map.get(n)},t.setFrame=function(n,r){return this.map.set(n,r)},t.removeFrame=function(n){this.map.delete(n)},t.createFrame=function(n,r){r===void 0&&(r={});var i=new Ra({transform:{translate:"0px, 0px",rotate:"0deg",scale:"1, 1"}});return i.set(r),this.map.set(n,i),i},t.setElements=function(n){for(var r=Gt(n)?document.querySelectorAll(n):n,i=r.length,a=this.map,l=0;l<i;++l){var o=r[l];a.has(o)||this.createFrame(o)}},t.testFrame=function(n){var r=n.target,i=this.getFrame(r);if(i)return i;if(!this.options.createAuto&&n.stop){n.stop();return}return this.createFrame(r)},t.testDrag=function(n){var r=n.target,i=n.translate,a=this.getFrame(r),l=i[0]+"px",o=i[1]+"px";a.has("transform","translate")?a.set("transform","translate",l+","+o):(a.set("transform","translateX",l),a.set("transform","translateY",o))},t.testResize=function(n){var r=n.target,i=this.getFrame(r);i.set("width",n.width+"px"),i.set("height",n.height+"px"),this.testDrag(n.drag)},t.testScale=function(n){var r=this.testFrame(n),i=n.scale;this.testDrag(n.drag),r.set("transform","scale",i[0]+","+i[1])},t.testRotate=function(n){var r=this.testFrame(n),i=n.rotate;this.testDrag(n.drag),r.set("transform","rotate",i+"deg")},t.testRender=function(n,r){r===void 0&&(r=this.getFrame(n)),this.options.useRender||this.render(n,r)},t.setTranasform=function(n,r,i){var a=XI(r,i);this.options.useBeforeRender?n.setTransformIndex(a):n.setTransform(r.toCSSObject().transform||[],a)},e}(),ZI=KI,fh=function(e,t){return fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},fh(e,t)};function JI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function $I(e,t){return t={exports:{}},e(t,t.exports),t.exports}var ds=$I(function(e,t){function n(c){if(c&&typeof c=="object"){var s=c.which||c.keyCode||c.charCode;s&&(c=s)}if(typeof c=="number")return l[c];var A=String(c),v=r[A.toLowerCase()];if(v)return v;var v=i[A.toLowerCase()];if(v)return v;if(A.length===1)return A.charCodeAt(0)}n.isEventKey=function(s,A){if(s&&typeof s=="object"){var v=s.which||s.keyCode||s.charCode;if(v==null)return!1;if(typeof A=="string"){var B=r[A.toLowerCase()];if(B)return B===v;var B=i[A.toLowerCase()];if(B)return B===v}else if(typeof A=="number")return A===v;return!1}},t=e.exports=n;var r=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)r[a-48]=a;for(a=1;a<13;a++)r["f"+a]=a+111;for(a=0;a<10;a++)r["numpad "+a]=a+96;var l=t.names=t.title={};for(a in r)l[r[a]]=a;for(var o in i)r[o]=i[o]});ds.code,ds.codes,ds.aliases;var qI=ds.names;ds.title;var Fm={"+":"plus","left command":"meta","right command":"meta"},km={shift:1,ctrl:2,alt:3,meta:4};function Um(e,t){var n=(qI[e]||t||"").toLowerCase();for(var r in Fm)n=n.replace(r,Fm[r]);return n.replace(/\s/g,"")}function Lm(e,t){t===void 0&&(t=Um(e.keyCode,e.key));var n=ex(e);return n.indexOf(t)===-1&&n.push(t),n.filter(Boolean)}function ex(e){var t=[e.shiftKey&&"shift",e.ctrlKey&&"ctrl",e.altKey&&"alt",e.metaKey&&"meta"];return t.filter(Boolean)}function Pm(e){var t=e.slice();return t.sort(function(n,r){var i=km[n]||5,a=km[r]||5;return i-a}),t}var Nm,tx=function(e){JI(t,e);function t(r){r===void 0&&(r=window);var i=e.call(this)||this;return i.container=r,i.ctrlKey=!1,i.altKey=!1,i.shiftKey=!1,i.metaKey=!1,i.clear=function(){return i.ctrlKey=!1,i.altKey=!1,i.shiftKey=!1,i.metaKey=!1,i},i.keydownEvent=function(a){i.triggerEvent("keydown",a)},i.keyupEvent=function(a){i.triggerEvent("keyup",a)},i.blur=function(){i.clear(),i.trigger("blur")},Jt(r,"blur",i.blur),Jt(r,"keydown",i.keydownEvent),Jt(r,"keyup",i.keyupEvent),i}var n=t.prototype;return Object.defineProperty(t,"global",{get:function(){return Nm||(Nm=new t)},enumerable:!1,configurable:!0}),t.setGlobal=function(){return this.global},n.destroy=function(){var r=this.container;this.clear(),this.off(),Wt(r,"blur",this.blur),Wt(r,"keydown",this.keydownEvent),Wt(r,"keyup",this.keyupEvent)},n.keydown=function(r,i){return this.addEvent("keydown",r,i)},n.offKeydown=function(r,i){return this.removeEvent("keydown",r,i)},n.offKeyup=function(r,i){return this.removeEvent("keyup",r,i)},n.keyup=function(r,i){return this.addEvent("keyup",r,i)},n.addEvent=function(r,i,a){return Bn(i)?this.on("".concat(r,".").concat(Pm(i).join(".")),a):Gt(i)?this.on("".concat(r,".").concat(i),a):this.on(r,i),this},n.removeEvent=function(r,i,a){return Bn(i)?this.off("".concat(r,".").concat(Pm(i).join(".")),a):Gt(i)?this.off("".concat(r,".").concat(i),a):this.off(r,i),this},n.triggerEvent=function(r,i){this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey;var a=Um(i.keyCode,i.key),l=a==="ctrl"||a==="shift"||a==="meta"||a==="alt",o={key:a,isToggle:l,inputEvent:i,keyCode:i.keyCode,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey};this.trigger(r,o),this.trigger("".concat(r,".").concat(a),o);var c=Lm(i,a);c.length>1&&this.trigger("".concat(r,".").concat(c.join(".")),o)},t}(Wi),nx=tx,hh=function(e,t){return hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hh(e,t)};function Rm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var vn=function(){return vn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},vn.apply(this,arguments)};function rx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ix(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function gs(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function ax(e){if("touches"in e){var t=e.touches[0]||e.changedTouches[0];return{clientX:t.clientX,clientY:t.clientY}}else return{clientX:e.clientX,clientY:e.clientY}}function ox(e){if(typeof Map=="undefined")return e.filter(function(n,r){return e.indexOf(n)===r});var t=new Map;return e.filter(function(n){return t.has(n)?!1:(t.set(n,!0),!0)})}function sx(e,t,n){var r=$r(e);return r.elementFromPoint&&r.elementFromPoint(t,n)||null}function Qm(e,t,n){var r=e.tag,i=e.children,a=e.attributes,l=e.className,o=e.style,c=t||$r(n).createElement(r);for(var s in a)c.setAttribute(s,a[s]);var A=c.children;if(i.forEach(function(B,x){Qm(B,A[x],c)}),l&&l.split(/\s+/g).forEach(function(B){B&&!Wn(c,B)&&To(c,B)}),o){var v=c.style;for(var s in o)v[s]=o[s]}return!t&&n&&n.appendChild(c),c}function Ax(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t||{},a=i.className,l=a===void 0?"":a,o=i.style,c=o===void 0?{}:o,s=rx(i,["className","style"]);return{tag:e,className:l,style:c,attributes:s,children:n}}function dh(e,t,n){e!==t&&n(e,t)}function Hm(e,t,n){var r;n===void 0&&(n=e.data.boundArea);var i=e.distX,a=i===void 0?0:i,l=e.distY,o=l===void 0?0:l,c=e.data,s=c.startX,A=c.startY;if(t>0){var v=Math.sqrt((a*a+o*o)/(1+t*t)),B=t*v;a=(a>=0?1:-1)*B,o=(o>=0?1:-1)*v}var x=Math.abs(a),M=Math.abs(o),T=a<0?s-n.left:n.right-s,p=o<0?A-n.top:n.bottom-A;r=zg([x,M],[0,0],[T,p],!!t),x=r[0],M=r[1],a=(a>=0?1:-1)*x,o=(o>=0?1:-1)*M;var u=Math.min(0,a),g=Math.min(0,o),C=s+u,f=A+g;return{left:C,top:f,right:C+x,bottom:f+M,width:x,height:M}}function al(e){var t=e.getBoundingClientRect(),n=t.left,r=t.top,i=t.width,a=t.height;return{pos1:[n,r],pos2:[n+i,r],pos3:[n,r+a],pos4:[n+i,r+a]}}function jm(e,t,n){var r=wa(e,t),i=r.list,a=r.prevList,l=r.added,o=r.removed,c=r.maintained;return gs(gs(gs([],l.map(function(s){return i[s]}),!0),o.map(function(s){return a[s]}),!0),n?c.map(function(s){var A=s[1];return i[A]}):[],!0)}function zm(e){for(var t=0,n=e.length,r=1;r<n;++r)t=Math.max(Lr(e[r],e[r-1]),t);return t}var Vm=EA(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),Gm="selecto-selection ".concat(Vm.className),Wm=["className","boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"];gs(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],Wm,!0);var lx=function(e){Rm(t,e);function t(r){r===void 0&&(r={});var i=e.call(this)||this;i.selectedTargets=[],i.dragScroll=new yp,i._onDragStart=function(o,c){var s=o.data,A=o.clientX,v=o.clientY,B=o.inputEvent,x=i.options,M=x.selectFromInside,T=x.selectByClick,p=x.rootContainer,u=x.boundContainer,g=x.preventDragFromInside,C=g===void 0?!0:g,f=x.clickBySelectEnd,d=x.dragCondition;if(d&&!d(o)){o.stop();return}s.data={};var h=fi(i.container);s.innerWidth=h.innerWidth,s.innerHeight=h.innerHeight,i.findSelectableTargets(s),s.startSelectedTargets=i.selectedTargets,s.scaleMatrix=Hu(),s.containerX=0,s.containerY=0;var w=i.container,I={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(p){var y=i.container.getBoundingClientRect();s.containerX=y.left,s.containerY=y.top,s.scaleMatrix=dp(i.container,p)}if(u){var D=Kt(u)&&"element"in u?vn({left:!0,top:!0,bottom:!0,right:!0},u):{element:u,left:!0,top:!0,bottom:!0,right:!0},F=D.element,L=void 0;if(F){Gt(F)?L=$r(w).querySelector(F):F===!0?L=i.container:L=F;var k=L.getBoundingClientRect();D.left&&(I.left=k.left),D.top&&(I.top=k.top),D.right&&(I.right=k.right),D.bottom&&(I.bottom=k.bottom)}}s.boundArea=I;var U={left:A,top:v,right:A,bottom:v,width:0,height:0},N=[];if(!M||T&&!f){var z=i._findElement(c||B.target,s.selectableTargets);N=z?[z]:[]}var H=N.length>0,X=!M&&H;if(X&&!T)return o.stop(),!1;var ne=B.type,ie=ne==="mousedown"||ne==="touchstart",he=!o.isClick&&ie?i.emit("dragStart",vn(vn({},o),{data:s.data})):!0;if(!he)return o.stop(),!1;if(i.continueSelect?(N=jm(i.selectedTargets,N,i.continueSelectWithoutDeselect),s.startPassedTargets=i.selectedTargets):s.startPassedTargets=[],i._select(N,U,o,!0,X&&T&&!f&&C),s.startX=A,s.startY=v,s.selectFlag=!1,s.preventDragFromInside=!1,B.target){var le=ya(s.scaleMatrix,[A-s.containerX,v-s.containerY]);i.target.style.cssText+="position: ".concat(p?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(le[0],"px, ").concat(le[1],"px)")}if(X&&T&&!f)B.preventDefault(),C&&(i._selectEnd(s.startSelectedTargets,s.startPassedTargets,U,o,!0),s.preventDragFromInside=!0);else{s.selectFlag=!0;var Ae=i.options,R=Ae.scrollOptions,re=Ae.innerScrollOptions,ee=!1;if(re){for(var oe=o.inputEvent,Z=oe.target,J=null,q=Z;q&&q!==$r(w).body;){var Y=getComputedStyle(q).overflow!=="visible";if(Y){J=q;break}q=q.parentElement}J&&(s.innerScrollOptions=vn({container:J,checkScrollEvent:!0},re===!0?{}:re),i.dragScroll.dragStart(o,s.innerScrollOptions),ee=!0)}!ee&&R&&R.container&&i.dragScroll.dragStart(o,R),f&&(s.selectFlag=!1,o.preventDrag())}return!0},i._onDrag=function(o){if(o.data.selectFlag){var c=i.scrollOptions,s=o.data.innerScrollOptions,A=s||(c==null?void 0:c.container);if(A&&!o.isScroll&&i.dragScroll.drag(o,s||c))return}i._checkSelected(o)},i._onDragEnd=function(o){var c=o.data,s=o.inputEvent,A=Hm(o,i.options.ratio),v=c.selectFlag,B=i.container;if(s&&i.emit("dragEnd",vn(vn({isDouble:!!o.isDouble,isClick:!!o.isClick,isDrag:!1,isSelect:v},o),{data:c.data,rect:A})),i.target.style.cssText+="display: none;",v)c.selectFlag=!1,i.dragScroll.dragEnd();else if(i.selectByClick&&i.clickBySelectEnd){var x=i._findElement((s==null?void 0:s.target)||sx(B,o.clientX,o.clientY),c.selectableTargets);i._select(x?[x]:[],A,o)}c.preventDragFromInside||i._selectEnd(c.startSelectedTargets,c.startPassedTargets,A,o)},i._onKeyDown=function(o){var c=i.options,s=!1;if(!i._keydownContinueSelect){var A=i._sameCombiKey(o,c.toggleContinueSelect);i._keydownContinueSelect=A,s||(s=A)}if(!i._keydownContinueSelectWithoutDeselection){var A=i._sameCombiKey(o,c.toggleContinueSelectWithoutDeselect);i._keydownContinueSelectWithoutDeselection=A,s||(s=A)}!s||i.emit("keydown",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection})},i._onKeyUp=function(o){var c=i.options,s=!1;if(i._keydownContinueSelect){var A=i._sameCombiKey(o,c.toggleContinueSelect,!0);i._keydownContinueSelect=!A,s||(s=A)}if(i._keydownContinueSelectWithoutDeselection){var A=i._sameCombiKey(o,c.toggleContinueSelectWithoutDeselect,!0);i._keydownContinueSelectWithoutDeselection=!A,s||(s=A)}!s||i.emit("keyup",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection})},i._onBlur=function(){(i._keydownContinueSelect||i._keydownContinueSelectWithoutDeselection)&&(i._keydownContinueSelect=!1,i._keydownContinueSelectWithoutDeselection=!1,i.emit("keyup",{keydownContinueSelect:i._keydownContinueSelect,keydownContinueSelectWithoutDeselection:i._keydownContinueSelectWithoutDeselection}))},i._onDocumentSelectStart=function(o){var c=$r(i.container);if(!!i.gesto.isFlag()){var s=i.dragContainer;s===fi(i.container)&&(s=c.documentElement);var A=Yg(s)?[s]:[].slice.call(s),v=o.target;A.some(function(B){if(B===v||B.contains(v))return o.preventDefault(),!0})}},i.target=r.portalContainer;var a=r.container;i.options=vn({className:"",portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:void 0,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:al,cspNonce:"",ratio:0},r);var l=i.options.portalContainer;return l&&(a=l.parentElement),i.container=a||document.body,i.initElement(),i.initDragScroll(),i.setKeyController(),i}var n=t.prototype;return n.setSelectedTargets=function(r){var i=this.selectedTargets,a=wa(i,r),l=a.added,o=a.removed,c=a.prevList,s=a.list;return this.selectedTargets=r,{added:l.map(function(A){return s[A]}),removed:o.map(function(A){return c[A]}),beforeSelected:i,selected:r}},n.setSelectedTargetsByPoints=function(r,i){var a=Math.min(r[0],i[0]),l=Math.min(r[1],i[1]),o=Math.max(r[0],i[0]),c=Math.max(r[1],i[1]),s={left:a,top:l,right:o,bottom:c,width:o-a,height:c-l},A={ignoreClick:!0};this.findSelectableTargets(A);var v=this.hitTest(s,A),B=this.setSelectedTargets(v);return vn(vn({},B),{rect:s})},n.selectTargetsByPoints=function(r,i){var a=new MouseEvent("mousedown",{clientX:r[0],clientY:r[1],cancelable:!0,bubbles:!0}),l=new MouseEvent("mousemove",{clientX:i[0],clientY:i[1],cancelable:!0,bubbles:!0}),o=new MouseEvent("mousemove",{clientX:i[0],clientY:i[1],cancelable:!0,bubbles:!0}),c=this.gesto,s=c.onDragStart(a);s!==!1&&(c.onDrag(l),c.onDragEnd(o))},n.getSelectedTargets=function(){return this.selectedTargets},n.triggerDragStart=function(r){return this.gesto.triggerDragStart(r),this},n.destroy=function(){var r;this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),Wt(document,"selectstart",this._onDocumentSelectStart),this.options.portalContainer||(r=this.target.parentElement)===null||r===void 0||r.removeChild(this.target),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},n.getElementPoints=function(r){var i=this.getElementRect||al,a=i(r),l=[a.pos1,a.pos2,a.pos4,a.pos3];if(i!==al){var o=r.getBoundingClientRect();return ju(l,o)}return l},n.getSelectableElements=function(){var r=this.container,i=[];return this.options.selectableTargets.forEach(function(a){if(Gn(a)){var l=a();l&&i.push.apply(i,[].slice.call(l))}else if(Yg(a))i.push(a);else if(Kt(a))i.push(a.value||a.current);else{var o=[].slice.call($r(r).querySelectorAll(a));i.push.apply(i,o)}}),i},n.checkScroll=function(){if(!!this.gesto.isFlag()){var r=this.scrollOptions,i=this.gesto.getEventData().innerScrollOptions,a=i||(r==null?void 0:r.container);a&&this.dragScroll.checkScroll(vn({inputEvent:this.gesto.getCurrentEvent()},i||r))}},n.findSelectableTargets=function(r){var i=this;r===void 0&&(r=this.gesto.getEventData());var a=this.getSelectableElements(),l=a.map(function(v){return i.getElementPoints(v)});r.selectableTargets=a,r.selectablePoints=l,r.selectableParentMap=null;var o=this.options,c=o.checkOverflow||o.innerScrollOptions,s=$r(this.container);if(c){var A=new Map;r.selectableInnerScrollParentMap=A,r.selectableInnerScrollPathsList=a.map(function(v,B){for(var x=v.parentElement,M=[],T=[],p=function(){var u=A.get(x);if(!u){var g=getComputedStyle(x).overflow!=="visible";if(g){var C=al(x);u={parentElement:x,indexes:[],points:[C.pos1,C.pos2,C.pos4,C.pos3],paths:gs([],T,!0)},M.push(x),M.forEach(function(f){A.set(f,u)}),M=[]}}u?(x=u.parentElement,A.get(x).indexes.push(B),T.push(x)):M.push(x),x=x.parentElement};x&&x!==s.body;)p();return T})}return o.checkOverflow||(r.selectableInners=a.map(function(){return!0})),this._refreshGroups(r),a},n.clickTarget=function(r,i){var a=ax(r),l=a.clientX,o=a.clientY,c={data:{selectFlag:!1},clientX:l,clientY:o,inputEvent:r,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(c,i)&&this._onDragEnd(c),this},n.setKeyController=function(){var r=this.options,i=r.keyContainer,a=r.toggleContinueSelect,l=r.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(a||l)&&(this.keycon=new nx(i||fi(this.container)),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},n.setClassName=function(r){this.options.className=r,this.target.setAttribute("class","".concat(Gm," ").concat(r||""))},n.setKeyEvent=function(){var r=this.options,i=r.toggleContinueSelect,a=r.toggleContinueSelectWithoutDeselect;!i&&!a||this.keycon||this.setKeyController()},n.setKeyContainer=function(r){var i=this,a=this.options;dh(a.keyContainer,r,function(){a.keyContainer=r,i.setKeyController()})},n.getContinueSelect=function(){var r=this.options,i=r.continueSelect,a=r.toggleContinueSelect;return!a||!this._keydownContinueSelect?i:!i},n.getContinueSelectWithoutDeselect=function(){var r=this.options,i=r.continueSelectWithoutDeselect,a=r.toggleContinueSelectWithoutDeselect;return!a||!this._keydownContinueSelectWithoutDeselection?i:!i},n.setToggleContinueSelect=function(r){var i=this,a=this.options;dh(a.toggleContinueSelect,r,function(){a.toggleContinueSelect=r,i.setKeyEvent()})},n.setToggleContinueSelectWithoutDeselect=function(r){var i=this,a=this.options;dh(a.toggleContinueSelectWithoutDeselect,r,function(){a.toggleContinueSelectWithoutDeselect=r,i.setKeyEvent()})},n.setPreventDefault=function(r){this.gesto.options.preventDefault=r},n.setCheckInput=function(r){this.gesto.options.checkInput=r},n.initElement=function(){var r=this.options,i=r.dragContainer,a=r.checkInput,l=r.preventDefault,o=r.preventClickEventOnDragStart,c=r.preventClickEventOnDrag,s=r.preventClickEventByCondition,A=r.preventRightClick,v=A===void 0?!0:A,B=r.className,x=this.container;this.target=Qm(Ax("div",{className:"".concat(Gm," ").concat(B||"")}),this.target,x);var M=this.target;this.dragContainer=typeof i=="string"?[].slice.call($r(x).querySelectorAll(i)):i||this.target.parentNode,this.gesto=new $u(this.dragContainer,{checkWindowBlur:!0,container:fi(x),checkInput:a,preventDefault:l,preventClickEventOnDragStart:o,preventClickEventOnDrag:c,preventClickEventByCondition:s,preventRightClick:v}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),Jt(document,"selectstart",this._onDocumentSelectStart),this.injectResult=Vm.inject(M,{nonce:this.options.cspNonce})},n.hitTest=function(r,i,a){var l=this.options,o=l.hitRate,c=l.selectByClick,s=r.left,A=r.top,v=r.right,B=r.bottom,x=i.innerGroups,M=i.innerWidth,T=i.innerHeight,p=a==null?void 0:a.clientX,u=a==null?void 0:a.clientY,g=i.ignoreClick,C=[[s,A],[v,A],[v,B],[s,B]],f=function(H,X){var ne=Ur(typeof o=="function"?"".concat(o(X)):"".concat(o)),ie=g?!1:CA([p,u],H);if(c&&ie)return!0;var he=Vu(C,H);if(!he.length)return!1;var le=Ho(he),Ae=0;if(le===0&&Ho(H)===0?(Ae=zm(H),le=zm(he)):Ae=Ho(H),ne.unit==="px")return le>=ne.value;var R=_u(Math.round(le/Ae*100),0,100);return R>=Math.min(100,ne.value)},d=i.selectableTargets,h=i.selectablePoints,w=i.selectableInners;if(!x)return d.filter(function(H,X){return w[X]?f(h[X],d[X]):!1});for(var I=[],y=Math.floor(s/M),D=Math.floor(v/M),F=Math.floor(A/T),L=Math.floor(B/T),k=y;k<=D;++k){var U=x[k];if(!!U)for(var N=F;N<=L;++N){var z=U[N];!z||z.forEach(function(H){var X=h[H],ne=w[H],ie=d[H];ne&&f(X,ie)&&I.push(ie)})}}return ox(I)},n.initDragScroll=function(){var r=this;this.dragScroll.on("scrollDrag",function(i){var a=i.next;a(r.gesto.getCurrentEvent())}).on("scroll",function(i){var a=i.container,l=i.direction,o=r.gesto.getEventData().innerScrollOptions;o?r.emit("innerScroll",{container:a,direction:l}):r.emit("scroll",{container:a,direction:l})}).on("move",function(i){var a=i.offsetX,l=i.offsetY,o=i.inputEvent,c=r.gesto;if(!(!c||!c.isFlag())){var s=r.gesto.getEventData(),A=s.boundArea;s.startX-=a,s.startY-=l;var v=r.gesto.getEventData().innerScrollOptions,B=v==null?void 0:v.container,x=!1;if(B){var M=s.selectableInnerScrollParentMap,T=M.get(B);T&&(T.paths.forEach(function(p){var u=M.get(p);u.points.forEach(function(g){g[0]-=a,g[1]-=l})}),T.indexes.forEach(function(p){s.selectablePoints[p].forEach(function(u){u[0]-=a,u[1]-=l})}),x=!0)}x||s.selectablePoints.forEach(function(p){p.forEach(function(u){u[0]-=a,u[1]-=l})}),r._refreshGroups(s),A.left-=a,A.right-=a,A.top-=l,A.bottom-=l,r.gesto.scrollBy(a,l,o.inputEvent),r._checkSelected(r.gesto.getCurrentEvent())}})},n._select=function(r,i,a,l,o){o===void 0&&(o=!1);var c=a.inputEvent,s=a.data,A=this.setSelectedTargets(r),v=wa(s.startSelectedTargets,r),B=v.added,x=v.removed,M=v.prevList,T=v.list,p={startSelected:M,startAdded:B.map(function(u){return T[u]}),startRemoved:x.map(function(u){return M[u]})};l&&this.emit("selectStart",vn(vn(vn({},A),p),{rect:i,inputEvent:c,data:s.data,isTrusted:a.isTrusted,isDragStartEnd:o})),(A.added.length||A.removed.length)&&this.emit("select",vn(vn(vn({},A),p),{rect:i,inputEvent:c,data:s.data,isTrusted:a.isTrusted,isDragStartEnd:o}))},n._selectEnd=function(r,i,a,l,o){o===void 0&&(o=!1);var c=l.inputEvent,s=l.isDouble,A=l.data,v=c&&c.type,B=v==="mousedown"||v==="touchstart",x=wa(r,this.selectedTargets),M=x.added,T=x.removed,p=x.prevList,u=x.list,g=wa(i,this.selectedTargets),C=g.added,f=g.removed,d=g.prevList,h=g.list;this.emit("selectEnd",{startSelected:r,beforeSelected:i,selected:this.selectedTargets,added:M.map(function(w){return u[w]}),removed:T.map(function(w){return p[w]}),afterAdded:C.map(function(w){return h[w]}),afterRemoved:f.map(function(w){return d[w]}),isDragStart:B&&o,isDragStartEnd:B&&o,isClick:!!l.isClick,isDouble:!!s,rect:a,inputEvent:c,data:A.data,isTrusted:l.isTrusted})},n._checkSelected=function(r,i){i===void 0&&(i=Hm(r,this.options.ratio));var a=r.data,l=i.top,o=i.left,c=i.width,s=i.height,A=a.selectFlag,v=a.containerX,B=a.containerY,x=a.scaleMatrix,M=ya(x,[o-v,l-B]),T=ya(x,[c,s]),p=[];if(A){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(M[0],"px, ").concat(M[1],"px);")+"width:".concat(T[0],"px;height:").concat(T[1],"px;");var u=this.hitTest(i,a,r);p=jm(a.startPassedTargets,u,this.continueSelect&&this.continueSelectWithoutDeselect)}var g=this.emit("drag",vn(vn({},r),{data:a.data,isSelect:A,rect:i}));if(g===!1){this.target.style.cssText+="display: none;",r.stop();return}A&&this._select(p,i,r)},n._sameCombiKey=function(r,i,a){if(!i)return!1;var l=Lm(r.inputEvent,r.key),o=[].concat(i),c=Bn(o[0])?o:[o];if(a){var s=r.key;return c.some(function(A){return A.some(function(v){return v===s})})}return c.some(function(A){return A.every(function(v){return l.indexOf(v)>-1})})},n._findElement=function(r,i){for(var a=r;a&&!(i.indexOf(a)>-1);)a=a.parentElement;return a},n._refreshGroups=function(r){var i,a=r.innerWidth,l=r.innerHeight,o=r.selectablePoints;if(this.options.checkOverflow){var c=(i=this.gesto.getEventData().innerScrollOptions)===null||i===void 0?void 0:i.container,s=r.selectableInnerScrollParentMap,A=r.selectableInnerScrollPathsList;r.selectableInners=A.map(function(x,M){var T=!1;return x.every(function(p){if(T)return!0;if(p===c)return T=!0,!0;var u=s.get(p);if(u){var g=o[M],C=u.points,f=Vu(g,C);if(!f.length)return!1}return!0})})}if(!a||!l)r.innerGroups=null;else{var v=r.selectablePoints,B={};v.forEach(function(x,M){var T=1/0,p=-1/0,u=1/0,g=-1/0;x.forEach(function(d){var h=Math.floor(d[0]/a),w=Math.floor(d[1]/l);T=Math.min(h,T),p=Math.max(h,p),u=Math.min(w,u),g=Math.max(w,g)});for(var C=T;C<=p;++C)for(var f=u;f<=g;++f)B[C]=B[C]||{},B[C][f]=B[C][f]||[],B[C][f].push(M)}),r.innerGroups=B}},t=ix([Co(Wm,function(r,i){var a={enumerable:!0,configurable:!0,get:function(){return this.options[i]}},l=ji("get ".concat(i));r[l]?a.get=function(){return this[l]()}:a.get=function(){return this.options[i]};var o=ji("set ".concat(i));r[o]?a.set=function(s){this[o](s)}:a.set=function(s){this.options[i]=s},Object.defineProperty(r,i,a)})],t),t}(Wi),cx=function(e){Rm(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(lx),ux=cx;function fx(e){new ux({container:document.getElementById("page-design"),selectableTargets:[".layer"],selectByClick:!1,selectFromInside:!1,continueSelect:!1,toggleContinueSelect:"shift",keyContainer:document.getElementById("page-design"),hitRate:5,getElementRect:iI}).on("select",n=>{n.added.forEach(r=>{!Array.from(r.classList).includes("layer-lock")&&!r.hasAttribute("child")&&(r.classList.add("widget-selected"),tt.dispatch("selectWidgetsInOut",{uuid:r.getAttribute("data-uuid")}))}),n.removed.forEach(r=>{r.classList.remove("widget-selected"),tt.dispatch("selectWidgetsInOut",{uuid:r.getAttribute("data-uuid")})}),e.renderDirections=[],e.rotatable=!1,e.target=[].slice.call(document.querySelectorAll(".widget-selected"))})}var FY="";const hx=m.defineComponent({setup(){},computed:$e.mapGetters(["dSelectWidgets","dActiveElement","activeMouseEvent","showMoveable","showRotatable","dWidgets","updateRect","updateSelect","guidelines"]),watch:{async dActiveElement(e){if(!!e.record)if(e.uuid!=-1){await m.nextTick();const t=`[id="${e.uuid}"]`;switch(this._target=`[id="${e.uuid}"]`,this.moveable.rotatable=!0,e.type){case"w-text":this.moveable.renderDirections=["e","se"];break;case"w-image":this.moveable.renderDirections=["nw","n","ne","w","e","sw","s","se"];break;case"w-svg":this.moveable.renderDirections=["nw","n","ne","w","e","sw","s","se"];break;default:this.moveable.renderDirections=["nw","ne","sw","se"];break}this.moveable.setState({target:this._target},()=>{this.activeMouseEvent&&(this.moveable.dragStart(this.activeMouseEvent),this.$store.commit("setMouseEvent",null))}),this.$store.commit("setShowMoveable",!0),this.moveable.elementGuidelines.includes(t)||this.moveable.elementGuidelines.push(t)}else this.moveable.target='[id="empty"]',this.moveable.target!=='[id="empty"]'&&setTimeout(()=>{this.moveable.target='[id="empty"]'},210),this.moveable.elementGuidelines.length=0},showMoveable(e){e?this.moveable.target=this._target:this.moveable.target='[id="empty"]'},showRotatable(e){this.moveable.renderDirections=e?["nw","n","ne","w","e","sw","s","se"]:[],this.moveable.resizable=e,this.moveable.scalable=e,document.getElementsByClassName("moveable-rotation")[0].style.display=e?"block":"none"},updateRect(e){this.moveable.updateRect()},updateSelect(){const e=this.$store.getters.dSelectWidgets;setTimeout(async()=>{var n,r;this.moveable.updateRect(),await this.$nextTick();for(let i=0;i<e.length;i++)(n=document.getElementById(e[i].uuid))==null||n.classList.add("widget-selected");this.moveable.renderDirections=[],this.moveable.rotatable=!1;const t=[].slice.call(document.querySelectorAll(".widget-selected"));this.moveable.target=t;for(let i=0;i<e.length;i++)(r=document.getElementById(e[i].uuid))==null||r.classList.remove("widget-selected")},400)},dSelectWidgets:{handler(e){var n,r;if(this.$store.getters.dAltDown){for(let a=0;a<e.length;a++)(n=document.getElementById(e[a].uuid))==null||n.classList.add("widget-selected");this.moveable.renderDirections=[],this.moveable.rotatable=!1;const i=[].slice.call(document.querySelectorAll(".widget-selected"));this.moveable.target=i;for(let a=0;a<e.length;a++)(r=document.getElementById(e[a].uuid))==null||r.classList.remove("widget-selected")}},deep:!0},guidelines(e){this.moveable.verticalGuidelines=e.verticalGuidelines,this.moveable.horizontalGuidelines=e.horizontalGuidelines}},mounted(){let e=null;const t={target:document.querySelector('[id="empty"]'),zoom:.8,draggable:!0,clippable:!1,throttleDrag:0,resizable:!0,throttleResize:0,scalable:!1,throttleScale:0,keepRatio:!0,rotatable:!0,throttleRotate:0,renderDirections:["nw","ne","sw","se"],pinchable:!0,origin:!1,defaultGroupOrigin:"0% 0%",rotationPosition:"bottom",className:"zk-moveable-style",snappable:!0,elementGuidelines:[],verticalGuidelines:[],horizontalGuidelines:[],snapThreshold:4,isDisplaySnapDigit:!0,snapGap:!1,snapElement:!0,snapVertical:!0,snapHorizontal:!0,snapCenter:!1,snapDigit:0,triggerAblesSimultaneously:!0},n=new aI(document.body,t);this.moveable=n;const r=new ZI;Gv.forEach(a=>{let l=a.replace(a[0],"on"+a[0].toUpperCase());["resizeStart","rotate","resize"].includes(a)&&n.on(a,(...o)=>{r[l]&&r[l](...o)})});let i=0;n.on("dragStart",({inputEvent:a,target:l,stop:o})=>{a.target.nodeName==="PRE"&&this.dActiveElement.editable&&o(),this.dActiveElement.lock&&o()}).on("drag",({target:a,transform:l,left:o,top:c,inputEvent:s})=>{a.style.left=`${o}px`,a.style.top=`${c}px`,this.holdPosition={left:o,top:c}}).on("dragEnd",({target:a,isDrag:l,inputEvent:o})=>{var c,s;this.$store.commit("setMouseEvent",null),o.stopPropagation(),o.preventDefault(),this.holdPosition&&(this.updateWidgetData({uuid:this.dActiveElement.uuid,key:"left",value:Number((c=this.holdPosition)==null?void 0:c.left)}),this.updateWidgetData({uuid:this.dActiveElement.uuid,key:"top",value:Number((s=this.holdPosition)==null?void 0:s.top)}),this.holdPosition=null,setTimeout(()=>{this.pushHistory()},100))}).on("rotate",({target:a,beforeDist:l,dist:o,transform:c})=>{}).on("rotateEnd",a=>{const l=a.target.style.transform,o=l.indexOf("rotate");let c="";if(o!=-1){const s=o+6,A=l.substring(s+1);c=A.slice(0,A.indexOf(")"))}c&&this.updateWidgetData({uuid:this.dActiveElement.uuid,key:"rotate",value:c})}).on("resizeStart",a=>{this.moveable.snappable=!1,this.dActiveElement.type==="w-text"?(String(a.direction)==="1,0"&&(n.keepRatio=!1,n.scalable=!1),String(a.direction)==="1,1"&&(n.keepRatio=!1,i=a.target.offsetWidth,this.startHL=Number(a.target.style.lineHeight.replace("px","")),this.startLS=Number(a.target.style.letterSpacing.replace("px","")),this.resetRatio=1)):(this.dActiveElement.type==="w-image"||this.dActiveElement.type==="w-qrcode"||this.dActiveElement.type==="w-svg")&&["1,0","0,-1","-1,0","0,1"].includes(String(a.direction))&&(n.keepRatio=!1)}).on("resize",a=>{const{target:l,width:o,height:c,dist:s,delta:A,clientX:v,clientY:B,direction:x}=a;this.dActiveElement.type==="w-text"?(String(x)==="1,1"&&(this.resetRatio=o/i,l.style.fontSize=this.dActiveElement.fontSize*this.resetRatio+"px",l.style.letterSpacing=this.startLS*this.resetRatio+"px",l.style.lineHeight=this.startHL*this.resetRatio+"px"),l.style.width=o,l.style.height=c,this.resizeTempData={width:o,height:c},l.style.backgroundImage="none"):this.dActiveElement.type=="w-image"||this.dActiveElement.type==="w-qrcode"||this.dActiveElement.type==="w-svg"?this.resizeTempData={width:o,height:c}:this.dActiveElement.type=="w-group"?this.$store.commit("resize",{width:o,height:c}):this.$store.commit("resize",{width:o,height:c}),this.dActiveElement.rotate&&(l.style.transform=l.style.transform.replace("(0deg",`(${this.dActiveElement.rotate}`))}).on("resizeEnd",a=>{if(n.resizable=!0,n.snappable=!0,a.lastEvent){console.log("\u91CD\u7F6Etranslate",this.dActiveElement);const l=a.lastEvent.drag.translate[0],o=a.lastEvent.drag.translate[1];this.updateWidgetMultiple({uuid:this.dActiveElement.uuid,data:[{key:"left",value:Number(this.dActiveElement.left)+l},{key:"top",value:Number(this.dActiveElement.top)+o}]});const c=a.target.style.transform,s=c.indexOf("translate"),A=c.slice(0,s+9+1),v=c.substring(s+9+1),B=v.substring(v.indexOf(")"));a.target.style.transform=A+"0, 0"+B}this.resizeTempData&&(this.$store.commit("resize",this.resizeTempData),this.resizeTempData=null,setTimeout(async()=>{await this.$nextTick(),this.moveable.updateRect()},10));try{if(this.dActiveElement.type==="w-text"){const l=a.direction||a.lastEvent.direction;String(l)==="1,1"&&(this.dActiveElement.fontSize=this.dActiveElement.fontSize*this.resetRatio)}}catch{}n.keepRatio=!0}).on("scaleStart",a=>{this.dActiveElement.type==="w-text"?(this.startHL=Number(a.target.style.lineHeight.replace("px","")),this.startLS=Number(a.target.style.letterSpacing.replace("px","")),this.resetRatio=1):n.scalable=!1}).on("scale",a=>{n.resizable=!1;const{target:l,scale:o,transform:c}=a;this.resetRatio=o[0],l.style.transform=c,this.dActiveElement.rotate&&(l.style.transform=l.style.transform.replace("0deg",this.dActiveElement.rotate))}).on("scaleEnd",a=>{n.resizable=!0,n.keepRatio=!0;try{if(this.dActiveElement.type==="w-text"){const l=a.direction||a.lastEvent.direction;String(l)==="1,1"&&(this.dActiveElement.fontSize=this.dActiveElement.fontSize*this.resetRatio)}}catch{}}).on("dragGroup",a=>{a.inputEvent.stopPropagation(),a.inputEvent.preventDefault(),e={};const l=a.events;for(let o=0;o<l.length;o++){const c=l[o],s=this.dWidgets.find(B=>B.uuid===c.target.getAttribute("data-uuid")),A=Number(s.left)+c.beforeTranslate[0],v=Number(s.top)+c.beforeTranslate[1];c.target.style.left=`${A}px`,c.target.style.top=`${v}px`,e[`${c.target.getAttribute("data-uuid")}`]={left:A,top:v}}}).on("dragGroupEnd",a=>{for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];this.updateWidgetData({uuid:l,key:"left",value:o.left}),this.updateWidgetData({uuid:l,key:"top",value:o.top})}e=null}).on("resizeGroupStart",({events:a})=>{}).on("resizeGroup",a=>{}).on("resizeGroupEnd",({targets:a,isDrag:l})=>{}),fx(this.moveable)},async created(){await m.nextTick();const e=document.getElementById("page-design");e==null||e.addEventListener("scroll",()=>{this.moveable.updateRect()})},methods:{...$e.mapActions(["updateWidgetData","updateWidgetMultiple","pushHistory"])}}),dx={id:"empty",class:"moveable__remove-item zk-moveable-style"};function gx(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",dx)}var px=ct(hx,[["render",gx],["__scopeId","data-v-7db0b7b3"]]);const ol=e=>{const t=new Image,n=window.URL||window.webkitURL;return t.src=typeof e=="string"?e:n.createObjectURL(e),new Promise(r=>{t.complete?r(t):t.onload=function(){r(t)}})};async function ea(e){const t=JSON.parse(JSON.stringify(e)),{width:n,height:r}=tt.getters.dPage;let{width:i,height:a}=e;if(!i||!a){const o=await ol(e.url);t.width=i=o.width,t.height=a=o.height}let l=1;return(i>n||a>r)&&(l=Math.min(n/i,r/a)),l<1&&(t.width=t.width*l*(tt.getters.dZoom/100),t.height=t.height*l*(tt.getters.dZoom/100)),t.canvasWidth=t.width*(tt.getters.dZoom/100),t}var vx=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gh={exports:{}},Xm=function(t,n){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return t.apply(n,i)}},mx=Xm,ta=Object.prototype.toString;function ph(e){return ta.call(e)==="[object Array]"}function vh(e){return typeof e=="undefined"}function yx(e){return e!==null&&!vh(e)&&e.constructor!==null&&!vh(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Cx(e){return ta.call(e)==="[object ArrayBuffer]"}function wx(e){return typeof FormData!="undefined"&&e instanceof FormData}function Bx(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function bx(e){return typeof e=="string"}function Ex(e){return typeof e=="number"}function Km(e){return e!==null&&typeof e=="object"}function sl(e){if(ta.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function _x(e){return ta.call(e)==="[object Date]"}function Sx(e){return ta.call(e)==="[object File]"}function Ix(e){return ta.call(e)==="[object Blob]"}function Zm(e){return ta.call(e)==="[object Function]"}function xx(e){return Km(e)&&Zm(e.pipe)}function Mx(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function Dx(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Tx(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function mh(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),ph(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function yh(){var e={};function t(i,a){sl(e[a])&&sl(i)?e[a]=yh(e[a],i):sl(i)?e[a]=yh({},i):ph(i)?e[a]=i.slice():e[a]=i}for(var n=0,r=arguments.length;n<r;n++)mh(arguments[n],t);return e}function Ox(e,t,n){return mh(t,function(i,a){n&&typeof i=="function"?e[a]=mx(i,n):e[a]=i}),e}function Fx(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var ir={isArray:ph,isArrayBuffer:Cx,isBuffer:yx,isFormData:wx,isArrayBufferView:Bx,isString:bx,isNumber:Ex,isObject:Km,isPlainObject:sl,isUndefined:vh,isDate:_x,isFile:Sx,isBlob:Ix,isFunction:Zm,isStream:xx,isURLSearchParams:Mx,isStandardBrowserEnv:Tx,forEach:mh,merge:yh,extend:Ox,trim:Dx,stripBOM:Fx},Qa=ir;function Jm(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $m=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(Qa.isURLSearchParams(n))i=n.toString();else{var a=[];Qa.forEach(n,function(c,s){c===null||typeof c=="undefined"||(Qa.isArray(c)?s=s+"[]":c=[c],Qa.forEach(c,function(v){Qa.isDate(v)?v=v.toISOString():Qa.isObject(v)&&(v=JSON.stringify(v)),a.push(Jm(s)+"="+Jm(v))}))}),i=a.join("&")}if(i){var l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},kx=ir;function Al(){this.handlers=[]}Al.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1},Al.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Al.prototype.forEach=function(t){kx.forEach(this.handlers,function(r){r!==null&&t(r)})};var Ux=Al,Lx=ir,Px=function(t,n){Lx.forEach(t,function(i,a){a!==n&&a.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[a])})},qm=function(t,n,r,i,a){return t.config=n,r&&(t.code=r),t.request=i,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},Nx=qm,e0=function(t,n,r,i,a){var l=new Error(t);return Nx(l,n,r,i,a)},Rx=e0,Qx=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(Rx("Request failed with status code "+r.status,r.config,null,r.request,r))},ll=ir,Hx=ll.isStandardBrowserEnv()?function(){return{write:function(n,r,i,a,l,o){var c=[];c.push(n+"="+encodeURIComponent(r)),ll.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),ll.isString(a)&&c.push("path="+a),ll.isString(l)&&c.push("domain="+l),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),jx=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},zx=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},Vx=jx,Gx=zx,Wx=function(t,n){return t&&!Vx(n)?Gx(t,n):n},Ch=ir,Yx=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Xx=function(t){var n={},r,i,a;return t&&Ch.forEach(t.split(`
`),function(o){if(a=o.indexOf(":"),r=Ch.trim(o.substr(0,a)).toLowerCase(),i=Ch.trim(o.substr(a+1)),r){if(n[r]&&Yx.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},t0=ir,Kx=t0.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(a){var l=a;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(l){var o=t0.isString(l)?i(l):l;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),cl=ir,Zx=Qx,Jx=Hx,$x=$m,qx=Wx,eM=Xx,tM=Kx,wh=e0,n0=function(t){return new Promise(function(r,i){var a=t.data,l=t.headers,o=t.responseType;cl.isFormData(a)&&delete l["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var s=t.auth.username||"",A=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";l.Authorization="Basic "+btoa(s+":"+A)}var v=qx(t.baseURL,t.url);c.open(t.method.toUpperCase(),$x(v,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function B(){if(!!c){var M="getAllResponseHeaders"in c?eM(c.getAllResponseHeaders()):null,T=!o||o==="text"||o==="json"?c.responseText:c.response,p={data:T,status:c.status,statusText:c.statusText,headers:M,config:t,request:c};Zx(r,i,p),c=null}}if("onloadend"in c?c.onloadend=B:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(B)},c.onabort=function(){!c||(i(wh("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(wh("Network Error",t,null,c)),c=null},c.ontimeout=function(){var T="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),i(wh(T,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},cl.isStandardBrowserEnv()){var x=(t.withCredentials||tM(v))&&t.xsrfCookieName?Jx.read(t.xsrfCookieName):void 0;x&&(l[t.xsrfHeaderName]=x)}"setRequestHeader"in c&&cl.forEach(l,function(T,p){typeof a=="undefined"&&p.toLowerCase()==="content-type"?delete l[p]:c.setRequestHeader(p,T)}),cl.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(T){!c||(c.abort(),i(T),c=null)}),a||(a=null),c.send(a)})},xn=ir,r0=Px,nM=qm,rM={"Content-Type":"application/x-www-form-urlencoded"};function i0(e,t){!xn.isUndefined(e)&&xn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function iM(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=n0),e}function aM(e,t,n){if(xn.isString(e))try{return(t||JSON.parse)(e),xn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var ul={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:iM(),transformRequest:[function(t,n){return r0(n,"Accept"),r0(n,"Content-Type"),xn.isFormData(t)||xn.isArrayBuffer(t)||xn.isBuffer(t)||xn.isStream(t)||xn.isFile(t)||xn.isBlob(t)?t:xn.isArrayBufferView(t)?t.buffer:xn.isURLSearchParams(t)?(i0(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):xn.isObject(t)||n&&n["Content-Type"]==="application/json"?(i0(n,"application/json"),aM(t)):t}],transformResponse:[function(t){var n=this.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,a=!r&&this.responseType==="json";if(a||i&&xn.isString(t)&&t.length)try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?nM(l,this,"E_JSON_PARSE"):l}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};ul.headers={common:{Accept:"application/json, text/plain, */*"}},xn.forEach(["delete","get","head"],function(t){ul.headers[t]={}}),xn.forEach(["post","put","patch"],function(t){ul.headers[t]=xn.merge(rM)});var Bh=ul,oM=ir,sM=Bh,AM=function(t,n,r){var i=this||sM;return oM.forEach(r,function(l){t=l.call(i,t,n)}),t},a0=function(t){return!!(t&&t.__CANCEL__)},o0=ir,bh=AM,lM=a0,cM=Bh;function Eh(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var uM=function(t){Eh(t),t.headers=t.headers||{},t.data=bh.call(t,t.data,t.headers,t.transformRequest),t.headers=o0.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),o0.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||cM.adapter;return n(t).then(function(i){return Eh(t),i.data=bh.call(t,i.data,i.headers,t.transformResponse),i},function(i){return lM(i)||(Eh(t),i&&i.response&&(i.response.data=bh.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},kn=ir,s0=function(t,n){n=n||{};var r={},i=["url","method","data"],a=["headers","auth","proxy","params"],l=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(B,x){return kn.isPlainObject(B)&&kn.isPlainObject(x)?kn.merge(B,x):kn.isPlainObject(x)?kn.merge({},x):kn.isArray(x)?x.slice():x}function s(B){kn.isUndefined(n[B])?kn.isUndefined(t[B])||(r[B]=c(void 0,t[B])):r[B]=c(t[B],n[B])}kn.forEach(i,function(x){kn.isUndefined(n[x])||(r[x]=c(void 0,n[x]))}),kn.forEach(a,s),kn.forEach(l,function(x){kn.isUndefined(n[x])?kn.isUndefined(t[x])||(r[x]=c(void 0,t[x])):r[x]=c(void 0,n[x])}),kn.forEach(o,function(x){x in n?r[x]=c(t[x],n[x]):x in t&&(r[x]=c(void 0,t[x]))});var A=i.concat(a).concat(l).concat(o),v=Object.keys(t).concat(Object.keys(n)).filter(function(x){return A.indexOf(x)===-1});return kn.forEach(v,s),r},fM={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]},A0=fM,_h={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){_h[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var l0={},hM=A0.version.split(".");function c0(e,t){for(var n=t?t.split("."):hM,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}_h.transitional=function(t,n,r){var i=n&&c0(n);function a(l,o){return"[Axios v"+A0.version+"] Transitional option '"+l+"'"+o+(r?". "+r:"")}return function(l,o,c){if(t===!1)throw new Error(a(o," has been removed in "+n));return i&&!l0[o]&&(l0[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,o,c):!0}};function dM(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],l=t[a];if(l){var o=e[a],c=o===void 0||l(o,a,e);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(n!==!0)throw Error("Unknown option "+a)}}var gM={isOlderVersion:c0,assertOptions:dM,validators:_h},u0=ir,pM=$m,f0=Ux,h0=uM,fl=s0,d0=gM,Ha=d0.validators;function ps(e){this.defaults=e,this.interceptors={request:new f0,response:new f0}}ps.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=fl(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&d0.assertOptions(n,{silentJSONParsing:Ha.transitional(Ha.boolean,"1.0.0"),forcedJSONParsing:Ha.transitional(Ha.boolean,"1.0.0"),clarifyTimeoutError:Ha.transitional(Ha.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(t)===!1||(i=i&&B.synchronous,r.unshift(B.fulfilled,B.rejected))});var a=[];this.interceptors.response.forEach(function(B){a.push(B.fulfilled,B.rejected)});var l;if(!i){var o=[h0,void 0];for(Array.prototype.unshift.apply(o,r),o=o.concat(a),l=Promise.resolve(t);o.length;)l=l.then(o.shift(),o.shift());return l}for(var c=t;r.length;){var s=r.shift(),A=r.shift();try{c=s(c)}catch(v){A(v);break}}try{l=h0(c)}catch(v){return Promise.reject(v)}for(;a.length;)l=l.then(a.shift(),a.shift());return l},ps.prototype.getUri=function(t){return t=fl(this.defaults,t),pM(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},u0.forEach(["delete","get","head","options"],function(t){ps.prototype[t]=function(n,r){return this.request(fl(r||{},{method:t,url:n,data:(r||{}).data}))}}),u0.forEach(["post","put","patch"],function(t){ps.prototype[t]=function(n,r,i){return this.request(fl(i||{},{method:t,url:n,data:r}))}});var vM=ps;function Sh(e){this.message=e}Sh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Sh.prototype.__CANCEL__=!0;var g0=Sh,mM=g0;function hl(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;e(function(i){n.reason||(n.reason=new mM(i),t(n.reason))})}hl.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},hl.source=function(){var t,n=new hl(function(i){t=i});return{token:n,cancel:t}};var yM=hl,CM=function(t){return function(r){return t.apply(null,r)}},wM=function(t){return typeof t=="object"&&t.isAxiosError===!0},p0=ir,BM=Xm,dl=vM,bM=s0,EM=Bh;function v0(e){var t=new dl(e),n=BM(dl.prototype.request,t);return p0.extend(n,dl.prototype,t),p0.extend(n,t),n}var Ir=v0(EM);Ir.Axios=dl,Ir.create=function(t){return v0(bM(Ir.defaults,t))},Ir.Cancel=g0,Ir.CancelToken=yM,Ir.isCancel=a0,Ir.all=function(t){return Promise.all(t)},Ir.spread=CM,Ir.isAxiosError=wM,gh.exports=Ir,gh.exports.default=Ir;var ja=gh.exports;ja.defaults.timeout=3e4,ja.defaults.headers.authorization="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MTAwMDEsImV4cCI6MTc4ODU3NDc1MDU4NX0.L_t6DFD48Dm6rUPfgIgOWJkz18En1m_-hhMHcpbxliY";const m0=tr.API_URL;ja.interceptors.request.use(e=>{const t=e.url,n={};return t.indexOf("http://")!==0&&t.indexOf("https://")!==0&&(t.indexOf("/")===0?e.url=m0+t:e.url=m0+"/"+t),e.method==="get"?e.params=Object.assign(e.params,n):e.data=Object.assign(e.data,n),e},e=>Promise.reject(e)),ja.interceptors.response.use(e=>e.data?(e.data.code===401&&(console.log("\u767B\u5F55\u5931\u6548"),tt.commit("changeOnline",!1)),e.data.result&&e.data.code===200?Promise.resolve(e.data.result):e.data.data&&e.data.stat==1?Promise.resolve(e.data.data):Promise.resolve(e.data)):Promise.reject(e),e=>(tt.dispatch("hideLoading"),Promise.reject(e)));const Rt=(e,t,n="get",r={},i={})=>{t&&t._noLoading&&delete t._noLoading;const a=localStorage.getItem("xp_token"),l={};return a&&(l.authorization=a),l.CompanyId="hg8fa286ab8f434d8f",n==="get"?ja.get(e,{headers:Object.assign(l,r),params:t,...i}):ja[n](e,t,{headers:Object.assign(l,r),...i})};var _M=Object.freeze(Object.defineProperty({__proto__:null,download:(e={})=>`${tr.SCREEN_URL}/api/screenshots?id=${e.id}&width=${e.width}&height=${e.height}`,getTempList:(e={})=>Rt("design/list",e,"get"),getTempDetail:(e={})=>Rt("design/temp",e,"get"),getCategories:(e={})=>Rt("design/cate",e,"get"),saveTemp:(e={})=>Rt("design/edit",e,"post"),getCompList:(e={})=>Rt("design/list",e,"get"),removeComp:(e={})=>Rt("design/del",e,"post"),saveWorks:(e={})=>Rt("design/save",e,"post"),saveMyTemp:(e={})=>Rt("design/user/temp",e,"post"),getWorks:(e={})=>Rt("design/poster",e,"get"),getVars:(e={})=>Rt("product/fields",e,"get"),getMyDesign:(e={})=>Rt("design/my",e,"get"),base64ToImg:(e={})=>Rt("common/uploadByBase64",e,"post")},Symbol.toStringTag,{value:"Module"}));const SM=(e={})=>Rt("design/cate",e),IM=(e={})=>Rt("design/material",e),y0=(e={})=>Rt("design/fonts",e);var xM=Object.freeze(Object.defineProperty({__proto__:null,getKinds:SM,getList:IM,getFonts:y0,getFontSub:(e={},t={})=>Rt("design/font_sub",e,"get",{},t),getImagesList:(e={})=>Rt("design/imgs",e,"get"),getMyPhoto:(e={})=>Rt("design/user/image",e),deleteMyPhoto:(e={})=>Rt("design/user/image/del",e,"post"),deleteMyWorks:(e={})=>Rt("design/poster/del",e,"post"),addMyPhoto:(e={})=>Rt("design/user/add_image",e)},Symbol.toStringTag,{value:"Module"})),MM=Object.freeze(Object.defineProperty({__proto__:null,upload:(e,t)=>{const n=new FormData;return n.append("file",e),Rt("http://42.193.3.250:16050/api/remove",n,"post",{},{responseType:"blob",onUploadProgress:i=>{t(Math.floor(i.loaded/i.total*100),0)},onDownloadProgress:i=>{t(100,Math.floor(i.loaded/i.total*100))}})},uploadByBase64:(e,t)=>{const n=fetch(e).then(r=>r.blob());return Rt("http://42.193.3.250:16050/api/remove",{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:n})},uploadByUrl:(e,t)=>Rt("http://42.193.3.250:16050/api/remove",{url:e},"get",{},{responseType:"blob"})},Symbol.toStringTag,{value:"Module"})),wt={home:_M,material:xM,ai:MM},DM=Object.freeze(Object.defineProperty({__proto__:null,default:wt},Symbol.toStringTag,{value:"Module"}));tr.supportSubFont;var C0=e=>{let t="";switch(Number(e.filling.type)){case 2:{const{angle:n,stops:r}=e.filling.gradient,i=r.map(a=>`${a.color} ${Number(a.offset)*100}%`);t=`linear-gradient(${n}deg, ${i.toString()})`}break;case 1:t=`url(${e.filling.imageContent.image})`;break;default:t=e.filling.color;break}return t},C9="";const w0="w-text",TM={name:w0,setting:{name:"\u6587\u672C",type:w0,uuid:-1,editable:!1,left:0,top:0,transform:"",lineHeight:1.5,letterSpacing:0,fontSize:24,zoom:1,fontClass:{alias:"\u7AD9\u9177\u5FEB\u4E50\u4F53",id:543,value:"zcool-kuaile-regular",url:"https://lib.baomitu.com/fonts/zcool-kuaile/zcool-kuaile-regular.woff2"},fontFamily:"SourceHanSansSC-Regular",fontWeight:"normal",fontStyle:"normal",writingMode:"horizontal-tb",textDecoration:"none",color:"#000000ff",textAlign:"left",text:"",opacity:1,backgroundColor:"",parent:"-1",record:{width:0,height:0,minWidth:0,minHeight:0,dir:"horizontal"}},props:["params","parent"],data(){return{loading:!1,editable:!1,loadFontDone:!1,editFont:!1}},computed:{...$e.mapGetters(["dActiveElement"]),isDraw(){return!1}},watch:{params:{async handler(e){if(this.updateText(),this.loading)return;let t=e.fontClass;const n=t.value===this.loadFontDone;if(t.url&&!n){if(t.id&&this.isDraw){this.loading=!1;return}this.loading=!0;const r=new window.FontFace(t.value,`url(${t.url})`);await r.load(),document.fonts.add(r),this.loadFontDone=t.value,this.loading=!1}else this.loading=!1},immediate:!0,deep:!0},editable(e){this.updateWidgetData({uuid:this.params.uuid,key:"editable",value:e,pushHistory:!1})}},updated(){this.updateRecord()},async mounted(){this.updateRecord(),this.params.transform&&(this.$refs.widget.style.transform=this.params.transform),this.params.rotate&&(this.$refs.widget.style.transform+=`translate(0px, 0px) rotate(${this.params.rotate}) scale(1, 1)`)},methods:{...$e.mapActions(["updateWidgetData","pushHistory"]),getGradientOrImg:C0,renderText(e){return e.replace(/<wise id="[^"]+">([^<]+)<\/wise>/g,"$1")},updateRecord(){if(this.dActiveElement.uuid===this.params.uuid){let e=this.dActiveElement.record;e.width=this.$refs.widget.offsetWidth,e.height=this.$refs.widget.offsetHeight,e.minWidth=this.params.fontSize,e.minHeight=this.params.fontSize*this.params.lineHeight,this.writingText()}},updateText(e){const t=e?e.target.innerHTML:this.params.text.replace(/\n/g,"<br/>");t!==this.params.text&&this.updateWidgetData({uuid:this.params.uuid,key:"text",value:t,pushHistory:!1})},writingText(e){const t=this.$refs.editWrap||this.$refs.widget;this.updateWidgetData({uuid:this.params.uuid,key:"height",value:t.offsetHeight,pushHistory:!1}),this.$store.commit("updateRect")},writeDone(e){this.editable=!1,setTimeout(()=>{this.pushHistory("\u6587\u5B57\u4FEE\u6539")},100),this.updateText(e)},dblclickText(e){this.editable=!0,this.editFont=!0;const t=this.$refs.editWrap||this.$refs.widget;setTimeout(()=>{if(t.focus(),document.selection){const n=document.body.createTextRange();n.moveToElementText(t),n.select()}else if(window.getSelection){const n=document.createRange();n.selectNodeContents(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}},100)}}},OM=["id"],FM=["innerHTML"],kM=["contenteditable","innerHTML"];function UM(e,t,n,r,i,a){const l=m.resolveDirective("loading");return m.withDirectives((m.openBlock(),m.createElementBlock("div",{id:n.params.uuid,ref:"widget",class:m.normalizeClass(["w-text",{editing:i.editable,"layer-lock":n.params.lock},n.params.uuid]),style:m.normalizeStyle({position:"absolute",left:n.params.left-n.parent.left+"px",top:n.params.top-n.parent.top+"px",width:n.params.width+"px",minWidth:n.params.fontSize+"px",minHeight:n.params.fontSize*n.params.lineHeight+"px",height:n.params.height+"px",lineHeight:n.params.fontSize*n.params.lineHeight+"px",letterSpacing:n.params.fontSize*n.params.letterSpacing/100+"px",fontSize:n.params.fontSize+"px",color:n.params.color,textAlign:n.params.textAlign,fontWeight:n.params.fontWeight,fontStyle:n.params.fontStyle,textDecoration:n.params.textDecoration,opacity:n.params.opacity,backgroundColor:n.params.backgroundColor,writingMode:n.params.writingMode,fontFamily:`'${n.params.fontClass.value}'`}),onDblclick:t[2]||(t[2]=o=>a.dblclickText(o))},[n.params.textEffects&&!i.editable?(m.openBlock(!0),m.createElementBlock(m.Fragment,{key:0},m.renderList(n.params.textEffects,(o,c)=>(m.openBlock(),m.createElementBlock("div",{key:c+"effect",style:m.normalizeStyle({fontFamily:`'${n.params.fontClass.value}'`,color:o.filling&&o.filling.enable&&o.filling.type===0?o.filling.color:"transparent",webkitTextStroke:o.stroke&&o.stroke.enable?`${o.stroke.width}px ${o.stroke.color}`:void 0,textShadow:o.shadow&&o.shadow.enable?`${o.shadow.offsetX}px ${o.shadow.offsetY}px ${o.shadow.blur}px ${o.shadow.color}`:void 0,backgroundImage:o.filling&&o.filling.enable?o.filling.type===0?void 0:a.getGradientOrImg(o):void 0,webkitBackgroundClip:o.filling&&o.filling.enable?o.filling.type===0?void 0:"text":void 0,transform:o.offset&&o.offset.enable?`translate(${o.offset.x}px, ${o.offset.y}px)`:void 0}),class:"edit-text effect-text",spellcheck:"false",innerHTML:n.params.text},null,12,FM))),128)):m.createCommentVNode("",!0),m.createElementVNode("div",{ref:"editWrap",style:m.normalizeStyle({fontFamily:`'${n.params.fontClass.value}'`}),class:"edit-text",spellcheck:"false",contenteditable:i.editable?"plaintext-only":!1,onInput:t[0]||(t[0]=o=>a.writingText(o)),onBlur:t[1]||(t[1]=o=>a.writeDone(o)),innerHTML:n.params.text},null,44,kM)],46,OM)),[[l,i.loading]])}var vs=ct(TM,[["render",UM],["__scopeId","data-v-7f8596cc"]]),LM=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"}));class B0{constructor(t){if(t.src)try{this.canvas=document.createElement("canvas"),this.canvas.width=t.width,this.canvas.height=t.height,t.crossOrigin="Anonymous",this.cvs=this.canvas.getContext("2d"),this.cvs.drawImage(t,0,0,t.width,t.height)}catch(n){console.log(n)}}getColorXY(t,n){const r={};try{const a=this.cvs.getImageData(t,n,1,1).data.toString().split(",");let l=parseInt(a[0],10).toString(16);l=l.length===2?l:l+l;let o=parseInt(a[1],10).toString(16);o=o.length===2?o:o+o;let c=parseInt(a[2],10).toString(16);c=c.length===2?c:c+c;let s=parseInt(a.pop(),10)/255;s=Number(s.toFixed(0)),r.rgba="rgba("+a.join(",")+","+s+")",r["#"]="#"+l+o+c}catch{}return r}}var w9="";const b0="w-image",PM={name:b0,setting:{name:"\u56FE\u7247",type:b0,uuid:-1,width:300,height:300,left:0,top:0,zoom:1,transform:"",radius:0,opacity:1,parent:"-1",imgUrl:"",mask:"",setting:[],record:{width:0,height:0,minWidth:10,minHeight:10,dir:"all"}},props:["params","parent"],data(){return{position:"absolute",editBoxStyle:{transformOrigin:"center",transform:""}}},computed:{...$e.mapGetters(["dActiveElement","dWidgets","dZoom","dMouseXY","dDropOverUuid","dCropUuid"]),cropEdit(){return this.params.uuid===this.dCropUuid},tZoom(){return this.params.zoom},isMask(){return this.params.mask&&this.dDropOverUuid===this.params.uuid},isDraw(){}},watch:{cropEdit(e){e?document.getElementById(this.params.uuid).addEventListener("mousedown",this.touchstart,!1):document.getElementById(this.params.uuid).removeEventListener("mousedown",this.touchstart,!1),this.fixRotate(),this.lockOthers()},async tZoom(){await this.$nextTick(),this.updateRecord()}},updated(){this.updateRecord(),this.$store.commit("updateRect")},async mounted(){this.updateRecord(),await this.$nextTick(),document.addEventListener("mouseup",this.touchend,!1),this.$refs.widget.style.transform+=this.params.rotate&&(this.$refs.widget.style.transform+=`rotate(${this.params.rotate})`)},beforeUnmount(){document.removeEventListener("mouseup",this.touchend,!1)},methods:{...$e.mapActions(["updateWidgetData"]),touchstart(e){const t=this.$refs[this.params.uuid+"_ebox"];this.cropWidgetXY={x:Number(t.style.left.replace("px",""))||0,y:Number(t.style.top.replace("px",""))||0},document.addEventListener("mousemove",this.handlemousemove,!0)},touchend(){document.removeEventListener("mousemove",this.handlemousemove,!0)},handlemousemove(e){if(!this.move(e))return;e&&e.stopPropagation(),e&&e.preventDefault();const{left:t,top:n}=this.move(e);this.holdPosition={left:t,top:n},this.editBoxStyle.left=t+"px",this.editBoxStyle.top=n+"px",this.changeFinish(t/this.params.zoom,n/this.params.zoom)},changeFinish(e,t){this.setTransform("translate",`${e}px, ${t}px`)},move(e){if(e){const t={x:this.cropWidgetXY.x,y:this.cropWidgetXY.y},n=Number(e.pageX)-this.dMouseXY.x,r=Number(e.pageY)-this.dMouseXY.y;let i=Number(t.x)+Math.floor(n*100/this.dZoom),a=Number(t.y)+Math.floor(r*100/this.dZoom);return{left:i,top:a}}else return this.holdPosition},updateRecord(){if(this.dActiveElement.uuid===this.params.uuid){let e=this.dActiveElement.record;e.width=this.$refs.widget.offsetWidth,e.height=this.$refs.widget.offsetHeight}this.updateZoom(),this.isDraw||new B0(this.$refs.target)},setTransform(e,t){const n=this.params.transform.indexOf(e);let r="";if(n!=-1){const i=n+e.length,a=this.params.transform,l=a.slice(0,i+1),o=a.substring(i+1),c=o.substring(o.indexOf(")"));r=l+t+c}else r=this.params.transform+` ${e}(${t})`;this.updateWidgetData({uuid:this.params.uuid,key:"transform",value:r,pushHistory:!1}),this.params.transform&&(this.$refs.target.style.transform=this.params.transform)},setEditBox(e,t){const n=this.editBoxStyle.transform.indexOf(e);let r="";if(n!=-1){const i=n+e.length,a=this.editBoxStyle.transform,l=a.slice(0,i+1),o=a.substring(i+1),c=o.substring(o.indexOf(")"));r=l+t+c}else r=this.editBoxStyle.transform+` ${e}(${t})`;this.editBoxStyle.transform=r},updateZoom(){this.setEditBox("scale",this.params.zoom),this.setTransform("scale",this.params.zoom),this.handlemousemove()},fixRotate(){this.rotateTemp?(this.$refs.widget.style.transform=`rotate(${this.rotateTemp})`,this.params.flip=this.flipTemp,this.rotateTemp=null):(this.rotateTemp=this.params.rotate,this.$refs.widget.style.transform="rotate(0deg)",this.flipTemp=this.params.flip,this.params.flip=null),this.$store.commit("setShowMoveable",!1),setTimeout(()=>{this.$store.commit("setShowMoveable",!0)},100)},lockOthers(){if(this.locksTemp&&this.locksTemp.length>0){for(let e=0;e<this.locksTemp.length;e++)this.dWidgets[e].lock=this.locksTemp[e];this.locksTemp=[]}else{this.locksTemp=[];for(const e of this.dWidgets)this.locksTemp.push(e.lock);this.dWidgets.forEach(e=>{e.uuid!=this.params.uuid&&(e.lock=!0)})}}}},NM=["id"],RM=["src"],QM=["src"],HM={key:1,class:"drop__mask"};function jM(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",{id:n.params.uuid,ref:"widget",class:m.normalizeClass(["w-image",{"layer-lock":n.params.lock}]),style:m.normalizeStyle({position:i.position,left:n.params.left-n.parent.left+"px",top:n.params.top-n.parent.top+"px",width:n.params.width+"px",height:n.params.height+"px",opacity:n.params.opacity})},[a.cropEdit?(m.openBlock(),m.createElementBlock("div",{key:0,ref:n.params.uuid+"_ebox",style:m.normalizeStyle(i.editBoxStyle),class:"svg__edit__wrap"},[m.createElementVNode("img",{class:"edit__model",src:n.params.imgUrl},null,8,RM)],4)):m.createCommentVNode("",!0),m.createElementVNode("div",{style:m.normalizeStyle({transform:n.params.flip?`rotate${n.params.flip}(180deg)`:void 0,borderRadius:n.params.radius+"px","-webkit-mask-image":`${n.params.mask?`url('${n.params.mask}')`:void 0}`}),class:m.normalizeClass(["img__box",{mask:n.params.mask}])},[n.params.isNinePatch?(m.openBlock(),m.createElementBlock("div",{key:0,ref:"target",class:"target",style:m.normalizeStyle({border:`${n.params.height*n.params.sliceData.ratio/2}px solid transparent`,borderImage:`url('${n.params.imgUrl}') ${n.params.sliceData.left} round`})},null,4)):(m.openBlock(),m.createElementBlock("img",{key:1,ref:"target",class:"target",style:{"transform-origin":"center"},src:n.params.imgUrl},null,8,QM))],6),a.isMask?(m.openBlock(),m.createElementBlock("div",HM,[m.createElementVNode("div",{putIn:"true",style:m.normalizeStyle({fontSize:n.params.width/12+"px"}),class:"drop__btn"},"\u62D6\u5165",4)])):m.createCommentVNode("",!0)],14,NM)}var na=ct(PM,[["render",jM],["__scopeId","data-v-5736d8e5"]]),zM=Object.freeze(Object.defineProperty({__proto__:null,default:na},Symbol.toStringTag,{value:"Module"})),B9="";const E0="w-svg",VM={name:E0,setting:{name:"\u77E2\u91CF\u56FE\u5F62",type:E0,uuid:-1,width:100,height:100,colors:[],left:0,top:0,transform:"",radius:0,opacity:1,parent:"-1",svgUrl:"",setting:[],record:{width:0,height:0,minWidth:10,minHeight:10}},props:["params","parent"],data(){return{position:"absolute",editBoxStyle:{transformOrigin:"center"},editBoxs:{},editingKey:"",cropWidgetXY:{},attrRecord:{}}},computed:{...$e.mapGetters(["dActiveElement","dZoom","dMouseXY"]),tZoom(){return this.params.zoom},cropEdit(){return this.params.cropEdit},imgChange(){return this.params.imgUrl}},watch:{params:{async handler(e){this.attrsChange()},immediate:!0,deep:!0},async tZoom(){await this.$nextTick(),this.updateRecord()},imgChange(){this.svgImg.attr({"xlink:href":this.params.imgUrl})},cropEdit(e){e?document.getElementById(this.params.uuid).addEventListener("mousedown",this.touchstart,!1):document.getElementById(this.params.uuid).removeEventListener("mousedown",this.touchstart,!1)}},updated(){this.updateRecord(),this.$store.commit("updateRect")},async mounted(){await this.$nextTick(),await this.loadSvg(),this.updateRecord(),document.addEventListener("mouseup",this.touchend,!1),this.params.transform&&(this.$refs.widget.style.transform=this.params.transform),this.params.rotate&&(this.$refs.widget.style.transform+=`rotate(${this.params.rotate})`)},beforeUnmount(){document.removeEventListener("mouseup",this.touchend,!1)},methods:{...$e.mapActions(["updateWidgetData"]),touchstart(e){const t=this.$refs[this.params.uuid+"_ebox"];this.cropWidgetXY={x:Number(t.style.left.replace("px",""))||0,y:Number(t.style.top.replace("px",""))||0},document.addEventListener("mousemove",this.handlemousemove,!0)},touchend(){document.removeEventListener("mousemove",this.handlemousemove,!0)},handlemousemove(e){e.stopPropagation(),e.preventDefault();const{left:t,top:n}=this.move(e);this.editBoxStyle.left=t+"px",this.editBoxStyle.top=n+"px";const{width:r,height:i}=this.params,{width:a,height:l}=this.viewBox,o={x:t/(r/a)/this.params.zoom,y:n/(i/l)/this.params.zoom};this.changeFinish("x",o.x),this.changeFinish("y",o.y)},loadSvg(){const e=this,t=window.Snap;return new Promise(n=>{t.load(this.params.svgUrl,function(r){let i=t(r.node),a=i.node.childNodes;i.node.removeAttribute("width"),i.node.removeAttribute("height"),i.node.setAttribute("style","height: inherit;width: inherit;"),e.svgElements=[];const l=e.color2obj();o(a);function o(A){A.item?A.forEach(v=>{c(v),v.childNodes.length>0&&v.childNodes.forEach(B=>{o(B)})}):c(A)}function c(A){const v={};try{A.attributes.forEach(B=>{l[B.value]&&(B.value=l[B.value],v[B.name]=e.params.colors.findIndex(x=>x==B.value))})}catch{}JSON.stringify(v)!=="{}"&&e.svgElements.push({item:A,attrsColor:v})}(this||e.$refs.widget).appendChild(r.node),n()},document.getElementById(this.params.uuid))})},color2obj(){const e={};for(let t=0;t<this.params.colors.length;t++)e[`{{colors[${t}]}}`]=this.params.colors[t];return e},updateRecord(){if(this.dActiveElement.uuid===this.params.uuid){let e=this.dActiveElement.record;e.width=this.$refs.widget.offsetWidth,e.height=this.$refs.widget.offsetHeight}this.updateZoom()},updateZoom(){if(this.editBoxStyle.transform=`scale(${this.params.zoom})`,this.svgImg){const{x:e,y:t}=this.params;this.svgImg.attr({x:e||0,y:t||0,style:`transform-origin: center;transform: scale(${this.params.zoom})`});const{width:n,height:r}=this.params,{width:i,height:a}=this.viewBox,l={left:e*(n/i)*this.params.zoom,top:t*(r/a)*this.params.zoom};this.editBoxStyle.left=l.left+"px",this.editBoxStyle.top=l.top+"px"}},changeFinish(e,t){this.updateWidgetData({uuid:this.params.uuid,key:e,value:t,pushHistory:!0})},move(e){const t={x:this.cropWidgetXY.x,y:this.cropWidgetXY.y},n=Number(e.pageX)-this.dMouseXY.x,r=Number(e.pageY)-this.dMouseXY.y;let i=Number(t.x)+Math.floor(n*100/this.dZoom),a=Number(t.y)+Math.floor(r*100/this.dZoom);return{left:i,top:a}},attrsChange(){if(this.dActiveElement.uuid===this.params.uuid&&this.svgElements)for(const e of this.svgElements){const{item:t,attrsColor:n}=e;for(const r in n)if(Object.hasOwnProperty.call(n,r)){const i=this.params.colors[n[r]];t.setAttribute(r,i)}}}}},GM=["id"];function WM(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",{id:n.params.uuid,ref:"widget",class:"w-svg",style:m.normalizeStyle({position:i.position,left:n.params.left-n.parent.left+"px",top:n.params.top-n.parent.top+"px",width:n.params.width+"px",height:n.params.height+"px",opacity:n.params.opacity})},null,12,GM)}var ms=ct(VM,[["render",WM],["__scopeId","data-v-29e26ff8"]]),YM=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"}));async function XM(e,t,n){let r=n;if(e==="text"&&(!t.fontFamily&&!t.color?r=JSON.parse(JSON.stringify(vs.setting)):r=t,r.text?r.text=decodeURIComponent(r.text):r.text="\u53CC\u51FB\u7F16\u8F91\u6587\u5B57",r.fontSize=t.fontSize,r.width=t.width||t.fontSize*r.text.length,r.fontWeight=t.fontWeight),e==="image"||e==="mask"){r=JSON.parse(JSON.stringify(na.setting));const i=await ea(t.value);r.width=i.width,r.height=i.height,r.imgUrl=t.value.url}if(e==="mask"&&(r.mask=t.value.url),e==="svg"){r=JSON.parse(JSON.stringify(ms.setting));const i=await ea(t.value);r.width=i.width,r.height=i.height,r.svgUrl=t.value.url;const a=JSON.parse(t.value.model);for(const l in a)Object.hasOwnProperty.call(a,l)&&(r[l]=a[l])}return r}async function _0(e){const t=typeof e=="string"?JSON.parse(e):JSON.parse(JSON.stringify(e));let n={};Array.isArray(t)&&t.forEach(c=>{c.type==="w-group"&&(n=c)});const{width:r,height:i}=tt.getters.dPage,{width:a,height:l}=n;let o=1;return(a>r||l>i)&&(o=Math.min(r/a,i/l)),o<1&&(o*=tt.getters.dZoom/100,t.forEach(c=>{c.fontSize&&(c.fontSize*=o),c.width*=o,c.height*=o,c.left*=o,c.top*=o})),t}function S0(e,t,n,r){var i,a=!1,l=0;function o(){i&&clearTimeout(i)}function c(){o(),a=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function s(){for(var A=arguments.length,v=new Array(A),B=0;B<A;B++)v[B]=arguments[B];var x=this,M=Date.now()-l;if(a)return;function T(){l=Date.now(),n.apply(x,v)}function p(){i=void 0}r&&!i&&T(),o(),r===void 0&&M>e?T():t!==!0&&(i=setTimeout(r?p:T,r===void 0?e-M:e))}return s.cancel=c,s}function I0(e,t,n){return n===void 0?S0(e,t,!1):S0(e,n,t!==!1)}function x0(e,t,n=0){const r=e==null?void 0:e.style.transform;if(!r)return;const i=r.indexOf(t),a=r.slice(0,i+t.length+1),l=r.substring(i+t.length+1),o=l.substring(l.indexOf(")"));e.style.transform=a+n+o}var b9="";const M0="w-group",KM={name:M0,setting:{name:"\u7EC4\u5408",type:M0,uuid:-1,width:0,height:0,left:0,top:0,transform:"",opacity:1,parent:"-1",isContainer:!0,record:{width:0,height:0,minWidth:0,minHeight:0,dir:"none"}},props:["params","parent"],data(){return{timer:null}},computed:{...$e.mapGetters(["dActiveElement","dWidgets"])},updated(){this.updateRecord()},async mounted(){await this.$nextTick(),this.touchstart(),this.updateRecord(),document.addEventListener("mousedown",this.touchstart,!1),document.addEventListener("mouseup",this.touchend,!1),this.params.rotate&&(this.$refs.widget.style.transform+=`rotate(${this.params.rotate})`)},beforeUnmount(){document.removeEventListener("mousedown",this.touchstart,!1),document.removeEventListener("mouseup",this.touchend,!1)},methods:{...$e.mapActions(["updateWidgetData"]),updateRecord(e){if(this.dActiveElement.uuid===this.params.uuid){let t=this.dActiveElement.record;if(t.width<=0&&this.touchend(),this.ratio=e||this.params.width/t.width,this.ratio!=1){if(this.temp={},t.width!=0)for(let n=this.dWidgets.length-1;n>=0;--n)this.dWidgets[n].parent===this.params.uuid&&(this.temp[this.dWidgets[n].uuid]={width:this.dWidgets[n].width*this.ratio,height:this.dWidgets[n].height*this.ratio,raw:this.dWidgets[n]});this.$refs.widget.style.transformOrigin="left top",x0(this.$refs.widget,"scale",this.ratio)}}},touchstart(){var e;if(this.dActiveElement.uuid===this.params.uuid){this.tempRecord={width:this.params.width,height:this.params.height},this.compWidgetsRecord={};for(let t=this.dWidgets.length-1;t>=0;--t)this.dWidgets[t].parent===this.params.uuid&&(this.compWidgetsRecord[this.dWidgets[t].uuid]={left:Number(document.getElementById(this.dWidgets[t].uuid).style.left.replace("px","")),top:Number(document.getElementById(this.dWidgets[t].uuid).style.top.replace("px","")),fontSize:Number((e=document.getElementById(this.dWidgets[t].uuid).style.fontSize)==null?void 0:e.replace("px",""))})}},touchend(){this.dActiveElement.uuid===this.params.uuid&&setTimeout(()=>{var e,t,n,r;if(!!this.temp){this.$refs.widget.style.opacity=0,x0(this.$refs.widget,"scale",1),setTimeout(()=>{this.$refs.widget.style.opacity=this.params.opacity},100);for(const i in this.temp)Object.hasOwnProperty.call(this.temp,i)&&(this.keyChange(i,"width",this.temp[i].width),this.keyChange(i,"height",this.temp[i].height),this.keySetValue(i,"left",this.compWidgetsRecord[i].left*this.ratio),this.keySetValue(i,"top",this.compWidgetsRecord[i].top*this.ratio),this.temp[i].raw.type==="w-text"&&this.keyChange(i,"fontSize",this.compWidgetsRecord[i].fontSize*this.ratio));if(this.temp=null,this.dActiveElement.uuid===this.params.uuid){let i=this.dActiveElement.record;i.width=(e=this.$refs.widget)==null?void 0:e.offsetWidth,i.height=(t=this.$refs.widget)==null?void 0:t.offsetHeight,this.dActiveElement.width=(n=this.$refs.widget)==null?void 0:n.offsetWidth,this.dActiveElement.height=(r=this.$refs.widget)==null?void 0:r.offsetHeight}}},10)},keyChange(e,t,n){this.updateWidgetData({uuid:e,key:t,value:n,pushHistory:!1})},keySetValue(e,t,n){setTimeout(()=>{const r=this.dWidgets.find(i=>i.uuid===e);r[t]=n+Number(this.params[t])},10)}}};function ZM(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",{ref:"widget",class:m.normalizeClass(["w-group",{"layer-lock":n.params.lock}]),style:m.normalizeStyle({position:"absolute",left:n.params.left-n.parent.left+"px",top:n.params.top-n.parent.top+"px",width:n.params.width+"px",height:n.params.height+"px",opacity:n.params.opacity})},[m.renderSlot(e.$slots,"default",{},void 0,!0)],6)}var Ih=ct(KM,[["render",ZM],["__scopeId","data-v-677b28f1"]]),JM=Object.freeze(Object.defineProperty({__proto__:null,default:Ih},Symbol.toStringTag,{value:"Module"})),D0={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(self,function(){return(()=>{var n={192:(a,l)=>{var o,c,s=function(){var A=function(k,U){var N=k,z=p[U],H=null,X=0,ne=null,ie=[],he={},le=function(Y,te){H=function(V){for(var K=new Array(V),$=0;$<V;$+=1){K[$]=new Array(V);for(var se=0;se<V;se+=1)K[$][se]=null}return K}(X=4*N+17),Ae(0,0),Ae(X-7,0),Ae(0,X-7),re(),R(),oe(Y,te),N>=7&&ee(Y),ne==null&&(ne=J(N,z,ie)),Z(ne,te)},Ae=function(Y,te){for(var V=-1;V<=7;V+=1)if(!(Y+V<=-1||X<=Y+V))for(var K=-1;K<=7;K+=1)te+K<=-1||X<=te+K||(H[Y+V][te+K]=0<=V&&V<=6&&(K==0||K==6)||0<=K&&K<=6&&(V==0||V==6)||2<=V&&V<=4&&2<=K&&K<=4)},R=function(){for(var Y=8;Y<X-8;Y+=1)H[Y][6]==null&&(H[Y][6]=Y%2==0);for(var te=8;te<X-8;te+=1)H[6][te]==null&&(H[6][te]=te%2==0)},re=function(){for(var Y=u.getPatternPosition(N),te=0;te<Y.length;te+=1)for(var V=0;V<Y.length;V+=1){var K=Y[te],$=Y[V];if(H[K][$]==null)for(var se=-2;se<=2;se+=1)for(var pe=-2;pe<=2;pe+=1)H[K+se][$+pe]=se==-2||se==2||pe==-2||pe==2||se==0&&pe==0}},ee=function(Y){for(var te=u.getBCHTypeNumber(N),V=0;V<18;V+=1){var K=!Y&&(te>>V&1)==1;H[Math.floor(V/3)][V%3+X-8-3]=K}for(V=0;V<18;V+=1)K=!Y&&(te>>V&1)==1,H[V%3+X-8-3][Math.floor(V/3)]=K},oe=function(Y,te){for(var V=z<<3|te,K=u.getBCHTypeInfo(V),$=0;$<15;$+=1){var se=!Y&&(K>>$&1)==1;$<6?H[$][8]=se:$<8?H[$+1][8]=se:H[X-15+$][8]=se}for($=0;$<15;$+=1)se=!Y&&(K>>$&1)==1,$<8?H[8][X-$-1]=se:$<9?H[8][15-$-1+1]=se:H[8][15-$-1]=se;H[X-8][8]=!Y},Z=function(Y,te){for(var V=-1,K=X-1,$=7,se=0,pe=u.getMaskFunction(te),ue=X-1;ue>0;ue-=2)for(ue==6&&(ue-=1);;){for(var ye=0;ye<2;ye+=1)if(H[K][ue-ye]==null){var we=!1;se<Y.length&&(we=(Y[se]>>>$&1)==1),pe(K,ue-ye)&&(we=!we),H[K][ue-ye]=we,($-=1)==-1&&(se+=1,$=7)}if((K+=V)<0||X<=K){K-=V,V=-V;break}}},J=function(Y,te,V){for(var K=f.getRSBlocks(Y,te),$=d(),se=0;se<V.length;se+=1){var pe=V[se];$.put(pe.getMode(),4),$.put(pe.getLength(),u.getLengthInBits(pe.getMode(),Y)),pe.write($)}var ue=0;for(se=0;se<K.length;se+=1)ue+=K[se].dataCount;if($.getLengthInBits()>8*ue)throw"code length overflow. ("+$.getLengthInBits()+">"+8*ue+")";for($.getLengthInBits()+4<=8*ue&&$.put(0,4);$.getLengthInBits()%8!=0;)$.putBit(!1);for(;!($.getLengthInBits()>=8*ue||($.put(236,8),$.getLengthInBits()>=8*ue));)$.put(17,8);return function(ye,we){for(var Ee=0,me=0,fe=0,de=new Array(we.length),ve=new Array(we.length),Ce=0;Ce<we.length;Ce+=1){var xe=we[Ce].dataCount,De=we[Ce].totalCount-xe;me=Math.max(me,xe),fe=Math.max(fe,De),de[Ce]=new Array(xe);for(var Re=0;Re<de[Ce].length;Re+=1)de[Ce][Re]=255&ye.getBuffer()[Re+Ee];Ee+=xe;var je=u.getErrorCorrectPolynomial(De),Ie=C(de[Ce],je.getLength()-1).mod(je);for(ve[Ce]=new Array(je.getLength()-1),Re=0;Re<ve[Ce].length;Re+=1){var Ge=Re+Ie.getLength()-ve[Ce].length;ve[Ce][Re]=Ge>=0?Ie.getAt(Ge):0}}var Xe=0;for(Re=0;Re<we.length;Re+=1)Xe+=we[Re].totalCount;var rt=new Array(Xe),vt=0;for(Re=0;Re<me;Re+=1)for(Ce=0;Ce<we.length;Ce+=1)Re<de[Ce].length&&(rt[vt]=de[Ce][Re],vt+=1);for(Re=0;Re<fe;Re+=1)for(Ce=0;Ce<we.length;Ce+=1)Re<ve[Ce].length&&(rt[vt]=ve[Ce][Re],vt+=1);return rt}($,K)};he.addData=function(Y,te){var V=null;switch(te=te||"Byte"){case"Numeric":V=h(Y);break;case"Alphanumeric":V=w(Y);break;case"Byte":V=I(Y);break;case"Kanji":V=y(Y);break;default:throw"mode:"+te}ie.push(V),ne=null},he.isDark=function(Y,te){if(Y<0||X<=Y||te<0||X<=te)throw Y+","+te;return H[Y][te]},he.getModuleCount=function(){return X},he.make=function(){if(N<1){for(var Y=1;Y<40;Y++){for(var te=f.getRSBlocks(Y,z),V=d(),K=0;K<ie.length;K++){var $=ie[K];V.put($.getMode(),4),V.put($.getLength(),u.getLengthInBits($.getMode(),Y)),$.write(V)}var se=0;for(K=0;K<te.length;K++)se+=te[K].dataCount;if(V.getLengthInBits()<=8*se)break}N=Y}le(!1,function(){for(var pe=0,ue=0,ye=0;ye<8;ye+=1){le(!0,ye);var we=u.getLostPoint(he);(ye==0||pe>we)&&(pe=we,ue=ye)}return ue}())},he.createTableTag=function(Y,te){Y=Y||2;var V="";V+='<table style="',V+=" border-width: 0px; border-style: none;",V+=" border-collapse: collapse;",V+=" padding: 0px; margin: "+(te=te===void 0?4*Y:te)+"px;",V+='">',V+="<tbody>";for(var K=0;K<he.getModuleCount();K+=1){V+="<tr>";for(var $=0;$<he.getModuleCount();$+=1)V+='<td style="',V+=" border-width: 0px; border-style: none;",V+=" border-collapse: collapse;",V+=" padding: 0px; margin: 0px;",V+=" width: "+Y+"px;",V+=" height: "+Y+"px;",V+=" background-color: ",V+=he.isDark(K,$)?"#000000":"#ffffff",V+=";",V+='"/>';V+="</tr>"}return(V+="</tbody>")+"</table>"},he.createSvgTag=function(Y,te,V,K){var $={};typeof arguments[0]=="object"&&(Y=($=arguments[0]).cellSize,te=$.margin,V=$.alt,K=$.title),Y=Y||2,te=te===void 0?4*Y:te,(V=typeof V=="string"?{text:V}:V||{}).text=V.text||null,V.id=V.text?V.id||"qrcode-description":null,(K=typeof K=="string"?{text:K}:K||{}).text=K.text||null,K.id=K.text?K.id||"qrcode-title":null;var se,pe,ue,ye,we=he.getModuleCount()*Y+2*te,Ee="";for(ye="l"+Y+",0 0,"+Y+" -"+Y+",0 0,-"+Y+"z ",Ee+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Ee+=$.scalable?"":' width="'+we+'px" height="'+we+'px"',Ee+=' viewBox="0 0 '+we+" "+we+'" ',Ee+=' preserveAspectRatio="xMinYMin meet"',Ee+=K.text||V.text?' role="img" aria-labelledby="'+q([K.id,V.id].join(" ").trim())+'"':"",Ee+=">",Ee+=K.text?'<title id="'+q(K.id)+'">'+q(K.text)+"</title>":"",Ee+=V.text?'<description id="'+q(V.id)+'">'+q(V.text)+"</description>":"",Ee+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Ee+='<path d="',pe=0;pe<he.getModuleCount();pe+=1)for(ue=pe*Y+te,se=0;se<he.getModuleCount();se+=1)he.isDark(pe,se)&&(Ee+="M"+(se*Y+te)+","+ue+ye);return(Ee+='" stroke="transparent" fill="black"/>')+"</svg>"},he.createDataURL=function(Y,te){Y=Y||2,te=te===void 0?4*Y:te;var V=he.getModuleCount()*Y+2*te,K=te,$=V-te;return L(V,V,function(se,pe){if(K<=se&&se<$&&K<=pe&&pe<$){var ue=Math.floor((se-K)/Y),ye=Math.floor((pe-K)/Y);return he.isDark(ye,ue)?0:1}return 1})},he.createImgTag=function(Y,te,V){Y=Y||2,te=te===void 0?4*Y:te;var K=he.getModuleCount()*Y+2*te,$="";return $+="<img",$+=' src="',$+=he.createDataURL(Y,te),$+='"',$+=' width="',$+=K,$+='"',$+=' height="',$+=K,$+='"',V&&($+=' alt="',$+=q(V),$+='"'),$+"/>"};var q=function(Y){for(var te="",V=0;V<Y.length;V+=1){var K=Y.charAt(V);switch(K){case"<":te+="&lt;";break;case">":te+="&gt;";break;case"&":te+="&amp;";break;case'"':te+="&quot;";break;default:te+=K}}return te};return he.createASCII=function(Y,te){if((Y=Y||1)<2)return function(de){de=de===void 0?2:de;var ve,Ce,xe,De,Re,je=1*he.getModuleCount()+2*de,Ie=de,Ge=je-de,Xe={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},rt={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},vt="";for(ve=0;ve<je;ve+=2){for(xe=Math.floor((ve-Ie)/1),De=Math.floor((ve+1-Ie)/1),Ce=0;Ce<je;Ce+=1)Re="\u2588",Ie<=Ce&&Ce<Ge&&Ie<=ve&&ve<Ge&&he.isDark(xe,Math.floor((Ce-Ie)/1))&&(Re=" "),Ie<=Ce&&Ce<Ge&&Ie<=ve+1&&ve+1<Ge&&he.isDark(De,Math.floor((Ce-Ie)/1))?Re+=" ":Re+="\u2588",vt+=de<1&&ve+1>=Ge?rt[Re]:Xe[Re];vt+=`
`}return je%2&&de>0?vt.substring(0,vt.length-je-1)+Array(je+1).join("\u2580"):vt.substring(0,vt.length-1)}(te);Y-=1,te=te===void 0?2*Y:te;var V,K,$,se,pe=he.getModuleCount()*Y+2*te,ue=te,ye=pe-te,we=Array(Y+1).join("\u2588\u2588"),Ee=Array(Y+1).join("  "),me="",fe="";for(V=0;V<pe;V+=1){for($=Math.floor((V-ue)/Y),fe="",K=0;K<pe;K+=1)se=1,ue<=K&&K<ye&&ue<=V&&V<ye&&he.isDark($,Math.floor((K-ue)/Y))&&(se=0),fe+=se?we:Ee;for($=0;$<Y;$+=1)me+=fe+`
`}return me.substring(0,me.length-1)},he.renderTo2dContext=function(Y,te){te=te||2;for(var V=he.getModuleCount(),K=0;K<V;K++)for(var $=0;$<V;$++)Y.fillStyle=he.isDark(K,$)?"black":"white",Y.fillRect(K*te,$*te,te,te)},he};A.stringToBytes=(A.stringToBytesFuncs={default:function(k){for(var U=[],N=0;N<k.length;N+=1){var z=k.charCodeAt(N);U.push(255&z)}return U}}).default,A.createStringToBytes=function(k,U){var N=function(){for(var H=F(k),X=function(){var R=H.read();if(R==-1)throw"eof";return R},ne=0,ie={};;){var he=H.read();if(he==-1)break;var le=X(),Ae=X()<<8|X();ie[String.fromCharCode(he<<8|le)]=Ae,ne+=1}if(ne!=U)throw ne+" != "+U;return ie}(),z="?".charCodeAt(0);return function(H){for(var X=[],ne=0;ne<H.length;ne+=1){var ie=H.charCodeAt(ne);if(ie<128)X.push(ie);else{var he=N[H.charAt(ne)];typeof he=="number"?(255&he)==he?X.push(he):(X.push(he>>>8),X.push(255&he)):X.push(z)}}return X}};var v,B,x,M,T,p={L:1,M:0,Q:3,H:2},u=(v=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],B=1335,x=7973,T=function(k){for(var U=0;k!=0;)U+=1,k>>>=1;return U},(M={}).getBCHTypeInfo=function(k){for(var U=k<<10;T(U)-T(B)>=0;)U^=B<<T(U)-T(B);return 21522^(k<<10|U)},M.getBCHTypeNumber=function(k){for(var U=k<<12;T(U)-T(x)>=0;)U^=x<<T(U)-T(x);return k<<12|U},M.getPatternPosition=function(k){return v[k-1]},M.getMaskFunction=function(k){switch(k){case 0:return function(U,N){return(U+N)%2==0};case 1:return function(U,N){return U%2==0};case 2:return function(U,N){return N%3==0};case 3:return function(U,N){return(U+N)%3==0};case 4:return function(U,N){return(Math.floor(U/2)+Math.floor(N/3))%2==0};case 5:return function(U,N){return U*N%2+U*N%3==0};case 6:return function(U,N){return(U*N%2+U*N%3)%2==0};case 7:return function(U,N){return(U*N%3+(U+N)%2)%2==0};default:throw"bad maskPattern:"+k}},M.getErrorCorrectPolynomial=function(k){for(var U=C([1],0),N=0;N<k;N+=1)U=U.multiply(C([1,g.gexp(N)],0));return U},M.getLengthInBits=function(k,U){if(1<=U&&U<10)switch(k){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+k}else if(U<27)switch(k){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+k}else{if(!(U<41))throw"type:"+U;switch(k){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+k}}},M.getLostPoint=function(k){for(var U=k.getModuleCount(),N=0,z=0;z<U;z+=1)for(var H=0;H<U;H+=1){for(var X=0,ne=k.isDark(z,H),ie=-1;ie<=1;ie+=1)if(!(z+ie<0||U<=z+ie))for(var he=-1;he<=1;he+=1)H+he<0||U<=H+he||ie==0&&he==0||ne==k.isDark(z+ie,H+he)&&(X+=1);X>5&&(N+=3+X-5)}for(z=0;z<U-1;z+=1)for(H=0;H<U-1;H+=1){var le=0;k.isDark(z,H)&&(le+=1),k.isDark(z+1,H)&&(le+=1),k.isDark(z,H+1)&&(le+=1),k.isDark(z+1,H+1)&&(le+=1),le!=0&&le!=4||(N+=3)}for(z=0;z<U;z+=1)for(H=0;H<U-6;H+=1)k.isDark(z,H)&&!k.isDark(z,H+1)&&k.isDark(z,H+2)&&k.isDark(z,H+3)&&k.isDark(z,H+4)&&!k.isDark(z,H+5)&&k.isDark(z,H+6)&&(N+=40);for(H=0;H<U;H+=1)for(z=0;z<U-6;z+=1)k.isDark(z,H)&&!k.isDark(z+1,H)&&k.isDark(z+2,H)&&k.isDark(z+3,H)&&k.isDark(z+4,H)&&!k.isDark(z+5,H)&&k.isDark(z+6,H)&&(N+=40);var Ae=0;for(H=0;H<U;H+=1)for(z=0;z<U;z+=1)k.isDark(z,H)&&(Ae+=1);return N+Math.abs(100*Ae/U/U-50)/5*10},M),g=function(){for(var k=new Array(256),U=new Array(256),N=0;N<8;N+=1)k[N]=1<<N;for(N=8;N<256;N+=1)k[N]=k[N-4]^k[N-5]^k[N-6]^k[N-8];for(N=0;N<255;N+=1)U[k[N]]=N;return{glog:function(z){if(z<1)throw"glog("+z+")";return U[z]},gexp:function(z){for(;z<0;)z+=255;for(;z>=256;)z-=255;return k[z]}}}();function C(k,U){if(k.length===void 0)throw k.length+"/"+U;var N=function(){for(var H=0;H<k.length&&k[H]==0;)H+=1;for(var X=new Array(k.length-H+U),ne=0;ne<k.length-H;ne+=1)X[ne]=k[ne+H];return X}(),z={getAt:function(H){return N[H]},getLength:function(){return N.length},multiply:function(H){for(var X=new Array(z.getLength()+H.getLength()-1),ne=0;ne<z.getLength();ne+=1)for(var ie=0;ie<H.getLength();ie+=1)X[ne+ie]^=g.gexp(g.glog(z.getAt(ne))+g.glog(H.getAt(ie)));return C(X,0)},mod:function(H){if(z.getLength()-H.getLength()<0)return z;for(var X=g.glog(z.getAt(0))-g.glog(H.getAt(0)),ne=new Array(z.getLength()),ie=0;ie<z.getLength();ie+=1)ne[ie]=z.getAt(ie);for(ie=0;ie<H.getLength();ie+=1)ne[ie]^=g.gexp(g.glog(H.getAt(ie))+X);return C(ne,0).mod(H)}};return z}var f=function(){var k=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],U=function(z,H){var X={};return X.totalCount=z,X.dataCount=H,X},N={getRSBlocks:function(z,H){var X=function(ee,oe){switch(oe){case p.L:return k[4*(ee-1)+0];case p.M:return k[4*(ee-1)+1];case p.Q:return k[4*(ee-1)+2];case p.H:return k[4*(ee-1)+3];default:return}}(z,H);if(X===void 0)throw"bad rs block @ typeNumber:"+z+"/errorCorrectionLevel:"+H;for(var ne=X.length/3,ie=[],he=0;he<ne;he+=1)for(var le=X[3*he+0],Ae=X[3*he+1],R=X[3*he+2],re=0;re<le;re+=1)ie.push(U(Ae,R));return ie}};return N}(),d=function(){var k=[],U=0,N={getBuffer:function(){return k},getAt:function(z){var H=Math.floor(z/8);return(k[H]>>>7-z%8&1)==1},put:function(z,H){for(var X=0;X<H;X+=1)N.putBit((z>>>H-X-1&1)==1)},getLengthInBits:function(){return U},putBit:function(z){var H=Math.floor(U/8);k.length<=H&&k.push(0),z&&(k[H]|=128>>>U%8),U+=1}};return N},h=function(k){var U=k,N={getMode:function(){return 1},getLength:function(X){return U.length},write:function(X){for(var ne=U,ie=0;ie+2<ne.length;)X.put(z(ne.substring(ie,ie+3)),10),ie+=3;ie<ne.length&&(ne.length-ie==1?X.put(z(ne.substring(ie,ie+1)),4):ne.length-ie==2&&X.put(z(ne.substring(ie,ie+2)),7))}},z=function(X){for(var ne=0,ie=0;ie<X.length;ie+=1)ne=10*ne+H(X.charAt(ie));return ne},H=function(X){if("0"<=X&&X<="9")return X.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+X};return N},w=function(k){var U=k,N={getMode:function(){return 2},getLength:function(H){return U.length},write:function(H){for(var X=U,ne=0;ne+1<X.length;)H.put(45*z(X.charAt(ne))+z(X.charAt(ne+1)),11),ne+=2;ne<X.length&&H.put(z(X.charAt(ne)),6)}},z=function(H){if("0"<=H&&H<="9")return H.charCodeAt(0)-"0".charCodeAt(0);if("A"<=H&&H<="Z")return H.charCodeAt(0)-"A".charCodeAt(0)+10;switch(H){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+H}};return N},I=function(k){var U=A.stringToBytes(k);return{getMode:function(){return 4},getLength:function(N){return U.length},write:function(N){for(var z=0;z<U.length;z+=1)N.put(U[z],8)}}},y=function(k){var U=A.stringToBytesFuncs.SJIS;if(!U)throw"sjis not supported.";(function(z,H){var X=U("\u53CB");if(X.length!=2||(X[0]<<8|X[1])!=38726)throw"sjis not supported."})();var N=U(k);return{getMode:function(){return 8},getLength:function(z){return~~(N.length/2)},write:function(z){for(var H=N,X=0;X+1<H.length;){var ne=(255&H[X])<<8|255&H[X+1];if(33088<=ne&&ne<=40956)ne-=33088;else{if(!(57408<=ne&&ne<=60351))throw"illegal char at "+(X+1)+"/"+ne;ne-=49472}ne=192*(ne>>>8&255)+(255&ne),z.put(ne,13),X+=2}if(X<H.length)throw"illegal char at "+(X+1)}}},D=function(){var k=[],U={writeByte:function(N){k.push(255&N)},writeShort:function(N){U.writeByte(N),U.writeByte(N>>>8)},writeBytes:function(N,z,H){z=z||0,H=H||N.length;for(var X=0;X<H;X+=1)U.writeByte(N[X+z])},writeString:function(N){for(var z=0;z<N.length;z+=1)U.writeByte(N.charCodeAt(z))},toByteArray:function(){return k},toString:function(){var N="";N+="[";for(var z=0;z<k.length;z+=1)z>0&&(N+=","),N+=k[z];return N+"]"}};return U},F=function(k){var U=k,N=0,z=0,H=0,X={read:function(){for(;H<8;){if(N>=U.length){if(H==0)return-1;throw"unexpected end of file./"+H}var ie=U.charAt(N);if(N+=1,ie=="=")return H=0,-1;ie.match(/^\s$/)||(z=z<<6|ne(ie.charCodeAt(0)),H+=6)}var he=z>>>H-8&255;return H-=8,he}},ne=function(ie){if(65<=ie&&ie<=90)return ie-65;if(97<=ie&&ie<=122)return ie-97+26;if(48<=ie&&ie<=57)return ie-48+52;if(ie==43)return 62;if(ie==47)return 63;throw"c:"+ie};return X},L=function(k,U,N){for(var z=function(Ae,R){var re=Ae,ee=R,oe=new Array(Ae*R),Z={setPixel:function(Y,te,V){oe[te*re+Y]=V},write:function(Y){Y.writeString("GIF87a"),Y.writeShort(re),Y.writeShort(ee),Y.writeByte(128),Y.writeByte(0),Y.writeByte(0),Y.writeByte(0),Y.writeByte(0),Y.writeByte(0),Y.writeByte(255),Y.writeByte(255),Y.writeByte(255),Y.writeString(","),Y.writeShort(0),Y.writeShort(0),Y.writeShort(re),Y.writeShort(ee),Y.writeByte(0);var te=J(2);Y.writeByte(2);for(var V=0;te.length-V>255;)Y.writeByte(255),Y.writeBytes(te,V,255),V+=255;Y.writeByte(te.length-V),Y.writeBytes(te,V,te.length-V),Y.writeByte(0),Y.writeString(";")}},J=function(Y){for(var te=1<<Y,V=1+(1<<Y),K=Y+1,$=q(),se=0;se<te;se+=1)$.add(String.fromCharCode(se));$.add(String.fromCharCode(te)),$.add(String.fromCharCode(V));var pe,ue,ye,we=D(),Ee=(pe=we,ue=0,ye=0,{write:function(ve,Ce){if(ve>>>Ce!=0)throw"length over";for(;ue+Ce>=8;)pe.writeByte(255&(ve<<ue|ye)),Ce-=8-ue,ve>>>=8-ue,ye=0,ue=0;ye|=ve<<ue,ue+=Ce},flush:function(){ue>0&&pe.writeByte(ye)}});Ee.write(te,K);var me=0,fe=String.fromCharCode(oe[me]);for(me+=1;me<oe.length;){var de=String.fromCharCode(oe[me]);me+=1,$.contains(fe+de)?fe+=de:(Ee.write($.indexOf(fe),K),$.size()<4095&&($.size()==1<<K&&(K+=1),$.add(fe+de)),fe=de)}return Ee.write($.indexOf(fe),K),Ee.write(V,K),Ee.flush(),we.toByteArray()},q=function(){var Y={},te=0,V={add:function(K){if(V.contains(K))throw"dup key:"+K;Y[K]=te,te+=1},size:function(){return te},indexOf:function(K){return Y[K]},contains:function(K){return Y[K]!==void 0}};return V};return Z}(k,U),H=0;H<U;H+=1)for(var X=0;X<k;X+=1)z.setPixel(X,H,N(X,H));var ne=D();z.write(ne);for(var ie=function(){var Ae=0,R=0,re=0,ee="",oe={},Z=function(q){ee+=String.fromCharCode(J(63&q))},J=function(q){if(!(q<0)){if(q<26)return 65+q;if(q<52)return q-26+97;if(q<62)return q-52+48;if(q==62)return 43;if(q==63)return 47}throw"n:"+q};return oe.writeByte=function(q){for(Ae=Ae<<8|255&q,R+=8,re+=1;R>=6;)Z(Ae>>>R-6),R-=6},oe.flush=function(){if(R>0&&(Z(Ae<<6-R),Ae=0,R=0),re%3!=0)for(var q=3-re%3,Y=0;Y<q;Y+=1)ee+="="},oe.toString=function(){return ee},oe}(),he=ne.toByteArray(),le=0;le<he.length;le+=1)ie.writeByte(he[le]);return ie.flush(),"data:image/gif;base64,"+ie};return A}();s.stringToBytesFuncs["UTF-8"]=function(A){return function(v){for(var B=[],x=0;x<v.length;x++){var M=v.charCodeAt(x);M<128?B.push(M):M<2048?B.push(192|M>>6,128|63&M):M<55296||M>=57344?B.push(224|M>>12,128|M>>6&63,128|63&M):(x++,M=65536+((1023&M)<<10|1023&v.charCodeAt(x)),B.push(240|M>>18,128|M>>12&63,128|M>>6&63,128|63&M))}return B}(A)},(c=typeof(o=function(){return s})=="function"?o.apply(l,[]):o)===void 0||(a.exports=c)},676:(a,l,o)=>{o.d(l,{default:()=>le});var c=function(){return(c=Object.assign||function(Ae){for(var R,re=1,ee=arguments.length;re<ee;re++)for(var oe in R=arguments[re])Object.prototype.hasOwnProperty.call(R,oe)&&(Ae[oe]=R[oe]);return Ae}).apply(this,arguments)},s=function(){for(var Ae=0,R=0,re=arguments.length;R<re;R++)Ae+=arguments[R].length;var ee=Array(Ae),oe=0;for(R=0;R<re;R++)for(var Z=arguments[R],J=0,q=Z.length;J<q;J++,oe++)ee[oe]=Z[J];return ee},A=function(Ae){return!!Ae&&typeof Ae=="object"&&!Array.isArray(Ae)};function v(Ae){for(var R=[],re=1;re<arguments.length;re++)R[re-1]=arguments[re];if(!R.length)return Ae;var ee=R.shift();return ee!==void 0&&A(Ae)&&A(ee)?(Ae=c({},Ae),Object.keys(ee).forEach(function(oe){var Z=Ae[oe],J=ee[oe];Array.isArray(Z)&&Array.isArray(J)?Ae[oe]=J:A(Z)&&A(J)?Ae[oe]=v(Object.assign({},Z),J):Ae[oe]=J}),v.apply(void 0,s([Ae],R))):Ae}function B(Ae,R){var re=document.createElement("a");re.download=R,re.href=Ae,document.body.appendChild(re),re.click(),document.body.removeChild(re)}function x(Ae){return R=this,re=void 0,oe=function(){return function(Z,J){var q,Y,te,V,K={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return V={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function $(se){return function(pe){return function(ue){if(q)throw new TypeError("Generator is already executing.");for(;K;)try{if(q=1,Y&&(te=2&ue[0]?Y.return:ue[0]?Y.throw||((te=Y.return)&&te.call(Y),0):Y.next)&&!(te=te.call(Y,ue[1])).done)return te;switch(Y=0,te&&(ue=[2&ue[0],te.value]),ue[0]){case 0:case 1:te=ue;break;case 4:return K.label++,{value:ue[1],done:!1};case 5:K.label++,Y=ue[1],ue=[0];continue;case 7:ue=K.ops.pop(),K.trys.pop();continue;default:if(!((te=(te=K.trys).length>0&&te[te.length-1])||ue[0]!==6&&ue[0]!==2)){K=0;continue}if(ue[0]===3&&(!te||ue[1]>te[0]&&ue[1]<te[3])){K.label=ue[1];break}if(ue[0]===6&&K.label<te[1]){K.label=te[1],te=ue;break}if(te&&K.label<te[2]){K.label=te[2],K.ops.push(ue);break}te[2]&&K.ops.pop(),K.trys.pop();continue}ue=J.call(Z,K)}catch(ye){ue=[6,ye],Y=0}finally{q=te=0}if(5&ue[0])throw ue[1];return{value:ue[0]?ue[1]:void 0,done:!0}}([se,pe])}}}(this,function(Z){return[2,new Promise(function(J){var q=new XMLHttpRequest;q.onload=function(){var Y=new FileReader;Y.onloadend=function(){J(Y.result)},Y.readAsDataURL(q.response)},q.open("GET",Ae),q.responseType="blob",q.send()})]})},new((ee=void 0)||(ee=Promise))(function(Z,J){function q(V){try{te(oe.next(V))}catch(K){J(K)}}function Y(V){try{te(oe.throw(V))}catch(K){J(K)}}function te(V){var K;V.done?Z(V.value):(K=V.value,K instanceof ee?K:new ee(function($){$(K)})).then(q,Y)}te((oe=oe.apply(R,re||[])).next())});var R,re,ee,oe}const M={L:.07,M:.15,Q:.25,H:.3};var T=function(){return(T=Object.assign||function(Ae){for(var R,re=1,ee=arguments.length;re<ee;re++)for(var oe in R=arguments[re])Object.prototype.hasOwnProperty.call(R,oe)&&(Ae[oe]=R[oe]);return Ae}).apply(this,arguments)};const p=function(){function Ae(R){var re=R.svg,ee=R.type;this._svg=re,this._type=ee}return Ae.prototype.draw=function(R,re,ee,oe){var Z;switch(this._type){case"dots":Z=this._drawDot;break;case"classy":Z=this._drawClassy;break;case"classy-rounded":Z=this._drawClassyRounded;break;case"rounded":Z=this._drawRounded;break;case"extra-rounded":Z=this._drawExtraRounded;break;case"square":default:Z=this._drawSquare}Z.call(this,{x:R,y:re,size:ee,getNeighbor:oe})},Ae.prototype._rotateFigure=function(R){var re,ee=R.x,oe=R.y,Z=R.size,J=R.rotation,q=J===void 0?0:J,Y=ee+Z/2,te=oe+Z/2;(0,R.draw)(),(re=this._element)===null||re===void 0||re.setAttribute("transform","rotate("+180*q/Math.PI+","+Y+","+te+")")},Ae.prototype._basicDot=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(T(T({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),re._element.setAttribute("cx",String(oe+ee/2)),re._element.setAttribute("cy",String(Z+ee/2)),re._element.setAttribute("r",String(ee/2))}}))},Ae.prototype._basicSquare=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(T(T({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),re._element.setAttribute("x",String(oe)),re._element.setAttribute("y",String(Z)),re._element.setAttribute("width",String(ee)),re._element.setAttribute("height",String(ee))}}))},Ae.prototype._basicSideRounded=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(T(T({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","path"),re._element.setAttribute("d","M "+oe+" "+Z+"v "+ee+"h "+ee/2+"a "+ee/2+" "+ee/2+", 0, 0, 0, 0 "+-ee)}}))},Ae.prototype._basicCornerRounded=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(T(T({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","path"),re._element.setAttribute("d","M "+oe+" "+Z+"v "+ee+"h "+ee+"v "+-ee/2+"a "+ee/2+" "+ee/2+", 0, 0, 0, "+-ee/2+" "+-ee/2)}}))},Ae.prototype._basicCornerExtraRounded=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(T(T({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","path"),re._element.setAttribute("d","M "+oe+" "+Z+"v "+ee+"h "+ee+"a "+ee+" "+ee+", 0, 0, 0, "+-ee+" "+-ee)}}))},Ae.prototype._basicCornersRounded=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(T(T({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","path"),re._element.setAttribute("d","M "+oe+" "+Z+"v "+ee/2+"a "+ee/2+" "+ee/2+", 0, 0, 0, "+ee/2+" "+ee/2+"h "+ee/2+"v "+-ee/2+"a "+ee/2+" "+ee/2+", 0, 0, 0, "+-ee/2+" "+-ee/2)}}))},Ae.prototype._drawDot=function(R){var re=R.x,ee=R.y,oe=R.size;this._basicDot({x:re,y:ee,size:oe,rotation:0})},Ae.prototype._drawSquare=function(R){var re=R.x,ee=R.y,oe=R.size;this._basicSquare({x:re,y:ee,size:oe,rotation:0})},Ae.prototype._drawRounded=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.getNeighbor,J=Z?+Z(-1,0):0,q=Z?+Z(1,0):0,Y=Z?+Z(0,-1):0,te=Z?+Z(0,1):0,V=J+q+Y+te;if(V!==0)if(V>2||J&&q||Y&&te)this._basicSquare({x:re,y:ee,size:oe,rotation:0});else{if(V===2){var K=0;return J&&Y?K=Math.PI/2:Y&&q?K=Math.PI:q&&te&&(K=-Math.PI/2),void this._basicCornerRounded({x:re,y:ee,size:oe,rotation:K})}if(V===1)return K=0,Y?K=Math.PI/2:q?K=Math.PI:te&&(K=-Math.PI/2),void this._basicSideRounded({x:re,y:ee,size:oe,rotation:K})}else this._basicDot({x:re,y:ee,size:oe,rotation:0})},Ae.prototype._drawExtraRounded=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.getNeighbor,J=Z?+Z(-1,0):0,q=Z?+Z(1,0):0,Y=Z?+Z(0,-1):0,te=Z?+Z(0,1):0,V=J+q+Y+te;if(V!==0)if(V>2||J&&q||Y&&te)this._basicSquare({x:re,y:ee,size:oe,rotation:0});else{if(V===2){var K=0;return J&&Y?K=Math.PI/2:Y&&q?K=Math.PI:q&&te&&(K=-Math.PI/2),void this._basicCornerExtraRounded({x:re,y:ee,size:oe,rotation:K})}if(V===1)return K=0,Y?K=Math.PI/2:q?K=Math.PI:te&&(K=-Math.PI/2),void this._basicSideRounded({x:re,y:ee,size:oe,rotation:K})}else this._basicDot({x:re,y:ee,size:oe,rotation:0})},Ae.prototype._drawClassy=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.getNeighbor,J=Z?+Z(-1,0):0,q=Z?+Z(1,0):0,Y=Z?+Z(0,-1):0,te=Z?+Z(0,1):0;J+q+Y+te!==0?J||Y?q||te?this._basicSquare({x:re,y:ee,size:oe,rotation:0}):this._basicCornerRounded({x:re,y:ee,size:oe,rotation:Math.PI/2}):this._basicCornerRounded({x:re,y:ee,size:oe,rotation:-Math.PI/2}):this._basicCornersRounded({x:re,y:ee,size:oe,rotation:Math.PI/2})},Ae.prototype._drawClassyRounded=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.getNeighbor,J=Z?+Z(-1,0):0,q=Z?+Z(1,0):0,Y=Z?+Z(0,-1):0,te=Z?+Z(0,1):0;J+q+Y+te!==0?J||Y?q||te?this._basicSquare({x:re,y:ee,size:oe,rotation:0}):this._basicCornerExtraRounded({x:re,y:ee,size:oe,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:re,y:ee,size:oe,rotation:-Math.PI/2}):this._basicCornersRounded({x:re,y:ee,size:oe,rotation:Math.PI/2})},Ae}();var u=function(){return(u=Object.assign||function(Ae){for(var R,re=1,ee=arguments.length;re<ee;re++)for(var oe in R=arguments[re])Object.prototype.hasOwnProperty.call(R,oe)&&(Ae[oe]=R[oe]);return Ae}).apply(this,arguments)};const g=function(){function Ae(R){var re=R.svg,ee=R.type;this._svg=re,this._type=ee}return Ae.prototype.draw=function(R,re,ee,oe){var Z;switch(this._type){case"square":Z=this._drawSquare;break;case"extra-rounded":Z=this._drawExtraRounded;break;case"dot":default:Z=this._drawDot}Z.call(this,{x:R,y:re,size:ee,rotation:oe})},Ae.prototype._rotateFigure=function(R){var re,ee=R.x,oe=R.y,Z=R.size,J=R.rotation,q=J===void 0?0:J,Y=ee+Z/2,te=oe+Z/2;(0,R.draw)(),(re=this._element)===null||re===void 0||re.setAttribute("transform","rotate("+180*q/Math.PI+","+Y+","+te+")")},Ae.prototype._basicDot=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y,J=ee/7;this._rotateFigure(u(u({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","path"),re._element.setAttribute("clip-rule","evenodd"),re._element.setAttribute("d","M "+(oe+ee/2)+" "+Z+"a "+ee/2+" "+ee/2+" 0 1 0 0.1 0zm 0 "+J+"a "+(ee/2-J)+" "+(ee/2-J)+" 0 1 1 -0.1 0Z")}}))},Ae.prototype._basicSquare=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y,J=ee/7;this._rotateFigure(u(u({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","path"),re._element.setAttribute("clip-rule","evenodd"),re._element.setAttribute("d","M "+oe+" "+Z+"v "+ee+"h "+ee+"v "+-ee+"zM "+(oe+J)+" "+(Z+J)+"h "+(ee-2*J)+"v "+(ee-2*J)+"h "+(2*J-ee)+"z")}}))},Ae.prototype._basicExtraRounded=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y,J=ee/7;this._rotateFigure(u(u({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","path"),re._element.setAttribute("clip-rule","evenodd"),re._element.setAttribute("d","M "+oe+" "+(Z+2.5*J)+"v "+2*J+"a "+2.5*J+" "+2.5*J+", 0, 0, 0, "+2.5*J+" "+2.5*J+"h "+2*J+"a "+2.5*J+" "+2.5*J+", 0, 0, 0, "+2.5*J+" "+2.5*-J+"v "+-2*J+"a "+2.5*J+" "+2.5*J+", 0, 0, 0, "+2.5*-J+" "+2.5*-J+"h "+-2*J+"a "+2.5*J+" "+2.5*J+", 0, 0, 0, "+2.5*-J+" "+2.5*J+"M "+(oe+2.5*J)+" "+(Z+J)+"h "+2*J+"a "+1.5*J+" "+1.5*J+", 0, 0, 1, "+1.5*J+" "+1.5*J+"v "+2*J+"a "+1.5*J+" "+1.5*J+", 0, 0, 1, "+1.5*-J+" "+1.5*J+"h "+-2*J+"a "+1.5*J+" "+1.5*J+", 0, 0, 1, "+1.5*-J+" "+1.5*-J+"v "+-2*J+"a "+1.5*J+" "+1.5*J+", 0, 0, 1, "+1.5*J+" "+1.5*-J)}}))},Ae.prototype._drawDot=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.rotation;this._basicDot({x:re,y:ee,size:oe,rotation:Z})},Ae.prototype._drawSquare=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.rotation;this._basicSquare({x:re,y:ee,size:oe,rotation:Z})},Ae.prototype._drawExtraRounded=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.rotation;this._basicExtraRounded({x:re,y:ee,size:oe,rotation:Z})},Ae}();var C=function(){return(C=Object.assign||function(Ae){for(var R,re=1,ee=arguments.length;re<ee;re++)for(var oe in R=arguments[re])Object.prototype.hasOwnProperty.call(R,oe)&&(Ae[oe]=R[oe]);return Ae}).apply(this,arguments)};const f=function(){function Ae(R){var re=R.svg,ee=R.type;this._svg=re,this._type=ee}return Ae.prototype.draw=function(R,re,ee,oe){var Z;switch(this._type){case"square":Z=this._drawSquare;break;case"dot":default:Z=this._drawDot}Z.call(this,{x:R,y:re,size:ee,rotation:oe})},Ae.prototype._rotateFigure=function(R){var re,ee=R.x,oe=R.y,Z=R.size,J=R.rotation,q=J===void 0?0:J,Y=ee+Z/2,te=oe+Z/2;(0,R.draw)(),(re=this._element)===null||re===void 0||re.setAttribute("transform","rotate("+180*q/Math.PI+","+Y+","+te+")")},Ae.prototype._basicDot=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(C(C({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),re._element.setAttribute("cx",String(oe+ee/2)),re._element.setAttribute("cy",String(Z+ee/2)),re._element.setAttribute("r",String(ee/2))}}))},Ae.prototype._basicSquare=function(R){var re=this,ee=R.size,oe=R.x,Z=R.y;this._rotateFigure(C(C({},R),{draw:function(){re._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),re._element.setAttribute("x",String(oe)),re._element.setAttribute("y",String(Z)),re._element.setAttribute("width",String(ee)),re._element.setAttribute("height",String(ee))}}))},Ae.prototype._drawDot=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.rotation;this._basicDot({x:re,y:ee,size:oe,rotation:Z})},Ae.prototype._drawSquare=function(R){var re=R.x,ee=R.y,oe=R.size,Z=R.rotation;this._basicSquare({x:re,y:ee,size:oe,rotation:Z})},Ae}(),d="circle";var h=function(Ae,R,re,ee){return new(re||(re=Promise))(function(oe,Z){function J(te){try{Y(ee.next(te))}catch(V){Z(V)}}function q(te){try{Y(ee.throw(te))}catch(V){Z(V)}}function Y(te){var V;te.done?oe(te.value):(V=te.value,V instanceof re?V:new re(function(K){K(V)})).then(J,q)}Y((ee=ee.apply(Ae,R||[])).next())})},w=function(Ae,R){var re,ee,oe,Z,J={label:0,sent:function(){if(1&oe[0])throw oe[1];return oe[1]},trys:[],ops:[]};return Z={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(Z[Symbol.iterator]=function(){return this}),Z;function q(Y){return function(te){return function(V){if(re)throw new TypeError("Generator is already executing.");for(;J;)try{if(re=1,ee&&(oe=2&V[0]?ee.return:V[0]?ee.throw||((oe=ee.return)&&oe.call(ee),0):ee.next)&&!(oe=oe.call(ee,V[1])).done)return oe;switch(ee=0,oe&&(V=[2&V[0],oe.value]),V[0]){case 0:case 1:oe=V;break;case 4:return J.label++,{value:V[1],done:!1};case 5:J.label++,ee=V[1],V=[0];continue;case 7:V=J.ops.pop(),J.trys.pop();continue;default:if(!((oe=(oe=J.trys).length>0&&oe[oe.length-1])||V[0]!==6&&V[0]!==2)){J=0;continue}if(V[0]===3&&(!oe||V[1]>oe[0]&&V[1]<oe[3])){J.label=V[1];break}if(V[0]===6&&J.label<oe[1]){J.label=oe[1],oe=V;break}if(oe&&J.label<oe[2]){J.label=oe[2],J.ops.push(V);break}oe[2]&&J.ops.pop(),J.trys.pop();continue}V=R.call(Ae,J)}catch(K){V=[6,K],ee=0}finally{re=oe=0}if(5&V[0])throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}([Y,te])}}},I=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],y=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const D=function(){function Ae(R){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(R.width)),this._element.setAttribute("height",String(R.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=R}return Object.defineProperty(Ae.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(Ae.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),Ae.prototype.getElement=function(){return this._element},Ae.prototype.drawQR=function(R){return h(this,void 0,void 0,function(){var re,ee,oe,Z,J,q,Y,te,V,K,$=this;return w(this,function(se){switch(se.label){case 0:return re=R.getModuleCount(),ee=Math.min(this._options.width,this._options.height)-2*this._options.margin,oe=this._options.shape===d?ee/Math.sqrt(2):ee,Z=Math.floor(oe/re),J={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=R,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(se.sent(),!this._image)return[2];q=this._options,Y=q.imageOptions,te=q.qrOptions,V=Y.imageSize*M[te.errorCorrectionLevel],K=Math.floor(V*re*re),J=function(pe){var ue=pe.originalHeight,ye=pe.originalWidth,we=pe.maxHiddenDots,Ee=pe.maxHiddenAxisDots,me=pe.dotSize,fe={x:0,y:0},de={x:0,y:0};if(ue<=0||ye<=0||we<=0||me<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var ve=ue/ye;return fe.x=Math.floor(Math.sqrt(we/ve)),fe.x<=0&&(fe.x=1),Ee&&Ee<fe.x&&(fe.x=Ee),fe.x%2==0&&fe.x--,de.x=fe.x*me,fe.y=1+2*Math.ceil((fe.x*ve-1)/2),de.y=Math.round(de.x*ve),(fe.y*fe.x>we||Ee&&Ee<fe.y)&&(Ee&&Ee<fe.y?(fe.y=Ee,fe.y%2==0&&fe.x--):fe.y-=2,de.y=fe.y*me,fe.x=1+2*Math.ceil((fe.y/ve-1)/2),de.x=Math.round(de.y/ve)),{height:de.y,width:de.x,hideYDots:fe.y,hideXDots:fe.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:K,maxHiddenAxisDots:re-14,dotSize:Z}),se.label=2;case 2:return this.drawBackground(),this.drawDots(function(pe,ue){var ye,we,Ee,me,fe,de;return!($._options.imageOptions.hideBackgroundDots&&pe>=(re-J.hideXDots)/2&&pe<(re+J.hideXDots)/2&&ue>=(re-J.hideYDots)/2&&ue<(re+J.hideYDots)/2||((ye=I[pe])===null||ye===void 0?void 0:ye[ue])||((we=I[pe-re+7])===null||we===void 0?void 0:we[ue])||((Ee=I[pe])===null||Ee===void 0?void 0:Ee[ue-re+7])||((me=y[pe])===null||me===void 0?void 0:me[ue])||((fe=y[pe-re+7])===null||fe===void 0?void 0:fe[ue])||((de=y[pe])===null||de===void 0?void 0:de[ue-re+7]))}),this.drawCorners(),this._options.image?[4,this.drawImage({width:J.width,height:J.height,count:re,dotSize:Z})]:[3,4];case 3:se.sent(),se.label=4;case 4:return[2]}})})},Ae.prototype.drawBackground=function(){var R,re,ee,oe=this._element,Z=this._options;if(oe){var J=(R=Z.backgroundOptions)===null||R===void 0?void 0:R.gradient,q=(re=Z.backgroundOptions)===null||re===void 0?void 0:re.color;if((J||q)&&this._createColor({options:J,color:q,additionalRotation:0,x:0,y:0,height:Z.height,width:Z.width,name:"background-color"}),(ee=Z.backgroundOptions)===null||ee===void 0?void 0:ee.round){var Y=Math.min(Z.width,Z.height),te=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),te.setAttribute("x",String((Z.width-Y)/2)),te.setAttribute("y",String((Z.height-Y)/2)),te.setAttribute("width",String(Y)),te.setAttribute("height",String(Y)),te.setAttribute("rx",String(Y/2*Z.backgroundOptions.round)),this._backgroundClipPath.appendChild(te)}}},Ae.prototype.drawDots=function(R){var re,ee,oe=this;if(!this._qr)throw"QR code is not defined";var Z=this._options,J=this._qr.getModuleCount();if(J>Z.width||J>Z.height)throw"The canvas is too small.";var q=Math.min(Z.width,Z.height)-2*Z.margin,Y=Z.shape===d?q/Math.sqrt(2):q,te=Math.floor(Y/J),V=Math.floor((Z.width-J*te)/2),K=Math.floor((Z.height-J*te)/2),$=new p({svg:this._element,type:Z.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(re=Z.dotsOptions)===null||re===void 0?void 0:re.gradient,color:Z.dotsOptions.color,additionalRotation:0,x:0,y:0,height:Z.height,width:Z.width,name:"dot-color"});for(var se=function(De){for(var Re=function(Ie){return R&&!R(De,Ie)?"continue":!((ee=pe._qr)===null||ee===void 0)&&ee.isDark(De,Ie)?($.draw(V+De*te,K+Ie*te,te,function(Ge,Xe){return!(De+Ge<0||Ie+Xe<0||De+Ge>=J||Ie+Xe>=J)&&!(R&&!R(De+Ge,Ie+Xe))&&!!oe._qr&&oe._qr.isDark(De+Ge,Ie+Xe)}),void($._element&&pe._dotsClipPath&&pe._dotsClipPath.appendChild($._element))):"continue"},je=0;je<J;je++)Re(je)},pe=this,ue=0;ue<J;ue++)se(ue);if(Z.shape===d){var ye=Math.floor((q/te-J)/2),we=J+2*ye,Ee=V-ye*te,me=K-ye*te,fe=[],de=Math.floor(we/2);for(ue=0;ue<we;ue++){fe[ue]=[];for(var ve=0;ve<we;ve++)ue>=ye-1&&ue<=we-ye&&ve>=ye-1&&ve<=we-ye||Math.sqrt((ue-de)*(ue-de)+(ve-de)*(ve-de))>de?fe[ue][ve]=0:fe[ue][ve]=this._qr.isDark(ve-2*ye<0?ve:ve>=J?ve-2*ye:ve-ye,ue-2*ye<0?ue:ue>=J?ue-2*ye:ue-ye)?1:0}var Ce=function(De){for(var Re=function(Ie){if(!fe[De][Ie])return"continue";$.draw(Ee+De*te,me+Ie*te,te,function(Ge,Xe){var rt;return!!(!((rt=fe[De+Ge])===null||rt===void 0)&&rt[Ie+Xe])}),$._element&&xe._dotsClipPath&&xe._dotsClipPath.appendChild($._element)},je=0;je<we;je++)Re(je)},xe=this;for(ue=0;ue<we;ue++)Ce(ue)}},Ae.prototype.drawCorners=function(){var R=this;if(!this._qr)throw"QR code is not defined";var re=this._element,ee=this._options;if(!re)throw"Element code is not defined";var oe=this._qr.getModuleCount(),Z=Math.min(ee.width,ee.height)-2*ee.margin,J=ee.shape===d?Z/Math.sqrt(2):Z,q=Math.floor(J/oe),Y=7*q,te=3*q,V=Math.floor((ee.width-oe*q)/2),K=Math.floor((ee.height-oe*q)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function($){var se,pe,ue,ye,we,Ee,me,fe,de,ve,Ce,xe,De=$[0],Re=$[1],je=$[2],Ie=V+De*q*(oe-7),Ge=K+Re*q*(oe-7),Xe=R._dotsClipPath,rt=R._dotsClipPath;if((((se=ee.cornersSquareOptions)===null||se===void 0?void 0:se.gradient)||((pe=ee.cornersSquareOptions)===null||pe===void 0?void 0:pe.color))&&((Xe=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+De+"-"+Re),R._defs.appendChild(Xe),R._cornersSquareClipPath=R._cornersDotClipPath=rt=Xe,R._createColor({options:(ue=ee.cornersSquareOptions)===null||ue===void 0?void 0:ue.gradient,color:(ye=ee.cornersSquareOptions)===null||ye===void 0?void 0:ye.color,additionalRotation:je,x:Ie,y:Ge,height:Y,width:Y,name:"corners-square-color-"+De+"-"+Re})),(we=ee.cornersSquareOptions)===null||we===void 0?void 0:we.type){var vt=new g({svg:R._element,type:ee.cornersSquareOptions.type});vt.draw(Ie,Ge,Y,je),vt._element&&Xe&&Xe.appendChild(vt._element)}else for(var Ct=new p({svg:R._element,type:ee.dotsOptions.type}),Dt=function(Ht){for(var Fe=function(ze){if(!(!((Ee=I[Ht])===null||Ee===void 0)&&Ee[ze]))return"continue";Ct.draw(Ie+Ht*q,Ge+ze*q,q,function(Ke,Je){var Qe;return!!(!((Qe=I[Ht+Ke])===null||Qe===void 0)&&Qe[ze+Je])}),Ct._element&&Xe&&Xe.appendChild(Ct._element)},Oe=0;Oe<I[Ht].length;Oe++)Fe(Oe)},ft=0;ft<I.length;ft++)Dt(ft);if((((me=ee.cornersDotOptions)===null||me===void 0?void 0:me.gradient)||((fe=ee.cornersDotOptions)===null||fe===void 0?void 0:fe.color))&&((rt=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+De+"-"+Re),R._defs.appendChild(rt),R._cornersDotClipPath=rt,R._createColor({options:(de=ee.cornersDotOptions)===null||de===void 0?void 0:de.gradient,color:(ve=ee.cornersDotOptions)===null||ve===void 0?void 0:ve.color,additionalRotation:je,x:Ie+2*q,y:Ge+2*q,height:te,width:te,name:"corners-dot-color-"+De+"-"+Re})),(Ce=ee.cornersDotOptions)===null||Ce===void 0?void 0:Ce.type){var _t=new f({svg:R._element,type:ee.cornersDotOptions.type});_t.draw(Ie+2*q,Ge+2*q,te,je),_t._element&&rt&&rt.appendChild(_t._element)}else{Ct=new p({svg:R._element,type:ee.dotsOptions.type});var Xt=function(Ht){for(var Fe=function(ze){if(!(!((xe=y[Ht])===null||xe===void 0)&&xe[ze]))return"continue";Ct.draw(Ie+Ht*q,Ge+ze*q,q,function(Ke,Je){var Qe;return!!(!((Qe=y[Ht+Ke])===null||Qe===void 0)&&Qe[ze+Je])}),Ct._element&&rt&&rt.appendChild(Ct._element)},Oe=0;Oe<y[Ht].length;Oe++)Fe(Oe)};for(ft=0;ft<y.length;ft++)Xt(ft)}})},Ae.prototype.loadImage=function(){var R=this;return new Promise(function(re,ee){var oe=R._options,Z=new Image;if(!oe.image)return ee("Image is not defined");typeof oe.imageOptions.crossOrigin=="string"&&(Z.crossOrigin=oe.imageOptions.crossOrigin),R._image=Z,Z.onload=function(){re()},Z.src=oe.image})},Ae.prototype.drawImage=function(R){var re=R.width,ee=R.height,oe=R.count,Z=R.dotSize;return h(this,void 0,void 0,function(){var J,q,Y,te,V,K,$,se,pe;return w(this,function(ue){switch(ue.label){case 0:return J=this._options,q=Math.floor((J.width-oe*Z)/2),Y=Math.floor((J.height-oe*Z)/2),te=q+J.imageOptions.margin+(oe*Z-re)/2,V=Y+J.imageOptions.margin+(oe*Z-ee)/2,K=re-2*J.imageOptions.margin,$=ee-2*J.imageOptions.margin,(se=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(te)),se.setAttribute("y",String(V)),se.setAttribute("width",K+"px"),se.setAttribute("height",$+"px"),[4,x(J.image||"")];case 1:return pe=ue.sent(),se.setAttribute("href",pe||""),this._element.appendChild(se),[2]}})})},Ae.prototype._createColor=function(R){var re=R.options,ee=R.color,oe=R.additionalRotation,Z=R.x,J=R.y,q=R.height,Y=R.width,te=R.name,V=Y>q?Y:q,K=document.createElementNS("http://www.w3.org/2000/svg","rect");if(K.setAttribute("x",String(Z)),K.setAttribute("y",String(J)),K.setAttribute("height",String(q)),K.setAttribute("width",String(Y)),K.setAttribute("clip-path","url('#clip-path-"+te+"')"),re){var $;if(re.type==="radial")($=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",te),$.setAttribute("gradientUnits","userSpaceOnUse"),$.setAttribute("fx",String(Z+Y/2)),$.setAttribute("fy",String(J+q/2)),$.setAttribute("cx",String(Z+Y/2)),$.setAttribute("cy",String(J+q/2)),$.setAttribute("r",String(V/2));else{var se=((re.rotation||0)+oe)%(2*Math.PI),pe=(se+2*Math.PI)%(2*Math.PI),ue=Z+Y/2,ye=J+q/2,we=Z+Y/2,Ee=J+q/2;pe>=0&&pe<=.25*Math.PI||pe>1.75*Math.PI&&pe<=2*Math.PI?(ue-=Y/2,ye-=q/2*Math.tan(se),we+=Y/2,Ee+=q/2*Math.tan(se)):pe>.25*Math.PI&&pe<=.75*Math.PI?(ye-=q/2,ue-=Y/2/Math.tan(se),Ee+=q/2,we+=Y/2/Math.tan(se)):pe>.75*Math.PI&&pe<=1.25*Math.PI?(ue+=Y/2,ye+=q/2*Math.tan(se),we-=Y/2,Ee-=q/2*Math.tan(se)):pe>1.25*Math.PI&&pe<=1.75*Math.PI&&(ye+=q/2,ue+=Y/2/Math.tan(se),Ee-=q/2,we-=Y/2/Math.tan(se)),($=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",te),$.setAttribute("gradientUnits","userSpaceOnUse"),$.setAttribute("x1",String(Math.round(ue))),$.setAttribute("y1",String(Math.round(ye))),$.setAttribute("x2",String(Math.round(we))),$.setAttribute("y2",String(Math.round(Ee)))}re.colorStops.forEach(function(me){var fe=me.offset,de=me.color,ve=document.createElementNS("http://www.w3.org/2000/svg","stop");ve.setAttribute("offset",100*fe+"%"),ve.setAttribute("stop-color",de),$.appendChild(ve)}),K.setAttribute("fill","url('#"+te+"')"),this._defs.appendChild($)}else ee&&K.setAttribute("fill",ee);this._element.appendChild(K)},Ae}(),F="canvas";for(var L={},k=0;k<=40;k++)L[k]=k;const U={type:F,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:L[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var N=function(){return(N=Object.assign||function(Ae){for(var R,re=1,ee=arguments.length;re<ee;re++)for(var oe in R=arguments[re])Object.prototype.hasOwnProperty.call(R,oe)&&(Ae[oe]=R[oe]);return Ae}).apply(this,arguments)};function z(Ae){var R=N({},Ae);if(!R.colorStops||!R.colorStops.length)throw"Field 'colorStops' is required in gradient";return R.rotation?R.rotation=Number(R.rotation):R.rotation=0,R.colorStops=R.colorStops.map(function(re){return N(N({},re),{offset:Number(re.offset)})}),R}function H(Ae){var R=N({},Ae);return R.width=Number(R.width),R.height=Number(R.height),R.margin=Number(R.margin),R.imageOptions=N(N({},R.imageOptions),{hideBackgroundDots:Boolean(R.imageOptions.hideBackgroundDots),imageSize:Number(R.imageOptions.imageSize),margin:Number(R.imageOptions.margin)}),R.margin>Math.min(R.width,R.height)&&(R.margin=Math.min(R.width,R.height)),R.dotsOptions=N({},R.dotsOptions),R.dotsOptions.gradient&&(R.dotsOptions.gradient=z(R.dotsOptions.gradient)),R.cornersSquareOptions&&(R.cornersSquareOptions=N({},R.cornersSquareOptions),R.cornersSquareOptions.gradient&&(R.cornersSquareOptions.gradient=z(R.cornersSquareOptions.gradient))),R.cornersDotOptions&&(R.cornersDotOptions=N({},R.cornersDotOptions),R.cornersDotOptions.gradient&&(R.cornersDotOptions.gradient=z(R.cornersDotOptions.gradient))),R.backgroundOptions&&(R.backgroundOptions=N({},R.backgroundOptions),R.backgroundOptions.gradient&&(R.backgroundOptions.gradient=z(R.backgroundOptions.gradient))),R}var X=o(192),ne=o.n(X),ie=function(Ae,R,re,ee){return new(re||(re=Promise))(function(oe,Z){function J(te){try{Y(ee.next(te))}catch(V){Z(V)}}function q(te){try{Y(ee.throw(te))}catch(V){Z(V)}}function Y(te){var V;te.done?oe(te.value):(V=te.value,V instanceof re?V:new re(function(K){K(V)})).then(J,q)}Y((ee=ee.apply(Ae,R||[])).next())})},he=function(Ae,R){var re,ee,oe,Z,J={label:0,sent:function(){if(1&oe[0])throw oe[1];return oe[1]},trys:[],ops:[]};return Z={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(Z[Symbol.iterator]=function(){return this}),Z;function q(Y){return function(te){return function(V){if(re)throw new TypeError("Generator is already executing.");for(;J;)try{if(re=1,ee&&(oe=2&V[0]?ee.return:V[0]?ee.throw||((oe=ee.return)&&oe.call(ee),0):ee.next)&&!(oe=oe.call(ee,V[1])).done)return oe;switch(ee=0,oe&&(V=[2&V[0],oe.value]),V[0]){case 0:case 1:oe=V;break;case 4:return J.label++,{value:V[1],done:!1};case 5:J.label++,ee=V[1],V=[0];continue;case 7:V=J.ops.pop(),J.trys.pop();continue;default:if(!((oe=(oe=J.trys).length>0&&oe[oe.length-1])||V[0]!==6&&V[0]!==2)){J=0;continue}if(V[0]===3&&(!oe||V[1]>oe[0]&&V[1]<oe[3])){J.label=V[1];break}if(V[0]===6&&J.label<oe[1]){J.label=oe[1],oe=V;break}if(oe&&J.label<oe[2]){J.label=oe[2],J.ops.push(V);break}oe[2]&&J.ops.pop(),J.trys.pop();continue}V=R.call(Ae,J)}catch(K){V=[6,K],ee=0}finally{re=oe=0}if(5&V[0])throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}([Y,te])}}};const le=function(){function Ae(R){this._options=R?H(v(U,R)):U,this.update()}return Ae._clearContainer=function(R){R&&(R.innerHTML="")},Ae.prototype._setupSvg=function(){var R=this;if(this._qr){var re=new D(this._options);this._svg=re.getElement(),this._svgDrawingPromise=re.drawQR(this._qr).then(function(){var ee;R._svg&&((ee=R._extension)===null||ee===void 0||ee.call(R,re.getElement(),R._options))})}},Ae.prototype._setupCanvas=function(){var R,re=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(R=this._svgDrawingPromise)===null||R===void 0?void 0:R.then(function(){if(re._svg){var ee=re._svg,oe=new XMLSerializer().serializeToString(ee),Z="data:image/svg+xml;base64,"+btoa(oe),J=new Image;return new Promise(function(q){J.onload=function(){var Y,te;(te=(Y=re._canvas)===null||Y===void 0?void 0:Y.getContext("2d"))===null||te===void 0||te.drawImage(J,0,0),q()},J.src=Z})}}))},Ae.prototype._getElement=function(R){return R===void 0&&(R="png"),ie(this,void 0,void 0,function(){return he(this,function(re){switch(re.label){case 0:if(!this._qr)throw"QR code is empty";return R.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return re.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return re.sent(),[2,this._canvas]}})})},Ae.prototype.update=function(R){Ae._clearContainer(this._container),this._options=R?H(v(this._options,R)):this._options,this._options.data&&(this._qr=ne()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(re){switch(!0){case/^[0-9]*$/.test(re):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(re):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===F?this._setupCanvas():this._setupSvg(),this.append(this._container))},Ae.prototype.append=function(R){if(R){if(typeof R.appendChild!="function")throw"Container should be a single DOM node";this._options.type===F?this._canvas&&R.appendChild(this._canvas):this._svg&&R.appendChild(this._svg),this._container=R}},Ae.prototype.applyExtension=function(R){if(!R)throw"Extension function should be defined.";this._extension=R,this.update()},Ae.prototype.deleteExtension=function(){this._extension=void 0,this.update()},Ae.prototype.getRawData=function(R){return R===void 0&&(R="png"),ie(this,void 0,void 0,function(){var re,ee,oe;return he(this,function(Z){switch(Z.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(R)];case 1:return(re=Z.sent())?R.toLowerCase()==="svg"?(ee=new XMLSerializer,oe=ee.serializeToString(re),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+oe],{type:"image/svg+xml"})]):[2,new Promise(function(J){return re.toBlob(J,"image/"+R,1)})]:[2,null]}})})},Ae.prototype.download=function(R){return ie(this,void 0,void 0,function(){var re,ee,oe,Z,J;return he(this,function(q){switch(q.label){case 0:if(!this._qr)throw"QR code is empty";return re="png",ee="qr",typeof R=="string"?(re=R,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof R=="object"&&R!==null&&(R.name&&(ee=R.name),R.extension&&(re=R.extension)),[4,this._getElement(re)];case 1:return(oe=q.sent())?(re.toLowerCase()==="svg"?(Z=new XMLSerializer,J=`<?xml version="1.0" standalone="no"?>\r
`+(J=Z.serializeToString(oe)),B("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(J),ee+".svg")):B(oe.toDataURL("image/"+re),ee+"."+re),[2]):[2]}})})},Ae}()}},r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={exports:{}};return n[a](l,l.exports,i),l.exports}return i.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return i.d(l,{a:l}),l},i.d=(a,l)=>{for(var o in l)i.o(l,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:l[o]})},i.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),i(676)})().default})})(D0);var $M=Ym(D0.exports);const qM=m.defineComponent({props:{width:{default:300},height:{default:300},image:{},value:{},dotsOptions:{default:()=>({})}},setup(e){let t={};m.watch(()=>[e.width,e.height,e.dotsOptions],()=>{n()});const n=I0(300,!1,async()=>{var a;t={width:e.width,height:e.height,type:"canvas",data:e.value,image:e.image,margin:2,qrOptions:{typeNumber:3,mode:"Byte",errorCorrectionLevel:"M"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:6,crossOrigin:"anonymous"},backgroundOptions:{color:"#ffffff"},dotsOptions:{color:"#41b583",type:"rounded",...e.dotsOptions},cornersSquareOptions:{color:e.dotsOptions.color,type:""},cornersDotOptions:{color:e.dotsOptions.color,type:"square"}},e.value&&(r.update(t),await m.nextTick(),(a=i==null?void 0:i.value)!=null&&a.firstChild&&(i.value.firstChild.style="width: 100%;"))}),r=new $M(t),i=m.ref();return m.onMounted(()=>{n(),r.append(i.value)}),{qrCodeDom:i}}}),eD={ref:"qrCodeDom",class:"qrcode__wrap"};function tD(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",eD,null,512)}var nD=ct(qM,[["render",tD]]),E9="",_9="";const T0="w-qrcode",rD={name:T0,components:{QRCode:nD},setting:{name:"\u4E8C\u7EF4\u7801",type:T0,uuid:-1,width:300,height:300,left:0,top:0,zoom:1,transform:"",radius:0,opacity:1,parent:"-1",url:"",dotType:"classy",dotColorType:"single",dotRotation:270,dotColor:"#35495E",dotColor2:"#35495E",value:"https://xp.palxp.cn",setting:[],record:{width:0,height:0,minWidth:10,minHeight:10,dir:"all"}},props:["params","parent"],data(){return{qrCodeOptions:{}}},computed:{...$e.mapGetters(["dActiveElement","dZoom"]),width(){return Number(this.params.width)}},watch:{params:{async handler(e){this.changeValues()},immediate:!0,deep:!0}},updated(){this.updateRecord(),this.$store.commit("updateRect")},async mounted(){this.updateRecord(),await this.$nextTick(),this.params.rotate&&(this.$refs.widget.style.transform+=`rotate(${this.params.rotate})`)},methods:{...$e.mapActions(["updateWidgetData"]),updateRecord(){if(this.dActiveElement.uuid===this.params.uuid){let e=this.dActiveElement.record;e.width=this.$refs.widget.offsetWidth,e.height=this.$refs.widget.offsetHeight}},changeValues(){this.qrCodeOptions={qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"H"},dotsOptions:{type:this.params.dotType,color:this.params.dotColor,gradient:{type:"linear",rotation:this.params.dotRotation,colorStops:[{offset:0,color:this.params.dotColor},{offset:1,color:this.params.dotColorType==="single"?this.params.dotColor:this.params.dotColor2}]}}}}}},iD=["id"];function aD(e,t,n,r,i,a){const l=m.resolveComponent("QRCode");return m.openBlock(),m.createElementBlock("div",{id:n.params.uuid,ref:"widget",class:m.normalizeClass(["w-qrcode",{"layer-lock":n.params.lock}]),style:m.normalizeStyle({position:"absolute",left:n.params.left-n.parent.left+"px",top:n.params.top-n.parent.top+"px",width:n.params.width+"px",height:n.params.height+"px",opacity:n.params.opacity})},[m.createVNode(l,m.mergeProps({ref:"qrcode"},i.qrCodeOptions,{width:a.width,height:a.width,class:"target",image:n.params.url,value:n.params.value}),null,16,["width","height","image","value"])],14,iD)}var xh=ct(rD,[["render",aD],["__scopeId","data-v-8eaf4d56"]]),oD=Object.freeze(Object.defineProperty({__proto__:null,default:xh},Symbol.toStringTag,{value:"Module"}));const sD={methods:{initmovement(e){tt.getters.dAltDown||tt.commit("setMouseEvent",e);const t=tt.getters.dActiveElement;tt.dispatch("initDMove",{startX:e.pageX,startY:e.pageY,originX:t.left,originY:t.top});const n=()=>{tt.commit("setMouseEvent",null),document.removeEventListener("mouseup",n,!0)};document.addEventListener("mouseup",n,!0)}}};var S9="";const AD="page-design",lD=m.defineComponent({name:AD,components:{wGroup:Ih,wImage:na,wQrcode:xh,wSvg:ms,wText:vs},mixins:[sD],props:["pageDesignCanvasId"],data(){return{}},computed:{...$e.mapGetters(["dPaddingTop","dPage","dZoom","dScreen","dWidgets","dActiveElement","dHoverUuid","dSelectWidgets","dAltDown","dDraging","showRotatable"])},mounted(){this.getScreen(),document.getElementById("page-design").addEventListener("mousedown",this.handleSelection,!1),document.getElementById("page-design").addEventListener("mousemove",I0(100,!1,this.handleMouseMove),!1)},beforeUnmount(){},methods:{...$e.mapActions(["updateScreen","selectWidget","deleteWidget","addWidget","addGroup"]),async dropOver(e){if(this.dActiveElement.editable||this.dActiveElement.lock)return!1;e.preventDefault();let{data:t,type:n}=this.$store.getters.selectItem;if(n!=="image")return;const r=await yo(e.target),i=r.getAttribute("data-uuid");if(this.$store.dispatch("setDropOver",i),e.target.getAttribute("putIn")){this._dropIn=i;const a=t.value.thumb||t.value.url;!this._srcCache&&(this._srcCache=r.firstElementChild.firstElementChild.src),r.firstElementChild.firstElementChild.src=a}else this._srcCache&&(r.firstElementChild.firstElementChild.src=this._srcCache),this._srcCache="",this._dropIn=""},async drop(e){if(!this.dDraging)return;this.$store.commit("setDraging",!1);const t=this._dropIn;this._dropIn="",this.$store.dispatch("setDropOver","-1"),this.$store.commit("setShowMoveable",!1);let n=e.target.className!=="design-canvas";e.preventDefault();let{data:r,type:i}=JSON.parse(JSON.stringify(this.$store.getters.selectItem));this.$store.commit("selectItem",{});let a={};if(!i)return;a=await XM(i,r,a);const l=e.x-document.getElementById("page-design-canvas").getBoundingClientRect().left,o=e.y-document.getElementById("page-design-canvas").getBoundingClientRect().top;if(i==="group"){let s={};r=await _0(r),r.forEach(v=>{v.type==="w-group"&&(s.width=v.width,s.height=v.height)});const A={x:s.width?s.width*this.$store.getters.dZoom/100/2:0,y:s.height?s.height*this.$store.getters.dZoom/100/2:0};r.forEach(v=>{v.left+=(n?l-A.x:e.layerX-A.x)*(100/this.$store.getters.dZoom),v.top+=(n?o-A.y:e.layerY-A.y)*(100/this.$store.getters.dZoom)}),this.addGroup(r)}const c={x:a.width?a.width*this.$store.getters.dZoom/100/2:0,y:a.height?a.height*this.$store.getters.dZoom/100/2:0};if(a.left=(n?l-c.x:e.layerX-c.x)*(100/this.$store.getters.dZoom),a.top=(n?o-c.y:e.layerY-c.y)*(100/this.$store.getters.dZoom),n&&i==="image"){const s=await yo(e.target),A=s.getAttribute("data-type"),v=s.getAttribute("data-uuid");if(A==="w-mask"){this.$store.commit("setShowMoveable",!0);const B=this.dWidgets.find(x=>x.uuid===v);B.imgUrl=r.value.url}else if(t){const B=this.dWidgets.find(x=>x.uuid==t);B.imgUrl=r.value.url,console.log("\u52A0\u5165+",B),this.$store.commit("setShowMoveable",!0)}else this.addWidget(a)}else i==="bg"?console.log("\u80CC\u666F\u56FE\u7247\u653E\u7F6E"):i!=="group"&&this.addWidget(a)},getScreen(){let e=this.$refs["page-design"];this.updateScreen({width:e.offsetWidth,height:e.offsetHeight})},async handleMouseMove(e){const t=new B0(e.target),{rgba:n}=t.getColorXY(e.offsetX,e.offsetY);if(n&&n==="rgba(0,0,0,0)"){console.log("\u89E3\u6790\u70B9\u4F4D\u989C\u8272: ",n);let r=await yo(e.target);r.style.pointerEvents="none",setTimeout(()=>{r.style.pointerEvents="auto"},300)}},async handleSelection(e){if(e.which===3)return;let t=await yo(e.target);if(t.getAttribute("data-type")){let r=t.getAttribute("data-uuid");if(r!=="-1"&&!this.dAltDown){let i=this.dWidgets.find(a=>a.uuid===r);i.parent!=="-1"&&i.parent!==this.dActiveElement.uuid&&i.parent!==this.dActiveElement.parent&&(r=i.parent)}this.showRotatable!==!1&&this.selectWidget({uuid:r}),r!=="-1"&&this.initmovement&&this.initmovement(e)}else this.selectWidget({uuid:"-1"})},getlayers(){return this.dWidgets.filter(e=>e.parent===this.dPage.uuid)},getChilds(e){return this.dWidgets.filter(t=>t.parent===e)}}}),cD=["id","data-type","data-uuid"];function uD(e,t,n,r,i,a){var l,o,c,s,A,v,B;return m.openBlock(),m.createElementBlock("div",{id:"page-design",ref:"page-design",style:m.normalizeStyle({paddingTop:e.dPaddingTop+"px",minHeight:"81vh"})},[m.createElementVNode("div",{id:"out-page",class:"out-page",style:m.normalizeStyle({width:e.dPage.width*e.dZoom/100+120+"px",height:e.dPage.height*e.dZoom/100+120+"px",opacity:1-(e.dZoom<100?e.dPage.tag:0)})},[m.renderSlot(e.$slots,"default",{},void 0,!0),m.createElementVNode("div",{id:e.pageDesignCanvasId,class:"design-canvas","data-type":e.dPage.type,"data-uuid":e.dPage.uuid,style:m.normalizeStyle({width:e.dPage.width+"px",height:e.dPage.height+"px",transform:"scale("+e.dZoom/100+")",transformOrigin:(e.dZoom>=100?"center":"left")+" top",backgroundColor:e.dPage.backgroundColor,backgroundImage:`url(${(l=e.dPage)==null?void 0:l.backgroundImage})`,backgroundSize:(c=(o=e.dPage)==null?void 0:o.backgroundTransform)!=null&&c.x?"auto":"cover",backgroundPositionX:(((A=(s=e.dPage)==null?void 0:s.backgroundTransform)==null?void 0:A.x)||0)+"px",backgroundPositionY:(((B=(v=e.dPage)==null?void 0:v.backgroundTransform)==null?void 0:B.y)||0)+"px",opacity:e.dPage.opacity+(e.dZoom<100?e.dPage.tag:0)}),onMousemove:t[0]||(t[0]=x=>e.dropOver(x)),onDrop:t[1]||(t[1]=x=>e.drop(x)),onMouseup:t[2]||(t[2]=x=>e.drop(x))},[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.getlayers(),x=>(m.openBlock(),m.createBlock(m.resolveDynamicComponent(x.type),{id:x.uuid,key:x.uuid,class:m.normalizeClass(["layer",{"layer-hover":x.uuid===e.dHoverUuid||e.dActiveElement.parent===x.uuid,"layer-no-hover":e.dActiveElement.uuid===x.uuid}]),"data-title":x.type,params:x,parent:e.dPage,"data-type":x.type,"data-uuid":x.uuid},{default:m.withCtx(()=>[x.isContainer?(m.openBlock(!0),m.createElementBlock(m.Fragment,{key:0},m.renderList(e.getChilds(x.uuid),M=>(m.openBlock(),m.createBlock(m.resolveDynamicComponent(M.type),{key:M.uuid,child:"",class:m.normalizeClass(["layer",{"layer-no-hover":e.dActiveElement.uuid!==M.parent&&e.dActiveElement.parent!==M.parent}]),"data-title":M.type,params:M,parent:x,"data-type":M.type,"data-uuid":M.uuid},null,8,["class","data-title","params","parent","data-type","data-uuid"]))),128)):m.createCommentVNode("",!0)]),_:2},1032,["id","class","data-title","params","parent","data-type","data-uuid"]))),128))],44,cD)],4)],4)}var O0=ct(lD,[["render",uD],["__scopeId","data-v-0d933bce"]]),fD=Object.freeze(Object.defineProperty({__proto__:null,default:O0},Symbol.toStringTag,{value:"Module"}));function hD(e,t,n=!0){const r=typeof e=="string"?document.getElementById(e):e;dD(r,"mousewheel",i=>{const a=i||window.event,l=a.wheelDelta?a.wheelDelta<0:a.detail>0;return n&&tt.getters.dAltDown?(a.preventDefault(),t(l)):n||(a.preventDefault(),t(l)),!1})}function dD(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}var I9="";const gD="zoom-control";let F0=null;const pD={name:gD,data(){return{hideControl:!1,activezoomIndex:0,zoomList:[{text:"25%",value:25},{text:"50%",value:50},{text:"75%",value:75},{text:"100%",value:100},{text:"125%",value:125},{text:"150%",value:150},{text:"200%",value:200},{text:"\u6700\u4F73\u5C3A\u5BF8",value:-1}],show:!1,zoom:{value:0,text:0},otherList:[{text:"250%",value:250},{text:"300%",value:300},{text:"350%",value:350},{text:"400%",value:400},{text:"450%",value:450},{text:"500%",value:500}],otherIndex:-1,bestZoom:0}},computed:{...$e.mapGetters(["dPage","dScreen","zoomScreenChange","dZoom"])},watch:{activezoomIndex(e){e<0||e>this.zoomList.length-1||(this.zoom=JSON.parse(JSON.stringify(this.zoomList[e])))},otherIndex(e){e<0||e>this.otherList.length-1||(this.zoom=JSON.parse(JSON.stringify(this.otherList[e])))},zoom(e){let t=e.value;t===-1&&(t=this.calcZoom()),this.updateZoom(t),this.autoFixTop()},dScreen:{handler(){this.screenChange()},deep:!0},zoomScreenChange(){this.activezoomIndex=this.zoomList.length-1,this.screenChange()},dPage:{handler(e){this.screenChange()},deep:!0}},async mounted(){await this.$nextTick(),window.addEventListener("click",this.close),this.activezoomIndex=this.zoomList.length-1,hD("page-design",e=>{this.mousewheelZoom(e)}),window.addEventListener("resize",e=>{this.changeScreen()})},beforeUnmount(){window.removeEventListener("click",this.close)},methods:{...$e.mapActions(["updateZoom","updateScreen"]),changeScreen(){clearTimeout(F0),F0=setTimeout(()=>{const e=document.getElementById("page-design");this.updateScreen({width:e.offsetWidth,height:e.offsetHeight})},300)},screenChange(){this.activezoomIndex===this.zoomList.length-1&&(this.updateZoom(this.calcZoom()<0?50:this.calcZoom()),this.autoFixTop())},selectItem(e){this.activezoomIndex=e,this.otherIndex=-1,this.show=!1},close(e){this.show=!1},add(){if(this.curAction="add",this.show=!1,this.activezoomIndex===this.zoomList.length-2||this.activezoomIndex===this.zoomList.length-1){this.activezoomIndex=this.zoomList.length,this.bestZoom?this.nearZoom(!0):this.otherIndex+=1;return}if(this.activezoomIndex!=this.zoomList.length){this.activezoomIndex++;return}this.otherIndex<this.otherList.length-1&&this.otherIndex++},sub(){if(this.curAction=null,this.show=!1,this.otherIndex===0){this.otherIndex=-1,this.activezoomIndex=this.zoomList.length-2;return}if(this.otherIndex!=-1){this.otherIndex--;return}if(this.activezoomIndex===this.zoomList.length-1){this.bestZoom?this.nearZoom():this.activezoomIndex=this.zoomList.length-2;return}this.activezoomIndex!=0&&this.activezoomIndex--},mousewheelZoom(e){const t=Number(this.dZoom.toFixed(0));e&&t<=1||(this.updateZoom(e?t-1:t+1),this.zoom.text=t+"%",this.autoFixTop())},nearZoom(e){for(let t=0;t<this.zoomList.length;t++)if(this.activezoomIndex=t,this.zoomList[t].value>this.bestZoom){if(e)break}else if(this.zoomList[t].value<this.bestZoom&&!e)break;this.bestZoom=0},calcZoom(){let e=(this.dScreen.width-142)*100/this.dPage.width,t=(this.dScreen.height-122)*100/this.dPage.height;return this.bestZoom=Math.min(e,t),this.bestZoom},async autoFixTop(){await this.$nextTick();const e=60,t=document.getElementById("out-page");let r=(t.offsetParent.offsetHeight-54-t.offsetHeight)/2;typeof this.curAction=="undefined"&&(r+=e/2),this.curAction==="add"&&(r-=e),this.$store.commit("updatePaddingTop",r>0?r:0)}}},k0=e=>(m.pushScopeId("data-v-b25ad5c0"),e=e(),m.popScopeId(),e),vD={id:"zoom-control"},mD={class:"zoom-selecter"},yD=["onClick"],CD={key:0,class:"iconfont icon-selected"},wD={key:0,class:"zoom-control-wrap"},BD=[k0(()=>m.createElementVNode("i",{class:"iconfont icon-sub"},null,-1))],bD=[k0(()=>m.createElementVNode("i",{class:"iconfont icon-add"},null,-1))];function ED(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",vD,[m.withDirectives(m.createElementVNode("ul",mD,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.zoomList,(l,o)=>(m.openBlock(),m.createElementBlock("li",{key:o,class:m.normalizeClass(["zoom-item",{"zoom-item-active":i.activezoomIndex===o}]),onClick:m.withModifiers(c=>a.selectItem(o),["stop"])},[m.createElementVNode("span",null,m.toDisplayString(l.text),1),i.activezoomIndex===o?(m.openBlock(),m.createElementBlock("i",CD)):m.createCommentVNode("",!0)],10,yD))),128))],512),[[m.vShow,i.show]]),i.hideControl?m.createCommentVNode("",!0):(m.openBlock(),m.createElementBlock("div",wD,[m.createElementVNode("div",{class:m.normalizeClass(["zoom-icon radius-left",{disable:i.activezoomIndex===0}]),onClick:t[0]||(t[0]=m.withModifiers(l=>i.activezoomIndex>0?a.sub():"",["stop"]))},BD,2),m.createElementVNode("div",{class:m.normalizeClass(["zoom-text",{"zoom-text-active":i.show}]),onClick:t[1]||(t[1]=m.withModifiers(l=>i.show=!i.show,["stop"]))},m.toDisplayString(i.zoom.text),3),m.createElementVNode("div",{class:m.normalizeClass(["zoom-icon radius-right",{disable:i.otherIndex===i.otherList.length-1}]),onClick:t[2]||(t[2]=m.withModifiers(l=>i.otherIndex<i.otherList.length-1?a.add():"",["stop"]))},bD,2)]))])}var U0=ct(pD,[["render",ED],["__scopeId","data-v-b25ad5c0"]]),_D=Object.freeze(Object.defineProperty({__proto__:null,default:U0},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var Mh=function(e,t){return Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Mh(e,t)};function SD(e,t){Mh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ID=function(e){SD(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r}var n=t.prototype;return n.render=function(){return on("canvas",{ref:wn(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var r=this.canvasElement,i=r.getContext("2d");this.canvasContext=i,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(r){this.draw(r)},n.resize=function(){var r=this.canvasElement,i=this.props,a=i.width,l=i.height,o=i.scrollPos;this.width=a||r.offsetWidth,this.height=l||r.offsetHeight,r.width=this.width*2,r.height=this.height*2,this.draw(o)},n.draw=function(r){r===void 0&&(r=this.state.scrollPos);var i=this.props,a=i,l=a.unit,o=a.zoom,c=a.type,s=a.backgroundColor,A=a.lineColor,v=a.textColor,B=a.direction,x=a.negativeRuler,M=x===void 0?!0:x,T=a.segment,p=T===void 0?10:T,u=a.textFormat,g=a.range,C=g===void 0?[-1/0,1/0]:g,f=this.width,d=this.height,h=this.state;h.scrollPos=r;var w=this.canvasContext,I=c==="horizontal",y=B==="start",D=M!==!1,F=i.font||"10px sans-serif",L=i.textAlign||"left",k=i.textOffset||[0,0],U=I?d:f,N=An(""+(i.mainLineSize||"100%"),U),z=An(""+(i.longLineSize||10),U),H=An(""+(i.shortLineSize||7),U);s==="transparent"?w.clearRect(0,0,f*2,d*2):(w.rect(0,0,f*2,d*2),w.fillStyle=s,w.fill()),w.save(),w.scale(2,2),w.strokeStyle=A,w.lineWidth=1,w.font=F,w.fillStyle=v,y&&(w.textBaseline="top"),w.translate(.5,0),w.beginPath();for(var X=I?f:d,ne=o*l,ie=Math.floor(r*o/ne),he=Math.ceil((r*o+X)/ne),le=he-ie,Ae=Math.max(["left","center","right"].indexOf(L)-1,-1),R=0;R<=le;++R){var re=R+ie;if(!(!D&&re<0)){for(var ee=re*l,oe=(ee-r)*o,Z=0;Z<p;++Z){var J=oe+Z/p*ne,q=ee+Z/p*l;if(!(J<0||J>=X||q<C[0]||q>C[1])){var Y=Z===0?N:Z%2===0?z:H,te=I?[J,y?0:d-Y]:[y?0:f-Y,J],V=te[0],K=te[1],$=I?[V,K+Y]:[V+Y,K],se=$[0],pe=$[1];w.moveTo(V,K),w.lineTo(se,pe)}}if(!(oe<-ne||oe>=X+l*o||ee<C[0]||ee>C[1])){var ue=I?[oe+Ae*-3,y?17:d-17]:[y?17:f-17,oe+Ae*3],ye=ue[0],we=ue[1],Ee=""+ee;u&&(Ee=u(ee)),w.textAlign=L,I?w.fillText(Ee,ye+k[0],we+k[1]):(w.save(),w.translate(ye+k[0],we+k[1]),w.rotate(-Math.PI/2),w.fillText(Ee,0,0),w.restore())}}}w.stroke(),w.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",lineColor:"#777777",range:[-1/0,1/0]},t}(ko),L0=["type","width","height","unit","zoom","style","backgroundColor","lineColor","textColor","direction","textFormat","scrollPos","textAlign","mainLineSize","longLineSize","shortLineSize","negativeRuler","textOffset","font","segment"],xD=ID;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var Dh=function(e,t){return Dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Dh(e,t)};function MD(e,t){Dh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Bi=function(){return Bi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Bi.apply(this,arguments)};function Hr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tg.apply(void 0,["scena-"].concat(e))}Hr("ruler");var DD=Hr("guide","adder"),TD=Hr("guides"),OD=Hr("guide"),P0=Hr("dragging"),FD=Hr("display-drag"),kD=Og("scena-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    bottom: 0;
    right: 0;
    will-change: transform;
    z-index: 2000;
}
.guide-pos {
    position: absolute;
    font-weight: bold;
    font-size: 12px;
    color: #f33;
}
.horizontal .guide-pos {
    bottom: 100%;
    left: 50%;
    transform: translate(-50%);
}
.vertical .guide-pos {
    left: calc(100% + 2px);
    top: 50%;
    transform: translateY(-50%);
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),UD=["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides"].concat(L0),LD=["getGuides","loadGuides","scroll","scrollGuides","resize"],PD=["changeGuides","dragStart","drag","dragEnd","clickRuler"],ND=tf("div",kD),RD=function(e){MD(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={guides:[]},r.scrollPos=0,r.guideElements=[],r._isFirstMove=!1,r.onDragStart=function(i){var a=i.datas,l=i.inputEvent;r._isFirstMove=!0,r.movePos(i),r.props.onDragStart(Bi({},i,{dragElement:a.target})),l.stopPropagation(),l.preventDefault()},r.onDrag=function(i){r._isFirstMove&&(r._isFirstMove=!1,To(i.datas.target,P0));var a=r.movePos(i);return r.props.onDrag(Bi({},i,{dragElement:i.datas.target})),a},r.onDragEnd=function(i){var a=i.datas,l=i.isDouble,o=i.distX,c=i.distY,s=r.movePos(i),A=r.state.guides,v=r.props,B=v.onChangeGuides,x=v.zoom,M=v.displayDragPos,T=v.digit,p=v.lockGuides,u=parseFloat((s/x).toFixed(T||0));if(M&&(r.displayElement.style.cssText+="display: none;"),va(a.target,P0),r.props.onDragEnd(Bi({},i,{dragElement:a.target})),a.fromRuler)r._isFirstMove&&r.props.onClickRuler(Bi({},i,{pos:0})),u>=r.scrollPos&&A.indexOf(u)<0&&r.setState({guides:A.concat([u])},function(){B({guides:r.state.guides,distX:o,distY:c,isAdd:!0,isRemove:!1,isChange:!1})});else{var g=a.target.getAttribute("data-index"),C=!1,f=!1;if(A=A.slice(),l||u<r.scrollPos){if(p&&(p===!0||p.indexOf("remove")>-1))return;A.splice(g,1),C=!0}else{if(A.indexOf(u)>-1)return;if(p&&(p===!0||p.indexOf("change")>-1))return;A[g]=u,f=!0}r.setState({guides:A},function(){var d=r.state.guides;B({distX:o,distY:c,guides:d,isAdd:!1,isChange:f,isRemove:C})})}},r}var n=t.prototype;return n.render=function(){var r=this.props,i=r.className,a=r.type,l=r.zoom,o=r.style,c=r.rulerStyle,s=r.displayDragPos,A=r.cspNonce,v=r.dragGuideStyle,B=r.portalContainer,x=this.props,M=this.getTranslateName(),T={};return L0.forEach(function(p){p!=="style"&&(T[p]=x[p])}),on(ND,{ref:wn(this,"manager"),cspNonce:A,className:Hr("manager",a)+" "+i,portalContainer:B,style:o},on("div",{className:Hr("guide-origin"),ref:wn(this,"originElement")}),on(xD,Bi({ref:wn(this,"ruler"),style:c},T)),on("div",{className:TD,ref:wn(this,"guidesElement"),style:{transform:M+"("+-this.scrollPos*l+"px)"}},s&&on("div",{className:FD,ref:wn(this,"displayElement"),style:v}),on("div",{className:DD,ref:wn(this,"adderElement")}),this.renderGuides()))},n.renderGuides=function(){var r=this,i=this.props,a=i,l=a.type,o=a.zoom,c=a.showGuides,s=a.guideStyle,A=a.displayGuidePos,v=a.guidePosStyle,B=v===void 0?{}:v,x=this.getTranslateName(),M=this.state.guides,T=i.guidePosFormat||i.dragPosFormat||function(p){return p};if(this.guideElements=[],c)return M.map(function(p,u){return on("div",{className:Hr("guide",l),ref:vu(r,"guideElements",u),key:u,"data-index":u,"data-pos":p,style:Bi({},s,{transform:x+"("+p*o+"px) translateZ(0px)"})},A&&on("div",{className:Hr("guide-pos"),style:B||{}},T(p)))})},n.componentDidMount=function(){var r=this;this.gesto=new $u(this.manager.getElement(),{container:document.body}).on("dragStart",function(i){var a=r.props,l=a.type,o=a.zoom,c=a.lockGuides;if(c===!0){i.stop();return}var s=i.inputEvent,A=s.target,v=i.datas,B=r.ruler.canvasElement,x=r.guidesElement,M=l==="horizontal",T=r.originElement.getBoundingClientRect(),p=dp(r.manager.getElement()),u=ya(p,[i.clientX-T.left,i.clientY-T.top]);u[0]-=x.offsetLeft,u[1]-=x.offsetTop,u[M?1:0]+=r.scrollPos*o,v.offsetPos=u,v.matrix=p;var g=c&&c.indexOf("add")>-1,C=c&&c.indexOf("remove")>-1,f=c&&c.indexOf("change")>-1;if(A===B){if(g){i.stop();return}v.fromRuler=!0,v.target=r.adderElement}else if(Wn(A,OD)){if(C&&f){i.stop();return}v.target=A}else return i.stop(),!1;r.onDragStart(i)}).on("drag",this.onDrag).on("dragEnd",this.onDragEnd),this.setState({guides:this.props.defaultGuides||[]})},n.componentWillUnmount=function(){this.gesto.unset()},n.componentDidUpdate=function(r){r.defaultGuides!==this.props.defaultGuides&&this.setState({guides:this.props.defaultGuides||[]})},n.loadGuides=function(r){this.setState({guides:r})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(r){var i=this.props.zoom,a=this.guidesElement;this.scrollPos=r,a.style.transform=this.getTranslateName()+"("+-r*i+"px)";var l=this.state.guides;this.guideElements.forEach(function(o,c){!o||(o.style.display=-r+l[c]<0?"none":"block")})},n.resize=function(){this.ruler.resize()},n.scroll=function(r){this.ruler.scroll(r)},n.movePos=function(r){var i=r.datas,a=r.distX,l=r.distY,o=this.props,c=o.type,s=o.zoom,A=o.snaps,v=o.snapThreshold,B=o.displayDragPos,x=o.digit,M=o.dragPosFormat||function(y){return y},T=c==="horizontal",p=ya(i.matrix,[a,l]),u=i.offsetPos,g=p[0]+u[0],C=p[1]+u[1],f=Math.round(T?C:g),d=parseFloat((f/s).toFixed(x||0)),h=A.slice().sort(function(y,D){return Math.abs(d-y)-Math.abs(d-D)});if(h.length&&Math.abs(h[0]*s-f)<v&&(d=h[0],f=d*s),!i.fromRuler||!this._isFirstMove){if(B){var w=c==="horizontal"?[g,f]:[f,C];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+("translate("+w.map(function(y){return y+"px"}).join(", ")+")"),this.displayElement.innerHTML=""+M(d)}var I=i.target;I.setAttribute("data-pos",d),I.style.transform=this.getTranslateName()+"("+f+"px)"}return f},n.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onChangeGuides:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(r){return r},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},portalContainer:null},t}(ko),QD=RD;/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var Th=function(e,t){return Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Th(e,t)};function Oh(e,t){Th(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gl=function(){return gl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},gl.apply(this,arguments)};function HD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function jD(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}var zD=UD,VD=LD,GD=PD,WD=function(e){Oh(t,e);function t(r){var i=e.call(this,r)||this;return i.state={},i.state=i.props,i}var n=t.prototype;return n.render=function(){var r=this.state,i=r.container,a=HD(r,["container"]);return np(on(QD,gl({ref:wn(this,"guides")},a)),i)},t}(gA);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Fh=function(){return Fh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Fh.apply(this,arguments)};function YD(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r}var XD=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(n,r){if(Kt(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},t.off=function(n,r){if(!n)this._events={};else if(Kt(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var a=this._events[n];if(a){var l=Br(a,function(o){return o.listener===r});l>-1&&a.splice(l,1)}}return this},t.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(a){i._addEvent(n,a,{once:!0})})},t.emit=function(n,r){var i=this;r===void 0&&(r={});var a=this._events[n];if(!n||!a)return!0;var l=!1;return r.eventType=n,r.stop=function(){l=!0},r.currentTarget=this,YD(a).forEach(function(o){o.listener(r),o.once&&i.off(n,o.listener)}),!l},t.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},t._addEvent=function(n,r,i){var a=this._events;a[n]=a[n]||[];var l=a[n];l.push(Fh({listener:r},i))},e}(),KD=function(e){Oh(t,e);function t(r,i){i===void 0&&(i={});var a=e.call(this)||this;a.tempElement=document.createElement("div");var l={};return GD.forEach(function(o){l[ji("on "+o)]=function(c){return a.trigger(o,c)}}),vA(on(WD,gl({},i,l,{container:r,ref:wn(a,"innerGuides")})),a.tempElement),a}var n=t.prototype;return n.setState=function(r,i){this.innerGuides.setState(r,i)},n.destroy=function(){vA(null,this.tempElement),this.tempElement=null,this.innerGuides=null},n.getInnerGuides=function(){return this.innerGuides.guides},t=jD([Co(VD,function(r,i){r[i]||(r[i]=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var o=this.getInnerGuides();if(!(!o||!o[i]))return o[i].apply(o,a)})}),Co(zD,function(r,i){Object.defineProperty(r,i,{get:function(){return this.getInnerGuides().props[i]},set:function(a){var l;this.innerGuides.setState((l={},l[i]=a,l))},enumerable:!0,configurable:!0})})],t),t}(XD),ZD=function(e){Oh(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(KD),N0=ZD,D9="";const JD=m.defineComponent({props:["show"],setup(e){const t=$e.useStore(),n="page-design";let r=null,i=null;m.watch(()=>e.show,c=>{c?l():a()}),m.watch(()=>t.getters.dZoom,()=>{o()});function a(){r.destroy(),i.destroy(),r=null,i=null}function l(){const c={backgroundColor:"#f9f9fa",lineColor:"#bec2c7",textColor:"#999999",displayDragPos:!0,dragPosFormat:s=>s+"px"};r=new N0(document.getElementById(n),{...c,type:"horizontal",className:"my-horizontal"}).on("changeGuides",s=>{console.log(s,s.guides)}),i=new N0(document.getElementById(n),{...c,type:"vertical",className:"my-vertical"}).on("changeGuides",s=>{console.log(s,s.guides)}),o()}function o(){if(r&&i){const c=t.getters.dZoom/100;r.zoom=c,i.zoom=c,c<.9&&(r.unit=Math.floor(1/c)*50,i.unit=Math.floor(1/c)*50),setTimeout(()=>{const s=document.getElementById("out-page"),A=60+((s==null?void 0:s.offsetLeft)||0),v=30+((s==null?void 0:s.offsetTop)||0);r.scroll(-A/c),r.scrollGuides(-v/c),i.scroll(-v/c),i.scrollGuides(-(A-30)/c)},300)}}}});function $D(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div")}var R0=ct(JD,[["render",$D],["__scopeId","data-v-ee1a65c4"]]),qD=Object.freeze(Object.defineProperty({__proto__:null,default:R0},Symbol.toStringTag,{value:"Module"})),T9="",O9="";/*! Element Plus Icons Vue v2.1.0 */var eT=(e,t)=>{let n=e.__vccOpts||e;for(let[r,i]of t)n[r]=i;return n},tT={name:"UploadFilled"},nT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rT=m.createElementVNode("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),iT=[rT];function aT(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("svg",nT,iT)}var oT=eT(tT,[["render",aT],["__file","upload-filled.vue"]]),F9="",Q0={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vx,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",l="second",o="minute",c="hour",s="day",A="week",v="month",B="quarter",x="year",M="date",T="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var U=["th","st","nd","rd"],N=k%100;return"["+k+(U[(N-20)%10]||U[N]||U[0])+"]"}},C=function(k,U,N){var z=String(k);return!z||z.length>=U?k:""+Array(U+1-z.length).join(N)+k},f={s:C,z:function(k){var U=-k.utcOffset(),N=Math.abs(U),z=Math.floor(N/60),H=N%60;return(U<=0?"+":"-")+C(z,2,"0")+":"+C(H,2,"0")},m:function k(U,N){if(U.date()<N.date())return-k(N,U);var z=12*(N.year()-U.year())+(N.month()-U.month()),H=U.clone().add(z,v),X=N-H<0,ne=U.clone().add(z+(X?-1:1),v);return+(-(z+(N-H)/(X?H-ne:ne-H))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:v,y:x,w:A,d:s,D:M,h:c,m:o,s:l,ms:a,Q:B}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},d="en",h={};h[d]=g;var w=function(k){return k instanceof F},I=function k(U,N,z){var H;if(!U)return d;if(typeof U=="string"){var X=U.toLowerCase();h[X]&&(H=X),N&&(h[X]=N,H=X);var ne=U.split("-");if(!H&&ne.length>1)return k(ne[0])}else{var ie=U.name;h[ie]=U,H=ie}return!z&&H&&(d=H),H||!z&&d},y=function(k,U){if(w(k))return k.clone();var N=typeof U=="object"?U:{};return N.date=k,N.args=arguments,new F(N)},D=f;D.l=I,D.i=w,D.w=function(k,U){return y(k,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var F=function(){function k(N){this.$L=I(N.locale,null,!0),this.parse(N)}var U=k.prototype;return U.parse=function(N){this.$d=function(z){var H=z.date,X=z.utc;if(H===null)return new Date(NaN);if(D.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var ne=H.match(p);if(ne){var ie=ne[2]-1||0,he=(ne[7]||"0").substring(0,3);return X?new Date(Date.UTC(ne[1],ie,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,he)):new Date(ne[1],ie,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,he)}}return new Date(H)}(N),this.$x=N.x||{},this.init()},U.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},U.$utils=function(){return D},U.isValid=function(){return this.$d.toString()!==T},U.isSame=function(N,z){var H=y(N);return this.startOf(z)<=H&&H<=this.endOf(z)},U.isAfter=function(N,z){return y(N)<this.startOf(z)},U.isBefore=function(N,z){return this.endOf(z)<y(N)},U.$g=function(N,z,H){return D.u(N)?this[z]:this.set(H,N)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(N,z){var H=this,X=!!D.u(z)||z,ne=D.p(N),ie=function(Z,J){var q=D.w(H.$u?Date.UTC(H.$y,J,Z):new Date(H.$y,J,Z),H);return X?q:q.endOf(s)},he=function(Z,J){return D.w(H.toDate()[Z].apply(H.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(J)),H)},le=this.$W,Ae=this.$M,R=this.$D,re="set"+(this.$u?"UTC":"");switch(ne){case x:return X?ie(1,0):ie(31,11);case v:return X?ie(1,Ae):ie(0,Ae+1);case A:var ee=this.$locale().weekStart||0,oe=(le<ee?le+7:le)-ee;return ie(X?R-oe:R+(6-oe),Ae);case s:case M:return he(re+"Hours",0);case c:return he(re+"Minutes",1);case o:return he(re+"Seconds",2);case l:return he(re+"Milliseconds",3);default:return this.clone()}},U.endOf=function(N){return this.startOf(N,!1)},U.$set=function(N,z){var H,X=D.p(N),ne="set"+(this.$u?"UTC":""),ie=(H={},H[s]=ne+"Date",H[M]=ne+"Date",H[v]=ne+"Month",H[x]=ne+"FullYear",H[c]=ne+"Hours",H[o]=ne+"Minutes",H[l]=ne+"Seconds",H[a]=ne+"Milliseconds",H)[X],he=X===s?this.$D+(z-this.$W):z;if(X===v||X===x){var le=this.clone().set(M,1);le.$d[ie](he),le.init(),this.$d=le.set(M,Math.min(this.$D,le.daysInMonth())).$d}else ie&&this.$d[ie](he);return this.init(),this},U.set=function(N,z){return this.clone().$set(N,z)},U.get=function(N){return this[D.p(N)]()},U.add=function(N,z){var H,X=this;N=Number(N);var ne=D.p(z),ie=function(Ae){var R=y(X);return D.w(R.date(R.date()+Math.round(Ae*N)),X)};if(ne===v)return this.set(v,this.$M+N);if(ne===x)return this.set(x,this.$y+N);if(ne===s)return ie(1);if(ne===A)return ie(7);var he=(H={},H[o]=r,H[c]=i,H[l]=n,H)[ne]||1,le=this.$d.getTime()+N*he;return D.w(le,this)},U.subtract=function(N,z){return this.add(-1*N,z)},U.format=function(N){var z=this,H=this.$locale();if(!this.isValid())return H.invalidDate||T;var X=N||"YYYY-MM-DDTHH:mm:ssZ",ne=D.z(this),ie=this.$H,he=this.$m,le=this.$M,Ae=H.weekdays,R=H.months,re=H.meridiem,ee=function(J,q,Y,te){return J&&(J[q]||J(z,X))||Y[q].slice(0,te)},oe=function(J){return D.s(ie%12||12,J,"0")},Z=re||function(J,q,Y){var te=J<12?"AM":"PM";return Y?te.toLowerCase():te};return X.replace(u,function(J,q){return q||function(Y){switch(Y){case"YY":return String(z.$y).slice(-2);case"YYYY":return D.s(z.$y,4,"0");case"M":return le+1;case"MM":return D.s(le+1,2,"0");case"MMM":return ee(H.monthsShort,le,R,3);case"MMMM":return ee(R,le);case"D":return z.$D;case"DD":return D.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return ee(H.weekdaysMin,z.$W,Ae,2);case"ddd":return ee(H.weekdaysShort,z.$W,Ae,3);case"dddd":return Ae[z.$W];case"H":return String(ie);case"HH":return D.s(ie,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return Z(ie,he,!0);case"A":return Z(ie,he,!1);case"m":return String(he);case"mm":return D.s(he,2,"0");case"s":return String(z.$s);case"ss":return D.s(z.$s,2,"0");case"SSS":return D.s(z.$ms,3,"0");case"Z":return ne}return null}(J)||ne.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(N,z,H){var X,ne=this,ie=D.p(z),he=y(N),le=(he.utcOffset()-this.utcOffset())*r,Ae=this-he,R=function(){return D.m(ne,he)};switch(ie){case x:X=R()/12;break;case v:X=R();break;case B:X=R()/3;break;case A:X=(Ae-le)/6048e5;break;case s:X=(Ae-le)/864e5;break;case c:X=Ae/i;break;case o:X=Ae/r;break;case l:X=Ae/n;break;default:X=Ae}return H?X:D.a(X)},U.daysInMonth=function(){return this.endOf(v).$D},U.$locale=function(){return h[this.$L]},U.locale=function(N,z){if(!N)return this.$L;var H=this.clone(),X=I(N,z,!0);return X&&(H.$L=X),H},U.clone=function(){return D.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},k}(),L=F.prototype;return y.prototype=L,[["$ms",a],["$s",l],["$m",o],["$H",c],["$W",s],["$M",v],["$y",x],["$D",M]].forEach(function(k){L[k[1]]=function(U){return this.$g(U,k[0],k[1])}}),y.extend=function(k,U){return k.$i||(k(U,F,y),k.$i=!0),y},y.locale=I,y.isDayjs=w,y.unix=function(k){return y(1e3*k)},y.en=h[d],y.Ls=h,y.p={},y})})(Q0);var H0=Q0.exports;const za=tr.API_URL+"/",Va={init:za+"pic/init",getList:za+"pic/list",getToken:za+"pic/getToken",delOne:za+"pic/delOne",rename:za+"pic/rename",del:za+"pic/del"};var sT={init:(e={})=>Rt(Va.init,e,"post"),getPicList:(e={})=>Rt(Va.getList,e),getToken:(e={})=>Rt(Va.getToken,e),deletePic:(e={})=>Rt(Va.delOne,e,"post"),delPics:(e={})=>Rt(Va.del,e,"post"),reName:(e={})=>Rt(Va.rename,e,"post")},j0={upload:async(e,t,n)=>{const r=window;let i="";const a=e.type.split("/")[1]||"png";if(t.fullPath)i=t.fullPath+`.${a}`;else{const s=new Date,v=`${H0(s).format("YYYY")}/${H0(s).format("MM")}/`+new Date(s).getTime();i=`${t.prePath?t.prePath+"/":""}${v}.${a}`}const l=await sT.getToken({bucket:t.bucket,name:i}),o={useCdnDomain:!0},c=r.qiniu.upload(e,i,l,{},o);return new Promise((s,A)=>{c.subscribe({next:v=>{n&&n(v)},error:v=>{A(v)},complete:v=>{s(v)}})})}},Q9="",kh=(e,t="",n)=>{jt.ElNotification({title:e,message:t,...n})},H9="";const AT=m.defineComponent({components:{ElUpload:jt.ElUpload},props:{modelValue:{},options:{default:()=>({bucket:"xp-design",prePath:"user"})},hold:{default:!1}},emits:["done","update:modelValue","load"],setup(e,t){let n=!1,r=null,i=[],a=0,l=0,o=null;m.onMounted(async()=>{await m.nextTick(),setTimeout(()=>{const x=document.createElement("script");x.setAttribute("src",tr.QINIUYUN_PLUGIN),document.head.appendChild(x)},1e3)});const c=({file:x})=>{if(e.hold){t.emit("load",x);return}i.push(x),clearTimeout(r),l++,v(null),s()},s=async()=>{if(!n){n=!0;const x=i[0];if(x){if(x.size<=1024*1024){o=await A(x);const{width:M,height:T}=await ol(x);kh("\u4E0A\u4F20\u6210\u529F","\u516C\u5171\u6D4B\u8BD5\u8D26\u6237\uFF0C\u4E0A\u4F20\u8BF7\u6CE8\u610F\u4FDD\u62A4\u9690\u79C1\u54E6!",{position:"bottom-left"}),t.emit("done",{width:M,height:T,url:tr.IMG_URL+o.key})}else kh("\u7231\u62A4\u5C0F\u6C34\u7BA1","\u8BF7\u4E0A\u4F20\u5C0F\u4E8E 1M \u7684\u56FE\u7247\u54E6!",{type:"error",position:"bottom-left"});n=!1,B(),a++,v(null),s()}else n=!1,r=setTimeout(()=>{a=l=0,v(0)},3e3)}},A=async x=>(v(0),new Promise(async M=>{if(e.hold)t.emit("load",x),M();else{const T=await j0.upload(x,e.options,p=>{v(p.total.percent)});M(T)}})),v=x=>{const M=typeof x=="number"?String(x):x,T={...e.modelValue};T.num=M?Number(M).toFixed(0):T.num,T.ratio=l?`${a} / ${l}`:"",t.emit("update:modelValue",T)},B=()=>{i.length>0&&i.splice(0,1)};return{upload:c}}}),lT=(e=>(m.pushScopeId("data-v-11fbf335"),e=e(),m.popScopeId(),e))(()=>m.createElementVNode("i",{class:"el-icon-upload el-icon--right"},null,-1));function cT(e,t,n,r,i,a){const l=m.resolveComponent("el-button"),o=m.resolveComponent("el-upload");return m.openBlock(),m.createBlock(o,{action:"",accept:"image/*","http-request":e.upload,"show-file-list":!1,multiple:""},{default:m.withCtx(()=>[m.renderSlot(e.$slots,"default",{},()=>[m.createVNode(l,{size:"small"},{default:m.withCtx(()=>[m.createTextVNode("\u4E0A\u4F20\u56FE\u7247"),lT]),_:1})],!0)]),_:3},8,["http-request"])}var pl=ct(AT,[["render",cT],["__scopeId","data-v-11fbf335"]]),uT=(e,t)=>new Promise(n=>{fT(e,(r,i)=>{t(r,i)}).then(r=>{const i=new FileReader;if(i.onload=function(a){var s;const l=(s=a==null?void 0:a.target)==null?void 0:s.result,o=document.createElement("a"),c=new MouseEvent("click");o.download=String(new Date().getTime())+".png",o.href=l,o.dispatchEvent(c),n()},!r){n();return}i.readAsDataURL(r)})});function fT(e,t){return new Promise(n=>{const r=new XMLHttpRequest;let i="";r.open("GET",e),r.responseType="blob",r.onreadystatechange=function(){i=Number(r.getResponseHeader("content-length"))},r.onprogress=function(a){t(a.loaded/i*100,r)},r.onload=function(){r.status<400?n(this.response):n(null)},r.onerror=function(a){n(null)},r.send()})}var hT=(e,t)=>{const n=document.createElement("a");n.href=e,n.download=t,n.click()},z0={downloadImg:uT,downloadBase64File:hT},ti=(e=>(e.Mouseover="mouseover",e.Mouseenter="mouseenter",e.Mouseout="mouseout",e.Mouseleave="mouseleave",e.Mouseup="mouseup",e.Mousemove="mousemove",e.MouseDown="mousedown",e.DblClick="dblclick",e.Click="click",e.ContextMenu="contextmenu",e.KeyDown="keydown",e.Keyup="keyup",e.Keypress="keypress",e.Scroll="scroll",e.Resize="resize",e.Wheel="wheel",e.UndoRedoStateChanged="undoRedoStateChanged",e))(ti||{});const V0=12.5,G0=.5,dT=4,Uh=.25,Ga=.25,Lh=25,gT=.5,W0=0,Y0=.01,X0=1,pT=100,K0=1,vT={scaleRatio:K0,positionRange:{minX:0,maxX:0,minY:0,maxY:0}},mT={horizontal:40,vertical:80},yT={horizontal:0,vertical:0},CT={width:2e3,height:2e3},ys=!1,wT="#000000",BT=1,Cs=[.47,.42,.9,.5],bT=100,ET=20,_T=3.5,Z0="source-over",J0="destination-in",ST="destination-out",IT=2.5,xT=1,MT=0,DT=0,TT=1,$0="rgba(119,106,230,1)",q0="rgba(119,106,230,0)",OT="rgba(255,255,255,1)",FT="rgba(255,255,255,0)",kT=0,UT=Math.PI*2,LT=1,ey=-1,PT=.04,ty=.15,ny=10;function NT(e){return typeof e=="string"}function ry(e){const{ctx:t,targetWidth:n,targetHeight:r,hiddenCtx:i,transformConfig:a,withBorder:l=!1}=e,{positionRange:o,scaleRatio:c}=a;t.canvas.width=n,t.canvas.height=r,t.imageSmoothingEnabled=ys,ws({ctx:t,hiddenCtx:i,positionRange:o,scaleRatio:c,withBorder:l,clearOld:!1})}function Wa(e={}){const{targetSize:t,cloneCanvas:n}=e,r=document.createElement("canvas"),i=r.getContext("2d");return t&&(r.width=t.width,r.height=t.height),n&&XT.copyImageInCanvas(i,n),i}function RT(e,t){e.canvas.width=t.width,e.canvas.height=t.height,e.drawImage(t,0,0)}async function iy(e){const t=new Image;return t.crossOrigin="anonymous",t.src=NT(e)?e:URL.createObjectURL(e),await new Promise(n=>{t.onload=()=>n()}),createImageBitmap(t)}function QT(e){ay(e);const{hiddenCtx:t,imageSource:n,targetSize:{width:r,height:i}}=e;return HT({ctx:t,imageSource:n,width:r,height:i})}function ay(e){const{targetSize:t,hiddenCtx:n,drawingCtx:r}=e,{width:i,height:a}=t;n.canvas.width=i,n.canvas.height=a,r.canvas.width=i,r.canvas.height=a}function HT(e){const{ctx:t,imageSource:n,width:r,height:i}=e;return t.drawImage(n,0,0,r,i),createImageBitmap(t.canvas)}function jT(e){const{canvas:{width:t,height:n}}=e;e.clearRect(0,0,t,n)}function zT(e){const{ctx:t,lineStyle:n,lineWidth:r,positionRange:i}=e,{minY:a,maxX:l,maxY:o,minX:c}=i;t.imageSmoothingEnabled=!ys,t.fillStyle=n,t.fillRect(c,a,l-c+r,r),t.fillRect(c,o,l-c+r,r),t.fillRect(c,a+r,r,o-a-r),t.fillRect(l,a+r,r,o-a-r),t.imageSmoothingEnabled=ys}function VT(e,t){const{width:n,height:r}=t.canvas;zT({ctx:e,positionRange:{minX:0,minY:0,maxX:n,maxY:r},lineStyle:wT,lineWidth:BT})}function ws(e){const{ctx:t,positionRange:n,scaleRatio:r,hiddenCtx:i}=e,{clearOld:a=!0,withBorder:l}=e,{minX:o,minY:c}=n;a&&jT(t),t.save(),t.translate(o,c),t.scale(r,r),t.drawImage(i.canvas,0,0),l&&VT(t,i),t.restore()}function vl(e){const{ctx:t,x:n,y:r,radius:i,hardness:a}=e,{innerColor:l=$0,outerColor:o=q0}=e;t.beginPath();const c=t.createRadialGradient(n,r,MT,n,r,i);c.addColorStop(DT,l),c.addColorStop(a,l),c.addColorStop(TT,o),t.fillStyle=c,t.arc(n,r,i,kT,UT),t.fill()}function oy(e,t){return GT(e,t).canvas.toDataURL()}function GT(e,t){const n=WT(e);return YT(n,t,e),n}function WT(e){const t=Wa({targetSize:e});return t.drawImage(e,0,0),t}function YT(e,t,n){e.globalCompositeOperation=J0,e.drawImage(t.canvas,0,0,n.width,n.height)}const XT={copyImageInCanvas:RT},{MouseDown:KT,Mouseup:ZT,Mousemove:JT}=ti;class $T{constructor(){this.unbindDownUpCache=new WeakMap,this.unbindMoveCache=new WeakMap,this.unbindWheelCache=new Set}initMouseListeners(t){const{mouseTarget:n}=t;this.removeMouseListeners(n);const r=this.bindMouseListeners(t);this.unbindDownUpCache.set(n,r)}removeMouseListeners(t){const n=this.unbindDownUpCache.get(t);if(n){const{unbindDown:r,unbindUp:i}=n;r(),i()}}bindMouseListeners(t){const{mouseTarget:n,down:r,move:i,up:a}=t,l=v=>{requestAnimationFrame(()=>i(v))},o=v=>{const B=v.target===n,M=(r&&r(v))!==!1;if(B&&M){const T=this.listenEvent({eventType:JT,listener:l,stop:!0,prevent:!0});this.unbindMoveCache.set(n,T)}},c=v=>{a&&a(v),this.unbindMoveListeners(n)},s=this.listenEvent({eventType:KT,listener:o}),A=this.listenEvent({eventType:ZT,listener:c});return{unbindDown:s,unbindUp:A}}unbindMoveListeners(t){const n=this.unbindMoveCache.get(t);n&&n(),this.unbindMoveCache.delete(t)}initWheelListener(t){this.removeWheelListeners();const n=this.bindWheelListener(t);return this.unbindWheelCache.add(n),n}removeWheelListeners(){this.unbindWheelCache.forEach(t=>t()),this.unbindWheelCache.clear()}bindWheelListener(t){const{mattingBoards:n,wheel:r}=t;return this.listenEvent({eventType:ti.Wheel,listener:i=>{this.canWheel(i,n)&&r(i)}},!1,...n)}canWheel(t,n){return n.some(r=>t.target===r)}listenEvent(t,n=!1,...r){const{eventType:i}=t,a=this.genWrapListener(t);let l;return this.isNeedToBindToTargets(r)?l=this.bindListeners(r,i,a,n):l=this.bindListener(window,i,a,n),l}genWrapListener(t){const{listener:n,stop:r,prevent:i}=t;return a=>{r&&a.stopPropagation(),i&&a.preventDefault(),n(a)}}isNeedToBindToTargets(t){return t.length!==0}bindListener(t,n,r,i){return t.addEventListener(n,r,i),()=>t.removeEventListener(n,r,i)}bindListeners(t,n,r,i){return t.forEach(a=>{a.addEventListener(n,r,i)}),()=>t.forEach(a=>{a.removeEventListener(n,r,i)})}}const{sign:qT,abs:sy,max:e2}=Math;function t2(e){const{x:t,y:n,minX:r,maxX:i,minY:a,maxY:l}=e;return t>=r&&t<=i&&n>=a&&n<=l}function n2(e){const{movementX:t,movementY:n}=e,r=sy(t),i=sy(n),a=e2(r,i);return{unsignedMovementX:r,unsignedMovementY:i,maxMovement:a}}function r2(e,t){return t>xT&&e>t/IT}function i2(e){const{drawingConfig:t,unsignedMovementX:n,unsignedMovementY:r,maxMovement:i}=e,{movementX:a,movementY:l,stepBase:o}=t,c=Ay(a,o),s=Ay(l,o),A=a2(n,i),v=ly(A,c,n,r),B=ly(!A,s,r,n);return{stepX:v,stepY:B}}function Ay(e,t){return-qT(e)*t}function a2(e,t){return e===t}function ly(e,t,n,r){return e?t:n/r*t}function o2(e,t,n){return e-t>n}const{sqrt:s2,max:A2}=Math;function Ya(e){return e|0}function l2(e,t){return s2(e**2+t**2)}function c2(e){return e/ET}function u2(e,t){return A2(gT,e)/t}function f2(e){return e/_T}function h2(e,t){return{width:e.width*t,height:e.height*t}}function d2(e){for(const t of e){const{radius:n}=t,{maxMovement:r,unsignedMovementX:i,unsignedMovementY:a}=n2(t);r2(r,n)?g2({drawingConfig:t,unsignedMovementX:i,unsignedMovementY:a,maxMovement:r}):m2(t),y2(t)}}const Xa=Wa();function g2(e){const{drawingConfig:t,maxMovement:n}=e,{step:r,stepBase:i,drawingCtx:a,radius:l,hardness:o}=t;let{x:c,y:s}=t;const{stepX:A,stepY:v}=i2(e);v2(a);for(let B=0,x=B;B<n;B+=i,c+=A,s+=v)o2(B,x,r)&&(x=B,vl({ctx:Xa,x:Ya(c),y:Ya(s),radius:l,hardness:o}));p2(t)}function p2(e){const{isErasing:t,hiddenCtx:n,drawingCtx:r}=e;t?n.value.drawImage(Xa.canvas,0,0):cy(e,()=>{r.drawImage(Xa.canvas,0,0)})}function v2(e){const{width:t,height:n}=e.canvas;Xa.canvas.width=t,Xa.canvas.height=n,Xa.clearRect(0,0,t,n)}function m2(e){const{isErasing:t,hiddenCtx:n,drawingCtx:r}=e,{x:i,y:a,radius:l,hardness:o}=e;t?vl({ctx:n.value,x:i,y:a,radius:l,hardness:o}):cy(e,()=>{vl({ctx:r,x:i,y:a,radius:l,hardness:o})})}async function cy(e,t){const{hiddenCtx:n,drawingCtx:r,mattingSource:i}=e;r.globalCompositeOperation=Z0,r.drawImage(i,0,0),r.globalCompositeOperation=J0,t(),n.value.drawImage(r.canvas,0,0)}function y2(e){const{ctx:t,hiddenCtx:n,positionRange:r,scaleRatio:i,isErasing:a}=e;ws({ctx:t.value,hiddenCtx:n.value,positionRange:r,scaleRatio:i,withBorder:C2(a)})}function C2(e){return e!==void 0}function uy(e){const t=e.getBoundingClientRect(),n=document.documentElement.getBoundingClientRect();return w2(t,n)}function w2(e,t){const{width:n,height:r,left:i,top:a}=e,{left:l,top:o}=t,c=i-l,s=a-o;return{left:c,top:s,width:n,height:r}}function Ph(e){let{width:t,height:n}=e;const r=Nh({imageSize:{width:t,height:n},gapSize:yT,targetSize:CT});return t*=r,n*=r,{width:t,height:n}}function Nh(e){const{imageSize:t,gapSize:n,targetSize:r}=e,i=Rh(r,n);return Math.min(Math.min(i.width/t.width,i.height/t.height),K0)}function Rh(e,t){return{width:e.width-t.horizontal*2,height:e.height-t.vertical*2}}function fy(e){const t=Nh(e),n=hy(e,t);return{scaleRatio:t,positionRange:n}}function hy(e,t){const n=h2(e.imageSize,t);return{minX:Qh(e,n),maxX:dy(e,n),minY:Hh(e,n),maxY:gy(e,n)}}function Qh(e,t){const{gapSize:n,targetSize:r}=e;return Ya((Rh(r,n).width-t.width)/2)+n.horizontal}function Hh(e,t){const{gapSize:n,targetSize:r}=e;return Ya((Rh(r,n).height-t.height)/2)+n.vertical}function dy(e,t){return Ya(Qh(e,t)+t.width)}function gy(e,t){return Ya(Hh(e,t)+t.height)}const B2={computeBoardRect:uy,computeTransformParameters:fy,computeScaleRatio:Nh,computeValidImageSize:Ph,computePositionRange:hy,getPositionRangeMinX:Qh,getPositionRangeMaxX:dy,getPositionRangeMinY:Hh,getPositionRangeMaxY:gy},{sign:b2}=Math;function py(e,t){const{movementX:n,movementY:r}=e;t.minX+=n,t.maxX+=n,t.minY+=r,t.maxY+=r}function E2(e,t){const{transformConfig:n,inputContexts:r,outputContexts:i}=t;vy(e,n)}function vy(e,t){const{deltaY:n,pageX:r,pageY:i,target:a}=e,{positionRange:l,scaleRatio:o}=t,{left:c,top:s}=B2.computeBoardRect(a),A=ar.computePivot(r,c),v=ar.computePivot(i,s),B=ar.computeDeltaRatio(n),x=ar.computeNewScaleRatio(o,B);t.scaleRatio=ar.computeClampedTargetScaleRatio(x);const M=M2(t.scaleRatio,o);t.positionRange=ar.computeNewPositionRange(l,{x:A,y:v},M)}function _2(e,t){return e-t}function S2(e){return(ar.isZoomOut(e)?ey:LT)*PT}function I2(e){return-b2(e)===ey}function x2(e,t){return e+e*t}function M2(e,t){return(e-t)/t}function D2(e){return e<ty?ty:e>ny?ny:e}function T2(e,t,n){const{x:r,y:i}=t;let{minX:a,maxX:l,minY:o,maxY:c}=e;return a=ar.computeNewSingleRange(a,r,n),l=ar.computeNewSingleRange(l,r,n),o=ar.computeNewSingleRange(o,i,n),c=ar.computeNewSingleRange(c,i,n),{minX:a,maxX:l,minY:o,maxY:c}}function O2(e,t,n){const i=(e-t)*n;return e+i}const ar={updateTransformConfigWhileScaling:vy,computePivot:_2,computeDeltaRatio:S2,isZoomOut:I2,computeNewScaleRatio:x2,computeClampedTargetScaleRatio:D2,computeNewPositionRange:T2,computeNewSingleRange:O2};function F2(e){const{listenerManager:t,initDrawingConfig:n}=e,r=k2(e);let i=!1;const{inputBoardDrawingConfig:{ctx:a,hiddenCtx:l},outputBoardDrawingConfig:{hiddenCtx:o},brushDrawingBaseConfig:{positionRange:c}}=r,{boardRect:s,draggingInputBoard:A}=r;U2(r);const v=P2(r);let B=!1;document.removeEventListener("keydown",x,!1);function x(T){T.code==="Space"&&T.preventDefault(),i=T.code==="Space"}document.addEventListener("keydown",x,!1);function M(T){i=!1}document.removeEventListener("keydown",M,!1),document.addEventListener("keyup",M,!1),t.initMouseListeners({mouseTarget:a.value.canvas,down(T){if(!i)return B=j2({ev:T,boardRect:s,positionRange:c,draggingInputBoard:A}),B&&v(T),B},move(T){const{positionRange:p}=n.transformConfig;i&&py(T,p),!A&&B&&v(T)},up(T){!A&&B&&(B=!1,v(T))}})}function k2(e){const{imageSources:t,imageSources:{raw:n,mask:r},initDrawingConfig:i,boardContexts:a,...l}=e,{inputCtx:o,inputHiddenCtx:c,inputDrawingCtx:s,outputCtx:A,outputHiddenCtx:v,outputDrawingCtx:B}=a;return{brushDrawingBaseConfig:L2(i),mattingSources:t,inputBoardDrawingConfig:{ctx:o,hiddenCtx:c,drawingCtx:s,mattingSource:r},outputBoardDrawingConfig:{ctx:A,hiddenCtx:v,drawingCtx:B,mattingSource:n},...l}}function U2(e){const{inputBoardDrawingConfig:t,outputBoardDrawingConfig:n}=e,{mattingSources:{raw:r,mask:i},isErasing:a}=e;a?(t.mattingSource=r,n.hiddenCtx.value.globalCompositeOperation=ST):(t.mattingSource=i,n.hiddenCtx.value.globalCompositeOperation=Z0)}function L2(e){const{radius:t,hardness:n,transformConfig:{scaleRatio:r,positionRange:i}}=e,a=u2(t.value,r),l=c2(a),o=f2(a);return{radius:a,step:o,stepBase:l,scaleRatio:r,positionRange:i,hardness:n.value}}function P2(e){const{brushDrawingBaseConfig:t,brushDrawingBaseConfig:{step:n,scaleRatio:r,positionRange:i},boardRect:{left:a,top:l}}=e,{inputBoardDrawingConfig:o,outputBoardDrawingConfig:c,isErasing:s}=e;let A=0;return v=>{const B=R2({ev:v,scaleRatio:r,positionRange:i,left:a,top:l}),{movementX:x,movementY:M}=B,T={...t,...B};A+=l2(x,M),N2(A,n,v.type)&&(A=0,d2([{...T,...o},{...T,...c,isErasing:s}]))}}function N2(e,t,n){return e>=t||n===ti.MouseDown}function R2(e){const{ev:t,scaleRatio:n,positionRange:r,left:i,top:a}=e,{minX:l,minY:o}=r,{movementX:c,movementY:s,pageX:A,pageY:v}=t,B=Q2({pageX:A,pageY:v,left:i,top:a,minX:l,minY:o,scaleRatio:n}),x=H2({movementX:c,movementY:s},n);return{...B,...x}}function Q2(e){const{pageX:t,pageY:n,left:r,top:i,minX:a,minY:l,scaleRatio:o}=e,c=(t-r-a)/o,s=(n-i-l)/o;return{x:c,y:s}}function H2(e,t){const{movementX:n,movementY:r}=e,i=n/t,a=r/t;return{movementX:i,movementY:a}}function j2(e){const{ev:t,boardRect:n,positionRange:r,draggingInputBoard:i}=e,{pageX:a,pageY:l}=t,{left:o,top:c}=n,{minX:s,maxX:A,minY:v,maxY:B}=r,x=ar.computePivot(a,o),M=ar.computePivot(l,c);return t2({x,y:M,minX:s,maxX:A,minY:v,maxY:B})&&!i}function z2(e){const{outputContexts:{ctx:t},transformConfig:n,listenerManager:r}=e;r.initMouseListeners({mouseTarget:t.canvas,move(i){const{positionRange:a}=n;py(i,a)}})}function V2(e){const{inputContexts:{ctx:t},outputContexts:{ctx:n},listenerManager:r}=e;return r.initWheelListener({mattingBoards:[t.canvas,n.canvas],wheel(i){i.preventDefault(),E2(i,e)}})}function G2(e,t){const{radius:n,hardness:r,isErasing:i}=e,{boardContexts:a,transformConfig:l,mattingSources:o,draggingInputBoard:c,initialized:s,boardRect:A,listenerManager:v}=t,{inputCtx:B}=a;m.watchEffect(()=>{s.value&&F2({listenerManager:v,imageSources:o.value,boardContexts:a,initDrawingConfig:{radius:n,hardness:r,transformConfig:l},isErasing:i.value,draggingInputBoard:c.value,boardRect:A.value})}),m.onBeforeUnmount(()=>{v.removeMouseListeners(B.value.canvas)})}function W2(e){const{boardContexts:t,initialized:n,draggingInputBoard:r,transformConfig:i,isDrawing:a,listenerManager:l}=e,{inputCtx:o,inputHiddenCtx:c,outputCtx:s,outputHiddenCtx:A}=t;m.watch([n,r,a],()=>{if(n.value&&!a.value){const v={inputContexts:{ctx:o.value,hiddenCtx:c.value},outputContexts:{ctx:s.value,hiddenCtx:A.value},draggingInputBoard:r.value,listenerManager:l,transformConfig:i};z2(v),V2(v),r.value||(i.positionRange={...i.positionRange})}},{deep:!0}),m.watch([i],async()=>{if(n.value){const{positionRange:v,scaleRatio:B}=i,x={positionRange:v,scaleRatio:B};ws({ctx:o.value,hiddenCtx:c.value,...x}),ws({ctx:s.value,hiddenCtx:A.value,withBorder:!0,...x})}}),m.onBeforeUnmount(()=>{n.value&&(l.removeMouseListeners(s.value.canvas),l.removeWheelListeners())})}const Y2=function(){const e=function(v){window.console&&window.console.log&&window.console.log(v)},t={enable:{0:!0},disable:{0:!0},getParameter:{0:!0},drawArrays:{0:!0},drawElements:{0:!0,2:!0},createShader:{0:!0},getShaderParameter:{1:!0},getProgramParameter:{1:!0},getVertexAttrib:{1:!0},vertexAttribPointer:{2:!0},bindTexture:{0:!0},activeTexture:{0:!0},getTexParameter:{0:!0,1:!0},texParameterf:{0:!0,1:!0},texParameteri:{0:!0,1:!0,2:!0},texImage2D:{0:!0,2:!0,6:!0,7:!0},texSubImage2D:{0:!0,6:!0,7:!0},copyTexImage2D:{0:!0,2:!0},copyTexSubImage2D:{0:!0},generateMipmap:{0:!0},bindBuffer:{0:!0},bufferData:{0:!0,2:!0},bufferSubData:{0:!0},getBufferParameter:{0:!0,1:!0},pixelStorei:{0:!0,1:!0},readPixels:{4:!0,5:!0},bindRenderbuffer:{0:!0},bindFramebuffer:{0:!0},checkFramebufferStatus:{0:!0},framebufferRenderbuffer:{0:!0,1:!0,2:!0},framebufferTexture2D:{0:!0,1:!0,2:!0},getFramebufferAttachmentParameter:{0:!0,1:!0,2:!0},getRenderbufferParameter:{0:!0,1:!0},renderbufferStorage:{0:!0,1:!0},clear:{0:!0},depthFunc:{0:!0},blendFunc:{0:!0,1:!0},blendFuncSeparate:{0:!0,1:!0,2:!0,3:!0},blendEquation:{0:!0},blendEquationSeparate:{0:!0,1:!0},stencilFunc:{0:!0},stencilFuncSeparate:{0:!0,1:!0},stencilMaskSeparate:{0:!0},stencilOp:{0:!0,1:!0,2:!0},stencilOpSeparate:{0:!0,1:!0,2:!0,3:!0},cullFace:{0:!0},frontFace:{0:!0}};let n=null;function r(v){if(n==null){n={};for(const B in v)typeof v[B]=="number"&&(n[v[B]]=B)}}function i(){if(n==null)throw"WebGLDebugUtils.init(ctx) not called"}function a(v){return i(),!!n&&n[v]!==void 0}function l(v){i();const B=n&&n[v];return B!==void 0?B:"*UNKNOWN WebGL ENUM (0x"+v.toString(16)+")"}function o(v,B,x){const M=t[v];return M!==void 0&&M[B]?l(x):x.toString()}function c(v,B){r(v),B=B||function(p,u,g){let C="";for(let f=0;f<g.length;++f)C+=(f==0?"":", ")+o(u,f,g[f]);e("WebGL error "+l(p)+" in "+u+"("+C+")")};const x={};function M(p,u){return function(){const g=p[u].apply(p,arguments),C=p.getError();return C!=0&&(x[C]=!0,B(C,u,arguments)),g}}const T={};for(const p in v){const u=p;typeof v[u]=="function"?T[u]=M(v,u):T[u]=v[u]}return T.getError=function(){for(const p in x)if(x[p])return x[p]=!1,+p;return v.NO_ERROR},T}function s(v){const B=v.getParameter(v.MAX_VERTEX_ATTRIBS),x=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,x);for(let T=0;T<B;++T)v.disableVertexAttribArray(T),v.vertexAttribPointer(T,4,v.FLOAT,!1,0,0),v.vertexAttrib1f(T,0);v.deleteBuffer(x);const M=v.getParameter(v.MAX_TEXTURE_IMAGE_UNITS);for(let T=0;T<M;++T)v.activeTexture(v.TEXTURE0+T),v.bindTexture(v.TEXTURE_CUBE_MAP,null),v.bindTexture(v.TEXTURE_2D,null);for(v.activeTexture(v.TEXTURE0),v.useProgram(null),v.bindBuffer(v.ARRAY_BUFFER,null),v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,null),v.bindFramebuffer(v.FRAMEBUFFER,null),v.bindRenderbuffer(v.RENDERBUFFER,null),v.disable(v.BLEND),v.disable(v.CULL_FACE),v.disable(v.DEPTH_TEST),v.disable(v.DITHER),v.disable(v.SCISSOR_TEST),v.blendColor(0,0,0,0),v.blendEquation(v.FUNC_ADD),v.blendFunc(v.ONE,v.ZERO),v.clearColor(0,0,0,0),v.clearDepth(1),v.clearStencil(-1),v.colorMask(!0,!0,!0,!0),v.cullFace(v.BACK),v.depthFunc(v.LESS),v.depthMask(!0),v.depthRange(0,1),v.frontFace(v.CCW),v.hint(v.GENERATE_MIPMAP_HINT,v.DONT_CARE),v.lineWidth(1),v.pixelStorei(v.PACK_ALIGNMENT,4),v.pixelStorei(v.UNPACK_ALIGNMENT,4),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1),v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),v.UNPACK_COLORSPACE_CONVERSION_WEBGL&&v.pixelStorei(v.UNPACK_COLORSPACE_CONVERSION_WEBGL,v.BROWSER_DEFAULT_WEBGL),v.polygonOffset(0,0),v.sampleCoverage(1,!1),v.scissor(0,0,v.canvas.width,v.canvas.height),v.stencilFunc(v.ALWAYS,0,4294967295),v.stencilMask(4294967295),v.stencilOp(v.KEEP,v.KEEP,v.KEEP),v.viewport(0,0,v.canvas.clientWidth,v.canvas.clientHeight),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT|v.STENCIL_BUFFER_BIT);v.getError(););}function A(v){const B={};let x=1,M=!1;const T=[];let p,u,g;const C={};function f(U){return U instanceof WebGLBuffer||U instanceof WebGLFramebuffer||U instanceof WebGLProgram||U instanceof WebGLRenderbuffer||U instanceof WebGLShader||U instanceof WebGLTexture}function d(U){for(let N=0;N<U.length;++N){const z=U[N];if(f(z))return z.__webglDebugContextLostId__==x}return!0}function h(){const U=Object.keys(C);for(let N=0;N<U.length;++N)delete C[U[N]]}function w(U,N){const z=U[N];return function(){if(!M){if(!d(arguments)){C[U.INVALID_OPERATION]=!0;return}return z.apply(U,arguments)}}}for(const U in v){const N=U;typeof v[U]=="function"?B[N]=w(v,N):B[N]=v[N]}function I(U){return{statusMessage:U}}function y(){for(let U=0;U<T.length;++U){const N=T[U];N instanceof WebGLBuffer?v.deleteBuffer(N):N instanceof WebGLFramebuffer?v.deleteFramebuffer(N):N instanceof WebGLProgram?v.deleteProgram(N):N instanceof WebGLRenderbuffer?v.deleteRenderbuffer(N):N instanceof WebGLShader?v.deleteShader(N):N instanceof WebGLTexture&&v.deleteTexture(N)}}B.loseContext=function(){if(!M){for(M=!0,++x;v.getError(););h(),C[v.CONTEXT_LOST_WEBGL]=!0,setTimeout(function(){p&&p(I("context lost"))},0)}},B.restoreContext=function(){if(M)if(u)setTimeout(function(){if(y(),s(v),M=!1,u){const U=u;u=g,g=void 0,U(I("context restored"))}},0);else throw"You can not restore the context without a listener"},B.getError=function(){if(!M){let U;for(;U=v.getError();)C[U]=!0}for(const U in C)if(C[U])return delete C[U],+U;return v.NO_ERROR};const D=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"];for(let U=0;U<D.length;++U){const N=D[U];B[N]=function(z){return function(){if(M)return null;const H=z.apply(v,arguments);return H.__webglDebugContextLostId__=x,T.push(H),H}}(v[N])}const F=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"];for(let U=0;U<F.length;++U){const N=F[U];B[N]=function(z){return function(){return M?null:z.apply(v,arguments)}}(B[N])}const L=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"];for(let U=0;U<L.length;++U){const N=L[U];B[N]=function(z){return function(){return M?!1:z.apply(v,arguments)}}(B[N])}B.checkFramebufferStatus=function(U){return function(){return M?v.FRAMEBUFFER_UNSUPPORTED:U.apply(v,arguments)}}(B.checkFramebufferStatus),B.getAttribLocation=function(U){return function(){return M?-1:U.apply(v,arguments)}}(B.getAttribLocation),B.getVertexAttribOffset=function(U){return function(){return M?0:U.apply(v,arguments)}}(B.getVertexAttribOffset),B.isContextLost=function(){return M};function k(U){return typeof U=="function"?U:function(N){U.handleEvent(N)}}return B.registerOnContextLostListener=function(U){p=k(U)},B.registerOnContextRestoredListener=function(U){M?g=k(U):u=k(U)},B}return{init:r,mightBeEnum:a,glEnumToString:l,glFunctionArgToString:o,makeDebugContext:c,makeLostContextSimulatingContext:A,resetToInitialState:s}}(),X2=function(){const e=function(a){return'<div style="margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;">'+a+"</div>"},t='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',n=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org">Click here for more information.</a>`,r=function(a,l,o){function c(A){const v=document.getElementsByTagName("body")[0];if(v){let B=window.WebGLRenderingContext?n:t;A&&(B+="<br/><br/>Status: "+A),v.innerHTML=e(B)}}o=o||c,a.addEventListener&&a.addEventListener("webglcontextcreationerror",A=>{o=o||c,o(A.statusMessage)},!1);const s=i(a,l);return s||(window.WebGLRenderingContext,o("")),s},i=function(a,l){const o=["webgl","experimental-webgl","webkit-3d","moz-webgl"];let c=null;for(let s=0;s<o.length;++s){try{c=a.getContext(o[s],l)}catch{}if(c)break}return c};return{create3DContext:i,setupWebGL:r}}();window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout);function K2(e,t,n){const r=Z2(e,t,n);return r?(e.useProgram(r),e.program=r,!0):(console.error("Failed to create program"),!1)}function Z2(e,t,n){const r=my(e,e.VERTEX_SHADER,t),i=my(e,e.FRAGMENT_SHADER,n);if(!r||!i)return null;const a=e.createProgram();if(!a)return null;if(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){const o=e.getProgramInfoLog(a);return console.error("Failed to link program: "+o),e.deleteProgram(a),e.deleteShader(i),e.deleteShader(r),null}return a}function my(e,t,n){const r=e.createShader(t);if(r==null)return console.error("unable to create shader"),null;if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const a=e.getShaderInfoLog(r);return console.error("Failed to compile shader: "+a,n),e.deleteShader(r),null}return r}function J2(e,t){let n=X2.setupWebGL(e);return n?((arguments.length<2||t)&&(n=Y2.makeDebugContext(n)),n):null}const $2=`
attribute vec4 a_Position;
attribute vec2 a_TexCoord;
varying vec2 v_TexCoord;
void main() {
    gl_Position = a_Position;
    v_TexCoord = a_TexCoord;
}
`,q2=`
precision highp float;
uniform sampler2D u_Sampler;
uniform vec4 u_MaskColor;
varying vec2 v_TexCoord;
void main() {
    vec4 color = texture2D(u_Sampler, v_TexCoord);
		vec3 mixRGB = color.a > 0.0 ? mix(color.rgb, u_MaskColor.rgb, u_MaskColor.a) : color.rgb;
    gl_FragColor = vec4(mixRGB, color.a);
}
`;function eO(e,t=Cs){const n=J2(e);return n?K2(n,$2,q2)?nO(n)?(tO(n,"u_MaskColor",t),r=>{if(console.time("draw mask image"),!rO(n,r))return console.error("\u7EB9\u7406\u521D\u59CB\u5316\u5931\u8D25!");n.drawArrays(n.TRIANGLE_STRIP,0,4),console.timeEnd("draw mask image")}):console.error("\u7F13\u51B2\u533A\u521D\u59CB\u5316\u5931\u8D25!"):console.error("\u7740\u8272\u5668\u521D\u59CB\u5316\u5931\u8D25!"):console.error("\u83B7\u53D6WebGL\u7ED8\u5236\u4E0A\u4E0B\u6587\u5931\u8D25!")}function tO(e,t,n){const r=e.getUniformLocation(e.program,t);if(!r)return console.error("\u83B7\u53D6attribute\u53D8\u91CF\u5B58\u50A8\u4F4D\u7F6E\u5931\u8D25!");Array.isArray(n)?e.uniform4fv(r,n):e.uniform1i(r,n)}function nO(e){const t=e.getAttribLocation(e.program,"a_Position"),n=e.getAttribLocation(e.program,"a_TexCoord");if(!~t||!~n)return console.error("\u83B7\u53D6attribute\u53D8\u91CF\u5B58\u50A8\u4F4D\u7F6E\u5931\u8D25!"),!1;const r=e.createBuffer(),i=e.createBuffer();return!r||!i?(console.error("\u521B\u5EFA\u7F13\u51B2\u533A\u5BF9\u8C61\u5931\u8D25!"),!1):(yy(e,r,t,new Float32Array([-1,1,1,1,-1,-1,1,-1])),yy(e,i,n,new Float32Array([0,0,1,0,0,1,1,1])),!0)}function yy(e,t,n,r,i=2){e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.vertexAttribPointer(n,i,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n)}function rO(e,t){const n=e.createTexture();if(!n)return console.error("\u521B\u5EFA\u7EB9\u7406\u5BF9\u8C61\u5931\u8D25!"),!1;const r=e.getUniformLocation(e.program,"u_Sampler");return r?(e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.uniform1i(r,0),!0):(console.error("\u83B7\u53D6\u53D6\u6837\u5668\u53D8\u91CF\u5B58\u50A8\u4F4D\u7F6E\u5931\u8D25!"),!1)}async function iO(e){const{boardContexts:{inputCtx:t,outputCtx:n,inputHiddenCtx:r,inputDrawingCtx:i,outputHiddenCtx:a,outputDrawingCtx:l},picFile:o,transformConfig:c,targetSize:s,gapSize:A}=e;t.value.imageSmoothingEnabled=ys,n.value.imageSmoothingEnabled=ys;const v=await iy(o),{scaleRatio:B,positionRange:x}=oO({imageSource:v,transformConfig:c,targetSize:s,gapSize:A}),M=Ph(v);QT({imageSource:v,targetSize:M,hiddenCtx:r.value,drawingCtx:i}),ws({hiddenCtx:r.value,ctx:t.value,scaleRatio:B,positionRange:x}),ay({targetSize:M,hiddenCtx:a.value,drawingCtx:l});const T=await createImageBitmap(r.value.canvas),p=await aO({targetSize:M,imageSource:v});return{orig:v,raw:T,mask:p,positionRange:x,scaleRatio:B}}function aO(e){const{targetSize:{width:t,height:n},imageSource:r}=e,i=document.createElement("canvas");i.width=t,i.height=n;const a=eO(i);return a&&a(r),createImageBitmap(i)}function oO(e){const{transformConfig:t,...n}=e;if(sO(t)){const{scaleRatio:r,positionRange:i}=AO(n);t.scaleRatio=r,t.positionRange=i}return t}function sO(e){const{scaleRatio:t,positionRange:n}=e;return!t||!n}function AO(e){const{imageSource:t,targetSize:n,gapSize:r=mT}=e,i=Ph(t);return fy({gapSize:r,imageSize:i,targetSize:n})}function lO(e,t,n){var r=n||{},i=r.noTrailing,a=i===void 0?!1:i,l=r.noLeading,o=l===void 0?!1:l,c=r.debounceMode,s=c===void 0?void 0:c,A,v=!1,B=0;function x(){A&&clearTimeout(A)}function M(p){var u=p||{},g=u.upcomingOnly,C=g===void 0?!1:g;x(),v=!C}function T(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];var C=this,f=Date.now()-B;if(v)return;function d(){B=Date.now(),t.apply(C,u)}function h(){A=void 0}!o&&s&&!A&&d(),x(),s===void 0&&f>e?o?(B=Date.now(),a||(A=setTimeout(s?h:d,e))):d():a!==!0&&(A=setTimeout(s?h:d,s===void 0?e-f:e))}return T.cancel=M,T}function cO(e,t,n){var r=n||{},i=r.atBegin,a=i===void 0?!1:i;return lO(e,t,{debounceMode:a!==!1})}function uO(e,t){const{picFile:n}=e,{boardContexts:r,boardContexts:{inputCtx:i,outputCtx:a,inputHiddenCtx:l,outputHiddenCtx:o}}=t,{initMattingResult:c,width:s,height:A,initialized:v}=t,{boardRect:B,transformConfig:x,mattingSources:M}=t,T=()=>{B.value=uy(i.value.canvas)},p=()=>{requestAnimationFrame(()=>{const u={targetHeight:A.value,targetWidth:s.value,transformConfig:x};ry({ctx:i.value,hiddenCtx:l.value,...u}),ry({ctx:a.value,hiddenCtx:o.value,withBorder:!0,...u})})};m.watch([n],async()=>{if(n.value&&s.value&&A.value){v.value=!1,c.value=await iO({boardContexts:r,picFile:n.value,targetSize:{width:s.value,height:A.value},transformConfig:{},imageSources:{}});const{raw:u,mask:g,orig:C,positionRange:f,scaleRatio:d}=c.value;x.positionRange=f,x.scaleRatio=d,M.value={raw:u,mask:g,orig:C},T(),p(),v.value=!0}}),m.onMounted(()=>{window.addEventListener(ti.Resize,p),window.addEventListener("scroll",cO(bT,T))}),m.onUnmounted(()=>{window.removeEventListener(ti.Resize,p)})}function fO(){const e=m.ref(null),t=m.ref(!1),n=m.ref(V0),r=m.ref(G0),i=m.computed(()=>n.value*dT),a=m.computed(()=>`${Math.round(r.value*pT)}%`);return{picFile:e,isErasing:t,radius:n,hardness:r,brushSize:i,hardnessText:a}}const Cy=Wa(),hO=Wa();function dO(e){const t=m.ref(0),n=m.ref(0),r=m.ref(null),i=m.ref(null),a=m.ref(null),l=m.ref(!1),o=m.ref(!1),c=m.reactive(vT),s=m.ref(null),A=m.ref(null),v=m.ref(!1),B=m.ref(Wa()),x=m.ref(Wa()),M=new $T,T={boardContexts:{inputCtx:r,outputCtx:i,inputDrawingCtx:Cy,outputDrawingCtx:hO,inputHiddenCtx:B,outputHiddenCtx:x},initMattingResult:a,transformConfig:c,mattingSources:s,initialized:v,boardRect:A},p={...T,draggingInputBoard:l,isDrawing:o,listenerManager:M};return uO(e,{...T,width:t,height:n}),G2(e,p),W2(p),{width:t,height:n,inputCtx:r,outputCtx:i,inputHiddenCtx:B,outputHiddenCtx:x,draggingInputBoard:l,transformConfig:c,initialized:v,mattingSources:s,inputDrawingCtx:Cy}}var gO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMAuWM77dq/k2lBMiPo0K6po0kdF8e0jXteCfvz49XLmYRZVBIDw552cm4p996If04rRjZQDu8uOlnnbwAABJZJREFUeNrt3Ily2jAQBuA15jJgDmMg3DeEq5zNvv+btZ1OJ1VbEtvS2qvOfm/giSOt/x8JhBBCCCGEEEIIIYQQQggh+Mt1sJED6+0d/MG5gN2qPv5UqIDNggn+cryBvdohvhu5YKvlGn9X88BODwdVX1tgo76DfxqewT6rDv5tsADr1PGf5mCZBj7xAlZp4lNWjSsb/EAZrDHFD+3AEiX8xBas0MVP9cACJ4zgC7A3w0hmwNwXjKgLrPUwshIw9or4XzzJDmPZAFNljKkJLOUwtgYw9IIJ1FfAzRwT6fSBlwUm5CyBk/sAkyq2gY/WAZNbB8DFdYg6wirw4OVRj8/jSdwa6hpzCOtvI9TAJ6yvHFEDn7D+UkANfML6/Rg18Anrqz5q4BPWByFq4BPWt9eogU9YvyyiBj5h/cNBDXzC+n4HNfAJ61d11MAorG+gBkZhfRMJvUJqNqiBUVg/RQ2MwvoSkmvB32x8DlwDvS6mIA8aNAopCx/kWZFj26vVwycs+2ff4lNWLb9KITXGBHg0pTslwNn7GBOXnrSshB4VqIYYGaduMadEHi4ABEUkMAVaL0rg4cEPbQcj4NWQKoXU4Qo/LTv4CW79qFpIneGXfh0/wK8dPSuF1ALerRr4BMdutDVUgo4IH4s8m1HvqxJzkH1mOQ8gpRY5ZbIPlOISSLkjJRgg+0RZt4GUWuT0yD5SJgGQeitEmkpnyLwPVYucEzzV492GVv3IU+mWcxcaTGJMpTtMbHQDUu0w1jRXxoRqLpBqF2NOczlMJO8BqaUTe5qbYwLDFpBSTxbVIZLFAeM6nIGUerLI6UM05yG3/rOuTEEPiOqa59V+NhJPQV6NU/fZ1JiC3COf5nOjNQVVClx6z6kyPVwgrsuYR1eofCcdKxBfdYIRbIFW18D0EITZN54nI9NDu5h1UD0zND0sHfzQCUiphdTgTPZblS7QUr/zFmS/VikBrVezu24zq8B9Z3rX3WQTuJfN77rTLAL3HMWuW0o/cH+h2XVPaQfuc6p6eJZu4L4g23V7qR5Eug+odqvXVI8htQ5Uu9VO4xCS7smiKdlKOKkCKS9PtVupK6G/B1JujWq3mquB+xuQuo2oVvnzIM3AvXKkWuVbwzQP7FwKVKu8l0/1uI5DtcqrFWr+CqTU5TEMqN7YYQuINYjqSLV6PNyBGr4b78GYqq8RuGv/RQpvYEgQpn5IJ0ex0i+LGRzRccwfM304WRzQ2Y9N71qrejbHc/a+4aK4kdXhnKpvtCpuZncjWDAxuAdPs7wPrD0xtguXsr1Dqx8aKr67moG7vtDIRDFjcBPY2sBM0WNxe1ZRu8bfJgzcuT3Jjs0dYEWtSa/M6AYwR531NIKfxgoylXzam6uBe+Z3ZnUSPsldDdwfkLlkk2vrwO/mr2aC2dX7yvHer2ns6dWt8bz1qxtzfq2MlMCdx01Z/5iYvsSKKv09MLLFzOTDLRiUwww5YNAd9fC54eWK2ZmASR7q4HS5gIsRcX8QcAcYEetX67tbDRPhdwlSpYBZAPPexpiyfHgCIYQQQgghhBBCCCGEEEIIE74BPoWbxHyLr50AAAAASUVORK5CYII=";class pO{constructor(t,n){this.inputCtx=t,this.isErasing=n,this.cursorImage=m.ref(""),this.inputCursorStyle=m.ref(null),this.mattingCursorStyle=m.reactive(Object.create(null)),this.radius=m.ref(V0),this.hardness=m.ref(G0),this.inputCanvas=m.computed(()=>this.inputCtx.value.canvas),this.pointInnerColor=m.computed(()=>this.isErasing.value?OT:$0),this.pointOuterColor=m.computed(()=>this.isErasing.value?FT:q0),this.ctx=this.creatCursorCanvas()}creatCursorCanvas(){const t=document.createElement("canvas").getContext("2d");return this.updateCtx(t)}updateCtx(t){return t.canvas.width=this.radius.value*2,t.canvas.height=this.radius.value*2,t}async createCursorImage(){this.ctx=this.updateCtx(this.ctx);const t={ctx:this.ctx,x:this.radius.value,y:this.radius.value,radius:this.radius.value,hardness:this.hardness.value,innerColor:this.pointInnerColor.value,outerColor:this.pointOuterColor.value};return vl(t),await this.drawIcon(),await this.ctx.canvas.toDataURL()}async drawIcon(){if(this.isErasing.value){const t=await iy(gO);this.ctx.drawImage(t,0,0,this.radius.value*2,this.radius.value*2)}}renderOutputCursor(){const t=this.inputCanvas.value;t.addEventListener(ti.Mouseover,this.onShowCursor.bind(this)),t.addEventListener(ti.Mousemove,this.onRenderOutputCursor.bind(this)),t.addEventListener(ti.Mouseout,this.onHideCursor.bind(this))}onShowCursor(){this.mattingCursorStyle.display="initial"}onHideCursor(){this.mattingCursorStyle.display="none"}onRenderOutputCursor(t){this.mattingCursorStyle.left=t.offsetX-this.radius.value+"px",this.mattingCursorStyle.top=t.offsetY-this.radius.value+"px"}changeOutputCursorByDrag([t]){t?this.onHideCursor():this.onShowCursor()}updateCursorParams(t,n){this.hardness.value=t,this.radius.value=n}}function vO(e){const{inputCtx:t,isDragging:n,isErasing:r,hardness:i,radius:a}=e,l=new pO(t,r),{cursorImage:o,mattingCursorStyle:c,renderOutputCursor:s}=l;return m.watchEffect(async()=>{l.updateCursorParams(i.value,a.value),o.value=await l.createCursorImage()}),m.watch([n],l.changeOutputCursorByDrag.bind(l)),{mattingCursor:l,mattingCursorStyle:c,cursorImage:o,renderOutputCursor:s.bind(l)}}var z9="";const mO=m.defineComponent({props:{hasHeader:{type:Boolean,default:!0}},emits:["register"],setup(e,{emit:t}){const n=m.ref(null),r=m.ref(null),i=m.ref(""),a=m.ref(null),l=m.ref(!1),{picFile:o,isErasing:c,radius:s,hardness:A,brushSize:v,hardnessText:B}=fO(),{width:x,height:M,inputCtx:T,inputHiddenCtx:p,outputCtx:u,outputHiddenCtx:g,draggingInputBoard:C,initialized:f,mattingSources:d,transformConfig:h,inputDrawingCtx:w}=dO({picFile:o,isErasing:c,radius:s,hardness:A}),{cursorImage:I,mattingCursorStyle:y,renderOutputCursor:D}=vO({inputCtx:T,isDragging:C,isErasing:c,radius:s,hardness:A}),F=m.computed(()=>o.value?`matting_${o.value.name}`:"null"),L=m.computed(()=>l.value||!f.value),k=m.computed(()=>({"save-btn":!0,disabled:L.value})),U=m.computed(()=>l.value?"\u4FDD\u5B58\u4E2D...":"\u4FDD\u5B58"),N=le=>{const{files:Ae}=le.target;Ae&&Ae[0]&&/.+\.(jpg|jpeg|png|gif|webp)/.test(Ae[0].name)?o.value=Ae[0]:alert("\u672A\u9009\u62E9\u56FE\u7247\u6216\u56FE\u7247\u683C\u5F0F\u4E0D\u6B63\u786E(\u53EA\u652F\u6301jpg\u3001png\u3001gif\u3001webp), \u8BF7\u91CD\u65B0\u9009\u62E9")},z=(le,Ae)=>{m.nextTick(()=>{fetch(le).then(R=>R.blob()).then(R=>{o.value=new File([R],`image_${Math.random()}.jpg`,{type:"image/jpeg"})}).catch(R=>{console.error("\u83B7\u53D6\u56FE\u7247\u5931\u8D25:",R)}),m.watch(()=>f.value,async()=>{const R=await H(Ae);g.value.drawImage(R,0,0);let re=document.createElement("canvas");re.width=R.width,re.height=R.height;let ee=re.getContext("2d");ee.drawImage(R,0,0);let oe=ee.getImageData(0,0,R.width,R.height),Z=oe.data;for(let J=0;J<Z.length;J+=4)Z[J+3]>0&&(Z[J]=Cs[0]*255,Z[J+1]=Cs[1]*255,Z[J+2]=Cs[2]*255,Z[J+3]=(Cs[3]-.15)*255);await m.nextTick(),setTimeout(async()=>{h.scaleRatio+=1e-4,h.scaleRatio-=1e-4,setTimeout(()=>{w.putImageData(oe,0,0),p.value.drawImage(w.canvas,0,0),console.log("ok"),setTimeout(()=>{h.scaleRatio+=1e-4,h.scaleRatio-=1e-4},100)},100)},100)})})};function H(le){return new Promise(Ae=>{let R=new Image;R.crossOrigin="anonymous",R.src=le,R.onload=function(){Ae(R)}})}function X(le){s.value=Number(s.value),le.code==="BracketLeft"?s.value>Uh+Ga&&(s.value-=Ga):le.code==="BracketRight"&&s.value<Lh-Ga&&(s.value+=Ga)}function ne(){const le=n.value,Ae=r.value;T.value=le.getContext("2d"),u.value=Ae.getContext("2d");const{clientWidth:R,clientHeight:re}=le;x.value=R,M.value=re}function ie(){if(d.value&&!l.value){l.value=!0;const le=oy(d.value.orig,g.value);l.value=!1,i.value=le,setTimeout(()=>{var Ae;(Ae=a.value)==null||Ae.click()})}}function he(){if(d.value&&!l.value)return oy(d.value.orig,g.value)}return m.onMounted(()=>{t("register",{isErasing:c,onDownloadResult:ie,onFileChange:N,initLoadImages:z,radius:s,hardness:A,brushSize:v,hardnessText:B,constants:{RADIUS_SLIDER_MIN:Uh,RADIUS_SLIDER_MAX:Lh,RADIUS_SLIDER_STEP:Ga,HARDNESS_SLIDER_MAX:X0,HARDNESS_SLIDER_STEP:Y0,HARDNESS_SLIDER_MIN:W0},getResult:he}),ne(),D(),document.addEventListener("keydown",X,!1)}),m.onUnmounted(()=>{document.removeEventListener("keydown",X,!1)}),{onDownloadResult:ie,onFileChange:N,inputCvs:n,outputCvs:r,resultURL:i,resultLink:a,isErasing:c,radius:s,hardness:A,brushSize:v,hardnessText:B,saveBtnText:U,downloadFileName:F,saveBtnClass:k,cursorImage:I,mattingCursorStyle:y,cantSave:L,RADIUS_SLIDER_MIN:Uh,RADIUS_SLIDER_MAX:Lh,RADIUS_SLIDER_STEP:Ga,HARDNESS_SLIDER_MAX:X0,HARDNESS_SLIDER_STEP:Y0,HARDNESS_SLIDER_MIN:W0}}}),Ka=e=>(m.pushScopeId("data-v-0e02acde"),e=e(),m.popScopeId(),e),yO={key:0,class:"options-container"},CO={class:"default-wrap"},wO={class:"option"},BO=Ka(()=>m.createElementVNode("label",{for:"image"},"\u9009\u62E9\u56FE\u7247\uFF1A",-1)),bO={class:"option"},EO=Ka(()=>m.createElementVNode("span",null,"\u753B\u7B14\u7C7B\u578B\uFF1A",-1)),_O=Ka(()=>m.createElementVNode("label",{for:"fix"},"\u4FEE\u8865",-1)),SO=Ka(()=>m.createElementVNode("label",{for:"matting"},"\u64E6\u9664",-1)),IO={class:"option"},xO=Ka(()=>m.createElementVNode("label",{for:"radius"},"\u753B\u7B14\u5C3A\u5BF8\uFF1A",-1)),MO=["max","min","step"],DO={class:"option"},TO=Ka(()=>m.createElementVNode("label",{for:"hardness"},"\u753B\u7B14\u786C\u5EA6\uFF1A",-1)),OO=["max","min","step"],FO=["disabled"],kO={class:"board-container"},UO={class:"matting-wrapper"},LO={ref:"inputCvs",class:"matting-board"},PO=["src"],NO={class:"matting-wrapper"},RO={ref:"outputCvs",class:"result-board"},QO=["src"],HO=["href","download"];function jO(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock(m.Fragment,null,[e.hasHeader?(m.openBlock(),m.createElementBlock("div",yO,[m.renderSlot(e.$slots,"default",{},()=>[m.createElementVNode("div",CO,[m.createElementVNode("div",wO,[BO,m.createElementVNode("input",{id:"image",type:"file",accept:".jpg,.png,.gif,.webp",onChange:t[0]||(t[0]=(...l)=>e.onFileChange&&e.onFileChange(...l))},null,32)]),m.createElementVNode("div",bO,[EO,_O,m.withDirectives(m.createElementVNode("input",{id:"fix","onUpdate:modelValue":t[1]||(t[1]=l=>e.isErasing=l),type:"radio",value:!1},null,512),[[m.vModelRadio,e.isErasing]]),SO,m.withDirectives(m.createElementVNode("input",{id:"matting","onUpdate:modelValue":t[2]||(t[2]=l=>e.isErasing=l),value:!0,type:"radio"},null,512),[[m.vModelRadio,e.isErasing]])]),m.createElementVNode("div",IO,[xO,m.withDirectives(m.createElementVNode("input",{id:"radius","onUpdate:modelValue":t[3]||(t[3]=l=>e.radius=l),class:"range-input",type:"range",max:e.RADIUS_SLIDER_MAX,min:e.RADIUS_SLIDER_MIN,step:e.RADIUS_SLIDER_STEP},null,8,MO),[[m.vModelText,e.radius]]),m.createElementVNode("span",null,m.toDisplayString(e.brushSize),1)]),m.createElementVNode("div",DO,[TO,m.withDirectives(m.createElementVNode("input",{id:"hardness","onUpdate:modelValue":t[4]||(t[4]=l=>e.hardness=l),class:"range-input",type:"range",max:e.HARDNESS_SLIDER_MAX,min:e.HARDNESS_SLIDER_MIN,step:e.HARDNESS_SLIDER_STEP},null,8,OO),[[m.vModelText,e.hardness]]),m.createElementVNode("span",null,m.toDisplayString(e.hardnessText),1)]),m.createElementVNode("button",{class:m.normalizeClass(e.saveBtnClass),disabled:e.cantSave,onClick:t[5]||(t[5]=(...l)=>e.onDownloadResult&&e.onDownloadResult(...l))},m.toDisplayString(e.saveBtnText),11,FO)])],!0)])):m.createCommentVNode("",!0),m.createElementVNode("div",kO,[m.createElementVNode("div",UO,[m.createElementVNode("canvas",LO,null,512),m.createElementVNode("img",{ref:"inputCursor",class:"matting-cursor",style:m.normalizeStyle(e.mattingCursorStyle),src:e.cursorImage},null,12,PO)]),m.createElementVNode("div",NO,[m.createElementVNode("canvas",RO,null,512),m.createElementVNode("img",{class:"matting-cursor",style:m.normalizeStyle(e.mattingCursorStyle),src:e.cursorImage},null,12,QO)])]),m.createElementVNode("a",{ref:"resultLink",href:e.resultURL,download:e.downloadFileName},null,8,HO)],64)}var ml=ct(mO,[["render",jO],["__scopeId","data-v-0e02acde"]]);ml.install=e=>{e.component(ml.name,ml)};var V9="",G9="",W9="",Y9="";const zO={name:"number-slider",props:{label:{default:""},labelWidth:{default:"71px"},modelValue:{default:0},minValue:{default:0},maxValue:{default:500},step:{default:1},showInput:{default:!0}},emits:["update:modelValue","finish"],data(){return{innerValue:0}},computed:{...$e.mapGetters([])},watch:{innerValue(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},modelValue(e){this.innerValue=this.modelValue}},created(){this.innerValue=this.modelValue},methods:{...$e.mapActions([]),changeValue(e){this.$emit("finish",e)}}},VO={id:"number-slider"};function GO(e,t,n,r,i,a){const l=m.resolveComponent("el-slider");return m.openBlock(),m.createElementBlock("div",VO,[m.createElementVNode("span",{style:m.normalizeStyle({width:n.labelWidth}),class:"label"},m.toDisplayString(n.label),5),m.createVNode(l,{modelValue:i.innerValue,"onUpdate:modelValue":t[0]||(t[0]=o=>i.innerValue=o),min:n.minValue,max:n.maxValue,step:n.step,"input-size":"small","show-input":n.showInput,"show-tooltip":!1,"show-input-controls":!1,onChange:a.changeValue},null,8,["modelValue","min","max","step","show-input","onChange"])])}var ra=ct(zO,[["render",GO],["__scopeId","data-v-c46bb7cc"]]),WO=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"})),K9="";const YO=m.defineComponent({components:{matting:ml,ElRadioGroup:jt.ElRadioGroup,ElRadio:jt.ElRadio,numberSlider:ra},setup(){const e=m.reactive({show:!1,showMatting:!1,isErasing:!1,radius:0,brushSize:"",hardness:0,hardnessText:"",constants:{}}),t={raw:"",result:""};let n={},r=null;const i=o=>{o.initLoadImages(t.raw,t.result),e.isErasing=o.isErasing,e.radius=o.radius,e.hardness=o.hardness,e.constants=o.constants,n=o},a=async(o,c,s)=>{e.show=!0,t.raw=o,t.result=c,await m.nextTick(),setTimeout(()=>{e.showMatting=!0},300),r=s},l=()=>{e.show=!1,r(n.getResult())};return{...m.toRefs(e),open:a,done:l,mattingStart:i}}}),yl=e=>(m.pushScopeId("data-v-3127cd30"),e=e(),m.popScopeId(),e),XO={class:"tool-wrap"},KO=yl(()=>m.createElementVNode("b",null,"\u4FEE\u8865\u753B\u7B14",-1)),ZO=yl(()=>m.createElementVNode("i",{class:"icon sd-xiubu"},null,-1)),JO=yl(()=>m.createElementVNode("b",null,"\u64E6\u9664\u753B\u7B14",-1)),$O=yl(()=>m.createElementVNode("i",{class:"icon sd-cachu"},null,-1));function qO(e,t,n,r,i,a){const l=m.resolveComponent("el-button"),o=m.resolveComponent("el-radio"),c=m.resolveComponent("el-radio-group"),s=m.resolveComponent("number-slider"),A=m.resolveComponent("matting"),v=m.resolveComponent("el-dialog");return m.openBlock(),m.createElementBlock("div",null,[m.createVNode(v,{modelValue:e.show,"onUpdate:modelValue":t[3]||(t[3]=B=>e.show=B),"align-center":"",width:"90%",onClose:t[4]||(t[4]=B=>e.showMatting=!1)},{header:m.withCtx(()=>[m.createElementVNode("div",XO,[m.createVNode(l,{type:"primary",plain:"",onClick:e.done},{default:m.withCtx(()=>[m.createTextVNode("\u786E\u8BA4\u5E94\u7528")]),_:1},8,["onClick"]),m.createVNode(c,{modelValue:e.isErasing,"onUpdate:modelValue":t[0]||(t[0]=B=>e.isErasing=B),style:{"margin-left":"35px"}},{default:m.withCtx(()=>[m.createVNode(o,{label:!1,size:"large"},{default:m.withCtx(()=>[KO,m.createTextVNode(),ZO]),_:1}),m.createVNode(o,{label:!0,size:"large"},{default:m.withCtx(()=>[JO,m.createTextVNode(),$O]),_:1})]),_:1},8,["modelValue"]),m.createVNode(s,{modelValue:e.radius,"onUpdate:modelValue":t[1]||(t[1]=B=>e.radius=B),class:"slider-wrap",label:"\u753B\u7B14\u5C3A\u5BF8",showInput:!1,labelWidth:"90px",maxValue:e.constants.RADIUS_SLIDER_MAX,minValue:e.constants.RADIUS_SLIDER_MIN,step:e.constants.RADIUS_SLIDER_STEP},null,8,["modelValue","maxValue","minValue","step"]),m.createVNode(s,{modelValue:e.hardness,"onUpdate:modelValue":t[2]||(t[2]=B=>e.hardness=B),class:"slider-wrap",label:"\u753B\u7B14\u786C\u5EA6",showInput:!1,labelWidth:"90px",maxValue:e.constants.HARDNESS_SLIDER_MAX,minValue:e.constants.HARDNESS_SLIDER_MIN,step:e.constants.HARDNESS_SLIDER_STEP},null,8,["modelValue","maxValue","minValue","step"])])]),default:m.withCtx(()=>[e.showMatting?(m.openBlock(),m.createBlock(A,{key:0,hasHeader:!1,onRegister:e.mattingStart},null,8,["onRegister"])):m.createCommentVNode("",!0)]),_:1},8,["modelValue"])])}var eF=ct(YO,[["render",qO],["__scopeId","data-v-3127cd30"]]),Z9="";const tF=m.defineComponent({components:{uploader:pl,UploadFilled:oT,ElProgress:jt.ElProgress,ImageExtraction:eF},emits:["done"],setup(e,{emit:t}){const n=$e.useStore(),r=m.reactive({raw:null,offsetWidth:0,percent:0,progress:0,progressText:"",toolModel:!0,loading:!1,matting:null});let i="unknow",a=!1;const l=m.computed(()=>n.state.imageCutoutVisible),o=m.computed(()=>n.state.imageCutoutRaw),c=m.computed(()=>n.state.imageCutoutResult),s=g=>{r.loading=!1,r.show=!0,n.commit("setShowMoveable",!1),m.nextTick(()=>{g&&(selectFile(g),r.toolModel=!1)})},A=()=>{n.commit("setShowMoveable",!0),n.commit("setImageCutoutVisible",!1),n.commit("setImageCutoutResult",null),n.commit("setImageCutoutRaw",null)},v=g=>{!a&&(r.percent=g.offsetX/g.target.width*100)},B=()=>{z0.downloadBase64File(r.cutImage,i)},x=()=>{URL.revokeObjectURL(r.rawImage),r.rawImage="",r.cutImage="",r.percent=0,r.offsetWidth=0},M=()=>{r.percent+=1,a=!0,r.percent<100?requestAnimationFrame(M):a=!1},T=()=>{const g=[...n.state.imgs],C=n.state.imgIndex;g[C]=o.value,n.commit("setImg",g),A()},p=async()=>{const g=[...n.state.imgs],C=n.state.imgIndex;g[C]=c.value,n.commit("setImg",g),A()},u=()=>{r.matting.open(o.value,c.value,g=>{const C=[...n.state.imgs],f=n.state.imgIndex;C[f]=g,n.commit("setImageCutoutResult",g),n.commit("setImg",C),r.percent=0,requestAnimationFrame(M)})};return{clear:x,download:B,mousemove:v,open:s,handleClose:A,...m.toRefs(r),cutDone:p,edit:u,reset:T,show:l,rawImage:o,cutImage:c}}}),nF={class:"content"},rF=["src"],iF=["src"],aF={class:"dialog-footer"};function oF(e,t,n,r,i,a){const l=m.resolveComponent("el-button"),o=m.resolveComponent("ImageExtraction"),c=m.resolveComponent("el-dialog"),s=m.resolveDirective("loading");return m.openBlock(),m.createBlock(c,{modelValue:e.show,"onUpdate:modelValue":t[1]||(t[1]=A=>e.show=A),title:"AI \u667A\u80FD\u62A0\u56FE","align-center":"",width:"650",onClose:e.handleClose},{footer:m.withCtx(()=>[m.createElementVNode("span",aF,[m.withDirectives(m.createVNode(l,{type:"primary",plain:"",onClick:e.edit},{default:m.withCtx(()=>[m.createTextVNode("\u8FDB\u5165\u7F16\u8F91\u6A21\u5F0F")]),_:1},8,["onClick"]),[[m.vShow,e.cutImage]]),m.withDirectives(m.createVNode(l,{type:"primary",plain:"",onClick:e.reset},{default:m.withCtx(()=>[m.createTextVNode("\u8FD8\u539F")]),_:1},8,["onClick"]),[[m.vShow,e.cutImage]]),m.withDirectives((m.openBlock(),m.createBlock(l,{type:"primary",plain:"",onClick:e.cutDone},{default:m.withCtx(()=>[m.createTextVNode("\u5B8C\u6210\u62A0\u56FE")]),_:1},8,["onClick"])),[[m.vShow,e.cutImage],[s,e.loading]])])]),default:m.withCtx(()=>[m.createElementVNode("div",nF,[m.withDirectives((m.openBlock(),m.createElementBlock("div",{style:m.normalizeStyle({width:e.offsetWidth?e.offsetWidth+"px":"100%"}),class:"scan-effect transparent-bg"},[m.createElementVNode("img",{ref:"raw",style:m.normalizeStyle({"clip-path":"inset(0 0 0 "+e.percent+"%)"}),src:e.rawImage,alt:""},null,12,rF),m.withDirectives(m.createElementVNode("img",{src:e.cutImage,alt:"\u7ED3\u679C\u56FE\u50CF",onMousemove:t[0]||(t[0]=(...A)=>e.mousemove&&e.mousemove(...A))},null,40,iF),[[m.vShow,e.cutImage]]),m.withDirectives(m.createElementVNode("div",{style:m.normalizeStyle({left:e.percent+"%"}),class:"scan-line"},null,4),[[m.vShow,e.cutImage]])],4)),[[m.vShow,e.rawImage],[s,!e.cutImage]])]),m.createVNode(o,{ref:"matting"},null,512)]),_:1},8,["modelValue","onClose"])}var jh=ct(tF,[["render",oF],["__scopeId","data-v-5cb30f38"]]);function sF(e,t){const{f:n}=t;switch(e.keyCode){case 38:Cl("top",-1*n,e);break;case 40:Cl("top",Number(n),e);break;case 37:Cl("left",-1*n,e);break;case 39:Cl("left",Number(n),e);break;case 46:case 8:{if(tt.getters.dActiveElement.isContainer&&wy(tt.getters.dActiveElement.uuid,"editable"))return;const{type:r,editable:i}=tt.getters.dActiveElement;r==="w-text"?!i&&tt.getters.showMoveable&&tt.dispatch("deleteWidget"):tt.dispatch("deleteWidget")}break}}function wy(e,t){let n=!1;return(tt.getters.dWidgets.filter(i=>i.parent===e)||[]).forEach(i=>{i[t]&&(n=!0)}),n}function Cl(e,t,n){if(tt.getters.dActiveElement.uuid!=-1){if(tt.getters.dActiveElement.editable)return;if(tt.getters.dActiveElement.isContainer&&wy(tt.getters.dActiveElement.uuid,"editable"))return;n.preventDefault();const r=Number(tt.getters.dActiveElement[e])+t;tt.dispatch("updateWidgetData",{uuid:tt.getters.dActiveElement.uuid,key:e,value:r})}}var AF=()=>{navigator.clipboard.read().then(async e=>{for(let t=0;t<e.length;t++){const n=e[t];if(n.types.toString().indexOf("image")!==-1){const r=await n.getType(n.types[0]),i=new File([r],"screenshot.png",{type:"image/png"}),a={bucket:"xp-design",prePath:"user"},l=await j0.upload(i,a),{width:o,height:c}=await ol(i),s=tr.IMG_URL+l.key;await wt.material.addMyPhoto({width:o,height:c,url:s}),tt.commit("setShowMoveable",!1);const A=JSON.parse(JSON.stringify(na.setting));A.width=o,A.height=c,A.imgUrl=s;const{width:v,height:B}=tt.getters.dPage;A.left=v/2-o/2,A.top=B/2-c/2,tt.dispatch("addWidget",A);break}else if(n.types.toString().indexOf("text")!==-1){tt.commit("setShowMoveable",!1);const r=JSON.parse(JSON.stringify(vs.setting));r.text=await navigator.clipboard.readText(),tt.dispatch("addWidget",r);break}}}).catch(e=>{console.error("\u65E0\u6CD5\u8BFB\u53D6\u526A\u8D34\u677F\u5185\u5BB9\uFF1A",e)})};function lF(e,t){switch(e.keyCode){case 71:e.preventDefault(),tt.dispatch("realCombined");break;case 67:cF();break;case 86:uF();break;case 90:fF(e.shiftKey);break;case 83:e.preventDefault(),t.save();break;case 187:e.preventDefault(),t.zoomAdd();break;case 189:e.preventDefault(),t.zoomSub();break}}function By(e,t){let n=!1;return(tt.getters.dWidgets.filter(i=>i.parent===e)||[]).forEach(i=>{i[t]&&(n=!0)}),n}function cF(){tt.getters.dActiveElement.uuid!=="-1"&&(tt.getters.dActiveElement.isContainer&&By(tt.getters.dActiveElement.uuid,"editable")||!tt.getters.dActiveElement.editable&&tt.dispatch("copyWidget"))}function uF(){AF(),tt.getters.dCopyElement.length!==0&&(tt.getters.dActiveElement.isContainer&&By(tt.getters.dActiveElement.uuid,"editable")||!tt.getters.dActiveElement.editable&&tt.dispatch("pasteWidget"))}function fF(e){e?tt.getters.dHistoryParams.index!==tt.getters.dHistoryParams.length-1&&tt.dispatch("handleHistory","redo"):tt.getters.dHistoryParams.index===-1||tt.getters.dHistoryParams===0&&tt.getters.dHistoryParams.length===10||tt.dispatch("handleHistory","undo")}tt.getters.dHistoryParams;const hF=["INPUT","TEXTAREA"],dF={methods:{handleKeydowm(e){const t=e.target.nodeName;if(hF.indexOf(t)!==-1||t==="DIV"&&e.target.contentEditable==="true")return;const n=e.key==="Control"||e.key==="Meta",r=e.key==="Alt",i=e.key==="Shift";if((i||n)&&(this.$store.dispatch("updateAltDown",!0),clearInterval(this.checkCtrl),this.checkCtrl=setInterval(()=>{document.hasFocus()||(clearInterval(this.checkCtrl),this.$store.dispatch("updateAltDown",!1))},500)),(e.ctrlKey||e.metaKey)&&!(n||r||i)){this.dealCtrl(e);return}const o=e.shiftKey?10:1;sF(e,{f:o})},handleKeyup(e){clearInterval(this.checkCtrl),(e.key==="Alt"||e.key==="Shift"||e.key==="Control"||e.key==="Meta")&&this.$store.dispatch("updateAltDown",!1)},dealCtrl(e){lF(e,this),console.log(e.key,e.keyCode)}}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var zh=function(e,t){return zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zh(e,t)};function xr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Vh=function(){return Vh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Vh.apply(this,arguments)};function jn(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function o(A){try{s(r.next(A))}catch(v){l(v)}}function c(A){try{s(r.throw(A))}catch(v){l(v)}}function s(A){A.done?a(A.value):i(A.value).then(o,c)}s((r=r.apply(e,t||[])).next())})}function Un(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(s){return function(A){return c([s,A])}}function c(s){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(A){s=[6,A],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function wl(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||t)}for(var ni=function(){function e(t,n,r,i){this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Bl=function(e,t){return ni.fromClientRect(e,t.getBoundingClientRect())},gF=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new ni(0,0,r,i)},bl=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},dn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var l=e[i];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},by="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pF=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),El=0;El<by.length;El++)pF[by.charCodeAt(El)]=El;for(var Ey="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bs=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),_l=0;_l<Ey.length;_l++)Bs[Ey.charCodeAt(_l)]=_l;for(var vF=function(e){var t=e.length*.75,n=e.length,r,i=0,a,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var s=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),A=Array.isArray(s)?s:new Uint8Array(s);for(r=0;r<n;r+=4)a=Bs[e.charCodeAt(r)],l=Bs[e.charCodeAt(r+1)],o=Bs[e.charCodeAt(r+2)],c=Bs[e.charCodeAt(r+3)],A[i++]=a<<2|l>>4,A[i++]=(l&15)<<4|o>>2,A[i++]=(o&3)<<6|c&63;return s},mF=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},yF=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},ia=5,Gh=6+5,Wh=2,CF=Gh-ia,_y=65536>>ia,wF=1<<ia,Yh=wF-1,BF=1024>>ia,bF=_y+BF,EF=bF,_F=32,SF=EF+_F,IF=65536>>Gh,xF=1<<CF,MF=xF-1,Sy=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},DF=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},TF=function(e,t){var n=vF(e),r=Array.isArray(n)?yF(n):new Uint32Array(n),i=Array.isArray(n)?mF(n):new Uint16Array(n),a=24,l=Sy(i,a/2,r[4]/2),o=r[5]===2?Sy(i,(a+r[4])/2):DF(r,Math.ceil((a+r[4])/4));return new OF(r[0],r[1],r[2],r[3],l,o)},OF=function(){function e(t,n,r,i,a,l){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=l}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>ia],n=(n<<Wh)+(t&Yh),this.data[n];if(t<=65535)return n=this.index[_y+(t-55296>>ia)],n=(n<<Wh)+(t&Yh),this.data[n];if(t<this.highStart)return n=SF-IF+(t>>Gh),n=this.index[n],n+=t>>ia&MF,n=this.index[n],n=(n<<Wh)+(t&Yh),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Iy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FF=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),Sl=0;Sl<Iy.length;Sl++)FF[Iy.charCodeAt(Sl)]=Sl;var kF="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",xy=50,UF=1,My=2,Dy=3,LF=4,PF=5,Ty=7,Oy=8,Fy=9,bi=10,Xh=11,ky=12,Kh=13,NF=14,bs=15,Zh=16,Il=17,Es=18,RF=19,Uy=20,Jh=21,_s=22,$h=23,Za=24,or=25,Ss=26,Is=27,Ja=28,QF=29,aa=30,HF=31,xl=32,Ml=33,qh=34,ed=35,td=36,xs=37,nd=38,Dl=39,Tl=40,rd=41,Ly=42,jF=43,zF=[9001,65288],Py="!",Et="\xD7",Ol="\xF7",id=TF(kF),ri=[aa,td],ad=[UF,My,Dy,PF],Ny=[bi,Oy],Ry=[Is,Ss],VF=ad.concat(Ny),Qy=[nd,Dl,Tl,qh,ed],GF=[bs,Kh],WF=function(e,t){t===void 0&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(a,l){var o=id.get(a);if(o>xy?(i.push(!0),o-=xy):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(l),n.push(Zh);if(o===LF||o===Xh){if(l===0)return r.push(l),n.push(aa);var c=n[l-1];return VF.indexOf(c)===-1?(r.push(r[l-1]),n.push(c)):(r.push(l),n.push(aa))}if(r.push(l),o===HF)return n.push(t==="strict"?Jh:xs);if(o===Ly||o===QF)return n.push(aa);if(o===jF)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(xs):n.push(aa);n.push(o)}),[r,n,i]},od=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=n;a<=r.length;){a++;var l=r[a];if(l===t)return!0;if(l!==bi)break}if(i===bi)for(var a=n;a>0;){a--;var o=r[a];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=n;c<=r.length;){c++;var l=r[c];if(l===t)return!0;if(l!==bi)break}if(o!==bi)break}return!1},Hy=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===bi)n--;else return r}return 0},YF=function(e,t,n,r,i){if(n[r]===0)return Et;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return Et;var l=a-1,o=a+1,c=t[a],s=l>=0?t[l]:0,A=t[o];if(c===My&&A===Dy)return Et;if(ad.indexOf(c)!==-1)return Py;if(ad.indexOf(A)!==-1||Ny.indexOf(A)!==-1)return Et;if(Hy(a,t)===Oy)return Ol;if(id.get(e[a])===Xh||(c===xl||c===Ml)&&id.get(e[o])===Xh||c===Ty||A===Ty||c===Fy||[bi,Kh,bs].indexOf(c)===-1&&A===Fy||[Il,Es,RF,Za,Ja].indexOf(A)!==-1||Hy(a,t)===_s||od($h,_s,a,t)||od([Il,Es],Jh,a,t)||od(ky,ky,a,t))return Et;if(c===bi)return Ol;if(c===$h||A===$h)return Et;if(A===Zh||c===Zh)return Ol;if([Kh,bs,Jh].indexOf(A)!==-1||c===NF||s===td&&GF.indexOf(c)!==-1||c===Ja&&A===td||A===Uy||ri.indexOf(A)!==-1&&c===or||ri.indexOf(c)!==-1&&A===or||c===Is&&[xs,xl,Ml].indexOf(A)!==-1||[xs,xl,Ml].indexOf(c)!==-1&&A===Ss||ri.indexOf(c)!==-1&&Ry.indexOf(A)!==-1||Ry.indexOf(c)!==-1&&ri.indexOf(A)!==-1||[Is,Ss].indexOf(c)!==-1&&(A===or||[_s,bs].indexOf(A)!==-1&&t[o+1]===or)||[_s,bs].indexOf(c)!==-1&&A===or||c===or&&[or,Ja,Za].indexOf(A)!==-1)return Et;if([or,Ja,Za,Il,Es].indexOf(A)!==-1)for(var v=a;v>=0;){var B=t[v];if(B===or)return Et;if([Ja,Za].indexOf(B)!==-1)v--;else break}if([Is,Ss].indexOf(A)!==-1)for(var v=[Il,Es].indexOf(c)!==-1?l:a;v>=0;){var B=t[v];if(B===or)return Et;if([Ja,Za].indexOf(B)!==-1)v--;else break}if(nd===c&&[nd,Dl,qh,ed].indexOf(A)!==-1||[Dl,qh].indexOf(c)!==-1&&[Dl,Tl].indexOf(A)!==-1||[Tl,ed].indexOf(c)!==-1&&A===Tl||Qy.indexOf(c)!==-1&&[Uy,Ss].indexOf(A)!==-1||Qy.indexOf(A)!==-1&&c===Is||ri.indexOf(c)!==-1&&ri.indexOf(A)!==-1||c===Za&&ri.indexOf(A)!==-1||ri.concat(or).indexOf(c)!==-1&&A===_s&&zF.indexOf(e[o])===-1||ri.concat(or).indexOf(A)!==-1&&c===Es)return Et;if(c===rd&&A===rd){for(var x=n[a],M=1;x>0&&(x--,t[x]===rd);)M++;if(M%2!==0)return Et}return c===xl&&A===Ml?Et:Ol},XF=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=WF(e,t.lineBreak),r=n[0],i=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(o){return[or,aa,Ly].indexOf(o)!==-1?xs:o}));var l=t.wordBreak==="keep-all"?a.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[r,i,l]},KF=function(){function e(t,n,r,i){this.codePoints=t,this.required=n===Py,this.start=r,this.end=i}return e.prototype.slice=function(){return dn.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),ZF=function(e,t){var n=bl(e),r=XF(n,t),i=r[0],a=r[1],l=r[2],o=n.length,c=0,s=0;return{next:function(){if(s>=o)return{done:!0,value:null};for(var A=Et;s<o&&(A=YF(n,a,i,++s,l))===Et;);if(A!==Et||s===o){var v=new KF(n,A,c,s);return c=s,{value:v,done:!1}}return{done:!0,value:null}}}},JF=1<<0,$F=1<<1,Ms=1<<2,jy=1<<3,Fl=10,zy=47,Ds=92,qF=9,ek=32,kl=34,Ts=61,tk=35,nk=36,rk=37,Ul=39,Ll=40,Os=41,ik=95,Zn=45,ak=33,ok=60,sk=62,Ak=64,lk=91,ck=93,uk=61,fk=123,Pl=63,hk=125,Vy=124,dk=126,gk=128,Gy=65533,sd=42,oa=43,pk=44,vk=58,mk=59,Fs=46,yk=0,Ck=8,wk=11,Bk=14,bk=31,Ek=127,jr=-1,Wy=48,Yy=97,Xy=101,_k=102,Sk=117,Ik=122,Ky=65,Zy=69,Jy=70,xk=85,Mk=90,Ln=function(e){return e>=Wy&&e<=57},Dk=function(e){return e>=55296&&e<=57343},$a=function(e){return Ln(e)||e>=Ky&&e<=Jy||e>=Yy&&e<=_k},Tk=function(e){return e>=Yy&&e<=Ik},Ok=function(e){return e>=Ky&&e<=Mk},Fk=function(e){return Tk(e)||Ok(e)},kk=function(e){return e>=gk},Nl=function(e){return e===Fl||e===qF||e===ek},Rl=function(e){return Fk(e)||kk(e)||e===ik},$y=function(e){return Rl(e)||Ln(e)||e===Zn},Uk=function(e){return e>=yk&&e<=Ck||e===wk||e>=Bk&&e<=bk||e===Ek},Ei=function(e,t){return e!==Ds?!1:t!==Fl},Ql=function(e,t,n){return e===Zn?Rl(t)||Ei(t,n):Rl(e)?!0:!!(e===Ds&&Ei(e,t))},Ad=function(e,t,n){return e===oa||e===Zn?Ln(t)?!0:t===Fs&&Ln(n):Ln(e===Fs?t:e)},Lk=function(e){var t=0,n=1;(e[t]===oa||e[t]===Zn)&&(e[t]===Zn&&(n=-1),t++);for(var r=[];Ln(e[t]);)r.push(e[t++]);var i=r.length?parseInt(dn.apply(void 0,r),10):0;e[t]===Fs&&t++;for(var a=[];Ln(e[t]);)a.push(e[t++]);var l=a.length,o=l?parseInt(dn.apply(void 0,a),10):0;(e[t]===Zy||e[t]===Xy)&&t++;var c=1;(e[t]===oa||e[t]===Zn)&&(e[t]===Zn&&(c=-1),t++);for(var s=[];Ln(e[t]);)s.push(e[t++]);var A=s.length?parseInt(dn.apply(void 0,s),10):0;return n*(i+o*Math.pow(10,-l))*Math.pow(10,c*A)},Pk={type:2},Nk={type:3},Rk={type:4},Qk={type:13},Hk={type:8},jk={type:21},zk={type:9},Vk={type:10},Gk={type:11},Wk={type:12},Yk={type:14},Hl={type:23},Xk={type:1},Kk={type:25},Zk={type:24},Jk={type:26},$k={type:27},qk={type:28},eU={type:29},tU={type:31},ld={type:32},qy=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(bl(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==ld;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case kl:return this.consumeStringToken(kl);case tk:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if($y(n)||Ei(r,i)){var a=Ql(n,r,i)?$F:JF,l=this.consumeName();return{type:5,value:l,flags:a}}break;case nk:if(this.peekCodePoint(0)===Ts)return this.consumeCodePoint(),Qk;break;case Ul:return this.consumeStringToken(Ul);case Ll:return Pk;case Os:return Nk;case sd:if(this.peekCodePoint(0)===Ts)return this.consumeCodePoint(),Yk;break;case oa:if(Ad(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case pk:return Rk;case Zn:var o=t,c=this.peekCodePoint(0),s=this.peekCodePoint(1);if(Ad(o,c,s))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Ql(o,c,s))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Zn&&s===sk)return this.consumeCodePoint(),this.consumeCodePoint(),Zk;break;case Fs:if(Ad(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case zy:if(this.peekCodePoint(0)===sd)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===sd&&(A=this.consumeCodePoint(),A===zy))return this.consumeToken();if(A===jr)return this.consumeToken()}break;case vk:return Jk;case mk:return $k;case ok:if(this.peekCodePoint(0)===ak&&this.peekCodePoint(1)===Zn&&this.peekCodePoint(2)===Zn)return this.consumeCodePoint(),this.consumeCodePoint(),Kk;break;case Ak:var v=this.peekCodePoint(0),B=this.peekCodePoint(1),x=this.peekCodePoint(2);if(Ql(v,B,x)){var l=this.consumeName();return{type:7,value:l}}break;case lk:return qk;case Ds:if(Ei(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case ck:return eU;case uk:if(this.peekCodePoint(0)===Ts)return this.consumeCodePoint(),Hk;break;case fk:return Gk;case hk:return Wk;case Sk:case xk:var M=this.peekCodePoint(0),T=this.peekCodePoint(1);return M===oa&&($a(T)||T===Pl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Vy:if(this.peekCodePoint(0)===Ts)return this.consumeCodePoint(),zk;if(this.peekCodePoint(0)===Vy)return this.consumeCodePoint(),jk;break;case dk:if(this.peekCodePoint(0)===Ts)return this.consumeCodePoint(),Vk;break;case jr:return ld}return Nl(t)?(this.consumeWhiteSpace(),tU):Ln(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Rl(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:dn(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t=="undefined"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();$a(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===Pl&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(dn.apply(void 0,t.map(function(c){return c===Pl?Wy:c})),16),a=parseInt(dn.apply(void 0,t.map(function(c){return c===Pl?Jy:c})),16);return{type:30,start:i,end:a}}var l=parseInt(dn.apply(void 0,t),16);if(this.peekCodePoint(0)===Zn&&$a(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];$a(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(dn.apply(void 0,o),16);return{type:30,start:l,end:a}}else return{type:30,start:l,end:l}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Ll?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ll?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===jr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Ul||n===kl){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===jr||this.peekCodePoint(0)===Os)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Hl)}for(;;){var i=this.consumeCodePoint();if(i===jr||i===Os)return{type:22,value:dn.apply(void 0,t)};if(Nl(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===jr||this.peekCodePoint(0)===Os?(this.consumeCodePoint(),{type:22,value:dn.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Hl);if(i===kl||i===Ul||i===Ll||Uk(i))return this.consumeBadUrlRemnants(),Hl;if(i===Ds)if(Ei(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Hl;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;Nl(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Os||t===jr)return;Ei(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var i=Math.min(n,t);r+=dn.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var i=this._value[r];if(i===jr||i===void 0||i===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===Fl)return this._value.splice(0,r),Xk;if(i===Ds){var a=this._value[r+1];a!==jr&&a!==void 0&&(a===Fl?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Ei(i,a)&&(n+=this.consumeStringSlice(r),n+=dn(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Ms,r=this.peekCodePoint(0);for((r===oa||r===Zn)&&t.push(this.consumeCodePoint());Ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Fs&&Ln(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=jy;Ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===Zy||r===Xy)&&((i===oa||i===Zn)&&Ln(a)||Ln(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=jy;Ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Lk(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),l=this.peekCodePoint(2);if(Ql(i,a,l)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===rk?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if($a(t)){for(var n=dn(t);$a(this.peekCodePoint(0))&&n.length<6;)n+=dn(this.consumeCodePoint());Nl(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Dk(r)||r>1114111?Gy:r}return t===jr?Gy:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if($y(n))t+=dn(n);else if(Ei(n,this.peekCodePoint(0)))t+=dn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),eC=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new qy;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||rU(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t=="undefined"?ld:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),ks=function(e){return e.type===15},qa=function(e){return e.type===17},Vt=function(e){return e.type===20},nU=function(e){return e.type===0},cd=function(e,t){return Vt(e)&&e.value===t},tC=function(e){return e.type!==31},eo=function(e){return e.type!==31&&e.type!==4},zr=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},rU=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},_i=function(e){return e.type===17||e.type===15},mn=function(e){return e.type===16||_i(e)},nC=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Mn={type:17,number:0,flags:Ms},ud={type:16,number:50,flags:Ms},Si={type:16,number:100,flags:Ms},Us=function(e,t,n){var r=e[0],i=e[1];return[Yt(r,t),Yt(typeof i!="undefined"?i:r,n)]},Yt=function(e,t){if(e.type===16)return e.number/100*t;if(ks(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},rC="deg",iC="grad",aC="rad",oC="turn",jl={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case rC:return Math.PI*t.number/180;case iC:return Math.PI/200*t.number;case aC:return t.number;case oC:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},sC=function(e){return e.type===15&&(e.unit===rC||e.unit===iC||e.unit===aC||e.unit===oC)},AC=function(e){var t=e.filter(Vt).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mn,Mn];case"to top":case"bottom":return dr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mn,Si];case"to right":case"left":return dr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Si,Si];case"to bottom":case"top":return dr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Si,Mn];case"to left":case"right":return dr(270)}return 0},dr=function(e){return Math.PI*e/180},Ii={name:"color",parse:function(e,t){if(t.type===18){var n=iU[t.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return Mi(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),l=t.value.substring(3,4);return Mi(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(l+l,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return Mi(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),l=t.value.substring(6,8);return Mi(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(l,16)/255)}}if(t.type===20){var o=ii[t.value.toUpperCase()];if(typeof o!="undefined")return o}return ii.TRANSPARENT}},xi=function(e){return(255&e)===0},Sn=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},Mi=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},lC=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},cC=function(e,t){var n=t.filter(eo);if(n.length===3){var r=n.map(lC),i=r[0],a=r[1],l=r[2];return Mi(i,a,l,1)}if(n.length===4){var o=n.map(lC),i=o[0],a=o[1],l=o[2],c=o[3];return Mi(i,a,l,c)}return 0};function fd(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var uC=function(e,t){var n=t.filter(eo),r=n[0],i=n[1],a=n[2],l=n[3],o=(r.type===17?dr(r.number):jl.parse(e,r))/(Math.PI*2),c=mn(i)?i.number/100:0,s=mn(a)?a.number/100:0,A=typeof l!="undefined"&&mn(l)?Yt(l,1):1;if(c===0)return Mi(s*255,s*255,s*255,1);var v=s<=.5?s*(c+1):s+c-s*c,B=s*2-v,x=fd(B,v,o+1/3),M=fd(B,v,o),T=fd(B,v,o-1/3);return Mi(x*255,M*255,T*255,A)},iU={hsl:uC,hsla:uC,rgb:cC,rgba:cC},Ls=function(e,t){return Ii.parse(e,eC.create(t).parseComponentValue())},ii={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},aU={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Vt(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oU={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zl=function(e,t){var n=Ii.parse(e,t[0]),r=t[1];return r&&mn(r)?{color:n,stop:r}:{color:n,stop:null}},fC=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=Mn),r.stop===null&&(r.stop=Si);for(var i=[],a=0,l=0;l<e.length;l++){var o=e[l].stop;if(o!==null){var c=Yt(o,t);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var s=null,l=0;l<i.length;l++){var A=i[l];if(A===null)s===null&&(s=l);else if(s!==null){for(var v=l-s,B=i[s-1],x=(A-B)/(v+1),M=1;M<=v;M++)i[s+M-1]=x*M;s=null}}return e.map(function(T,p){var u=T.color;return{color:u,stop:Math.max(Math.min(1,i[p]/t),0)}})},sU=function(e,t,n){var r=t/2,i=n/2,a=Yt(e[0],t)-r,l=i-Yt(e[1],n);return(Math.atan2(l,a)+Math.PI*2)%(Math.PI*2)},AU=function(e,t,n){var r=typeof e=="number"?e:sU(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,l=n/2,o=i/2,c=Math.sin(r-Math.PI/2)*o,s=Math.cos(r-Math.PI/2)*o;return[i,a-s,a+s,l-c,l+c]},Mr=function(e,t){return Math.sqrt(e*e+t*t)},hC=function(e,t,n,r,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(l,o){var c=o[0],s=o[1],A=Mr(n-c,r-s);return(i?A<l.optimumDistance:A>l.optimumDistance)?{optimumCorner:o,optimumDistance:A}:l},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},lU=function(e,t,n,r,i){var a=0,l=0;switch(e.size){case 0:e.shape===0?a=l=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),l=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)a=l=Math.min(Mr(t,n),Mr(t,n-i),Mr(t-r,n),Mr(t-r,n-i));else if(e.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),c=hC(r,i,t,n,!0),s=c[0],A=c[1];a=Mr(s-t,(A-n)/o),l=o*a}break;case 1:e.shape===0?a=l=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),l=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)a=l=Math.max(Mr(t,n),Mr(t,n-i),Mr(t-r,n),Mr(t-r,n-i));else if(e.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),v=hC(r,i,t,n,!1),s=v[0],A=v[1];a=Mr(s-t,(A-n)/o),l=o*a}break}return Array.isArray(e.size)&&(a=Yt(e.size[0],r),l=e.size.length===2?Yt(e.size[1],i):a),[a,l]},cU=function(e,t){var n=dr(180),r=[];return zr(t).forEach(function(i,a){if(a===0){var l=i[0];if(l.type===20&&l.value==="to"){n=AC(i);return}else if(sC(l)){n=jl.parse(e,l);return}}var o=zl(e,i);r.push(o)}),{angle:n,stops:r,type:1}},Vl=function(e,t){var n=dr(180),r=[];return zr(t).forEach(function(i,a){if(a===0){var l=i[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){n=AC(i);return}else if(sC(l)){n=(jl.parse(e,l)+dr(270))%dr(360);return}}var o=zl(e,i);r.push(o)}),{angle:n,stops:r,type:1}},uU=function(e,t){var n=dr(180),r=[],i=1,a=0,l=3,o=[];return zr(t).forEach(function(c,s){var A=c[0];if(s===0){if(Vt(A)&&A.value==="linear"){i=1;return}else if(Vt(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var v=Ii.parse(e,A.values[0]);r.push({stop:Mn,color:v})}else if(A.name==="to"){var v=Ii.parse(e,A.values[0]);r.push({stop:Si,color:v})}else if(A.name==="color-stop"){var B=A.values.filter(eo);if(B.length===2){var v=Ii.parse(e,B[1]),x=B[0];qa(x)&&r.push({stop:{type:16,number:x.number*100,flags:x.flags},color:v})}}}}),i===1?{angle:(n+dr(180))%dr(360),stops:r,type:i}:{size:l,shape:a,stops:r,position:o,type:i}},dC="closest-side",gC="farthest-side",pC="closest-corner",vC="farthest-corner",mC="circle",yC="ellipse",CC="cover",wC="contain",fU=function(e,t){var n=0,r=3,i=[],a=[];return zr(t).forEach(function(l,o){var c=!0;if(o===0){var s=!1;c=l.reduce(function(v,B){if(s)if(Vt(B))switch(B.value){case"center":return a.push(ud),v;case"top":case"left":return a.push(Mn),v;case"right":case"bottom":return a.push(Si),v}else(mn(B)||_i(B))&&a.push(B);else if(Vt(B))switch(B.value){case mC:return n=0,!1;case yC:return n=1,!1;case"at":return s=!0,!1;case dC:return r=0,!1;case CC:case gC:return r=1,!1;case wC:case pC:return r=2,!1;case vC:return r=3,!1}else if(_i(B)||mn(B))return Array.isArray(r)||(r=[]),r.push(B),!1;return v},c)}if(c){var A=zl(e,l);i.push(A)}}),{size:r,shape:n,stops:i,position:a,type:2}},Gl=function(e,t){var n=0,r=3,i=[],a=[];return zr(t).forEach(function(l,o){var c=!0;if(o===0?c=l.reduce(function(A,v){if(Vt(v))switch(v.value){case"center":return a.push(ud),!1;case"top":case"left":return a.push(Mn),!1;case"right":case"bottom":return a.push(Si),!1}else if(mn(v)||_i(v))return a.push(v),!1;return A},c):o===1&&(c=l.reduce(function(A,v){if(Vt(v))switch(v.value){case mC:return n=0,!1;case yC:return n=1,!1;case wC:case dC:return r=0,!1;case gC:return r=1,!1;case pC:return r=2,!1;case CC:case vC:return r=3,!1}else if(_i(v)||mn(v))return Array.isArray(r)||(r=[]),r.push(v),!1;return A},c)),c){var s=zl(e,l);i.push(s)}}),{size:r,shape:n,stops:i,position:a,type:2}},hU=function(e){return e.type===1},dU=function(e){return e.type===2},hd={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=BC[t.name];if(typeof r=="undefined")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function gU(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!BC[e.name])}var BC={"linear-gradient":cU,"-moz-linear-gradient":Vl,"-ms-linear-gradient":Vl,"-o-linear-gradient":Vl,"-webkit-linear-gradient":Vl,"radial-gradient":fU,"-moz-radial-gradient":Gl,"-ms-radial-gradient":Gl,"-o-radial-gradient":Gl,"-webkit-radial-gradient":Gl,"-webkit-gradient":uU},pU={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return eo(r)&&gU(r)}).map(function(r){return hd.parse(e,r)})}},vU={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Vt(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mU={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return zr(t).map(function(n){return n.filter(mn)}).map(nC)}},yU={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return zr(t).map(function(n){return n.filter(Vt).map(function(r){return r.value}).join(" ")}).map(CU)}},CU=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},to;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(to||(to={}));var wU={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return zr(t).map(function(n){return n.filter(BU)})}},BU=function(e){return Vt(e)||mn(e)},Wl=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},bU=Wl("top"),EU=Wl("right"),_U=Wl("bottom"),SU=Wl("left"),Yl=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return nC(n.filter(mn))}}},IU=Yl("top-left"),xU=Yl("top-right"),MU=Yl("bottom-right"),DU=Yl("bottom-left"),Xl=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},TU=Xl("top"),OU=Xl("right"),FU=Xl("bottom"),kU=Xl("left"),Kl=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return ks(n)?n.number:0}}},UU=Kl("top"),LU=Kl("right"),PU=Kl("bottom"),NU=Kl("left"),RU={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},QU={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},HU={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Vt).reduce(function(n,r){return n|jU(r.value)},0)}},jU=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zU={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},VU={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Zl;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Zl||(Zl={}));var GU={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Zl.STRICT;case"normal":default:return Zl.NORMAL}}},WU={name:"line-height",initialValue:"normal",prefix:!1,type:4},bC=function(e,t){return Vt(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:mn(e)?Yt(e,t):t},YU={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:hd.parse(e,t)}},XU={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},dd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Jl=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},KU=Jl("top"),ZU=Jl("right"),JU=Jl("bottom"),$U=Jl("left"),qU={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Vt).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},eL={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},$l=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},tL=$l("top"),nL=$l("right"),rL=$l("bottom"),iL=$l("left"),aL={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},oL={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sL={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&cd(t[0],"none")?[]:zr(t).map(function(n){for(var r={color:ii.TRANSPARENT,offsetX:Mn,offsetY:Mn,blur:Mn},i=0,a=0;a<n.length;a++){var l=n[a];_i(l)?(i===0?r.offsetX=l:i===1?r.offsetY=l:r.blur=l,i++):r.color=Ii.parse(e,l)}return r})}},AL={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},lL={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=fL[t.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},cL=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},uL=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var l=t[12],o=t[13];return t[14],t[15],t.length===16?[n,r,i,a,l,o]:null},fL={matrix:cL,matrix3d:uL},EC={type:16,number:50,flags:Ms},hL=[EC,EC],dL={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(mn);return n.length!==2?hL:[n[0],n[1]]}},gL={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ps;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Ps||(Ps={}));for(var pL={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Ps.BREAK_ALL;case"keep-all":return Ps.KEEP_ALL;case"normal":default:return Ps.NORMAL}}},vL={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(qa(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},_C={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},mL={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return qa(t)?t.number:1}},yL={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},CL={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Vt).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},wL={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},BL={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bL={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(qa(t))return t.number;if(Vt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},EL={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Vt).map(function(n){return n.value})}},_L={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},En=function(e,t){return(e&t)!==0},SL={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},IL={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=t.filter(tC),a=0;a<i.length;a++){var l=i[a],o=i[a+1];if(l.type===20){var c=o&&qa(o)?o.number:1;r.push({counter:l.value,increment:c})}}return r}},xL={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(tC),i=0;i<r.length;i++){var a=r[i],l=r[i+1];if(Vt(a)&&a.value!=="none"){var o=l&&qa(l)?l.number:0;n.push({counter:a.value,reset:o})}}return n}},ML={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(ks).map(function(n){return _C.parse(e,n)})}},DL={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],i=t.filter(nU);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var l=i[a].value,o=i[a+1].value;r.push({open:l,close:o})}return r}},SC=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},TL={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&cd(t[0],"none")?[]:zr(t).map(function(n){for(var r={color:255,offsetX:Mn,offsetY:Mn,blur:Mn,spread:Mn,inset:!1},i=0,a=0;a<n.length;a++){var l=n[a];cd(l,"inset")?r.inset=!0:_i(l)?(i===0?r.offsetX=l:i===1?r.offsetY=l:i===2?r.blur=l:r.spread=l,i++):r.color=Ii.parse(e,l)}return r})}},OL={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Vt).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},FL={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},kL={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ks(t)?t.number:0}},UL=function(){function e(t,n){var r,i;this.animationDuration=nt(t,ML,n.animationDuration),this.backgroundClip=nt(t,aU,n.backgroundClip),this.backgroundColor=nt(t,oU,n.backgroundColor),this.backgroundImage=nt(t,pU,n.backgroundImage),this.backgroundOrigin=nt(t,vU,n.backgroundOrigin),this.backgroundPosition=nt(t,mU,n.backgroundPosition),this.backgroundRepeat=nt(t,yU,n.backgroundRepeat),this.backgroundSize=nt(t,wU,n.backgroundSize),this.borderTopColor=nt(t,bU,n.borderTopColor),this.borderRightColor=nt(t,EU,n.borderRightColor),this.borderBottomColor=nt(t,_U,n.borderBottomColor),this.borderLeftColor=nt(t,SU,n.borderLeftColor),this.borderTopLeftRadius=nt(t,IU,n.borderTopLeftRadius),this.borderTopRightRadius=nt(t,xU,n.borderTopRightRadius),this.borderBottomRightRadius=nt(t,MU,n.borderBottomRightRadius),this.borderBottomLeftRadius=nt(t,DU,n.borderBottomLeftRadius),this.borderTopStyle=nt(t,TU,n.borderTopStyle),this.borderRightStyle=nt(t,OU,n.borderRightStyle),this.borderBottomStyle=nt(t,FU,n.borderBottomStyle),this.borderLeftStyle=nt(t,kU,n.borderLeftStyle),this.borderTopWidth=nt(t,UU,n.borderTopWidth),this.borderRightWidth=nt(t,LU,n.borderRightWidth),this.borderBottomWidth=nt(t,PU,n.borderBottomWidth),this.borderLeftWidth=nt(t,NU,n.borderLeftWidth),this.boxShadow=nt(t,TL,n.boxShadow),this.color=nt(t,RU,n.color),this.direction=nt(t,QU,n.direction),this.display=nt(t,HU,n.display),this.float=nt(t,zU,n.cssFloat),this.fontFamily=nt(t,wL,n.fontFamily),this.fontSize=nt(t,BL,n.fontSize),this.fontStyle=nt(t,_L,n.fontStyle),this.fontVariant=nt(t,EL,n.fontVariant),this.fontWeight=nt(t,bL,n.fontWeight),this.letterSpacing=nt(t,VU,n.letterSpacing),this.lineBreak=nt(t,GU,n.lineBreak),this.lineHeight=nt(t,WU,n.lineHeight),this.listStyleImage=nt(t,YU,n.listStyleImage),this.listStylePosition=nt(t,XU,n.listStylePosition),this.listStyleType=nt(t,dd,n.listStyleType),this.marginTop=nt(t,KU,n.marginTop),this.marginRight=nt(t,ZU,n.marginRight),this.marginBottom=nt(t,JU,n.marginBottom),this.marginLeft=nt(t,$U,n.marginLeft),this.opacity=nt(t,mL,n.opacity);var a=nt(t,qU,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=nt(t,eL,n.overflowWrap),this.paddingTop=nt(t,tL,n.paddingTop),this.paddingRight=nt(t,nL,n.paddingRight),this.paddingBottom=nt(t,rL,n.paddingBottom),this.paddingLeft=nt(t,iL,n.paddingLeft),this.paintOrder=nt(t,OL,n.paintOrder),this.position=nt(t,oL,n.position),this.textAlign=nt(t,aL,n.textAlign),this.textDecorationColor=nt(t,yL,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=nt(t,CL,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=nt(t,sL,n.textShadow),this.textTransform=nt(t,AL,n.textTransform),this.transform=nt(t,lL,n.transform),this.transformOrigin=nt(t,dL,n.transformOrigin),this.visibility=nt(t,gL,n.visibility),this.webkitTextStrokeColor=nt(t,FL,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=nt(t,kL,n.webkitTextStrokeWidth),this.wordBreak=nt(t,pL,n.wordBreak),this.zIndex=nt(t,vL,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return xi(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return En(this.display,4)||En(this.display,33554432)||En(this.display,268435456)||En(this.display,536870912)||En(this.display,67108864)||En(this.display,134217728)},e}(),LL=function(){function e(t,n){this.content=nt(t,SL,n.content),this.quotes=nt(t,DL,n.quotes)}return e}(),IC=function(){function e(t,n){this.counterIncrement=nt(t,IL,n.counterIncrement),this.counterReset=nt(t,xL,n.counterReset)}return e}(),nt=function(e,t,n){var r=new qy,i=n!==null&&typeof n!="undefined"?n.toString():t.initialValue;r.write(i);var a=new eC(r.read());switch(t.type){case 2:var l=a.parseComponentValue();return t.parse(e,Vt(l)?l.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return jl.parse(e,a.parseComponentValue());case"color":return Ii.parse(e,a.parseComponentValue());case"image":return hd.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return _i(o)?o:Mn;case"length-percentage":var c=a.parseComponentValue();return mn(c)?c:Mn;case"time":return _C.parse(e,a.parseComponentValue())}break}},PL="data-html2canvas-debug",NL=function(e){var t=e.getAttribute(PL);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},gd=function(e,t){var n=NL(e);return n===1||t===n},Vr=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,gd(n,3))debugger;this.styles=new UL(t,window.getComputedStyle(n,null)),Md(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Bl(this.context,n),gd(n,4)&&(this.flags|=16)}return e}(),RL="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ns=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),ql=0;ql<xC.length;ql++)Ns[xC.charCodeAt(ql)]=ql;for(var QL=function(e){var t=e.length*.75,n=e.length,r,i=0,a,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var s=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),A=Array.isArray(s)?s:new Uint8Array(s);for(r=0;r<n;r+=4)a=Ns[e.charCodeAt(r)],l=Ns[e.charCodeAt(r+1)],o=Ns[e.charCodeAt(r+2)],c=Ns[e.charCodeAt(r+3)],A[i++]=a<<2|l>>4,A[i++]=(l&15)<<4|o>>2,A[i++]=(o&3)<<6|c&63;return s},HL=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},jL=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},sa=5,pd=6+5,vd=2,zL=pd-sa,MC=65536>>sa,VL=1<<sa,md=VL-1,GL=1024>>sa,WL=MC+GL,YL=WL,XL=32,KL=YL+XL,ZL=65536>>pd,JL=1<<zL,$L=JL-1,DC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},qL=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},e4=function(e,t){var n=QL(e),r=Array.isArray(n)?jL(n):new Uint32Array(n),i=Array.isArray(n)?HL(n):new Uint16Array(n),a=24,l=DC(i,a/2,r[4]/2),o=r[5]===2?DC(i,(a+r[4])/2):qL(r,Math.ceil((a+r[4])/4));return new t4(r[0],r[1],r[2],r[3],l,o)},t4=function(){function e(t,n,r,i,a,l){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=l}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>sa],n=(n<<vd)+(t&md),this.data[n];if(t<=65535)return n=this.index[MC+(t-55296>>sa)],n=(n<<vd)+(t&md),this.data[n];if(t<this.highStart)return n=KL-ZL+(t>>pd),n=this.index[n],n+=t>>sa&$L,n=this.index[n],n=(n<<vd)+(t&md),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),TC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n4=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),ec=0;ec<TC.length;ec++)n4[TC.charCodeAt(ec)]=ec;var r4=1,yd=2,Cd=3,OC=4,FC=5,i4=7,kC=8,wd=9,Bd=10,UC=11,LC=12,PC=13,NC=14,bd=15,a4=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},o4=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var l=e[i];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},s4=e4(RL),gr="\xD7",Ed="\xF7",A4=function(e){return s4.get(e)},l4=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],l=t[n];if(a===yd&&l===Cd)return gr;if(a===yd||a===Cd||a===OC||l===yd||l===Cd||l===OC)return Ed;if(a===kC&&[kC,wd,UC,LC].indexOf(l)!==-1||(a===UC||a===wd)&&(l===wd||l===Bd)||(a===LC||a===Bd)&&l===Bd||l===PC||l===FC||l===i4||a===r4)return gr;if(a===PC&&l===NC){for(;i===FC;)i=t[--r];if(i===NC)return gr}if(a===bd&&l===bd){for(var o=0;i===bd;)o++,i=t[--r];if(o%2===0)return gr}return Ed},c4=function(e){var t=a4(e),n=t.length,r=0,i=0,a=t.map(A4);return{next:function(){if(r>=n)return{done:!0,value:null};for(var l=gr;r<n&&(l=l4(t,a,++r))===gr;);if(l!==gr||r===n){var o=o4.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},u4=function(e){for(var t=c4(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},f4=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},h4=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,i=bl(r.data).map(function(c){return dn(c)}),a=0,l={},o=i.every(function(c,s){n.setStart(r,a),n.setEnd(r,a+c.length);var A=n.getBoundingClientRect();a+=c.length;var v=A.x>l.x||A.y>l.y;return l=A,s===0?!0:v});return e.body.removeChild(t),o},d4=function(){return typeof new Image().crossOrigin!="undefined"},g4=function(){return typeof new XMLHttpRequest().responseType=="string"},p4=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},RC=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},v4=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var l=_d(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),QC(l).then(function(o){r.drawImage(o,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var s=e.createElement("div");return s.style.backgroundImage="url("+a+")",s.style.height=n+"px",RC(c)?QC(_d(n,n,0,0,s)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),RC(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},_d=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",l=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return l.setAttributeNS(null,"width",e.toString()),l.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(o),o.appendChild(i),l},QC=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Dn={get SUPPORT_RANGE_BOUNDS(){var e=f4(document);return Object.defineProperty(Dn,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Dn.SUPPORT_RANGE_BOUNDS&&h4(document);return Object.defineProperty(Dn,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=p4(document);return Object.defineProperty(Dn,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?v4(document):Promise.resolve(!1);return Object.defineProperty(Dn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=d4();return Object.defineProperty(Dn,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=g4();return Object.defineProperty(Dn,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Dn,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(Dn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Rs=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),m4=function(e,t,n,r){var i=w4(t,n),a=[],l=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Dn.SUPPORT_RANGE_BOUNDS){var c=HC(r,l,o.length).getClientRects();if(c.length>1){var s=Sd(o),A=0;s.forEach(function(B){a.push(new Rs(B,ni.fromDOMRectList(e,HC(r,A+l,B.length).getClientRects()))),A+=B.length})}else a.push(new Rs(o,ni.fromDOMRectList(e,c)))}else{var v=r.splitText(o.length);a.push(new Rs(o,y4(e,r))),r=v}else Dn.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));l+=o.length}),a},y4=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=Bl(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return ni.EMPTY},HC=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Sd=function(e){if(Dn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return u4(e)},C4=function(e,t){if(Dn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return b4(e,t)},w4=function(e,t){return t.letterSpacing!==0?Sd(e):C4(e,t)},B4=[32,160,4961,65792,65793,4153,4241],b4=function(e,t){for(var n=ZF(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],i,a=function(){if(i.value){var l=i.value.slice(),o=bl(l),c="";o.forEach(function(s){B4.indexOf(s)===-1?c+=dn(s):(c.length&&r.push(c),r.push(dn(s)),c="")}),c.length&&r.push(c)}};!(i=n.next()).done;)a();return r},E4=function(){function e(t,n,r){this.text=_4(n.data,r.textTransform),this.textBounds=m4(t,this.text,r,n)}return e}(),_4=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(S4,I4);case 2:return e.toUpperCase();default:return e}},S4=/(^|\s|:|-|\(|\))([a-z])/g,I4=function(e,t,n){return e.length>0?t+n.toUpperCase():e},jC=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return t}(Vr),zC=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return t}(Vr),VC=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=new XMLSerializer,l=Bl(n,r);return r.setAttribute("width",l.width+"px"),r.setAttribute("height",l.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(Vr),GC=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(Vr),Id=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return t}(Vr),x4=[{type:15,flags:0,unit:"px",number:3}],M4=[{type:16,flags:0,number:50}],D4=function(e){return e.width>e.height?new ni(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new ni(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},T4=function(e){var t=e.type===O4?new Array(e.value.length+1).join("\u2022"):e.value;return t.length===0?e.placeholder||"":t},tc="checkbox",nc="radio",O4="password",WC=707406591,xd=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=T4(r),(i.type===tc||i.type===nc)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=D4(i.bounds)),i.type){case tc:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=x4;break;case nc:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=M4;break}return i}return t}(Vr),YC=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(Vr),XC=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(Vr),KC=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=JC(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?Ls(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ii.TRANSPARENT,l=r.contentWindow.document.body?Ls(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):ii.TRANSPARENT;i.backgroundColor=xi(a)?xi(l)?i.styles.backgroundColor:l:a}}catch{}return i}return t}(Vr),F4=["OL","UL","MENU"],rc=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,$C(i)&&i.data.trim().length>0)n.textNodes.push(new E4(e,i,n.styles));else if(no(i))if(iw(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return rc(e,o,n,r)});else{var l=ZC(e,i);l.styles.isVisible()&&(k4(i,l,r)?l.flags|=4:U4(l.styles)&&(l.flags|=2),F4.indexOf(i.tagName)!==-1&&(l.flags|=8),n.elements.push(l),i.slot,i.shadowRoot?rc(e,i.shadowRoot,l,r):!ac(i)&&!qC(i)&&!oc(i)&&rc(e,i,l,r))}},ZC=function(e,t){return Td(t)?new jC(e,t):ew(t)?new zC(e,t):qC(t)?new VC(e,t):L4(t)?new GC(e,t):P4(t)?new Id(e,t):N4(t)?new xd(e,t):oc(t)?new YC(e,t):ac(t)?new XC(e,t):nw(t)?new KC(e,t):new Vr(e,t)},JC=function(e,t){var n=ZC(e,t);return n.flags|=4,rc(e,t,n,n),n},k4=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Dd(e)&&n.styles.isTransparent()},U4=function(e){return e.isPositioned()||e.isFloating()},$C=function(e){return e.nodeType===Node.TEXT_NODE},no=function(e){return e.nodeType===Node.ELEMENT_NODE},Md=function(e){return no(e)&&typeof e.style!="undefined"&&!ic(e)},ic=function(e){return typeof e.className=="object"},L4=function(e){return e.tagName==="LI"},P4=function(e){return e.tagName==="OL"},N4=function(e){return e.tagName==="INPUT"},R4=function(e){return e.tagName==="HTML"},qC=function(e){return e.tagName==="svg"},Dd=function(e){return e.tagName==="BODY"},ew=function(e){return e.tagName==="CANVAS"},tw=function(e){return e.tagName==="VIDEO"},Td=function(e){return e.tagName==="IMG"},nw=function(e){return e.tagName==="IFRAME"},rw=function(e){return e.tagName==="STYLE"},Q4=function(e){return e.tagName==="SCRIPT"},ac=function(e){return e.tagName==="TEXTAREA"},oc=function(e){return e.tagName==="SELECT"},iw=function(e){return e.tagName==="SLOT"},aw=function(e){return e.tagName.indexOf("-")>0},H4=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,i=t.counterReset,a=!0;r!==null&&r.forEach(function(o){var c=n.counters[o.counter];c&&o.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var l=[];return a&&i.forEach(function(o){var c=n.counters[o.counter];l.push(o.counter),c||(c=n.counters[o.counter]=[]),c.push(o.reset)}),l},e}(),ow={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},sw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},j4={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},z4={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},ro=function(e,t,n,r,i,a){return e<t||e>n?Hs(e,i,a.length>0):r.integers.reduce(function(l,o,c){for(;e>=o;)e-=o,l+=r.values[c];return l},"")+a},Aw=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},gn=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(Aw(Math.abs(e),a,r,function(l){return dn(Math.floor(l%a)+t)})+i)},Aa=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return Aw(Math.abs(e),r,!1,function(i){return t[Math.floor(i%r)]})+n},io=1<<0,Di=1<<1,Ti=1<<2,Qs=1<<3,ai=function(e,t,n,r,i,a){if(e<-9999||e>9999)return Hs(e,4,i.length>0);var l=Math.abs(e),o=i;if(l===0)return t[0]+o;for(var c=0;l>0&&c<=4;c++){var s=l%10;s===0&&En(a,io)&&o!==""?o=t[s]+o:s>1||s===1&&c===0||s===1&&c===1&&En(a,Di)||s===1&&c===1&&En(a,Ti)&&e>100||s===1&&c>1&&En(a,Qs)?o=t[s]+(c>0?n[c-1]:"")+o:s===1&&c>0&&(o=n[c-1]+o),l=Math.floor(l/10)}return(e<0?r:"")+o},lw="\u5341\u767E\u5343\u842C",cw="\u62FE\u4F70\u4EDF\u842C",uw="\u30DE\u30A4\u30CA\u30B9",Od="\uB9C8\uC774\uB108\uC2A4",Hs=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",a=n?", ":"",l=n?" ":"";switch(t){case 0:return"\u2022"+l;case 1:return"\u25E6"+l;case 2:return"\u25FE"+l;case 5:var o=gn(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Aa(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",i);case 6:return ro(e,1,3999,ow,3,r).toLowerCase();case 7:return ro(e,1,3999,ow,3,r);case 8:return gn(e,945,969,!1,r);case 9:return gn(e,97,122,!1,r);case 10:return gn(e,65,90,!1,r);case 11:return gn(e,1632,1641,!0,r);case 12:case 49:return ro(e,1,9999,sw,3,r);case 35:return ro(e,1,9999,sw,3,r).toLowerCase();case 13:return gn(e,2534,2543,!0,r);case 14:case 30:return gn(e,6112,6121,!0,r);case 15:return Aa(e,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",i);case 16:return Aa(e,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",i);case 17:case 48:return ai(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",lw,"\u8CA0",i,Di|Ti|Qs);case 47:return ai(e,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",cw,"\u8CA0",i,io|Di|Ti|Qs);case 42:return ai(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",lw,"\u8D1F",i,Di|Ti|Qs);case 41:return ai(e,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",cw,"\u8D1F",i,io|Di|Ti|Qs);case 26:return ai(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",uw,i,0);case 25:return ai(e,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",uw,i,io|Di|Ti);case 31:return ai(e,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",Od,a,io|Di|Ti);case 33:return ai(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",Od,a,0);case 32:return ai(e,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",Od,a,io|Di|Ti);case 18:return gn(e,2406,2415,!0,r);case 20:return ro(e,1,19999,z4,3,r);case 21:return gn(e,2790,2799,!0,r);case 22:return gn(e,2662,2671,!0,r);case 22:return ro(e,1,10999,j4,3,r);case 23:return Aa(e,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Aa(e,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return gn(e,3302,3311,!0,r);case 28:return Aa(e,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",i);case 29:return Aa(e,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",i);case 34:return gn(e,3792,3801,!0,r);case 37:return gn(e,6160,6169,!0,r);case 38:return gn(e,4160,4169,!0,r);case 39:return gn(e,2918,2927,!0,r);case 40:return gn(e,1776,1785,!0,r);case 43:return gn(e,3046,3055,!0,r);case 44:return gn(e,3174,3183,!0,r);case 45:return gn(e,3664,3673,!0,r);case 46:return gn(e,3872,3881,!0,r);case 3:default:return gn(e,48,57,!0,r)}},fw="data-html2canvas-ignore",hw=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new H4,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,i=V4(t,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,l=t.defaultView.pageYOffset,o=i.contentWindow,c=o.document,s=Y4(i).then(function(){return jn(r,void 0,void 0,function(){var A,v;return Un(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(J4),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),A=this.options.onclone,v=this.clonedReferenceElement,typeof v=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,W4(c)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,v)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(K4(document.doctype)+"<html></html>"),Z4(this.referenceElement.ownerDocument,a,l),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),s},e.prototype.createElementClone=function(t){if(gd(t,2))debugger;if(ew(t))return this.createCanvasClone(t);if(tw(t))return this.createVideoClone(t);if(rw(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return Td(n)&&(Td(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),aw(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Fd(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,l){return l&&typeof l.cssText=="string"?a+l.cssText:a},""),i=t.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),l=i.getContext("2d");if(l)if(!this.options.allowTaint&&a)l.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var o=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}l.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,n,r){(!no(n)||!Q4(n)&&!n.hasAttribute(fw)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!no(n)||!rw(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(no(a)&&iw(a)&&typeof a.assignedNodes=="function"){var l=a.assignedNodes();l.length&&l.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,a,r)},e.prototype.cloneNode=function(t,n){if($C(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&no(t)&&(Md(t)||ic(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=r.getComputedStyle(t),l=r.getComputedStyle(t,":before"),o=r.getComputedStyle(t,":after");this.referenceElement===t&&Md(i)&&(this.clonedReferenceElement=i),Dd(i)&&eP(i);var c=this.counters.parse(new IC(this.context,a)),s=this.resolvePseudoContent(t,i,l,js.BEFORE);aw(t)&&(n=!0),tw(t)||this.cloneChildNodes(t,i,n),s&&i.insertBefore(s,i.firstChild);var A=this.resolvePseudoContent(t,i,o,js.AFTER);return A&&i.appendChild(A),this.counters.pop(c),(a&&(this.options.copyStyles||ic(t))&&!nw(t)||n)&&Fd(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(ac(t)||oc(t))&&(ac(i)||oc(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,i){var a=this;if(!!r){var l=r.content,o=n.ownerDocument;if(!(!o||!l||l==="none"||l==="-moz-alt-content"||r.display==="none")){this.counters.parse(new IC(this.context,r));var c=new LL(this.context,r),s=o.createElement("html2canvaspseudoelement");Fd(r,s),c.content.forEach(function(v){if(v.type===0)s.appendChild(o.createTextNode(v.value));else if(v.type===22){var B=o.createElement("img");B.src=v.value,B.style.opacity="1",s.appendChild(B)}else if(v.type===18){if(v.name==="attr"){var x=v.values.filter(Vt);x.length&&s.appendChild(o.createTextNode(t.getAttribute(x[0].value)||""))}else if(v.name==="counter"){var M=v.values.filter(eo),T=M[0],p=M[1];if(T&&Vt(T)){var u=a.counters.getCounterValue(T.value),g=p&&Vt(p)?dd.parse(a.context,p.value):3;s.appendChild(o.createTextNode(Hs(u,g,!1)))}}else if(v.name==="counters"){var C=v.values.filter(eo),T=C[0],f=C[1],p=C[2];if(T&&Vt(T)){var d=a.counters.getCounterValues(T.value),h=p&&Vt(p)?dd.parse(a.context,p.value):3,w=f&&f.type===0?f.value:"",I=d.map(function(F){return Hs(F,h,!1)}).join(w);s.appendChild(o.createTextNode(I))}}}else if(v.type===20)switch(v.value){case"open-quote":s.appendChild(o.createTextNode(SC(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":s.appendChild(o.createTextNode(SC(c.quotes,--a.quoteDepth,!1)));break;default:s.appendChild(o.createTextNode(v.value))}}),s.className=kd+" "+Ud;var A=i===js.BEFORE?" "+kd:" "+Ud;return ic(n)?n.className.baseValue+=A:n.className+=A,s}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),js;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(js||(js={}));var V4=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(fw,"true"),e.body.appendChild(n),n},G4=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},W4=function(e){return Promise.all([].slice.call(e.images,0).map(G4))},Y4=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},X4=["all","d","content"],Fd=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);X4.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},K4=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Z4=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},J4=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},$4=":before",q4=":after",kd="___html2canvas___pseudoelement_before",Ud="___html2canvas___pseudoelement_after",dw=`{
    content: "" !important;
    display: none !important;
}`,eP=function(e){tP(e,"."+kd+$4+dw+`
         .`+Ud+q4+dw)},tP=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},gw=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),nP=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Pd(t)||oP(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return jn(this,void 0,void 0,function(){var n,r,i,a,l=this;return Un(this,function(o){switch(o.label){case 0:return n=gw.isSameOrigin(t),r=!Ld(t)&&this._options.useCORS===!0&&Dn.SUPPORT_CORS_IMAGES&&!n,i=!Ld(t)&&!n&&!Pd(t)&&typeof this._options.proxy=="string"&&Dn.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Ld(t)&&!Pd(t)&&!i&&!r?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,s){var A=new Image;A.onload=function(){return c(A)},A.onerror=s,(sP(a)||r)&&(A.crossOrigin="anonymous"),A.src=a,A.complete===!0&&setTimeout(function(){return c(A)},500),l._options.imageTimeout>0&&setTimeout(function(){return s("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]!="undefined"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,l){var o=Dn.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")a(c.response);else{var v=new FileReader;v.addEventListener("load",function(){return a(v.result)},!1),v.addEventListener("error",function(B){return l(B)},!1),v.readAsDataURL(c.response)}else l("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=l;var s=r.indexOf("?")>-1?"&":"?";if(c.open("GET",""+r+s+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),n._options.imageTimeout){var A=n._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return l("Timed out ("+A+"ms) proxying "+i)}}c.send()})},e}(),rP=/^data:image\/svg\+xml/i,iP=/^data:image\/.*;base64,/i,aP=/^data:image\/.*/i,oP=function(e){return Dn.SUPPORT_SVG_DRAWING||!AP(e)},Ld=function(e){return aP.test(e)},sP=function(e){return iP.test(e)},Pd=function(e){return e.substr(0,4)==="blob"},AP=function(e){return e.substr(-3).toLowerCase()==="svg"||rP.test(e)},qe=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),ao=function(e,t,n){return new qe(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},sc=function(){function e(t,n,r,i){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return e.prototype.subdivide=function(t,n){var r=ao(this.start,this.startControl,t),i=ao(this.startControl,this.endControl,t),a=ao(this.endControl,this.end,t),l=ao(r,i,t),o=ao(i,a,t),c=ao(l,o,t);return n?new e(this.start,r,l,c):new e(c,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),pr=function(e){return e.type===1},lP=function(){function e(t){var n=t.styles,r=t.bounds,i=Us(n.borderTopLeftRadius,r.width,r.height),a=i[0],l=i[1],o=Us(n.borderTopRightRadius,r.width,r.height),c=o[0],s=o[1],A=Us(n.borderBottomRightRadius,r.width,r.height),v=A[0],B=A[1],x=Us(n.borderBottomLeftRadius,r.width,r.height),M=x[0],T=x[1],p=[];p.push((a+c)/r.width),p.push((M+v)/r.width),p.push((l+T)/r.height),p.push((s+B)/r.height);var u=Math.max.apply(Math,p);u>1&&(a/=u,l/=u,c/=u,s/=u,v/=u,B/=u,M/=u,T/=u);var g=r.width-c,C=r.height-B,f=r.width-v,d=r.height-T,h=n.borderTopWidth,w=n.borderRightWidth,I=n.borderBottomWidth,y=n.borderLeftWidth,D=Yt(n.paddingTop,t.bounds.width),F=Yt(n.paddingRight,t.bounds.width),L=Yt(n.paddingBottom,t.bounds.width),k=Yt(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||l>0?nn(r.left+y/3,r.top+h/3,a-y/3,l-h/3,Qt.TOP_LEFT):new qe(r.left+y/3,r.top+h/3),this.topRightBorderDoubleOuterBox=a>0||l>0?nn(r.left+g,r.top+h/3,c-w/3,s-h/3,Qt.TOP_RIGHT):new qe(r.left+r.width-w/3,r.top+h/3),this.bottomRightBorderDoubleOuterBox=v>0||B>0?nn(r.left+f,r.top+C,v-w/3,B-I/3,Qt.BOTTOM_RIGHT):new qe(r.left+r.width-w/3,r.top+r.height-I/3),this.bottomLeftBorderDoubleOuterBox=M>0||T>0?nn(r.left+y/3,r.top+d,M-y/3,T-I/3,Qt.BOTTOM_LEFT):new qe(r.left+y/3,r.top+r.height-I/3),this.topLeftBorderDoubleInnerBox=a>0||l>0?nn(r.left+y*2/3,r.top+h*2/3,a-y*2/3,l-h*2/3,Qt.TOP_LEFT):new qe(r.left+y*2/3,r.top+h*2/3),this.topRightBorderDoubleInnerBox=a>0||l>0?nn(r.left+g,r.top+h*2/3,c-w*2/3,s-h*2/3,Qt.TOP_RIGHT):new qe(r.left+r.width-w*2/3,r.top+h*2/3),this.bottomRightBorderDoubleInnerBox=v>0||B>0?nn(r.left+f,r.top+C,v-w*2/3,B-I*2/3,Qt.BOTTOM_RIGHT):new qe(r.left+r.width-w*2/3,r.top+r.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=M>0||T>0?nn(r.left+y*2/3,r.top+d,M-y*2/3,T-I*2/3,Qt.BOTTOM_LEFT):new qe(r.left+y*2/3,r.top+r.height-I*2/3),this.topLeftBorderStroke=a>0||l>0?nn(r.left+y/2,r.top+h/2,a-y/2,l-h/2,Qt.TOP_LEFT):new qe(r.left+y/2,r.top+h/2),this.topRightBorderStroke=a>0||l>0?nn(r.left+g,r.top+h/2,c-w/2,s-h/2,Qt.TOP_RIGHT):new qe(r.left+r.width-w/2,r.top+h/2),this.bottomRightBorderStroke=v>0||B>0?nn(r.left+f,r.top+C,v-w/2,B-I/2,Qt.BOTTOM_RIGHT):new qe(r.left+r.width-w/2,r.top+r.height-I/2),this.bottomLeftBorderStroke=M>0||T>0?nn(r.left+y/2,r.top+d,M-y/2,T-I/2,Qt.BOTTOM_LEFT):new qe(r.left+y/2,r.top+r.height-I/2),this.topLeftBorderBox=a>0||l>0?nn(r.left,r.top,a,l,Qt.TOP_LEFT):new qe(r.left,r.top),this.topRightBorderBox=c>0||s>0?nn(r.left+g,r.top,c,s,Qt.TOP_RIGHT):new qe(r.left+r.width,r.top),this.bottomRightBorderBox=v>0||B>0?nn(r.left+f,r.top+C,v,B,Qt.BOTTOM_RIGHT):new qe(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=M>0||T>0?nn(r.left,r.top+d,M,T,Qt.BOTTOM_LEFT):new qe(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||l>0?nn(r.left+y,r.top+h,Math.max(0,a-y),Math.max(0,l-h),Qt.TOP_LEFT):new qe(r.left+y,r.top+h),this.topRightPaddingBox=c>0||s>0?nn(r.left+Math.min(g,r.width-w),r.top+h,g>r.width+w?0:Math.max(0,c-w),Math.max(0,s-h),Qt.TOP_RIGHT):new qe(r.left+r.width-w,r.top+h),this.bottomRightPaddingBox=v>0||B>0?nn(r.left+Math.min(f,r.width-y),r.top+Math.min(C,r.height-I),Math.max(0,v-w),Math.max(0,B-I),Qt.BOTTOM_RIGHT):new qe(r.left+r.width-w,r.top+r.height-I),this.bottomLeftPaddingBox=M>0||T>0?nn(r.left+y,r.top+Math.min(d,r.height-I),Math.max(0,M-y),Math.max(0,T-I),Qt.BOTTOM_LEFT):new qe(r.left+y,r.top+r.height-I),this.topLeftContentBox=a>0||l>0?nn(r.left+y+k,r.top+h+D,Math.max(0,a-(y+k)),Math.max(0,l-(h+D)),Qt.TOP_LEFT):new qe(r.left+y+k,r.top+h+D),this.topRightContentBox=c>0||s>0?nn(r.left+Math.min(g,r.width+y+k),r.top+h+D,g>r.width+y+k?0:c-y+k,s-(h+D),Qt.TOP_RIGHT):new qe(r.left+r.width-(w+F),r.top+h+D),this.bottomRightContentBox=v>0||B>0?nn(r.left+Math.min(f,r.width-(y+k)),r.top+Math.min(C,r.height+h+D),Math.max(0,v-(w+F)),B-(I+L),Qt.BOTTOM_RIGHT):new qe(r.left+r.width-(w+F),r.top+r.height-(I+L)),this.bottomLeftContentBox=M>0||T>0?nn(r.left+y+k,r.top+d,Math.max(0,M-(y+k)),T-(I+L),Qt.BOTTOM_LEFT):new qe(r.left+y+k,r.top+r.height-(I+L))}return e}(),Qt;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Qt||(Qt={}));var nn=function(e,t,n,r,i){var a=4*((Math.sqrt(2)-1)/3),l=n*a,o=r*a,c=e+n,s=t+r;switch(i){case Qt.TOP_LEFT:return new sc(new qe(e,s),new qe(e,s-o),new qe(c-l,t),new qe(c,t));case Qt.TOP_RIGHT:return new sc(new qe(e,t),new qe(e+l,t),new qe(c,s-o),new qe(c,s));case Qt.BOTTOM_RIGHT:return new sc(new qe(c,t),new qe(c,t+o),new qe(e+l,s),new qe(e,s));case Qt.BOTTOM_LEFT:default:return new sc(new qe(c,s),new qe(c-l,s),new qe(e,t+o),new qe(e,t))}},Ac=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},cP=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},lc=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},uP=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),cc=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),fP=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),hP=function(e){return e.type===0},pw=function(e){return e.type===1},dP=function(e){return e.type===2},vw=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},gP=function(e,t,n,r,i){return e.map(function(a,l){switch(l){case 0:return a.add(t,n);case 1:return a.add(t+r,n);case 2:return a.add(t+r,n+i);case 3:return a.add(t,n+i)}return a})},mw=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),yw=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new lP(this.container),this.container.styles.opacity<1&&this.effects.push(new fP(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new uP(r,i,a))}if(this.container.styles.overflowX!==0){var l=Ac(this.curves),o=lc(this.curves);vw(l,o)?this.effects.push(new cc(l,6)):(this.effects.push(new cc(l,2)),this.effects.push(new cc(o,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(c){return!pw(c)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var l=Ac(r.curves),o=lc(r.curves);vw(l,o)||i.unshift(new cc(o,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(c){return En(c.target,t)})},e}(),Nd=function(e,t,n,r){e.container.elements.forEach(function(i){var a=En(i.flags,4),l=En(i.flags,2),o=new yw(i,e);En(i.styles.display,2048)&&r.push(o);var c=En(i.flags,8)?[]:r;if(a||l){var s=a||i.styles.isPositioned()?n:t,A=new mw(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var v=i.styles.zIndex.order;if(v<0){var B=0;s.negativeZIndex.some(function(M,T){return v>M.element.container.styles.zIndex.order?(B=T,!1):B>0}),s.negativeZIndex.splice(B,0,A)}else if(v>0){var x=0;s.positiveZIndex.some(function(M,T){return v>=M.element.container.styles.zIndex.order?(x=T+1,!1):x>0}),s.positiveZIndex.splice(x,0,A)}else s.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?s.nonPositionedFloats.push(A):s.nonPositionedInlineLevel.push(A);Nd(o,A,a?A:n,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Nd(o,t,n,c);En(i.flags,8)&&Cw(i,c)})},Cw=function(e,t){for(var n=e instanceof Id?e.start:1,r=e instanceof Id?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof GC&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=Hs(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},pP=function(e){var t=new yw(e,null),n=new mw(t),r=[];return Nd(t,n,n,r),Cw(t.container,r),n},ww=function(e,t){switch(t){case 0:return vr(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return vr(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return vr(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return vr(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},vP=function(e,t){switch(t){case 0:return vr(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return vr(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return vr(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return vr(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},mP=function(e,t){switch(t){case 0:return vr(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return vr(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return vr(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return vr(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},yP=function(e,t){switch(t){case 0:return uc(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return uc(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return uc(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return uc(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},uc=function(e,t){var n=[];return pr(e)?n.push(e.subdivide(.5,!1)):n.push(e),pr(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},vr=function(e,t,n,r){var i=[];return pr(e)?i.push(e.subdivide(.5,!1)):i.push(e),pr(n)?i.push(n.subdivide(.5,!0)):i.push(n),pr(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),pr(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Bw=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},fc=function(e){var t=e.styles,n=e.bounds,r=Yt(t.paddingLeft,n.width),i=Yt(t.paddingRight,n.width),a=Yt(t.paddingTop,n.width),l=Yt(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+l))},CP=function(e,t){return e===0?t.bounds:e===2?fc(t):Bw(t)},wP=function(e,t){return e===0?t.bounds:e===2?fc(t):Bw(t)},Rd=function(e,t,n){var r=CP(so(e.styles.backgroundOrigin,t),e),i=wP(so(e.styles.backgroundClip,t),e),a=BP(so(e.styles.backgroundSize,t),n,r),l=a[0],o=a[1],c=Us(so(e.styles.backgroundPosition,t),r.width-l,r.height-o),s=bP(so(e.styles.backgroundRepeat,t),c,a,r,i),A=Math.round(r.left+c[0]),v=Math.round(r.top+c[1]);return[s,A,v,l,o]},oo=function(e){return Vt(e)&&e.value===to.AUTO},hc=function(e){return typeof e=="number"},BP=function(e,t,n){var r=t[0],i=t[1],a=t[2],l=e[0],o=e[1];if(!l)return[0,0];if(mn(l)&&o&&mn(o))return[Yt(l,n.width),Yt(o,n.height)];var c=hc(a);if(Vt(l)&&(l.value===to.CONTAIN||l.value===to.COVER)){if(hc(a)){var s=n.width/n.height;return s<a!=(l.value===to.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var A=hc(r),v=hc(i),B=A||v;if(oo(l)&&(!o||oo(o))){if(A&&v)return[r,i];if(!c&&!B)return[n.width,n.height];if(B&&c){var x=A?r:i*a,M=v?i:r/a;return[x,M]}var T=A?r:n.width,p=v?i:n.height;return[T,p]}if(c){var u=0,g=0;return mn(l)?u=Yt(l,n.width):mn(o)&&(g=Yt(o,n.height)),oo(l)?u=g*a:(!o||oo(o))&&(g=u/a),[u,g]}var C=null,f=null;if(mn(l)?C=Yt(l,n.width):o&&mn(o)&&(f=Yt(o,n.height)),C!==null&&(!o||oo(o))&&(f=A&&v?C/r*i:n.height),f!==null&&oo(l)&&(C=A&&v?f/i*r:n.width),C!==null&&f!==null)return[C,f];throw new Error("Unable to calculate background-size for element")},so=function(e,t){var n=e[t];return typeof n=="undefined"?e[0]:n},bP=function(e,t,n,r,i){var a=t[0],l=t[1],o=n[0],c=n[1];switch(e){case 2:return[new qe(Math.round(r.left),Math.round(r.top+l)),new qe(Math.round(r.left+r.width),Math.round(r.top+l)),new qe(Math.round(r.left+r.width),Math.round(c+r.top+l)),new qe(Math.round(r.left),Math.round(c+r.top+l))];case 3:return[new qe(Math.round(r.left+a),Math.round(r.top)),new qe(Math.round(r.left+a+o),Math.round(r.top)),new qe(Math.round(r.left+a+o),Math.round(r.height+r.top)),new qe(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new qe(Math.round(r.left+a),Math.round(r.top+l)),new qe(Math.round(r.left+a+o),Math.round(r.top+l)),new qe(Math.round(r.left+a+o),Math.round(r.top+l+c)),new qe(Math.round(r.left+a),Math.round(r.top+l+c))];default:return[new qe(Math.round(i.left),Math.round(i.top)),new qe(Math.round(i.left+i.width),Math.round(i.top)),new qe(Math.round(i.left+i.width),Math.round(i.height+i.top)),new qe(Math.round(i.left),Math.round(i.height+i.top))]}},EP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bw="Hidden Text",_P=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),l=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",l.appendChild(r),i.src=EP,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(bw)),r.appendChild(a),r.appendChild(i);var o=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(bw)),r.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-r.offsetTop+2;return l.removeChild(r),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]=="undefined"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),Ew=function(){function e(t,n){this.context=t,this.options=n}return e}(),SP=1e4,IP=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new _P(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),dP(n)&&(this.ctx.globalAlpha=n.opacity),hP(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),pw(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return jn(this,void 0,void 0,function(){var r;return Un(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return jn(this,void 0,void 0,function(){return Un(this,function(r){switch(r.label){case 0:if(En(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var l=Sd(n.text);l.reduce(function(o,c){return a.ctx.fillText(c,o,n.bounds.top+i),o+a.ctx.measureText(c).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),i=OP(n.fontFamily).join(", "),a=ks(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(n,r){return jn(this,void 0,void 0,function(){var i,a,l,o,c,s,A,v,B=this;return Un(this,function(x){return i=this.createFontStyle(r),a=i[0],l=i[1],o=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(l,o),s=c.baseline,A=c.middle,v=r.paintOrder,n.textBounds.forEach(function(M){v.forEach(function(T){switch(T){case 0:B.ctx.fillStyle=Sn(r.color),B.renderTextWithLetterSpacing(M,r.letterSpacing,s);var p=r.textShadow;p.length&&M.text.trim().length&&(p.slice(0).reverse().forEach(function(u){B.ctx.shadowColor=Sn(u.color),B.ctx.shadowOffsetX=u.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=u.offsetY.number*B.options.scale,B.ctx.shadowBlur=u.blur.number,B.renderTextWithLetterSpacing(M,r.letterSpacing,s)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),r.textDecorationLine.length&&(B.ctx.fillStyle=Sn(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(u){switch(u){case 1:B.ctx.fillRect(M.bounds.left,Math.round(M.bounds.top+s),M.bounds.width,1);break;case 2:B.ctx.fillRect(M.bounds.left,Math.round(M.bounds.top),M.bounds.width,1);break;case 3:B.ctx.fillRect(M.bounds.left,Math.ceil(M.bounds.top+A),M.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&M.text.trim().length&&(B.ctx.strokeStyle=Sn(r.webkitTextStrokeColor),B.ctx.lineWidth=r.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(M.text,M.bounds.left,M.bounds.top+s)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=fc(n),l=lc(r);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return jn(this,void 0,void 0,function(){var r,i,a,l,o,c,g,g,s,A,v,B,f,x,M,d,T,p,u,g,C,f,d;return Un(this,function(h){switch(h.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,l=0,o=r.textNodes,h.label=1;case 1:return l<o.length?(c=o[l],[4,this.renderTextNode(c,a)]):[3,4];case 2:h.sent(),h.label=3;case 3:return l++,[3,1];case 4:if(!(r instanceof jC))return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return g=h.sent(),this.renderReplacedElement(r,i,g),[3,8];case 7:return h.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof zC&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof VC))return[3,12];h.label=9;case 9:return h.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return g=h.sent(),this.renderReplacedElement(r,i,g),[3,12];case 11:return h.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof KC&&r.tree?(s=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,s.render(r.tree)]):[3,14];case 13:A=h.sent(),r.width&&r.height&&this.ctx.drawImage(A,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),h.label=14;case 14:if(r instanceof xd&&(v=Math.min(r.bounds.width,r.bounds.height),r.type===tc?r.checked&&(this.ctx.save(),this.path([new qe(r.bounds.left+v*.39363,r.bounds.top+v*.79),new qe(r.bounds.left+v*.16,r.bounds.top+v*.5549),new qe(r.bounds.left+v*.27347,r.bounds.top+v*.44071),new qe(r.bounds.left+v*.39694,r.bounds.top+v*.5649),new qe(r.bounds.left+v*.72983,r.bounds.top+v*.23),new qe(r.bounds.left+v*.84,r.bounds.top+v*.34085),new qe(r.bounds.left+v*.39363,r.bounds.top+v*.79)]),this.ctx.fillStyle=Sn(WC),this.ctx.fill(),this.ctx.restore()):r.type===nc&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+v/2,r.bounds.top+v/2,v/4,0,Math.PI*2,!0),this.ctx.fillStyle=Sn(WC),this.ctx.fill(),this.ctx.restore())),xP(r)&&r.value.length){switch(B=this.createFontStyle(a),f=B[0],x=B[1],M=this.fontMetrics.getMetrics(f,x).baseline,this.ctx.font=f,this.ctx.fillStyle=Sn(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=DP(r.styles.textAlign),d=fc(r),T=0,r.styles.textAlign){case 1:T+=d.width/2;break;case 2:T+=d.width;break}p=d.add(T,0,0,-d.height/2+1),this.ctx.save(),this.path([new qe(d.left,d.top),new qe(d.left+d.width,d.top),new qe(d.left+d.width,d.top+d.height),new qe(d.left,d.top+d.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Rs(r.value,p),a.letterSpacing,M),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!En(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(u=r.styles.listStyleImage,u.type!==0)return[3,18];g=void 0,C=u.url,h.label=15;case 15:return h.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return g=h.sent(),this.ctx.drawImage(g,r.bounds.left-(g.width+10),r.bounds.top),[3,18];case 17:return h.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(f=this.createFontStyle(a)[0],this.ctx.font=f,this.ctx.fillStyle=Sn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",d=new ni(r.bounds.left,r.bounds.top+Yt(r.styles.paddingTop,r.bounds.width),r.bounds.width,bC(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Rs(n.listValue,d),a.letterSpacing,bC(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),h.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return jn(this,void 0,void 0,function(){var r,i,u,a,l,u,o,c,u,s,A,u,v,B,u,x,M,u,T,p,u;return Un(this,function(g){switch(g.label){case 0:if(En(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:g.sent(),r=0,i=n.negativeZIndex,g.label=2;case 2:return r<i.length?(u=i[r],[4,this.renderStack(u)]):[3,5];case 3:g.sent(),g.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:g.sent(),a=0,l=n.nonInlineLevel,g.label=7;case 7:return a<l.length?(u=l[a],[4,this.renderNode(u)]):[3,10];case 8:g.sent(),g.label=9;case 9:return a++,[3,7];case 10:o=0,c=n.nonPositionedFloats,g.label=11;case 11:return o<c.length?(u=c[o],[4,this.renderStack(u)]):[3,14];case 12:g.sent(),g.label=13;case 13:return o++,[3,11];case 14:s=0,A=n.nonPositionedInlineLevel,g.label=15;case 15:return s<A.length?(u=A[s],[4,this.renderStack(u)]):[3,18];case 16:g.sent(),g.label=17;case 17:return s++,[3,15];case 18:v=0,B=n.inlineLevel,g.label=19;case 19:return v<B.length?(u=B[v],[4,this.renderNode(u)]):[3,22];case 20:g.sent(),g.label=21;case 21:return v++,[3,19];case 22:x=0,M=n.zeroOrAutoZIndexOrTransformedOrOpacity,g.label=23;case 23:return x<M.length?(u=M[x],[4,this.renderStack(u)]):[3,26];case 24:g.sent(),g.label=25;case 25:return x++,[3,23];case 26:T=0,p=n.positiveZIndex,g.label=27;case 27:return T<p.length?(u=p[T],[4,this.renderStack(u)]):[3,30];case 28:g.sent(),g.label=29;case 29:return T++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var l=pr(i)?i.start:i;a===0?r.ctx.moveTo(l.x,l.y):r.ctx.lineTo(l.x,l.y),pr(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var l=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=l.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var c=o.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},t.prototype.renderBackgroundImage=function(n){return jn(this,void 0,void 0,function(){var r,i,a,l,o,c;return Un(this,function(s){switch(s.label){case 0:r=n.styles.backgroundImage.length-1,i=function(A){var v,B,x,D,z,H,k,U,I,M,D,z,H,k,U,T,p,u,g,C,f,d,h,w,I,y,D,F,L,k,U,N,z,H,X,ne,ie,he,le,Ae,R,re;return Un(this,function(ee){switch(ee.label){case 0:if(A.type!==0)return[3,5];v=void 0,B=A.url,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,a.context.cache.match(B)];case 2:return v=ee.sent(),[3,4];case 3:return ee.sent(),a.context.logger.error("Error loading background-image "+B),[3,4];case 4:return v&&(x=Rd(n,r,[v.width,v.height,v.width/v.height]),D=x[0],z=x[1],H=x[2],k=x[3],U=x[4],I=a.ctx.createPattern(a.resizeImage(v,k,U),"repeat"),a.renderRepeat(D,I,z,H)),[3,6];case 5:hU(A)?(M=Rd(n,r,[null,null,null]),D=M[0],z=M[1],H=M[2],k=M[3],U=M[4],T=AU(A.angle,k,U),p=T[0],u=T[1],g=T[2],C=T[3],f=T[4],d=document.createElement("canvas"),d.width=k,d.height=U,h=d.getContext("2d"),w=h.createLinearGradient(u,C,g,f),fC(A.stops,p).forEach(function(oe){return w.addColorStop(oe.stop,Sn(oe.color))}),h.fillStyle=w,h.fillRect(0,0,k,U),k>0&&U>0&&(I=a.ctx.createPattern(d,"repeat"),a.renderRepeat(D,I,z,H))):dU(A)&&(y=Rd(n,r,[null,null,null]),D=y[0],F=y[1],L=y[2],k=y[3],U=y[4],N=A.position.length===0?[ud]:A.position,z=Yt(N[0],k),H=Yt(N[N.length-1],U),X=lU(A,z,H,k,U),ne=X[0],ie=X[1],ne>0&&ie>0&&(he=a.ctx.createRadialGradient(F+z,L+H,0,F+z,L+H,ne),fC(A.stops,ne*2).forEach(function(oe){return he.addColorStop(oe.stop,Sn(oe.color))}),a.path(D),a.ctx.fillStyle=he,ne!==ie?(le=n.bounds.left+.5*n.bounds.width,Ae=n.bounds.top+.5*n.bounds.height,R=ie/ne,re=1/R,a.ctx.save(),a.ctx.translate(le,Ae),a.ctx.transform(1,0,0,R,0,0),a.ctx.translate(-le,-Ae),a.ctx.fillRect(F,re*(L-Ae)+Ae,k,U*re),a.ctx.restore()):a.ctx.fill())),ee.label=6;case 6:return r--,[2]}})},a=this,l=0,o=n.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return l<o.length?(c=o[l],[5,i(c)]):[3,4];case 2:s.sent(),s.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,i){return jn(this,void 0,void 0,function(){return Un(this,function(a){return this.path(ww(i,r)),this.ctx.fillStyle=Sn(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,i,a){return jn(this,void 0,void 0,function(){var l,o;return Un(this,function(c){switch(c.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return l=vP(a,i),this.path(l),this.ctx.fillStyle=Sn(n),this.ctx.fill(),o=mP(a,i),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return jn(this,void 0,void 0,function(){var r,i,a,l,o,c,s,A,v=this;return Un(this,function(B){switch(B.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!xi(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],l=MP(so(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),xi(r.backgroundColor)||(this.ctx.fillStyle=Sn(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(x){v.ctx.save();var M=Ac(n.curves),T=x.inset?0:SP,p=gP(M,-T+(x.inset?1:-1)*x.spread.number,(x.inset?1:-1)*x.spread.number,x.spread.number*(x.inset?-2:2),x.spread.number*(x.inset?-2:2));x.inset?(v.path(M),v.ctx.clip(),v.mask(p)):(v.mask(M),v.ctx.clip(),v.path(p)),v.ctx.shadowOffsetX=x.offsetX.number+T,v.ctx.shadowOffsetY=x.offsetY.number,v.ctx.shadowColor=Sn(x.color),v.ctx.shadowBlur=x.blur.number,v.ctx.fillStyle=x.inset?Sn(x.color):"rgba(0,0,0,1)",v.ctx.fill(),v.ctx.restore()}),B.label=2;case 2:o=0,c=0,s=a,B.label=3;case 3:return c<s.length?(A=s[c],A.style!==0&&!xi(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,3)];case 6:return B.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,n.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,n.curves)];case 10:B.sent(),B.label=11;case 11:o++,B.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,i,a,l){return jn(this,void 0,void 0,function(){var o,c,s,A,v,B,x,M,T,p,u,g,C,f,d,h,d,h;return Un(this,function(w){return this.ctx.save(),o=yP(a,i),c=ww(a,i),l===2&&(this.path(c),this.ctx.clip()),pr(c[0])?(s=c[0].start.x,A=c[0].start.y):(s=c[0].x,A=c[0].y),pr(c[1])?(v=c[1].end.x,B=c[1].end.y):(v=c[1].x,B=c[1].y),i===0||i===2?x=Math.abs(s-v):x=Math.abs(A-B),this.ctx.beginPath(),l===3?this.formatPath(o):this.formatPath(c.slice(0,2)),M=r<3?r*3:r*2,T=r<3?r*2:r,l===3&&(M=r,T=r),p=!0,x<=M*2?p=!1:x<=M*2+T?(u=x/(2*M+T),M*=u,T*=u):(g=Math.floor((x+T)/(M+T)),C=(x-g*M)/(g-1),f=(x-(g+1)*M)/g,T=f<=0||Math.abs(T-C)<Math.abs(T-f)?C:f),p&&(l===3?this.ctx.setLineDash([0,M+T]):this.ctx.setLineDash([M,T])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Sn(n),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(pr(c[0])&&(d=c[3],h=c[0],this.ctx.beginPath(),this.formatPath([new qe(d.end.x,d.end.y),new qe(h.start.x,h.start.y)]),this.ctx.stroke()),pr(c[1])&&(d=c[1],h=c[2],this.ctx.beginPath(),this.formatPath([new qe(d.end.x,d.end.y),new qe(h.start.x,h.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return jn(this,void 0,void 0,function(){var r;return Un(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Sn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=pP(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(Ew),xP=function(e){return e instanceof XC||e instanceof YC?!0:e instanceof xd&&e.type!==nc&&e.type!==tc},MP=function(e,t){switch(e){case 0:return Ac(t);case 2:return cP(t);case 1:default:return lc(t)}},DP=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},TP=["-apple-system","system-ui"],OP=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return TP.indexOf(t)===-1}):e},FP=function(e){xr(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return t.prototype.render=function(n){return jn(this,void 0,void 0,function(){var r,i;return Un(this,function(a){switch(a.label){case 0:return r=_d(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,kP(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Sn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(Ew),kP=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},UP=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,wl([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,wl([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,wl([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,wl([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),LP=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new UP({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new nP(this,t)}return e.instanceCount=1,e}(),_w=function(e,t){return t===void 0&&(t={}),PP(e,t)};typeof window!="undefined"&&gw.setContext(window);var PP=function(e,t){return jn(void 0,void 0,void 0,function(){var n,r,i,a,l,o,c,s,A,v,B,x,M,T,p,u,g,C,f,d,w,h,w,I,y,D,F,L,k,U,N,z,H,X,ne,ie,he,le,Ae,R;return Un(this,function(re){switch(re.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(I=t.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(y=t.imageTimeout)!==null&&y!==void 0?y:15e3,proxy:t.proxy,useCORS:(D=t.useCORS)!==null&&D!==void 0?D:!1},a=Vh({logging:(F=t.logging)!==null&&F!==void 0?F:!0,cache:t.cache},i),l={windowWidth:(L=t.windowWidth)!==null&&L!==void 0?L:r.innerWidth,windowHeight:(k=t.windowHeight)!==null&&k!==void 0?k:r.innerHeight,scrollX:(U=t.scrollX)!==null&&U!==void 0?U:r.pageXOffset,scrollY:(N=t.scrollY)!==null&&N!==void 0?N:r.pageYOffset},o=new ni(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),c=new LP(a,o),s=(z=t.foreignObjectRendering)!==null&&z!==void 0?z:!1,A={allowTaint:(H=t.allowTaint)!==null&&H!==void 0?H:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:s,copyStyles:s},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),v=new hw(c,e,A),B=v.clonedReferenceElement,B?[4,v.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=re.sent(),M=Dd(B)||R4(B)?gF(B.ownerDocument):Bl(c,B),T=M.width,p=M.height,u=M.left,g=M.top,C=NP(c,B,t.backgroundColor),f={canvas:t.canvas,backgroundColor:C,scale:(ne=(X=t.scale)!==null&&X!==void 0?X:r.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((ie=t.x)!==null&&ie!==void 0?ie:0)+u,y:((he=t.y)!==null&&he!==void 0?he:0)+g,width:(le=t.width)!==null&&le!==void 0?le:Math.ceil(T),height:(Ae=t.height)!==null&&Ae!==void 0?Ae:Math.ceil(p)},s?(c.logger.debug("Document cloned, using foreign object rendering"),w=new FP(c,f),[4,w.render(B)]):[3,3];case 2:return d=re.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+u+","+g+" with size "+T+"x"+p+" using computed rendering"),c.logger.debug("Starting DOM parsing"),h=JC(c,B),C===h.styles.backgroundColor&&(h.styles.backgroundColor=ii.TRANSPARENT),c.logger.debug("Starting renderer for element at "+f.x+","+f.y+" with size "+f.width+"x"+f.height),w=new IP(c,f),[4,w.render(h)];case 4:d=re.sent(),re.label=5;case 5:return(!((R=t.removeContainer)!==null&&R!==void 0)||R)&&(hw.destroy(x)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,d]}})})},NP=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Ls(e,getComputedStyle(r.documentElement).backgroundColor):ii.TRANSPARENT,a=r.body?Ls(e,getComputedStyle(r.body).backgroundColor):ii.TRANSPARENT,l=typeof n=="string"?Ls(e,n):n===null?ii.TRANSPARENT:4294967295;return t===r.documentElement?xi(i)?xi(a)?l:a:i:l},J9="";const RP=m.defineComponent({props:["modelValue"],emits:["update:modelValue"],setup(e,t){const{proxy:n}=m.getCurrentInstance();async function r(i){const a=n==null?void 0:n.dZoom;n==null||n.selectWidget({uuid:"-1"}),n==null||n.updateZoom(100);const l={useCORS:!0,scale:.2};setTimeout(async()=>{var v;const o=document.getElementById("page-design-canvas"),s=(await _w(o,{...l,useCORS:!0,allowTaint:!0,backgroundColor:null})).toDataURL("image/jpg"),A=await wt.home.base64ToImg({filedata:s});A&&i((v=A==null?void 0:A.data)==null?void 0:v.http_path),n==null||n.updateZoom(a)},10)}return{createCover:r}},computed:{...$e.mapGetters(["dZoom"])},methods:{...$e.mapActions(["selectWidget","updateZoom"])}}),QP={id:"cover-wrap"};function HP(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",QP)}var jP=ct(RP,[["render",HP],["__scopeId","data-v-33130a74"]]);const Sw="2",Iw={list:[],async init(){this.list=[],localStorage.getItem("FONTS_VERSION")!==Sw&&localStorage.removeItem("FONTS");const e=localStorage.getItem("FONTS")?JSON.parse(localStorage.getItem("FONTS")||""):[];if(e.length>0&&this.list.push(...e),this.list.length===0){const t=await y0({per_page:400});this.list.unshift(...t.list.map(n=>{const{id:r,alias:i,oid:a,value:l,preview:o,woff:c,lang:s}=n;return{id:r,oid:a,value:l,preview:o,alias:i,url:c,lang:s}})),localStorage.setItem("FONTS",JSON.stringify(this.list)),localStorage.setItem("FONTS_VERSION",Sw)}}};var q9="";const zP=m.defineComponent({components:{SaveImage:jP},props:["modelValue","noMenu"],emits:["change","update:modelValue"],setup(e,t){const{proxy:n}=m.getCurrentInstance(),r=$e.useStore(),i=m.reactive({stateBollean:!1,title:"",loading:!1,psdVisible:!1}),a=m.computed(()=>r.state.templateId);m.onMounted(()=>{console.log(r)}),m.watch(()=>a.value,async B=>{const{title:x}=await wt.home.getTempDetail({id:B});i.title=x});async function l(){const B=document.getElementById("page-design-canvas");return(await _w(B,{useCORS:!0,allowTaint:!0,backgroundColor:null})).toDataURL("image/jpg")}async function o(){let B=null;const x=await l();return B=await wt.home.saveTemp({id:a.value,cover_base64:x,title:n.title||"\u672A\u547D\u540D\u6A21\u677F",content:JSON.stringify({page:n.dPage,widgets:n.dWidgets}),width:n.dPage.width,height:n.dPage.height}),B.stat!=0&&kh(B.msg||"\u6210\u529F"),r.commit("setState",{key:"templateDate",value:Date.now()}),B}async function c(){const B=await l(),x=document.createElement("a");x.href=B,x.download="capture.jpg",document.body.appendChild(x),x.click(),document.body.removeChild(x)}const s=async()=>{(await wt.home.removeComp({id:a.value})).code===200&&(r.commit("setState",{key:"templateDate",value:Date.now()}),r.commit("setState",{key:"templateId",value:null}))},A=async()=>{const B=await o();B.id&&r.commit("setState",{key:"templateId",value:B.id})},v=()=>{r.dispatch("resetWidget"),i.psdVisible=!0};return{...m.toRefs(i),tempid:a,download:c,saveTemp:o,deleteTemplate:s,addTemplate:A,openPsd:v}},computed:{...$e.mapGetters(["dPage","dWidgets","tempEditing","dHistory","dPageHistory"])},methods:{...$e.mapActions(["pushHistory","addGroup"]),async load(e,t,n,r){await Iw.init()},draw(){return new Promise(e=>{this.$refs.canvasImage.createCover(({key:t})=>{e(tr.IMG_URL+t)})})}}}),VP={class:"w-full flex items-center",style:{"border-bottom":"1px solid #ccc","border-top":"1px solid #ccc"}},GP={class:"top-title text-left p-0 font-bold text-[18px]"},WP={class:"top-icon-wrap"};function YP(e,t,n,r,i,a){const l=m.resolveComponent("el-input"),o=m.resolveComponent("el-button"),c=m.resolveComponent("SaveImage");return m.openBlock(),m.createElementBlock("div",VP,[m.createElementVNode("div",GP,[e.tempid&&!e.noMenu?(m.openBlock(),m.createBlock(l,{key:0,modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=s=>e.title=s),placeholder:"\u672A\u547D\u540D\u7684\u8BBE\u8BA1",class:"input-wrap"},null,8,["modelValue"])):m.createCommentVNode("",!0)]),m.createElementVNode("div",WP,[e.noMenu?(m.openBlock(),m.createBlock(o,{key:1,loading:e.loading,size:"large",class:"primary-btn",disabled:e.tempEditing,plain:"",type:"primary",onClick:e.download},{default:m.withCtx(()=>[m.createTextVNode("\u53E6\u5B58\u4E3A")]),_:1},8,["loading","disabled","onClick"])):(m.openBlock(),m.createElementBlock(m.Fragment,{key:0},[m.createVNode(o,{plain:"",type:"primary",onClick:e.openPsd},{default:m.withCtx(()=>[m.createTextVNode("\u4E0A\u4F20PSD\u6A21\u677F")]),_:1},8,["onClick"]),m.createVNode(o,{plain:"",type:"primary",onClick:e.addTemplate},{default:m.withCtx(()=>[m.createTextVNode("\u65B0\u589E\u6A21\u677F")]),_:1},8,["onClick"]),e.tempid?(m.openBlock(),m.createElementBlock(m.Fragment,{key:0},[m.createVNode(o,{plain:"",type:"primary",onClick:e.saveTemp},{default:m.withCtx(()=>[m.createTextVNode("\u4FDD\u5B58\u6A21\u677F")]),_:1},8,["onClick"]),m.createVNode(o,{onClick:e.deleteTemplate},{default:m.withCtx(()=>[m.createTextVNode("\u5220\u9664")]),_:1},8,["onClick"])],64)):m.createCommentVNode("",!0)],64))]),m.createVNode(c,{ref:"canvasImage"},null,512)])}var XP=ct(zP,[["render",YP],["__scopeId","data-v-361e1284"]]),eX="";const KP=m.defineComponent({components:{ElProgress:jt.ElProgress},props:["percent","text","cancelText","msg"],emits:["done","cancel"],setup(e,t){return m.watch(()=>e.percent,r=>{r>=100&&setTimeout(()=>{t.emit("done")},1e3)}),{cancel:()=>{t.emit("cancel")}}}}),ZP={key:0,class:"mask"},JP={class:"content"},$P={class:"text"},qP={class:"text info"};function eN(e,t,n,r,i,a){const l=m.resolveComponent("el-progress");return e.percent?(m.openBlock(),m.createElementBlock("div",ZP,[m.createElementVNode("div",JP,[m.createElementVNode("div",$P,m.toDisplayString(e.text),1),m.createVNode(l,{style:{width:"100%"},"text-inside":!0,percentage:e.percent},null,8,["percentage"]),m.createElementVNode("div",{class:"text btn",onClick:t[0]||(t[0]=(...o)=>e.cancel&&e.cancel(...o))},m.toDisplayString(e.cancelText),1),m.createElementVNode("div",qP,m.toDisplayString(e.msg),1)])])):m.createCommentVNode("",!0)}var tN=ct(KP,[["render",eN],["__scopeId","data-v-761ec24e"]]),nN=[{name:"\u6A21\u677F",icon:"icon-moban",show:!1,component:"temp-list-wrap"},{name:"\u7D20\u6750",icon:"icon-sucai",show:!1,component:"graph-list-wrap"},{name:"\u6587\u5B57",icon:"icon-wenzi",show:!1,style:{fontWeight:600},component:"text-list-wrap"},{name:"\u7167\u7247",icon:"icon-gallery",show:!1,component:"photo-list-wrap"},{name:"\u80CC\u666F",icon:"icon-beijing",show:!1,component:"bg-img-list-wrap"}],tX="";const rN=m.defineComponent({setup(e){const t=$e.useStore(),n=m.reactive({loading:!1,loadDone:!1,bgList:[],showList:!0,colors:["#000000ff","#999999ff","#CCCCCCff","#FFFFFFff","#E65353ff","#FFD835ff","#70BC59ff","#607AF4ff","#976BEEff"]}),r={page:0,per_page:20},i=()=>{n.loading||a()},a=async(o=!1)=>{n.loadDone||(n.loading=!0,r.page+=1,o&&(n.bgList=[],r.page=1),await wt.material.getImagesList({cate:16,page:r.page}).then(({list:c})=>{c.length>0?n.bgList.push(...c):n.loadDone=!0}),setTimeout(()=>{n.loading=!1},100))};function l(o){t.dispatch("updatePageData",{key:"backgroundImage",value:""}),t.dispatch("updatePageData",{key:"backgroundColor",value:o,pushHistory:!0}),t.dispatch("selectWidget",{uuid:"-1"})}return{...m.toRefs(n),load:a,setBGcolor:l,loadData:i}},methods:{...$e.mapActions(["selectWidget","updatePageData"]),async selectItem(e){this.updatePageData({key:"backgroundTransform",value:{}}),this.updatePageData({key:"backgroundImage",value:e.url,pushHistory:!0}),this.selectWidget({uuid:"-1"})},dragStart(e,t){this.$store.commit("selectItem",{data:{},type:"bg"})}}}),iN=e=>(m.pushScopeId("data-v-bb049eb8"),e=e(),m.popScopeId(),e),aN={class:"wrap"},oN={class:"color__box"},sN=["onClick"],AN={key:0,class:"infinite-list","infinite-scroll-distance":150,style:{overflow:"auto"}},lN={class:"list"},cN={class:"loading"},uN=iN(()=>m.createElementVNode("i",{class:"el-icon-loading"},null,-1)),fN={class:"loading"};function hN(e,t,n,r,i,a){const l=m.resolveComponent("el-image"),o=m.resolveComponent("imageTip"),c=m.resolveDirective("infinite-scroll");return m.openBlock(),m.createElementBlock("div",aN,[m.createElementVNode("div",oN,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.colors,s=>(m.openBlock(),m.createElementBlock("div",{key:s,style:m.normalizeStyle({background:s}),class:"color__item",onClick:A=>e.setBGcolor(s)},null,12,sN))),128))]),e.showList?m.withDirectives((m.openBlock(),m.createElementBlock("ul",AN,[m.createElementVNode("div",lN,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.bgList,(s,A)=>(m.openBlock(),m.createBlock(o,{key:A+"i",detail:s},{default:m.withCtx(()=>[m.createVNode(l,{class:"list__img",src:s.thumb,fit:"cover",lazy:"",loading:"lazy",onClick:m.withModifiers(v=>e.selectItem(s),["stop"]),onDragstart:v=>e.dragStart(v,s)},null,8,["src","onClick","onDragstart"])]),_:2},1032,["detail"]))),128))]),m.withDirectives(m.createElementVNode("div",cN,[uN,m.createTextVNode(" \u62FC\u547D\u52A0\u8F7D\u4E2D")],512),[[m.vShow,e.loading]]),m.withDirectives(m.createElementVNode("div",fN,"\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5",512),[[m.vShow,e.loadDone]])])),[[c,e.loadData]]):m.createCommentVNode("",!0)])}var xw=ct(rN,[["render",hN],["__scopeId","data-v-bb049eb8"]]),dN=Object.freeze(Object.defineProperty({__proto__:null,default:xw},Symbol.toStringTag,{value:"Module"}));class Qd{constructor(){this.cloneEl=null,this.dragging=!1,this.initial={},this.queue=[],window.addEventListener("mousemove",t=>{if(this.dragging&&this.cloneEl){const{offsetX:n,offsetY:r,width:i,height:a}=this.initial;this.moveFlutter(t.pageX-i/2,t.pageY-a/2,this.distance(t))}else this.finish()}),window.addEventListener("mouseup",t=>{var r;window.document.getElementById("app").classList.remove("drag_active");const n=t.target.classList;((r=t.target)==null?void 0:r.id)==="page-design-canvas"||n.contains("target")||n.contains("drop__mask")||n.contains("edit-text")?setTimeout(()=>{this.finish(!0)},10):this.finish()}),document.addEventListener("mouseleave",t=>{this.finish()}),window.onblur=()=>{this.finish()}}start(t,n){this.cloneEl||(tt.commit("setDraging",!0),window.document.getElementById("app").classList.add("drag_active"),this.cloneEl=t.target.cloneNode(!0),this.cloneEl.classList.add("flutter"),this.init(t,t.target,n||t.target.offsetWidth,Math.random()),this.cloneEl.style.width=t.target.offsetWidth,window.document.getElementById("widget-panel").appendChild(this.cloneEl),this.dragging=!0,t.target.classList.add("hide"),this.queue.push(()=>{t.target.classList.remove("hide")}))}init({offsetX:t,offsetY:n,pageX:r,pageY:i,x:a,y:l},{offsetWidth:o,offsetHeight:c},s,A){this.initial={offsetX:t,offsetY:n,pageX:r,pageY:i,width:o,height:c,finallySize:s,flag:A,x:a,y:l},this.moveFlutter(r-t,i-n,0,.3),setTimeout(()=>{this.moveFlutter(r-o/2,i-c/2,0,.3)},10)}moveFlutter(t,n,r=0,i=0){const{width:a,height:l,finallySize:o}=this.initial;let c=null;a>o?c=r&&a-r>=o?`transform: scale(${(a-r)/a});`:null:c=r&&a+r<=o?`transform: scale(${(a+r)/a})`:null;const s=[`left: ${t}px`,`top: ${n}px`,`width: ${a}px`,`height: ${l}px`];c&&s.push(c),s.push(`transition: all ${i}s`),this.changeStyle(s)}changeStyle(t){const n=this.cloneEl.style.cssText.split(";");n.pop(),this.cloneEl.style.cssText=n.concat(t).join(";")+";"}finish(t=!1){if(!!this.dragging&&(this.dragging=!1,tt.commit("setDraging",!1),tt.commit("selectItem",{}),!!this.cloneEl)){if(!t){const{pageX:n,offsetX:r,pageY:i,offsetY:a}=this.initial;this.changeStyle([`left: ${n-r}px`,`top: ${i-a}px`,"transform: scale(1)","transition: all 0.3s"])}setTimeout(()=>{this.queue.length&&this.queue.shift()(),this.cloneEl&&this.cloneEl.remove(),this.cloneEl=null},t?0:300)}}distance({pageX:t,pageY:n}){const{pageX:r,pageY:i}=this.initial;return Math.hypot(t-r,n-i)}}var nX="";const gN=new Qd;let Hd=!1,dc={x:99999,y:99999},Oi=null;const pN=m.defineComponent({components:{},setup(e){const t=m.reactive({loading:!1,loadDone:!1,list:[],searchValue:"",currentCategory:null,types:[],showList:[]}),n={type:1,page:0,per_page:20};m.onMounted(async()=>{if(console.log(t.types),t.types.length<=0){const A=await wt.material.getKinds({type:3});t.types=A;for(const v of A){const{list:B}=await wt.home.getCompList({cate:v.id,type:1,per_page:3});t.showList.push(B)}}});const r=A=>{A.preventDefault(),Hd=!1,Oi=null,dc={x:99999,y:99999}},i=A=>{A.preventDefault(),(A.x-dc.x>2||A.y-dc.y>2)&&(Hd=!0)},a=async(A=!1)=>{var B;if(A&&(t.list=[],n.page=0,t.loadDone=!1),t.loadDone||t.loading)return;t.loading=!0,n.page+=1;const v=await wt.home.getCompList({...Object.assign(n,{cate:(B=t.currentCategory)==null?void 0:B.id})});A?t.list=v==null?void 0:v.list:((v==null?void 0:v.list.length)<=0&&(t.loadDone=!0),t.list=t.list.concat(v==null?void 0:v.list)),setTimeout(()=>{t.loading=!1},100)};function l({name:A,value:v},B,x){switch(A){case"del":o(B,x);break}}function o({id:A},v){wt.home.removeComp({id:A}),t.list.splice(v,1)}const c=A=>{t.currentCategory=A,a(!0)},s=()=>{t.currentCategory=null};return{...m.toRefs(t),load:a,action:l,back:s,selectTypes:c,mouseup:r,mousemove:i}},methods:{...$e.mapActions(["addGroup","addWidget"]),async selectItem(e){if(Hd)return;this.$store.commit("setShowMoveable",!1),Oi=Oi||await wt.home.getTempDetail({id:e.id,type:1});const t=await _0(Oi.data);let n={x:0,y:0};const{width:r,height:i}=this.$store.getters.dPage;Array.isArray(t)&&t.forEach(a=>{a.type==="w-group"&&(n=a)}),n.isContainer?(t.forEach(a=>{a.left+=(r-n.width)/2,a.top+=(i-n.height)/2}),this.addGroup(t)):(t.text&&(t.text=decodeURIComponent(t.text)),t.left=r/2-t.fontSize*(t.text.length/2),t.top=i/2-t.fontSize/2,this.addWidget(t))},async dragStart(e,{id:t,width:n,height:r,cover:i}){dc={x:e.x,y:e.y};let a=0;gN.start(e,a),Oi=await wt.home.getTempDetail({id:t,type:1}),Array.isArray(JSON.parse(Oi.data))?this.$store.commit("selectItem",{data:JSON.parse(Oi.data),type:"group"}):this.$store.commit("selectItem",{data:JSON.parse(Oi.data),type:"text"})}}}),vN=e=>(m.pushScopeId("data-v-8dfd48b2"),e=e(),m.popScopeId(),e),mN={class:"wrap"},yN={class:"list-wrap"},CN=["onMousedown","onClick","onDragstart"],wN={key:0,class:"infinite-list","infinite-scroll-distance":150,style:{overflow:"auto"}},BN=["onMousedown","onClick","onDragstart"],bN={class:"loading"},EN=vN(()=>m.createElementVNode("i",{class:"el-icon-loading"},null,-1)),_N={class:"loading"};function SN(e,t,n,r,i,a){const l=m.resolveComponent("el-image"),o=m.resolveComponent("classHeader"),c=m.resolveComponent("el-space"),s=m.resolveDirective("infinite-scroll");return m.openBlock(),m.createElementBlock("div",mN,[m.withDirectives(m.createVNode(o,{types:e.types,onSelect:e.selectTypes},{default:m.withCtx(({index:A})=>[m.createElementVNode("div",yN,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.showList[A],(v,B)=>(m.openBlock(),m.createElementBlock("div",{key:B+"sl",draggable:"false",onMousedown:x=>e.dragStart(x,v),onMousemove:t[0]||(t[0]=(...x)=>e.mousemove&&e.mousemove(...x)),onMouseup:t[1]||(t[1]=(...x)=>e.mouseup&&e.mouseup(...x)),onClick:m.withModifiers(x=>e.selectItem(v),["stop"]),onDragstart:x=>e.dragStart(x,v)},[m.createVNode(l,{class:"list__img-thumb",src:v.cover,fit:"contain",lazy:"",loading:"lazy"},null,8,["src"])],40,CN))),128))])]),_:1},8,["types","onSelect"]),[[m.vShow,!e.currentCategory]]),e.currentCategory?m.withDirectives((m.openBlock(),m.createElementBlock("ul",wN,[m.createVNode(o,{"is-back":!0,onBack:e.back},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(e.currentCategory.name),1)]),_:1},8,["onBack"]),m.createVNode(c,{fill:"",wrap:"",fillRatio:30,direction:"horizontal",class:"list"},{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.list,(A,v)=>(m.openBlock(),m.createElementBlock("div",{key:v+"i",class:"list__item",draggable:"false",onMousedown:B=>e.dragStart(B,A),onMousemove:t[2]||(t[2]=(...B)=>e.mousemove&&e.mousemove(...B)),onMouseup:t[3]||(t[3]=(...B)=>e.mouseup&&e.mouseup(...B)),onClick:m.withModifiers(B=>e.selectItem(A),["stop"]),onDragstart:B=>e.dragStart(B,A)},[m.createVNode(l,{class:"list__img",src:A.cover,fit:"contain",lazy:"",loading:"lazy"},null,8,["src"])],40,BN))),128))]),_:1}),m.withDirectives(m.createElementVNode("div",bN,[EN,m.createTextVNode(" \u62FC\u547D\u52A0\u8F7D\u4E2D")],512),[[m.vShow,e.loading]]),m.withDirectives(m.createElementVNode("div",_N,"\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5",512),[[m.vShow,e.loadDone]])])),[[s,e.load]]):m.createCommentVNode("",!0)])}var Mw=ct(pN,[["render",SN],["__scopeId","data-v-8dfd48b2"]]),IN=Object.freeze(Object.defineProperty({__proto__:null,default:Mw},Symbol.toStringTag,{value:"Module"})),rX="";let jd=!1,gc={x:99999,y:99999};const xN=new Qd,MN=m.defineComponent({components:{},props:["active"],setup(e){const t=["#f8704b","#5b89ff","#2cc4cc","#a8ba73","#f8704b"],n=m.reactive({loading:!1,loadDone:!1,sub:[],list:[],currentType:2,currentCheck:0,colors:t,currentCategory:null,types:[],showList:[],searchKeyword:""}),r={page:0,per_page:20};m.onMounted(async()=>{if(n.types.length<=0){const A=await wt.material.getKinds({type:2});n.types=A;for(const v of A){const{list:B}=await wt.material.getList({cate:v.id,per_page:3});n.showList.push(B)}}});const i=A=>{A.preventDefault(),setTimeout(()=>{jd=!1,gc={x:99999,y:99999}},10)},a=A=>{A.preventDefault(),(A.x-gc.x>2||A.y-gc.y>2)&&(jd=!0)},l=async(A=!1)=>{var B;if(A&&(n.list=[],r.page=0,n.loadDone=!1),n.loadDone||n.loading)return;n.loading=!0,r.page+=1;const v=await wt.material.getList({cate:(B=n.currentCategory)==null?void 0:B.id,search:n.searchKeyword,...r});A?n.list=v==null?void 0:v.list:n.list=n.list.concat(v==null?void 0:v.list),(v==null?void 0:v.list.length)<=0&&(n.loadDone=!0),setTimeout(()=>{n.loading=!1},100)},o=A=>{n.currentCategory={name:"\u641C\u7D22\u7ED3\u679C"},l(!0)},c=A=>{n.currentCategory=A,l(!0)},s=()=>{n.currentCategory=null};return{...m.toRefs(n),load:l,searchChange:o,selectTypes:c,back:s,mouseup:i,mousemove:a}},computed:{...$e.mapGetters(["dPage"])},methods:{...$e.mapActions(["addWidget"]),async selectItem(e){if(jd)return;this.$store.commit("setShowMoveable",!1);let t=e.type==="svg"?JSON.parse(JSON.stringify(ms.setting)):JSON.parse(JSON.stringify(na.setting));const n=await ea(e);t.width=n.width,t.height=n.height;const{width:r,height:i}=this.dPage;if(t.left=r/2-n.width/2,t.top=i/2-n.height/2,t.imgUrl=e.url,e.type==="svg"){t.svgUrl=e.url;const a=JSON.parse(e.model);for(const l in a)Object.hasOwnProperty.call(a,l)&&(t[l]=a[l])}e.type==="mask"&&(t.mask=e.url),this.addWidget(t)},async dragStart(e,t){gc={x:e.x,y:e.y};const{width:n,height:r,thumb:i,url:a}=t,l=await ea({width:n,height:r,url:i||a});xN.start(e,l.canvasWidth),this.$store.commit("selectItem",{data:{value:t},type:t.type})}}}),Dw=e=>(m.pushScopeId("data-v-3a0152a9"),e=e(),m.popScopeId(),e),DN={class:"wrap"},TN=Dw(()=>m.createElementVNode("div",{style:{height:"0.5rem"}},null,-1)),ON={class:"list-wrap"},FN=["onMousedown","onClick","onDragstart"],kN={key:0,class:"infinite-list","infinite-scroll-distance":150,style:{overflow:"auto"}},UN=["onMousedown","onClick","onDragstart"],LN={class:"loading"},PN=Dw(()=>m.createElementVNode("i",{class:"el-icon-loading"},null,-1));function NN(e,t,n,r,i,a){const l=m.resolveComponent("search-header"),o=m.resolveComponent("el-image"),c=m.resolveComponent("classHeader"),s=m.resolveComponent("el-space"),A=m.resolveDirective("infinite-scroll");return m.openBlock(),m.createElementBlock("div",DN,[m.createVNode(l,{modelValue:e.searchKeyword,"onUpdate:modelValue":t[0]||(t[0]=v=>e.searchKeyword=v),type:"none",onChange:e.searchChange},null,8,["modelValue","onChange"]),TN,m.withDirectives(m.createVNode(c,{types:e.types,onSelect:e.selectTypes},{default:m.withCtx(({index:v})=>[m.createElementVNode("div",ON,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.showList[v],(B,x)=>(m.openBlock(),m.createElementBlock("div",{key:x+"sl",draggable:"false",onMousedown:M=>e.dragStart(M,B),onMousemove:t[1]||(t[1]=(...M)=>e.mousemove&&e.mousemove(...M)),onMouseup:t[2]||(t[2]=(...M)=>e.mouseup&&e.mouseup(...M)),onClick:m.withModifiers(M=>e.selectItem(B),["stop"]),onDragstart:M=>e.dragStart(M,B)},[m.createVNode(o,{class:"list__img-thumb",src:B.thumb,fit:"contain",lazy:"",loading:"lazy"},null,8,["src"])],40,FN))),128))])]),_:1},8,["types","onSelect"]),[[m.vShow,!e.currentCategory]]),e.currentCategory?m.withDirectives((m.openBlock(),m.createElementBlock("ul",kN,[m.createVNode(c,{"is-back":!0,onBack:e.back},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(e.currentCategory.name),1)]),_:1},8,["onBack"]),m.createVNode(s,{fill:"",wrap:"",fillRatio:30,direction:"horizontal",class:"list"},{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.list,(v,B)=>(m.openBlock(),m.createElementBlock("div",{key:B+"i",class:"list__item",draggable:"false",onMousedown:x=>e.dragStart(x,v),onMousemove:t[3]||(t[3]=(...x)=>e.mousemove&&e.mousemove(...x)),onMouseup:t[4]||(t[4]=(...x)=>e.mouseup&&e.mouseup(...x)),onClick:m.withModifiers(x=>e.selectItem(v),["stop"]),onDragstart:x=>e.dragStart(x,v)},[m.createVNode(o,{class:"list__img",src:v.thumb,fit:"contain",lazy:"",loading:"lazy"},null,8,["src"])],40,UN))),128))]),_:1}),m.withDirectives(m.createElementVNode("div",LN,[PN,m.createTextVNode(" \u62FC\u547D\u52A0\u8F7D\u4E2D")],512),[[m.vShow,e.loading]]),m.withDirectives(m.createElementVNode("div",{style:m.normalizeStyle(e.list.length<=0?"padding-top: 4rem":""),class:"loading"},"\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5",4),[[m.vShow,e.loadDone]])])),[[A,e.load]]):m.createCommentVNode("",!0)])}var Tw=ct(MN,[["render",NN],["__scopeId","data-v-3a0152a9"]]),RN=Object.freeze(Object.defineProperty({__proto__:null,default:Tw},Symbol.toStringTag,{value:"Module"})),iX="";const QN={name:"img-list-wrap",components:{},props:["active"],setup(){const e=$e.useStore(),t=m.reactive({recommendImgList:[],loadDone:!1,page:0,currentCategory:null,types:[],showList:[]}),n=m.computed(()=>e.getters.dPage);let r=!1;m.onMounted(async()=>{if(t.types.length<=0){const A=await wt.material.getKinds({type:4});t.types=A;for(const v of A){const{list:B}=await wt.material.getImagesList({cate:v.id,per_page:2});t.showList.push(B)}}});const i=async(A,v)=>{const B=v?v[A]:t.recommendImgList[A];e.commit("setShowMoveable",!1);let x=JSON.parse(JSON.stringify(na.setting));const M=await ea(B);x.width=M.width,x.height=M.height,x.imgUrl=B.url;const{width:T,height:p}=n;x.left=T/2-M.width/2,x.top=p/2-M.height/2,e.dispatch("addWidget",x)},a=async()=>{if(t.loadDone||r)return;r=!0,t.page+=1;let{list:A=[],total:v}=await wt.material.getImagesList({cate:t.currentCategory.id,page:t.page,per_page:30});A.length<=0?t.loadDone=!0:t.recommendImgList=t.recommendImgList.concat(A),setTimeout(()=>{r=!1},100)},l=(A,v)=>{const B=v?v[A]:t.recommendImgList[A];e.commit("selectItem",{data:{value:B},type:"image"})},o=A=>{console.log(A)},c=A=>{t.currentCategory=A,a()},s=()=>{t.currentCategory=null,t.page=0,t.loadDone=!1,t.recommendImgList=[]};return{...m.toRefs(t),selectImg:i,getDataList:a,dragStart:l,searchChange:o,selectTypes:c,back:s}}},pc=e=>(m.pushScopeId("data-v-75d052a4"),e=e(),m.popScopeId(),e),HN={class:"wrap"},jN=pc(()=>m.createElementVNode("div",{style:{height:"0.5rem"}},null,-1)),zN={key:0},VN=pc(()=>m.createElementVNode("br",null,null,-1)),GN=pc(()=>m.createElementVNode("br",null,null,-1)),WN=pc(()=>m.createElementVNode("br",null,null,-1)),YN={style:{margin:"0 1rem",height:"100vh"}};function XN(e,t,n,r,i,a){const l=m.resolveComponent("search-header"),o=m.resolveComponent("photo-list"),c=m.resolveComponent("classHeader");return m.openBlock(),m.createElementBlock("div",HN,[m.createVNode(l,{type:"none",onChange:r.searchChange},null,8,["onChange"]),jN,m.withDirectives(m.createVNode(c,{types:e.types,onSelect:r.selectTypes},{default:m.withCtx(({index:s})=>[m.createVNode(o,{isShort:!0,listData:e.showList[s],onLoad:r.getDataList,onDrag:A=>r.dragStart(A,e.showList[s]),onSelect:A=>r.selectImg(A,e.showList[s])},null,8,["listData","onLoad","onDrag","onSelect"])]),_:1},8,["types","onSelect"]),[[m.vShow,!e.currentCategory]]),e.currentCategory?(m.openBlock(),m.createElementBlock("div",zN,[m.createVNode(c,{"is-back":!0,onBack:r.back},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(e.currentCategory.name),1)]),_:1},8,["onBack"]),VN,GN,WN,m.createElementVNode("div",YN,[m.createVNode(o,{isDone:e.loadDone,listData:e.recommendImgList,onLoad:r.getDataList,onDrag:r.dragStart,onSelect:r.selectImg},null,8,["isDone","listData","onLoad","onDrag","onSelect"])])])):m.createCommentVNode("",!0)])}var Ow=ct(QN,[["render",XN],["__scopeId","data-v-75d052a4"]]),KN=Object.freeze(Object.defineProperty({__proto__:null,default:Ow},Symbol.toStringTag,{value:"Module"})),oX="",sX="",AX="",lX="",cX="",uX="",fX="",hX="";const ZN=m.defineComponent({components:{ElDropdown:jt.ElDropdown,ElDropdownItem:jt.ElDropdownItem,ElDropdownMenu:jt.ElDropdownMenu},props:["type","modelValue"],emits:["update:modelValue"],setup(e,t){const n=m.reactive({searchValue:"",materialCates:[],currentIndex:0});e.type!="none"&&wt.home.getCategories({type:1}).then(i=>{i.unshift({id:0,name:"\u5168\u90E8"}),n.materialCates=i}),m.watch(()=>n.searchValue,()=>{t.emit("update:modelValue",n.searchValue)});function r(i,a,l){l&&(n.currentIndex=l),t.emit(i,a)}return{...m.toRefs(n),action:r}}}),JN=e=>(m.pushScopeId("data-v-6f8d40de"),e=e(),m.popScopeId(),e),$N={class:"search__wrap"},qN=JN(()=>m.createElementVNode("i",{class:"iconfont icon-search"},null,-1));function eR(e,t,n,r,i,a){const l=m.resolveComponent("el-button"),o=m.resolveComponent("el-input");return m.openBlock(),m.createElementBlock("div",$N,[m.createVNode(o,{modelValue:e.searchValue,"onUpdate:modelValue":t[0]||(t[0]=c=>e.searchValue=c),size:"large",placeholder:"\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",class:"input-with-select ml-3"},{append:m.withCtx(()=>[m.createVNode(l,null,{default:m.withCtx(()=>[qN]),_:1})]),_:1},8,["modelValue"])])}var Fw=ct(ZN,[["render",eR],["__scopeId","data-v-6f8d40de"]]),tR=Object.freeze(Object.defineProperty({__proto__:null,default:Fw},Symbol.toStringTag,{value:"Module"})),dX="",gX="",pX="",zd=(e="\u63D0\u793A",t="",n="success")=>new Promise(r=>{jt.ElMessageBox.confirm(t,e,{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:n}).then(()=>{r(!0)}).catch(()=>{r(!1)})}),vX="";const nR=m.defineComponent({components:{ElDropdown:jt.ElDropdown,ElDropdownItem:jt.ElDropdownItem,ElDropdownMenu:jt.ElDropdownMenu},props:{options:{default:()=>[]},data:{}},emits:["action"],setup(e,t){async function n(r,i){if(r==="del"&&!await zd("\u8B66\u544A","\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D,\u662F\u5426\u7EE7\u7EED","warning"))return!1;t.emit("action",{name:r,value:i})}return{action:n}}}),rR=e=>(m.pushScopeId("data-v-9746184a"),e=e(),m.popScopeId(),e),iR={class:"wrap"},aR=rR(()=>m.createElementVNode("i",{class:"iconfont icon-more"},null,-1));function oR(e,t,n,r,i,a){const l=m.resolveComponent("el-dropdown-item"),o=m.resolveComponent("el-dropdown-menu"),c=m.resolveComponent("el-dropdown");return m.openBlock(),m.createElementBlock("div",iR,[m.renderSlot(e.$slots,"default",{},void 0,!0),m.createElementVNode("div",{class:"showMask",onClick:t[0]||(t[0]=m.withModifiers(()=>{},["stop"]))},[m.createVNode(c,{placement:"bottom-end","show-arrow":!1},{dropdown:m.withCtx(()=>[m.createVNode(o,null,{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.options,(s,A)=>(m.openBlock(),m.createBlock(l,{key:A+"o",onClick:v=>s.fn(e.data)},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(s.name),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:m.withCtx(()=>[aR]),_:1})])])}var kw=ct(nR,[["render",oR],["__scopeId","data-v-9746184a"]]),sR=Object.freeze(Object.defineProperty({__proto__:null,default:kw},Symbol.toStringTag,{value:"Module"})),mX="";const AR="img-water-fall",lR=m.defineComponent({name:AR,components:{editModel:kw},props:{listData:{type:Array,required:!0},edit:{}},emits:["select","load"],setup(e,{emit:t}){const n=m.reactive({width:146,list:[],countHeight:0}),r=[],i=2,a=7;m.watch(()=>e.listData,()=>{r.length=0;const s=n.width*i,A=JSON.parse(JSON.stringify(e.listData));for(let v=0;v<A.length;v++){let B=v%i;const x=A[v];x.height=x.height/x.width*n.width,x.left=B*(s/i+a),x.top=r[B]+a||0,isNaN(r[B])?r[B]=x.height:(B=r.indexOf(Math.min(...r)),x.left=B*(s/i+a),x.top=r[B]+a||0,r[B]=x.height+r[B]+a)}n.countHeight=Math.max(...r),n.list=A});const l=()=>{t("load")},o=(s,A)=>{t("select",s)},c=s=>{s.fail=!0};return{...m.toRefs(n),load:l,selectItem:o,loadError:c}}}),cR=["onClick"],uR={key:0,class:"list__mask"},fR={key:2,class:"fail_img"};function hR(e,t,n,r,i,a){const l=m.resolveComponent("el-image"),o=m.resolveComponent("edit-model");return m.openBlock(),m.createElementBlock("div",{ref:"imgWaterFall",style:m.normalizeStyle({height:e.countHeight+"px"}),class:"img-water-fall"},[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.list,(c,s)=>(m.openBlock(),m.createElementBlock("div",{key:s+"iwf",style:m.normalizeStyle({top:c.top+"px",left:c.left+"px",width:e.width+"px",height:c.height+"px"}),class:"img-box",onClick:m.withModifiers(A=>e.selectItem(c,s),["stop"])},[e.edit?(m.openBlock(),m.createBlock(o,{key:0,options:e.edit,data:{item:c,i:s}},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(c.isDelect)+" ",1),c.isDelect?(m.openBlock(),m.createElementBlock("div",uR,"\u5DF2\u5220\u9664")):m.createCommentVNode("",!0),c.fail?(m.openBlock(),m.createElementBlock("div",fR,m.toDisplayString(c.title),1)):(m.openBlock(),m.createBlock(l,{key:1,class:"img",src:c.cover,lazy:"",loading:"lazy",onError:A=>e.loadError(c)},null,8,["src","onError"]))]),_:2},1032,["options","data"])):(m.openBlock(),m.createBlock(l,{key:1,class:"img",src:c.cover,lazy:"",loading:"lazy",onError:A=>e.loadError(c)},null,8,["src","onError"]))],12,cR))),128))],4)}var Uw=ct(lR,[["render",hR],["__scopeId","data-v-58ea164a"]]),dR=Object.freeze(Object.defineProperty({__proto__:null,default:Uw},Symbol.toStringTag,{value:"Module"})),yX="";const gR=m.defineComponent({components:{searchHeader:Fw,imgWaterFall:Uw},props:{isModal:{type:Boolean}},setup(e){const t=m.getCurrentInstance(),n=m.ref(null),r=$e.useStore(),i=m.reactive({loading:!1,loadDone:!1,list:[],title:"\u63A8\u8350\u6A21\u677F",searchKeyword:""}),a={page:0,per_page:20,cate:0},l=m.computed(()=>r.state.templateDate),o=m.computed(()=>r.state.templateId),c=async(v=!1,B)=>{if(B&&(a.state=B),v&&(n.value.scrollTop=0,i.list=[],a.page=0,i.loadDone=!1),i.loadDone||i.loading)return;i.loading=!0,a.page+=1;const x=await wt.home.getTempList({search:i.searchKeyword,...a,sort:"id",order:"desc"});x.list.length<=0&&(i.loadDone=!0),i.list=i.list.concat(x.list),setTimeout(()=>{i.loading=!1,A()},100)};function s(v){i.title=v.name;const B=a.cate!=v.id;a.cate=v.id,c(B,a.stat)}function A(){n.value.offsetHeight>n.value.firstElementChild.offsetHeight&&c()}return m.watch(()=>l.value,v=>{c(!0)}),m.watch(()=>o.value,async v=>{var B,x,M;if(v){r.commit("setShowMoveable",!1),r.commit("managerEdit",!1),r.commit("setDWidgets",[]);const T=await wt.home.getTempDetail({id:v}),p=JSON.parse(T.data),{page:u,widgets:g}=p,C=(B=r.state)==null?void 0:B.imgs;C&&C.length&&(u.backgroundImage=C[0]),r.commit("setDPage",u),(x=t==null?void 0:t.proxy)==null||x.setTemplate(g),setTimeout(()=>{r.commit("zoomScreenChange")},300),(M=t==null?void 0:t.proxy)==null||M.selectWidget({uuid:"-1"})}}),{...m.toRefs(i),load:c,cateChange:s,listRef:n}},computed:{...$e.mapGetters(["tempEditing","dHistoryParams"])},methods:{...$e.mapActions(["selectWidget","updatePageData","setTemplate","pushHistory"]),async selectItem(e){this.setTempId(e.id)},setTempId(e){this.$store.commit("setState",{key:"templateId",value:e})}}}),pR=e=>(m.pushScopeId("data-v-141b759b"),e=e(),m.popScopeId(),e),vR={class:"wrap"},mR={ref:"listRef",class:"infinite-list","infinite-scroll-distance":150,style:{overflow:"auto"}},yR={class:"loading"},CR=pR(()=>m.createElementVNode("i",{class:"el-icon-loading"},null,-1));function wR(e,t,n,r,i,a){const l=m.resolveComponent("search-header"),o=m.resolveComponent("img-water-fall"),c=m.resolveDirective("infinite-scroll");return m.openBlock(),m.createElementBlock("div",vR,[m.createVNode(l,{modelValue:e.searchKeyword,"onUpdate:modelValue":t[0]||(t[0]=s=>e.searchKeyword=s),onChange:e.cateChange},null,8,["modelValue","onChange"]),m.withDirectives((m.openBlock(),m.createElementBlock("ul",mR,[m.createVNode(o,{listData:e.list,onSelect:e.selectItem},null,8,["listData","onSelect"]),m.withDirectives(m.createElementVNode("div",yR,[CR,m.createTextVNode(" \u62FC\u547D\u52A0\u8F7D\u4E2D")],512),[[m.vShow,e.loading]])])),[[c,e.load]])])}var Lw=ct(gR,[["render",wR],["__scopeId","data-v-141b759b"]]),BR=Object.freeze(Object.defineProperty({__proto__:null,default:Lw},Symbol.toStringTag,{value:"Module"})),CX="";const bR={name:"text-list-wrap",setup(){const e=$e.useStore(),{proxy:t}=m.getCurrentInstance();return{selectBasicText:i=>{e.commit("setShowMoveable",!1);let a=JSON.parse(JSON.stringify(vs.setting));a.text="\u53CC\u51FB\u7F16\u8F91\u6587\u5B57",a.width=i.fontSize*a.text.length,a.fontSize=i.fontSize,a.fontWeight=i.fontWeight;const{width:l,height:o}=e.getters.dPage;a.left=l/2-i.fontSize*3,a.top=o/2-i.fontSize/2,t.addWidget(a)},dragStart:(i,a)=>{e.commit("setDraging",!0),e.commit("selectItem",{data:{value:a},type:"text"})}}},data(){return{basicTextList:[{text:"+ \u6DFB\u52A0\u6587\u5B57",fontSize:60,fontWeight:"bold"}]}},methods:{...$e.mapActions(["addWidget"])}},ER={id:"text-list-wrap",style:{"margin-top":"0.5rem"}},_R={class:"basic-text-wrap"},SR=["onClick","onDragstart"],IR={class:"other-text-wrap"};function xR(e,t,n,r,i,a){const l=m.resolveComponent("comp-list-wrap");return m.openBlock(),m.createElementBlock("div",ER,[m.createElementVNode("ul",_R,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.basicTextList,(o,c)=>(m.openBlock(),m.createElementBlock("div",{key:c,class:"basic-text-item",style:m.normalizeStyle({fontSize:14+"px",fontWeight:o.fontWeight}),draggable:"true",onClick:s=>r.selectBasicText(o),onDragstart:s=>r.dragStart(s,o)},m.toDisplayString(o.text),45,SR))),128))]),m.createElementVNode("div",IR,[m.createVNode(l)])])}var Pw=ct(bR,[["render",xR],["__scopeId","data-v-57e112ba"]]),MR=Object.freeze(Object.defineProperty({__proto__:null,default:Pw},Symbol.toStringTag,{value:"Module"})),BX="";const DR={name:"tool-list-wrap",components:{imageCutout:jh},data(){return{loadDone:!1}},computed:{...$e.mapGetters(["dPage"])},mounted(){},methods:{...$e.mapActions(["addWidget"]),async getDataList(){this.loadDone||this.loading||(this.loading=!0,this.page+=1)},addQrcode(){this.$store.commit("setShowMoveable",!1);let e=JSON.parse(JSON.stringify(xh.setting));const{width:t,height:n}=this.dPage;e.left=t/2-e.width/2,e.top=n/2-e.height/2,this.addWidget(e)},openImageCutout(){this.$refs.imageCutout.open()}}},Ao=e=>(m.pushScopeId("data-v-401c999e"),e=e(),m.popScopeId(),e),TR={class:"wrap"},OR=Ao(()=>m.createElementVNode("div",{class:"header"},"\u7EC4\u4EF6",-1)),FR=[Ao(()=>m.createElementVNode("i",{class:"icon sd-w-qrcode"},null,-1)),Ao(()=>m.createElementVNode("div",{class:"text"},[m.createElementVNode("span",null,"\u4E8C\u7EF4\u7801"),m.createElementVNode("span",{class:"desc"},"\u5728\u8BBE\u8BA1\u4E2D\u4F7F\u7528\u98CE\u683C\u5316\u4E8C\u7EF4\u7801")],-1))],kR=Ao(()=>m.createElementVNode("div",{class:"header"},"\u5176\u5B83",-1)),UR=[Ao(()=>m.createElementVNode("i",{class:"icon sd-AI_zhineng"},null,-1)),Ao(()=>m.createElementVNode("div",{class:"text"},[m.createElementVNode("span",null,"\u667A\u80FD\u62A0\u56FE"),m.createTextVNode(),m.createElementVNode("span",{class:"desc"},"\u4E0A\u4F20\u56FE\u50CF\u4E00\u952E\u53BB\u9664\u80CC\u666F")],-1))];function LR(e,t,n,r,i,a){const l=m.resolveComponent("imageCutout");return m.openBlock(),m.createElementBlock("div",TR,[OR,m.createElementVNode("div",{class:"item",onClick:t[0]||(t[0]=(...o)=>a.addQrcode&&a.addQrcode(...o))},FR),kR,m.createElementVNode("div",{class:"item",onClick:t[1]||(t[1]=(...o)=>a.openImageCutout&&a.openImageCutout(...o))},UR),m.createVNode(l,{ref:"imageCutout"},null,512)])}var Nw=ct(DR,[["render",LR],["__scopeId","data-v-401c999e"]]),PR=Object.freeze(Object.defineProperty({__proto__:null,default:Nw},Symbol.toStringTag,{value:"Module"})),xX="",MX="",DX="";const NR=m.defineComponent({components:{uploader:pl,ElTabPane:jt.ElTabPane,ElTabs:jt.ElTabs},props:["active"],setup(e){const t=$e.useStore(),n=m.reactive({prePath:"user",percent:{num:0},imgList:[],designList:[],isDone:!1,editOptions:[],listRef:null,imgListRef:null,tabActiveName:""});let r=!1,i=0,a=0;const l=u=>{u&&(n.imgList=[],i=0,n.isDone=!1),!(n.isDone||r)&&(r=!0,i+=1,wt.material.getMyPhoto({page:i}).then(({list:g})=>{g.length<=0?n.isDone=!0:n.imgList=n.imgList.concat(g),setTimeout(()=>{r=!1,c(n.imgListRef.getRef(),l)},100)}))},o=(u=!1)=>{u&&(n.designList=[],a=0,n.isDone=!1),!(n.isDone||r)&&(r=!0,a+=1,wt.home.getMyDesign({page:a,per_page:10}).then(({list:g})=>{g.length<=0?n.isDone=!0:n.designList=n.designList.concat(g.map(C=>(C.cover=C.cover+"?r="+Math.random(),C))),setTimeout(()=>{r=!1,c(n.listRef,o)},100)}))};function c(u,g){u.offsetHeight>u.firstElementChild.offsetHeight&&g()}m.onMounted(()=>{l(!0),m.nextTick(()=>{n.tabActiveName="pics"})});const s=async u=>{const g=n.imgList[u];t.commit("setShowMoveable",!1);let C=JSON.parse(JSON.stringify(na.setting));const f=await ea(g);C.width=f.width,C.height=f.height,C.imgUrl=g.url;const{width:d,height:h}=t.getters.dPage;C.left=d/2-f.width/2,C.top=h/2-f.height/2,t.dispatch("addWidget",C)},A=async({i:u,item:g})=>{if(t.commit("setShowMoveable",!1),!await zd("\u8B66\u544A","\u5220\u9664\u540E\u4E0D\u53EF\u627E\u56DE\uFF0C\u5DF2\u5F15\u7528\u8D44\u6E90\u5C06\u4F1A\u5931\u6548\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C","warning"))return!1;const f=g.url.split("/");let d=f.splice(3,f.length-1).join("/");wt.material.deleteMyPhoto({id:g.id,key:d}),n.imgListRef.delItem(u)},v=async({i:u,item:g})=>{await zd("\u8B66\u544A","\u5220\u9664\u540E\u4E0D\u53EF\u627E\u56DE\uFF0C\u8BF7\u786E\u8BA4\u64CD\u4F5C","warning")&&(await wt.material.deleteMyWorks({id:g.id}),setTimeout(()=>{o(!0)},300))};n.editOptions={photo:[{name:"\u5220\u9664",fn:A}],works:[{name:"\u5220\u9664",fn:v}]};const B=u=>{const g=n.imgList[u];t.commit("selectItem",{data:{value:g},type:"image"})},x=async u=>{await wt.material.addMyPhoto(u),n.imgList=[],l(!0)},M=u=>{u==="design"&&o(!0)},T=async u=>{const{id:g}=u;window.open(`${window.location.protocol+"//"+window.location.host}/home?id=${g}`)},p=()=>{};return{...m.toRefs(n),selectDesign:T,loadDesign:o,load:l,uploadDone:x,selectImg:s,deleteImg:A,dragStart:B,tabChange:M,openPSD:p}}}),RR=e=>(m.pushScopeId("data-v-2589a4d1"),e=e(),m.popScopeId(),e),QR={class:"wrap"},HR=RR(()=>m.createElementVNode("i",{class:"iconfont icon-upload"},null,-1)),jR={style:{margin:"1rem",height:"100vh"}},zR={class:"wrap"},VR={ref:"listRef",class:"infinite-list","infinite-scroll-distance":150,style:{overflow:"auto"}},GR={class:"loading"};function WR(e,t,n,r,i,a){const l=m.resolveComponent("el-tab-pane"),o=m.resolveComponent("el-tabs"),c=m.resolveComponent("el-button"),s=m.resolveComponent("uploader"),A=m.resolveComponent("photo-list"),v=m.resolveComponent("img-water-fall"),B=m.resolveDirective("infinite-scroll");return m.openBlock(),m.createElementBlock("div",QR,[m.createVNode(o,{modelValue:e.tabActiveName,"onUpdate:modelValue":t[0]||(t[0]=x=>e.tabActiveName=x),stretch:!0,class:"tabs",onTabChange:e.tabChange},{default:m.withCtx(()=>[m.createVNode(l,{label:"\u8D44\u6E90\u7BA1\u7406",name:"pics"}),m.createVNode(l,{label:"\u6211\u7684\u4F5C\u54C1",name:"design"})]),_:1},8,["modelValue","onTabChange"]),m.withDirectives(m.createElementVNode("div",null,[m.createVNode(s,{modelValue:e.percent,"onUpdate:modelValue":t[1]||(t[1]=x=>e.percent=x),class:"upload",onDone:e.uploadDone},{default:m.withCtx(()=>[m.createVNode(c,{class:"upload-btn",plain:""},{default:m.withCtx(()=>[m.createTextVNode("\u4E0A\u4F20\u56FE\u7247 "),HR]),_:1})]),_:1},8,["modelValue","onDone"]),m.createVNode(c,{class:"upload-btn upload-psd",plain:"",type:"primary",onClick:e.openPSD},{default:m.withCtx(()=>[m.createTextVNode("\u4E0A\u4F20 PSD \u6A21\u677F")]),_:1},8,["onClick"]),m.createElementVNode("div",jR,[m.createVNode(A,{ref:"imgListRef",edit:e.editOptions.photo,isDone:e.isDone,listData:e.imgList,onLoad:e.load,onDrag:e.dragStart,onSelect:e.selectImg},null,8,["edit","isDone","listData","onLoad","onDrag","onSelect"])])],512),[[m.vShow,e.tabActiveName==="pics"]]),m.withDirectives(m.createElementVNode("div",zR,[m.withDirectives((m.openBlock(),m.createElementBlock("ul",VR,[m.createVNode(v,{edit:e.editOptions.works,listData:e.designList,onSelect:e.selectDesign},null,8,["edit","listData","onSelect"]),m.withDirectives(m.createElementVNode("div",GR,"\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5",512),[[m.vShow,e.isDone]])])),[[B,e.loadDesign]])],512),[[m.vShow,e.tabActiveName==="design"]])])}var Rw=ct(NR,[["render",WR],["__scopeId","data-v-2589a4d1"]]),YR=Object.freeze(Object.defineProperty({__proto__:null,default:Rw},Symbol.toStringTag,{value:"Module"})),TX="";const XR={name:"widget-panel",components:{BgImgListWrap:xw,CompListWrap:Mw,GraphListWrap:Tw,PhotoListWrap:Ow,TempListWrap:Lw,TextListWrap:Pw,ToolsListWrap:Nw,UserWrap:Rw},props:{noMenu:{type:Boolean}},setup(e){const t=m.reactive({widgetClassifyList:nN,activeWidgetClassify:0,active:!0}),n=r=>{t.activeWidgetClassify=r,t.active=!0};return m.onMounted(async()=>{await m.nextTick()}),m.watch(()=>t.activeWidgetClassify,r=>{r>=0&&r<t.widgetClassifyList.length&&(t.widgetClassifyList[r].show=!0)}),{clickClassify:n,...m.toRefs(t),...e||{}}},methods:{...$e.mapActions(["updateScreen"])}},KR={id:"widget-panel"},ZR={class:"widget-classify"},JR={class:"classify-wrap"},$R=["onClick"],qR={class:"widget-wrap"};function eQ(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",KR,[m.withDirectives(m.createElementVNode("div",ZR,[m.createElementVNode("ul",JR,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.widgetClassifyList,(l,o)=>(m.openBlock(),m.createElementBlock("li",{key:o,class:m.normalizeClass(["classify-item",{"active-classify-item":e.activeWidgetClassify===o}]),onClick:c=>r.clickClassify(o)},[m.createElementVNode("i",{class:m.normalizeClass(["iconfont","icon",l.icon]),style:m.normalizeStyle(l.style)},null,6),m.createElementVNode("p",null,m.toDisplayString(l.name),1)],10,$R))),128))])],512),[[m.vShow,!n.noMenu]]),m.withDirectives(m.createElementVNode("div",qR,[(m.openBlock(),m.createBlock(m.resolveDynamicComponent(e.widgetClassifyList[e.activeWidgetClassify].component),{isModal:n.noMenu},null,8,["isModal"]))],512),[[m.vShow,e.active]])])}var Qw=ct(XR,[["render",eQ],["__scopeId","data-v-1943f226"]]),tQ=Object.freeze(Object.defineProperty({__proto__:null,default:Qw},Symbol.toStringTag,{value:"Module"})),zs=[{key:"align",icon:"icon-align-left",tip:"\u5DE6\u5BF9\u9F50",value:"left"},{key:"align",icon:"icon-align-center-horiz",tip:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",value:"ch"},{key:"align",icon:"icon-align-right",tip:"\u53F3\u5BF9\u9F50",value:"right"},{key:"align",icon:"icon-align-top",tip:"\u4E0A\u5BF9\u9F50",value:"top"},{key:"align",icon:"icon-align-center-verti",tip:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",value:"cv"},{key:"align",icon:"icon-align-bottom",tip:"\u4E0B\u5BF9\u9F50",value:"bottom"}];/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vc=function(t){return typeof t}:vc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function nQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(){return oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(this,arguments)}function rQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iQ(e,t){if(e==null)return{};var n=rQ(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}var aQ="1.14.0";function si(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var Ai=si(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Vs=si(/Edge/i),jw=si(/firefox/i),Gs=si(/safari/i)&&!si(/chrome/i)&&!si(/android/i),zw=si(/iP(ad|od|hone)/i),oQ=si(/chrome/i)&&si(/android/i),Vw={capture:!1,passive:!1};function kt(e,t,n){e.addEventListener(t,n,!Ai&&Vw)}function Mt(e,t,n){e.removeEventListener(t,n,!Ai&&Vw)}function mc(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function sQ(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Wr(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&mc(e,t):mc(e,t))||r&&e===n)return e;if(e===n)break}while(e=sQ(e))}return null}var Gw=/\s+/g;function sr(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Gw," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Gw," ")}}function ht(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function lo(e,t){var n="";if(typeof e=="string")n=e;else do{var r=ht(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Ww(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function Yr(){var e=document.scrollingElement;return e||document.documentElement}function _n(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,l,o,c,s,A,v;if(e!==window&&e.parentNode&&e!==Yr()?(a=e.getBoundingClientRect(),l=a.top,o=a.left,c=a.bottom,s=a.right,A=a.height,v=a.width):(l=0,o=0,c=window.innerHeight,s=window.innerWidth,A=window.innerHeight,v=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!Ai))do if(i&&i.getBoundingClientRect&&(ht(i,"transform")!=="none"||n&&ht(i,"position")!=="static")){var B=i.getBoundingClientRect();l-=B.top+parseInt(ht(i,"border-top-width")),o-=B.left+parseInt(ht(i,"border-left-width")),c=l+a.height,s=o+a.width;break}while(i=i.parentNode);if(r&&e!==window){var x=lo(i||e),M=x&&x.a,T=x&&x.d;x&&(l/=T,o/=M,v/=M,A/=T,c=l+A,s=o+v)}return{top:l,left:o,bottom:c,right:s,width:v,height:A}}}function Yw(e,t,n){for(var r=Fi(e,!0),i=_n(e)[t];r;){var a=_n(r)[n],l=void 0;if(n==="top"||n==="left"?l=i>=a:l=i<=a,!l)return r;if(r===Yr())break;r=Fi(r,!1)}return!1}function co(e,t,n,r){for(var i=0,a=0,l=e.children;a<l.length;){if(l[a].style.display!=="none"&&l[a]!==dt.ghost&&(r||l[a]!==dt.dragged)&&Wr(l[a],n.draggable,e,!1)){if(i===t)return l[a];i++}a++}return null}function Vd(e,t){for(var n=e.lastElementChild;n&&(n===dt.ghost||ht(n,"display")==="none"||t&&!mc(n,t));)n=n.previousElementSibling;return n||null}function mr(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==dt.clone&&(!t||mc(e,t))&&n++;return n}function Xw(e){var t=0,n=0,r=Yr();if(e)do{var i=lo(e),a=i.a,l=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*l}while(e!==r&&(e=e.parentNode));return[t,n]}function AQ(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Fi(e,t){if(!e||!e.getBoundingClientRect)return Yr();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=ht(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Yr();if(r||t)return n;r=!0}}while(n=n.parentNode);return Yr()}function lQ(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Gd(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Ws;function Kw(e,t){return function(){if(!Ws){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),Ws=setTimeout(function(){Ws=void 0},t)}}}function cQ(){clearTimeout(Ws),Ws=void 0}function Zw(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Jw(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Ar="Sortable"+new Date().getTime();function uQ(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(ht(i,"display")==="none"||i===dt.ghost)){e.push({target:i,rect:_n(i)});var a=Gr({},e[e.length-1].rect);if(i.thisAnimationDuration){var l=lo(i,!0);l&&(a.top-=l.f,a.left-=l.e)}i.fromRect=a}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(AQ(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var a=!1,l=0;e.forEach(function(o){var c=0,s=o.target,A=s.fromRect,v=_n(s),B=s.prevFromRect,x=s.prevToRect,M=o.rect,T=lo(s,!0);T&&(v.top-=T.f,v.left-=T.e),s.toRect=v,s.thisAnimationDuration&&Gd(B,v)&&!Gd(A,v)&&(M.top-v.top)/(M.left-v.left)===(A.top-v.top)/(A.left-v.left)&&(c=hQ(M,B,x,i.options)),Gd(v,A)||(s.prevFromRect=A,s.prevToRect=v,c||(c=i.options.animation),i.animate(s,M,v,c)),c&&(a=!0,l=Math.max(l,c),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},c),s.thisAnimationDuration=c)}),clearTimeout(t),a?t=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),e=[]},animate:function(r,i,a,l){if(l){ht(r,"transition",""),ht(r,"transform","");var o=lo(this.el),c=o&&o.a,s=o&&o.d,A=(i.left-a.left)/(c||1),v=(i.top-a.top)/(s||1);r.animatingX=!!A,r.animatingY=!!v,ht(r,"transform","translate3d("+A+"px,"+v+"px,0)"),this.forRepaintDummy=fQ(r),ht(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),ht(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ht(r,"transition",""),ht(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function fQ(e){return e.offsetWidth}function hQ(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var uo=[],Wd={initializeByDefault:!0},Ys={mount:function(t){for(var n in Wd)Wd.hasOwnProperty(n)&&!(n in t)&&(t[n]=Wd[n]);uo.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),uo.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var a=t+"Global";uo.forEach(function(l){!n[l.pluginName]||(n[l.pluginName][a]&&n[l.pluginName][a](Gr({sortable:n},r)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](Gr({sortable:n},r)))})},initializePlugins:function(t,n,r,i){uo.forEach(function(o){var c=o.pluginName;if(!(!t.options[c]&&!o.initializeByDefault)){var s=new o(t,n,t.options);s.sortable=t,s.options=t.options,t[c]=s,oi(r,s.defaults)}});for(var a in t.options)if(!!t.options.hasOwnProperty(a)){var l=this.modifyOption(t,a,t.options[a]);typeof l!="undefined"&&(t.options[a]=l)}},getEventProperties:function(t,n){var r={};return uo.forEach(function(i){typeof i.eventProperties=="function"&&oi(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return uo.forEach(function(a){!t[a.pluginName]||a.optionListeners&&typeof a.optionListeners[n]=="function"&&(i=a.optionListeners[n].call(t[a.pluginName],r))}),i}};function dQ(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,l=e.toEl,o=e.fromEl,c=e.oldIndex,s=e.newIndex,A=e.oldDraggableIndex,v=e.newDraggableIndex,B=e.originalEvent,x=e.putSortable,M=e.extraEventProperties;if(t=t||n&&n[Ar],!!t){var T,p=t.options,u="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Ai&&!Vs?T=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(r,!0,!0)),T.to=l||n,T.from=o||n,T.item=i||n,T.clone=a,T.oldIndex=c,T.newIndex=s,T.oldDraggableIndex=A,T.newDraggableIndex=v,T.originalEvent=B,T.pullMode=x?x.lastPutMode:void 0;var g=Gr(Gr({},M),Ys.getEventProperties(r,t));for(var C in g)T[C]=g[C];n&&n.dispatchEvent(T),p[u]&&p[u].call(t,T)}}var gQ=["evt"],Jn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,a=iQ(r,gQ);Ys.pluginEvent.bind(dt)(t,n,Gr({dragEl:Ze,parentEl:ln,ghostEl:yt,rootEl:rn,nextEl:la,lastDownEl:yc,cloneEl:cn,cloneHidden:ki,dragStarted:Ks,putSortable:Tn,activeSortable:dt.active,originalEvent:i,oldIndex:fo,oldDraggableIndex:Xs,newIndex:lr,newDraggableIndex:Ui,hideGhostForTarget:iB,unhideGhostForTarget:aB,cloneNowHidden:function(){ki=!0},cloneNowShown:function(){ki=!1},dispatchSortableEvent:function(o){zn({sortable:n,name:o,originalEvent:i})}},a))};function zn(e){dQ(Gr({putSortable:Tn,cloneEl:cn,targetEl:Ze,rootEl:rn,oldIndex:fo,oldDraggableIndex:Xs,newIndex:lr,newDraggableIndex:Ui},e))}var Ze,ln,yt,rn,la,yc,cn,ki,fo,lr,Xs,Ui,Cc,Tn,ho=!1,wc=!1,Bc=[],ca,Dr,Yd,Xd,$w,qw,Ks,go,Zs,Js=!1,bc=!1,Ec,Pn,Kd=[],Zd=!1,_c=[],Sc=typeof document!="undefined",Ic=zw,eB=Vs||Ai?"cssFloat":"float",pQ=Sc&&!oQ&&!zw&&"draggable"in document.createElement("div"),tB=function(){if(!!Sc){if(Ai)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),nB=function(t,n){var r=ht(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),a=co(t,0,n),l=co(t,1,n),o=a&&ht(a),c=l&&ht(l),s=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+_n(a).width,A=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+_n(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&o.float!=="none"){var v=o.float==="left"?"left":"right";return l&&(c.clear==="both"||c.clear===v)?"vertical":"horizontal"}return a&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||s>=i&&r[eB]==="none"||l&&r[eB]==="none"&&s+A>i)?"vertical":"horizontal"},vQ=function(t,n,r){var i=r?t.left:t.top,a=r?t.right:t.bottom,l=r?t.width:t.height,o=r?n.left:n.top,c=r?n.right:n.bottom,s=r?n.width:n.height;return i===o||a===c||i+l/2===o+s/2},mQ=function(t,n){var r;return Bc.some(function(i){var a=i[Ar].options.emptyInsertThreshold;if(!(!a||Vd(i))){var l=_n(i),o=t>=l.left-a&&t<=l.right+a,c=n>=l.top-a&&n<=l.bottom+a;if(o&&c)return r=i}}),r},rB=function(t){function n(a,l){return function(o,c,s,A){var v=o.options.group.name&&c.options.group.name&&o.options.group.name===c.options.group.name;if(a==null&&(l||v))return!0;if(a==null||a===!1)return!1;if(l&&a==="clone")return a;if(typeof a=="function")return n(a(o,c,s,A),l)(o,c,s,A);var B=(l?o:c).options.group.name;return a===!0||typeof a=="string"&&a===B||a.join&&a.indexOf(B)>-1}}var r={},i=t.group;(!i||vc(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},iB=function(){!tB&&yt&&ht(yt,"display","none")},aB=function(){!tB&&yt&&ht(yt,"display","")};Sc&&document.addEventListener("click",function(e){if(wc)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),wc=!1,!1},!0);var ua=function(t){if(Ze){t=t.touches?t.touches[0]:t;var n=mQ(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Ar]._onDragOver(r)}}},yQ=function(t){Ze&&Ze.parentNode[Ar]._isOutsideThisEl(t.target)};function dt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=oi({},t),e[Ar]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return nB(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,o){l.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:dt.supportPointer!==!1&&"PointerEvent"in window&&!Gs,emptyInsertThreshold:5};Ys.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);rB(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:pQ,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?kt(e,"pointerdown",this._onTapStart):(kt(e,"mousedown",this._onTapStart),kt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(kt(e,"dragover",this),kt(e,"dragenter",this)),Bc.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),oi(this,uQ())}dt.prototype={constructor:dt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(go=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,Ze):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,r=this.el,i=this.options,a=i.preventOnFilter,l=t.type,o=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(o||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,A=i.filter;if(IQ(r),!Ze&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||i.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Gs&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Wr(c,i.draggable,r,!1),!(c&&c.animated)&&yc!==c)){if(fo=mr(c),Xs=mr(c,i.draggable),typeof A=="function"){if(A.call(this,t,c,this)){zn({sortable:n,rootEl:s,name:"filter",targetEl:c,toEl:r,fromEl:r}),Jn("filter",n,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(A&&(A=A.split(",").some(function(v){if(v=Wr(s,v.trim(),r,!1),v)return zn({sortable:n,rootEl:v,name:"filter",targetEl:c,fromEl:r,toEl:r}),Jn("filter",n,{evt:t}),!0}),A)){a&&t.cancelable&&t.preventDefault();return}i.handle&&!Wr(s,i.handle,r,!1)||this._prepareDragStart(t,o,c)}}},_prepareDragStart:function(t,n,r){var i=this,a=i.el,l=i.options,o=a.ownerDocument,c;if(r&&!Ze&&r.parentNode===a){var s=_n(r);if(rn=a,Ze=r,ln=Ze.parentNode,la=Ze.nextSibling,yc=r,Cc=l.group,dt.dragged=Ze,ca={target:Ze,clientX:(n||t).clientX,clientY:(n||t).clientY},$w=ca.clientX-s.left,qw=ca.clientY-s.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,Ze.style["will-change"]="all",c=function(){if(Jn("delayEnded",i,{evt:t}),dt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!jw&&i.nativeDraggable&&(Ze.draggable=!0),i._triggerDragStart(t,n),zn({sortable:i,name:"choose",originalEvent:t}),sr(Ze,l.chosenClass,!0)},l.ignore.split(",").forEach(function(A){Ww(Ze,A.trim(),Jd)}),kt(o,"dragover",ua),kt(o,"mousemove",ua),kt(o,"touchmove",ua),kt(o,"mouseup",i._onDrop),kt(o,"touchend",i._onDrop),kt(o,"touchcancel",i._onDrop),jw&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ze.draggable=!0),Jn("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Vs||Ai))){if(dt.eventCanceled){this._onDrop();return}kt(o,"mouseup",i._disableDelayedDrag),kt(o,"touchend",i._disableDelayedDrag),kt(o,"touchcancel",i._disableDelayedDrag),kt(o,"mousemove",i._delayedDragTouchMoveHandler),kt(o,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&kt(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,l.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ze&&Jd(Ze),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Mt(t,"mouseup",this._disableDelayedDrag),Mt(t,"touchend",this._disableDelayedDrag),Mt(t,"touchcancel",this._disableDelayedDrag),Mt(t,"mousemove",this._delayedDragTouchMoveHandler),Mt(t,"touchmove",this._delayedDragTouchMoveHandler),Mt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?kt(document,"pointermove",this._onTouchMove):n?kt(document,"touchmove",this._onTouchMove):kt(document,"mousemove",this._onTouchMove):(kt(Ze,"dragend",this),kt(rn,"dragstart",this._onDragStart));try{document.selection?Mc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(ho=!1,rn&&Ze){Jn("dragStarted",this,{evt:n}),this.nativeDraggable&&kt(document,"dragover",yQ);var r=this.options;!t&&sr(Ze,r.dragClass,!1),sr(Ze,r.ghostClass,!0),dt.active=this,t&&this._appendGhost(),zn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Dr){this._lastX=Dr.clientX,this._lastY=Dr.clientY,iB();for(var t=document.elementFromPoint(Dr.clientX,Dr.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Dr.clientX,Dr.clientY),t!==n);)n=t;if(Ze.parentNode[Ar]._isOutsideThisEl(t),n)do{if(n[Ar]){var r=void 0;if(r=n[Ar]._onDragOver({clientX:Dr.clientX,clientY:Dr.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);aB()}},_onTouchMove:function(t){if(ca){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,a=t.touches?t.touches[0]:t,l=yt&&lo(yt,!0),o=yt&&l&&l.a,c=yt&&l&&l.d,s=Ic&&Pn&&Xw(Pn),A=(a.clientX-ca.clientX+i.x)/(o||1)+(s?s[0]-Kd[0]:0)/(o||1),v=(a.clientY-ca.clientY+i.y)/(c||1)+(s?s[1]-Kd[1]:0)/(c||1);if(!dt.active&&!ho){if(r&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(yt){l?(l.e+=A-(Yd||0),l.f+=v-(Xd||0)):l={a:1,b:0,c:0,d:1,e:A,f:v};var B="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");ht(yt,"webkitTransform",B),ht(yt,"mozTransform",B),ht(yt,"msTransform",B),ht(yt,"transform",B),Yd=A,Xd=v,Dr=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!yt){var t=this.options.fallbackOnBody?document.body:rn,n=_n(Ze,!0,Ic,!0,t),r=this.options;if(Ic){for(Pn=t;ht(Pn,"position")==="static"&&ht(Pn,"transform")==="none"&&Pn!==document;)Pn=Pn.parentNode;Pn!==document.body&&Pn!==document.documentElement?(Pn===document&&(Pn=Yr()),n.top+=Pn.scrollTop,n.left+=Pn.scrollLeft):Pn=Yr(),Kd=Xw(Pn)}yt=Ze.cloneNode(!0),sr(yt,r.ghostClass,!1),sr(yt,r.fallbackClass,!0),sr(yt,r.dragClass,!0),ht(yt,"transition",""),ht(yt,"transform",""),ht(yt,"box-sizing","border-box"),ht(yt,"margin",0),ht(yt,"top",n.top),ht(yt,"left",n.left),ht(yt,"width",n.width),ht(yt,"height",n.height),ht(yt,"opacity","0.8"),ht(yt,"position",Ic?"absolute":"fixed"),ht(yt,"zIndex","100000"),ht(yt,"pointerEvents","none"),dt.ghost=yt,t.appendChild(yt),ht(yt,"transform-origin",$w/parseInt(yt.style.width)*100+"% "+qw/parseInt(yt.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,a=r.options;if(Jn("dragStart",this,{evt:t}),dt.eventCanceled){this._onDrop();return}Jn("setupClone",this),dt.eventCanceled||(cn=Jw(Ze),cn.draggable=!1,cn.style["will-change"]="",this._hideClone(),sr(cn,this.options.chosenClass,!1),dt.clone=cn),r.cloneId=Mc(function(){Jn("clone",r),!dt.eventCanceled&&(r.options.removeCloneOnHide||rn.insertBefore(cn,Ze),r._hideClone(),zn({sortable:r,name:"clone"}))}),!n&&sr(Ze,a.dragClass,!0),n?(wc=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Mt(document,"mouseup",r._onDrop),Mt(document,"touchend",r._onDrop),Mt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(r,i,Ze)),kt(document,"drop",r),ht(Ze,"transform","translateZ(0)")),ho=!0,r._dragStartId=Mc(r._dragStarted.bind(r,n,t)),kt(document,"selectstart",r),Ks=!0,Gs&&ht(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,a,l,o=this.options,c=o.group,s=dt.active,A=Cc===c,v=o.sort,B=Tn||s,x,M=this,T=!1;if(Zd)return;function p(X,ne){Jn(X,M,Gr({evt:t,isOwner:A,axis:x?"vertical":"horizontal",revert:l,dragRect:i,targetRect:a,canSort:v,fromSortable:B,target:r,completed:g,onMove:function(he,le){return xc(rn,n,Ze,i,he,_n(he),t,le)},changed:C},ne))}function u(){p("dragOverAnimationCapture"),M.captureAnimationState(),M!==B&&B.captureAnimationState()}function g(X){return p("dragOverCompleted",{insertion:X}),X&&(A?s._hideClone():s._showClone(M),M!==B&&(sr(Ze,Tn?Tn.options.ghostClass:s.options.ghostClass,!1),sr(Ze,o.ghostClass,!0)),Tn!==M&&M!==dt.active?Tn=M:M===dt.active&&Tn&&(Tn=null),B===M&&(M._ignoreWhileAnimating=r),M.animateAll(function(){p("dragOverAnimationComplete"),M._ignoreWhileAnimating=null}),M!==B&&(B.animateAll(),B._ignoreWhileAnimating=null)),(r===Ze&&!Ze.animated||r===n&&!r.animated)&&(go=null),!o.dragoverBubble&&!t.rootEl&&r!==document&&(Ze.parentNode[Ar]._isOutsideThisEl(t.target),!X&&ua(t)),!o.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),T=!0}function C(){lr=mr(Ze),Ui=mr(Ze,o.draggable),zn({sortable:M,name:"change",toEl:n,newIndex:lr,newDraggableIndex:Ui,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Wr(r,o.draggable,n,!0),p("dragOver"),dt.eventCanceled)return T;if(Ze.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||M._ignoreWhileAnimating===r)return g(!1);if(wc=!1,s&&!o.disabled&&(A?v||(l=ln!==rn):Tn===this||(this.lastPutMode=Cc.checkPull(this,s,Ze,t))&&c.checkPut(this,s,Ze,t))){if(x=this._getDirection(t,r)==="vertical",i=_n(Ze),p("dragOverValid"),dt.eventCanceled)return T;if(l)return ln=rn,u(),this._hideClone(),p("revert"),dt.eventCanceled||(la?rn.insertBefore(Ze,la):rn.appendChild(Ze)),g(!0);var f=Vd(n,o.draggable);if(!f||bQ(t,x,this)&&!f.animated){if(f===Ze)return g(!1);if(f&&n===t.target&&(r=f),r&&(a=_n(r)),xc(rn,n,Ze,i,r,a,t,!!r)!==!1)return u(),n.appendChild(Ze),ln=n,C(),g(!0)}else if(f&&BQ(t,x,this)){var d=co(n,0,o,!0);if(d===Ze)return g(!1);if(r=d,a=_n(r),xc(rn,n,Ze,i,r,a,t,!1)!==!1)return u(),n.insertBefore(Ze,d),ln=n,C(),g(!0)}else if(r.parentNode===n){a=_n(r);var h=0,w,I=Ze.parentNode!==n,y=!vQ(Ze.animated&&Ze.toRect||i,r.animated&&r.toRect||a,x),D=x?"top":"left",F=Yw(r,"top","top")||Yw(Ze,"top","top"),L=F?F.scrollTop:void 0;go!==r&&(w=a[D],Js=!1,bc=!y&&o.invertSwap||I),h=EQ(t,r,a,x,y?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,bc,go===r);var k;if(h!==0){var U=mr(Ze);do U-=h,k=ln.children[U];while(k&&(ht(k,"display")==="none"||k===yt))}if(h===0||k===r)return g(!1);go=r,Zs=h;var N=r.nextElementSibling,z=!1;z=h===1;var H=xc(rn,n,Ze,i,r,a,t,z);if(H!==!1)return(H===1||H===-1)&&(z=H===1),Zd=!0,setTimeout(wQ,30),u(),z&&!N?n.appendChild(Ze):r.parentNode.insertBefore(Ze,z?N:r),F&&Zw(F,0,L-F.scrollTop),ln=Ze.parentNode,w!==void 0&&!bc&&(Ec=Math.abs(w-_n(r)[D])),C(),g(!0)}if(n.contains(Ze))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Mt(document,"mousemove",this._onTouchMove),Mt(document,"touchmove",this._onTouchMove),Mt(document,"pointermove",this._onTouchMove),Mt(document,"dragover",ua),Mt(document,"mousemove",ua),Mt(document,"touchmove",ua)},_offUpEvents:function(){var t=this.el.ownerDocument;Mt(t,"mouseup",this._onDrop),Mt(t,"touchend",this._onDrop),Mt(t,"pointerup",this._onDrop),Mt(t,"touchcancel",this._onDrop),Mt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(lr=mr(Ze),Ui=mr(Ze,r.draggable),Jn("drop",this,{evt:t}),ln=Ze&&Ze.parentNode,lr=mr(Ze),Ui=mr(Ze,r.draggable),dt.eventCanceled){this._nulling();return}ho=!1,bc=!1,Js=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$d(this.cloneId),$d(this._dragStartId),this.nativeDraggable&&(Mt(document,"drop",this),Mt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Gs&&ht(document.body,"user-select",""),ht(Ze,"transform",""),t&&(Ks&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),yt&&yt.parentNode&&yt.parentNode.removeChild(yt),(rn===ln||Tn&&Tn.lastPutMode!=="clone")&&cn&&cn.parentNode&&cn.parentNode.removeChild(cn),Ze&&(this.nativeDraggable&&Mt(Ze,"dragend",this),Jd(Ze),Ze.style["will-change"]="",Ks&&!ho&&sr(Ze,Tn?Tn.options.ghostClass:this.options.ghostClass,!1),sr(Ze,this.options.chosenClass,!1),zn({sortable:this,name:"unchoose",toEl:ln,newIndex:null,newDraggableIndex:null,originalEvent:t}),rn!==ln?(lr>=0&&(zn({rootEl:ln,name:"add",toEl:ln,fromEl:rn,originalEvent:t}),zn({sortable:this,name:"remove",toEl:ln,originalEvent:t}),zn({rootEl:ln,name:"sort",toEl:ln,fromEl:rn,originalEvent:t}),zn({sortable:this,name:"sort",toEl:ln,originalEvent:t})),Tn&&Tn.save()):lr!==fo&&lr>=0&&(zn({sortable:this,name:"update",toEl:ln,originalEvent:t}),zn({sortable:this,name:"sort",toEl:ln,originalEvent:t})),dt.active&&((lr==null||lr===-1)&&(lr=fo,Ui=Xs),zn({sortable:this,name:"end",toEl:ln,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Jn("nulling",this),rn=Ze=ln=yt=la=cn=yc=ki=ca=Dr=Ks=lr=Ui=fo=Xs=go=Zs=Tn=Cc=dt.dragged=dt.ghost=dt.clone=dt.active=null,_c.forEach(function(t){t.checked=!0}),_c.length=Yd=Xd=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Ze&&(this._onDragOver(t),CQ(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,a=r.length,l=this.options;i<a;i++)n=r[i],Wr(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||SQ(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(a,l){var o=i.children[l];Wr(o,this.options.draggable,i,!1)&&(r[a]=o)},this),n&&this.captureAnimationState(),t.forEach(function(a){r[a]&&(i.removeChild(r[a]),i.appendChild(r[a]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Wr(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=Ys.modifyOption(this,t,n);typeof i!="undefined"?r[t]=i:r[t]=n,t==="group"&&rB(r)},destroy:function(){Jn("destroy",this);var t=this.el;t[Ar]=null,Mt(t,"mousedown",this._onTapStart),Mt(t,"touchstart",this._onTapStart),Mt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Mt(t,"dragover",this),Mt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Bc.splice(Bc.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ki){if(Jn("hideClone",this),dt.eventCanceled)return;ht(cn,"display","none"),this.options.removeCloneOnHide&&cn.parentNode&&cn.parentNode.removeChild(cn),ki=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ki){if(Jn("showClone",this),dt.eventCanceled)return;Ze.parentNode==rn&&!this.options.group.revertClone?rn.insertBefore(cn,Ze):la?rn.insertBefore(cn,la):rn.appendChild(cn),this.options.group.revertClone&&this.animate(Ze,cn),ht(cn,"display",""),ki=!1}}};function CQ(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function xc(e,t,n,r,i,a,l,o){var c,s=e[Ar],A=s.options.onMove,v;return window.CustomEvent&&!Ai&&!Vs?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=i||t,c.relatedRect=a||_n(t),c.willInsertAfter=o,c.originalEvent=l,e.dispatchEvent(c),A&&(v=A.call(s,c,l)),v}function Jd(e){e.draggable=!1}function wQ(){Zd=!1}function BQ(e,t,n){var r=_n(co(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function bQ(e,t,n){var r=_n(Vd(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function EQ(e,t,n,r,i,a,l,o){var c=r?e.clientY:e.clientX,s=r?n.height:n.width,A=r?n.top:n.left,v=r?n.bottom:n.right,B=!1;if(!l){if(o&&Ec<s*i){if(!Js&&(Zs===1?c>A+s*a/2:c<v-s*a/2)&&(Js=!0),Js)B=!0;else if(Zs===1?c<A+Ec:c>v-Ec)return-Zs}else if(c>A+s*(1-i)/2&&c<v-s*(1-i)/2)return _Q(t)}return B=B||l,B&&(c<A+s*a/2||c>v-s*a/2)?c>A+s/2?1:-1:0}function _Q(e){return mr(Ze)<mr(e)?1:-1}function SQ(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function IQ(e){_c.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&_c.push(r)}}function Mc(e){return setTimeout(e,0)}function $d(e){return clearTimeout(e)}Sc&&kt(document,"touchmove",function(e){(dt.active||ho)&&e.cancelable&&e.preventDefault()}),dt.utils={on:kt,off:Mt,css:ht,find:Ww,is:function(t,n){return!!Wr(t,n,t,!1)},extend:lQ,throttle:Kw,closest:Wr,toggleClass:sr,clone:Jw,index:mr,nextTick:Mc,cancelNextTick:$d,detectDirection:nB,getChild:co},dt.get=function(e){return e[Ar]},dt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(dt.utils=Gr(Gr({},dt.utils),r.utils)),Ys.mount(r)})},dt.create=function(e,t){return new dt(e,t)},dt.version=aQ;var yn=[],$s,qd,eg=!1,tg,ng,Dc,qs;function xQ(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?kt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?kt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?kt(document,"touchmove",this._handleFallbackAutoScroll):kt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Mt(document,"dragover",this._handleAutoScroll):(Mt(document,"pointermove",this._handleFallbackAutoScroll),Mt(document,"touchmove",this._handleFallbackAutoScroll),Mt(document,"mousemove",this._handleFallbackAutoScroll)),oB(),Tc(),cQ()},nulling:function(){Dc=qd=$s=eg=qs=tg=ng=null,yn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,a=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(a,l);if(Dc=n,r||this.options.forceAutoScrollFallback||Vs||Ai||Gs){rg(n,this.options,o,r);var c=Fi(o,!0);eg&&(!qs||a!==tg||l!==ng)&&(qs&&oB(),qs=setInterval(function(){var s=Fi(document.elementFromPoint(a,l),!0);s!==c&&(c=s,Tc()),rg(n,i.options,s,r)},10),tg=a,ng=l)}else{if(!this.options.bubbleScroll||Fi(o,!0)===Yr()){Tc();return}rg(n,this.options,Fi(o,!1),!1)}}},oi(e,{pluginName:"scroll",initializeByDefault:!0})}function Tc(){yn.forEach(function(e){clearInterval(e.pid)}),yn=[]}function oB(){clearInterval(qs)}var rg=Kw(function(e,t,n,r){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,o=t.scrollSpeed,c=Yr(),s=!1,A;qd!==n&&(qd=n,Tc(),$s=t.scroll,A=t.scrollFn,$s===!0&&($s=Fi(n,!0)));var v=0,B=$s;do{var x=B,M=_n(x),T=M.top,p=M.bottom,u=M.left,g=M.right,C=M.width,f=M.height,d=void 0,h=void 0,w=x.scrollWidth,I=x.scrollHeight,y=ht(x),D=x.scrollLeft,F=x.scrollTop;x===c?(d=C<w&&(y.overflowX==="auto"||y.overflowX==="scroll"||y.overflowX==="visible"),h=f<I&&(y.overflowY==="auto"||y.overflowY==="scroll"||y.overflowY==="visible")):(d=C<w&&(y.overflowX==="auto"||y.overflowX==="scroll"),h=f<I&&(y.overflowY==="auto"||y.overflowY==="scroll"));var L=d&&(Math.abs(g-i)<=l&&D+C<w)-(Math.abs(u-i)<=l&&!!D),k=h&&(Math.abs(p-a)<=l&&F+f<I)-(Math.abs(T-a)<=l&&!!F);if(!yn[v])for(var U=0;U<=v;U++)yn[U]||(yn[U]={});(yn[v].vx!=L||yn[v].vy!=k||yn[v].el!==x)&&(yn[v].el=x,yn[v].vx=L,yn[v].vy=k,clearInterval(yn[v].pid),(L!=0||k!=0)&&(s=!0,yn[v].pid=setInterval(function(){r&&this.layer===0&&dt.active._onTouchMove(Dc);var N=yn[this.layer].vy?yn[this.layer].vy*o:0,z=yn[this.layer].vx?yn[this.layer].vx*o:0;typeof A=="function"&&A.call(dt.dragged.parentNode[Ar],z,N,e,Dc,yn[this.layer].el)!=="continue"||Zw(yn[this.layer].el,z,N)}.bind({layer:v}),24))),v++}while(t.bubbleScroll&&B!==c&&(B=Fi(B,!1)));eg=s}},30),sB=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,a=t.activeSortable,l=t.dispatchSortableEvent,o=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(!!n){var s=r||a;o();var A=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,v=document.elementFromPoint(A.clientX,A.clientY);c(),s&&!s.el.contains(v)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function ig(){}ig.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=co(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:sB},oi(ig,{pluginName:"revertOnSpill"});function ag(){}ag.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:sB},oi(ag,{pluginName:"removeOnSpill"}),dt.mount(new xQ),dt.mount(ag,ig);function og(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function AB(e,t,n){const r=n===0?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}function MQ(){return typeof window!="undefined"?window.console:global.console}const DQ=MQ();function TQ(e){const t=Object.create(null);return function(r){return t[r]||(t[r]=e(r))}}const OQ=/-(\w)/g,FQ=TQ(e=>e.replace(OQ,(t,n)=>n.toUpperCase())),lB=["Start","Add","Remove","Update","End"],cB=["Choose","Unchoose","Sort","Filter","Clone"],uB=["Move"],kQ=[uB,lB,cB].flatMap(e=>e).map(e=>`on${e}`),sg={manage:uB,manageAndEmit:lB,emit:cB};function UQ(e){return kQ.indexOf(e)!==-1}const LQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function PQ(e){return LQ.includes(e)}function NQ(e){return["transition-group","TransitionGroup"].includes(e)}function fB(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function hB(e){return e.reduce((t,[n,r])=>(t[n]=r,t),{})}function RQ({$attrs:e,componentData:t={}}){return{...hB(Object.entries(e).filter(([r,i])=>fB(r))),...t}}function QQ({$attrs:e,callBackBuilder:t}){const n=hB(dB(e));Object.entries(t).forEach(([i,a])=>{sg[i].forEach(l=>{n[`on${l}`]=a(l)})});const r=`[data-draggable]${n.draggable||""}`;return{...n,draggable:r}}function dB(e){return Object.entries(e).filter(([t,n])=>!fB(t)).map(([t,n])=>[FQ(t),n]).filter(([t,n])=>!UQ(t))}const gB=({el:e})=>e,HQ=(e,t)=>e.__draggable_context=t,pB=e=>e.__draggable_context;class jQ{constructor({nodes:{header:t,default:n,footer:r},root:i,realList:a}){this.defaultNodes=n,this.children=[...t,...n,...r],this.externalComponent=i.externalComponent,this.rootTransition=i.transition,this.tag=i.tag,this.realList=a}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(t,n){const{tag:r,children:i,_isRootComponent:a}=this;return t(r,n,a?{default:()=>i}:i)}updated(){const{defaultNodes:t,realList:n}=this;t.forEach((r,i)=>{HQ(gB(r),{element:n[i],index:i})})}getUnderlyingVm(t){return pB(t)}getVmIndexFromDomIndex(t,n){const{defaultNodes:r}=this,{length:i}=r,a=n.children,l=a.item(t);if(l===null)return i;const o=pB(l);if(o)return o.index;if(i===0)return 0;const c=gB(r[0]),s=[...a].findIndex(A=>A===c);return t<s?0:i}}function zQ(e,t){const n=e[t];return n?n():[]}function VQ({$slots:e,realList:t,getKey:n}){const r=t||[],[i,a]=["header","footer"].map(c=>zQ(e,c)),{item:l}=e;if(!l)throw new Error("draggable element must have an item slot");const o=r.flatMap((c,s)=>l({element:c,index:s}).map(A=>(A.key=n(c),A.props={...A.props||{},"data-draggable":!0},A)));if(o.length!==r.length)throw new Error("Item slot must have only one child");return{header:i,footer:a,default:o}}function GQ(e){const t=NQ(e),n=!PQ(e)&&!t;return{transition:t,externalComponent:n,tag:n?m.resolveComponent(e):t?m.TransitionGroup:e}}function WQ({$slots:e,tag:t,realList:n,getKey:r}){const i=VQ({$slots:e,realList:n,getKey:r}),a=GQ(t);return new jQ({nodes:i,root:a,realList:n})}function vB(e,t){m.nextTick(()=>this.$emit(e.toLowerCase(),t))}function mB(e){return(t,n)=>{if(this.realList!==null)return this[`onDrag${e}`](t,n)}}function YQ(e){const t=mB.call(this,e);return(n,r)=>{t.call(this,n,r),vB.call(this,e,n)}}let Ag=null;const XQ={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},KQ=["update:modelValue","change",...[...sg.manageAndEmit,...sg.emit].map(e=>e.toLowerCase())],yB=m.defineComponent({name:"draggable",inheritAttrs:!1,props:XQ,emits:KQ,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:e,$attrs:t,tag:n,componentData:r,realList:i,getKey:a}=this,l=WQ({$slots:e,tag:n,realList:i,getKey:a});this.componentStructure=l;const o=RQ({$attrs:t,componentData:r});return l.render(m.h,o)}catch(e){return this.error=!0,m.h("pre",{style:{color:"red"}},e.stack)}},created(){this.list!==null&&this.modelValue!==null&&DQ.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:e,$el:t,componentStructure:n}=this;n.updated();const r=QQ({$attrs:e,callBackBuilder:{manageAndEmit:a=>YQ.call(this,a),emit:a=>vB.bind(this,a),manage:a=>mB.call(this,a)}}),i=t.nodeType===1?t:t.parentElement;this._sortable=new dt(i,r),this.targetDomElement=i,i.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:e}=this;return e||this.modelValue},getKey(){const{itemKey:e}=this;return typeof e=="function"?e:t=>t[e]}},watch:{$attrs:{handler(e){const{_sortable:t}=this;!t||dB(e).forEach(([n,r])=>{t.option(n,r)})},deep:!0}},methods:{getUnderlyingVm(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent(e){return e.__draggable_component__},emitChanges(e){m.nextTick(()=>this.$emit("change",e))},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=r=>r.splice(t,0,r.splice(e,1)[0]);this.alterList(n)},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getUnderlyingPotencialDraggableComponent(e);if(!n)return{component:n};const r=n.realList,i={list:r,component:n};return e!==t&&r?{...n.getUnderlyingVm(t)||{},...i}:i},getVmIndexFromDomIndex(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),Ag=e.item},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;og(e.item);const n=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(n,0,t);const r={element:t,newIndex:n};this.emitChanges({added:r})},onDragRemove(e){if(AB(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){og(e.clone);return}const{index:t,element:n}=this.context;this.spliceList(t,1);const r={element:n,oldIndex:t};this.emitChanges({removed:r})},onDragUpdate(e){og(e.item),AB(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,n);const r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},computeFutureIndex(e,t){if(!e.element)return 0;const n=[...t.to.children].filter(l=>l.style.display!=="none"),r=n.indexOf(t.related),i=e.component.getVmIndexFromDomIndex(r);return n.indexOf(Ag)!==-1||!t.willInsertAfter?i:i+1},onDragMove(e,t){const{move:n,realList:r}=this;if(!n||!r)return!0;const i=this.getRelatedContextFromMoveEvent(e),a=this.computeFutureIndex(i,e),l={...this.context,futureIndex:a},o={...e,relatedContext:i,draggedContext:l};return n(o,t)},onDragEnd(){Ag=null}}});var FX="";const ZQ=m.defineComponent({components:{draggable:yB},props:["data"],emits:["change"],setup(e,t){let n=m.ref([]);const r=m.reactive({drag:!1}),i=m.computed(()=>({animation:300,ghostClass:"ghost",chosenClass:"choose"})),a=$e.useStore(),l=M=>!(r.drag===!0&&M.parent!="-1");return{lockLayer:M=>{a.dispatch("updateWidgetData",{uuid:M.uuid,key:"lock",value:typeof M.lock=="undefined"?!0:!M.lock,pushHistory:!1})},onDone:()=>{r.drag=!1,t.emit("change",n.value)},onMove:({relatedContext:M,draggedContext:T})=>{const p=M.element,u=T.element;return(!p||p.parent==-1)&&u.parent==-1},selectLayer:M=>{a.dispatch("selectWidget",{uuid:M.uuid})},hoverLayer:({uuid:M,parent:T})=>{a.dispatch("updateHoverUuid",M)},widgets:n,getWidgets:()=>{let M=[],T=e.data.length;const p=e.data.slice(0),u=[];for(let g=T-1;g>=0;--g){let C=JSON.parse(JSON.stringify(p[g]));C.parent!=-1?u.unshift(C):M.push(C)}for(const g of u){const C=M.findIndex(f=>f.uuid===g.parent);M.splice(C+1,0,g)}return M},getIsActive:M=>a.getters.dSelectWidgets.length>0?!!a.getters.dSelectWidgets.find(p=>p.uuid===M):M===a.getters.dActiveElement.uuid,...m.toRefs(r),dragOptions:i,showItem:l}},watch:{data:{async handler(e){this.widgets=this.getWidgets()},immediate:!0,deep:!0}}}),JQ={class:"widget-list"},$Q=["onClick","onMouseover"],qQ={class:"second-layer"},eH=["src"],tH=["src"],nH=["data-type","data-uuid"],rH=["onClick"];function iH(e,t,n,r,i,a){const l=m.resolveComponent("draggable");return m.openBlock(),m.createElementBlock("ul",JQ,[m.createVNode(l,m.mergeProps({modelValue:e.widgets,"onUpdate:modelValue":t[1]||(t[1]=o=>e.widgets=o),group:"type","item-key":"uuid"},e.dragOptions,{move:e.onMove,onStart:t[2]||(t[2]=o=>e.drag=!0),onEnd:e.onDone}),{item:m.withCtx(({element:o})=>[m.createElementVNode("li",{class:m.normalizeClass(["widget",{active:e.getIsActive(o.uuid),disable:!e.showItem(o)},"item-one"]),onClick:c=>e.selectLayer(o),onMouseover:c=>e.hoverLayer(o),onMouseout:t[0]||(t[0]=c=>e.hoverLayer("-1"))},[m.withDirectives(m.createElementVNode("span",qQ,null,512),[[m.vShow,+o.parent!=-1]]),o.imgUrl?(m.openBlock(),m.createElementBlock("img",{key:0,class:"widget-type widget-type__img",src:o.imgUrl},null,8,eH)):o.svgUrl?(m.openBlock(),m.createElementBlock("img",{key:1,class:"widget-type widget-type__img",src:o.svgUrl},null,8,tH)):(m.openBlock(),m.createElementBlock("span",{key:2,class:m.normalizeClass(["widget-type icon",`sd-${o.type}`,o.type])},null,2)),m.createElementVNode("span",{class:m.normalizeClass(["widget-name","line-clamp-1",`${o.type}`])},m.toDisplayString(o.text||o.name)+" "+m.toDisplayString(o.mask?"(\u5BB9\u5668)":""),3),m.createElementVNode("div",{class:"widget-out","data-type":o.type,"data-uuid":o.uuid},[m.createElementVNode("i",{class:m.normalizeClass(["icon",o.lock?"sd-suoding":"sd-jiesuo"]),onClick:m.withModifiers(c=>e.lockLayer(o),["stop"])},null,10,rH)],8,nH)],42,$Q)]),_:1},16,["modelValue","move","onEnd"])])}var CB=ct(ZQ,[["render",iH],["__scopeId","data-v-4485592e"]]),aH=Object.freeze(Object.defineProperty({__proto__:null,default:CB},Symbol.toStringTag,{value:"Module"})),kX="",UX="";const oH={name:"icon-item-select",props:{label:{default:""},data:{required:!0,type:Array}},emits:["finish"],data(){return{}},methods:{selectItem(e){typeof e.select!="undefined"&&(e.select=!e.select),this.$emit("finish",e)}}},sH={class:"icon-item-select"},AH={key:0,class:"label"},lH={class:"list btn__bar flex"},cH=["onClick"];function uH(e,t,n,r,i,a){const l=m.resolveComponent("el-tooltip");return m.openBlock(),m.createElementBlock("div",sH,[n.label?(m.openBlock(),m.createElementBlock("span",AH,m.toDisplayString(n.label),1)):m.createCommentVNode("",!0),m.createElementVNode("ul",lH,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(n.data,(o,c)=>(m.openBlock(),m.createBlock(l,{key:c,class:"item",effect:"dark",content:o.tip,placement:"top","auto-close":400},{default:m.withCtx(()=>[m.createElementVNode("li",{class:m.normalizeClass({"list-item":!0,active:o.select}),onClick:s=>a.selectItem(o)},[m.createElementVNode("i",{class:m.normalizeClass(`${o.extraIcon?"icon":"iconfont"} ${o.icon}`)},null,2)],10,cH)]),_:2},1032,["content"]))),128))])])}var fa=ct(oH,[["render",uH],["__scopeId","data-v-03f362da"]]),fH=Object.freeze(Object.defineProperty({__proto__:null,default:fa},Symbol.toStringTag,{value:"Module"})),PX="";const hH={name:"number-input",props:{label:{default:""},modelValue:{default:""},editable:{default:!0},step:{default:1},maxValue:{},minValue:{},type:{},prepend:{}},emits:["finish","update:modelValue"],data(){return{inputBorder:!1,tagText:"",showEdit:!1}},computed:{},watch:{modelValue(){this.fixedNum()}},mounted(){this.fixedNum()},methods:{fixedNum(){const e=String(this.modelValue).split(".")[1];e&&e.length>2&&setTimeout(()=>{this.updateValue(Number(this.modelValue).toFixed(2))},10),this.maxValue&&this.modelValue>this.maxValue?setTimeout(()=>{this.updateValue(Number(this.maxValue))},10):typeof this.minValue=="number"&&this.modelValue<this.minValue&&setTimeout(()=>{this.updateValue(Number(this.minValue))},10)},updateValue(e){this.$emit("update:modelValue",e==="-"?"-":Number(e))},up(){this.updateValue(parseInt(this.modelValue||0,10)+this.step)},down(){let e=parseInt(this.modelValue||0,10)-this.step;this.updateValue(e)},opNumber(e){switch(e.stopPropagation(),e.keyCode){case 38:this.up();return;case 40:this.down();return}},verifyNumber(){let e=String(this.modelValue),t=e.length,n="",r=e[0]==="-";for(let i=r?1:0;i<t;++i){let a=e[i];if(a=="."||a>="0"&&a<="9")n+=a;else break}n===""&&(n="0"),r&&(n="-"+(n==="0"?"":n)),this.updateValue(n)},focusInput(){this.inputBorder=!0,this.tagText=this.modelValue},blurInput(){this.modelValue==="-"&&this.updateValue(0),this.inputBorder=!1,this.modelValue!==this.tagText&&this.$emit("finish",this.modelValue)}}},dH={key:0},gH={class:"prepend"},pH=["value","readonly"],vH={key:1,class:"number-input2"},mH=["value","readonly"],yH={style:{color:"rgba(0, 0, 0, 0.45)"}};function CH(e,t,n,r,i,a){return n.type==="simple"?(m.openBlock(),m.createElementBlock("div",dH,[m.createElementVNode("span",gH,m.toDisplayString(n.prepend),1),m.createElementVNode("input",{class:m.normalizeClass({"small-input":!0,disable:!n.editable}),type:"text",value:n.modelValue,readonly:n.editable?!1:"readonly",onInput:t[0]||(t[0]=l=>a.updateValue(l.target.value)),onFocus:t[1]||(t[1]=(...l)=>a.focusInput&&a.focusInput(...l)),onBlur:t[2]||(t[2]=(...l)=>a.blurInput&&a.blurInput(...l)),onKeyup:t[3]||(t[3]=(...l)=>a.verifyNumber&&a.verifyNumber(...l)),onKeydown:t[4]||(t[4]=l=>a.opNumber(l))},null,42,pH)])):(m.openBlock(),m.createElementBlock("div",vH,[m.createElementVNode("div",{class:"input-wrap",onClick:t[10]||(t[10]=(...l)=>e.edit&&e.edit(...l))},[m.createElementVNode("input",{class:m.normalizeClass({"real-input":!0,disable:!n.editable}),type:"text",value:n.modelValue,readonly:n.editable?!1:"readonly",onInput:t[5]||(t[5]=l=>a.updateValue(l.target.value)),onFocus:t[6]||(t[6]=(...l)=>a.focusInput&&a.focusInput(...l)),onBlur:t[7]||(t[7]=(...l)=>a.blurInput&&a.blurInput(...l)),onKeyup:t[8]||(t[8]=(...l)=>a.verifyNumber&&a.verifyNumber(...l)),onKeydown:t[9]||(t[9]=l=>a.opNumber(l))},null,42,mH)]),m.createElementVNode("span",yH,m.toDisplayString(n.label),1)]))}var Li=ct(hH,[["render",CH],["__scopeId","data-v-07e3f696"]]),wH=Object.freeze(Object.defineProperty({__proto__:null,default:Li},Symbol.toStringTag,{value:"Module"})),eA=[{key:"zIndex",icon:"icon-layer-up",tip:"\u4E0A\u4E00\u5C42",value:1},{key:"zIndex",icon:"icon-layer-down",tip:"\u4E0B\u4E00\u5C42",value:-1}],RX="";const BH={name:"w-group-style",components:{numberInput:Li,iconItemSelect:fa,numberSlider:ra},data(){return{activeNames:["1","2","3","4"],innerElement:{},tag:!1,ingoreKeys:["name","width","height"],layerIconList:eA,alignIconList:zs}},computed:{...$e.mapGetters(["dActiveElement"])},watch:{dActiveElement:{handler(e,t){this.change()},deep:!0},innerElement:{handler(e,t){this.changeValue()},deep:!0}},created(){this.change()},methods:{...$e.mapActions(["updateWidgetData","updateAlign","updateLayerIndex","ungroup"]),change(){this.tag=!0,this.innerElement=JSON.parse(JSON.stringify(this.dActiveElement))},changeValue(){if(this.tag){this.tag=!1;return}if(!this.dMoving)for(let e in this.innerElement)this.ingoreKeys.indexOf(e)!==-1?this.dActiveElement[e]=this.innerElement[e]:e!=="setting"&&e!=="record"&&this.innerElement[e]!==this.dActiveElement[e]&&this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:this.innerElement[e]})},finish(e,t){this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:t,pushHistory:!0})},layerAction(e){this.updateLayerIndex({uuid:this.dActiveElement.uuid,value:e.value,isGroup:!0})},alignAction(e){this.updateAlign({align:e.value,uuid:this.dActiveElement.uuid})}}},bH=e=>(m.pushScopeId("data-v-c85f74f2"),e=e(),m.popScopeId(),e),EH={id:"w-group-style"},_H={class:"line-layout"},SH=bH(()=>m.createElementVNode("br",null,null,-1));function IH(e,t,n,r,i,a){const l=m.resolveComponent("number-input"),o=m.resolveComponent("el-collapse-item"),c=m.resolveComponent("el-button"),s=m.resolveComponent("number-slider"),A=m.resolveComponent("icon-item-select"),v=m.resolveComponent("el-collapse");return m.openBlock(),m.createElementBlock("div",EH,[m.createVNode(v,{modelValue:i.activeNames,"onUpdate:modelValue":t[11]||(t[11]=B=>i.activeNames=B)},{default:m.withCtx(()=>[m.createVNode(o,{title:"\u4F4D\u7F6E\u5C3A\u5BF8",name:"1"},{default:m.withCtx(()=>[m.createElementVNode("div",_H,[m.createVNode(l,{modelValue:i.innerElement.left,"onUpdate:modelValue":t[0]||(t[0]=B=>i.innerElement.left=B),label:"X",onFinish:t[1]||(t[1]=B=>a.finish("left",B))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.top,"onUpdate:modelValue":t[2]||(t[2]=B=>i.innerElement.top=B),label:"Y",onFinish:t[3]||(t[3]=B=>a.finish("top",B))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.width,"onUpdate:modelValue":t[4]||(t[4]=B=>i.innerElement.width=B),style:{"margin-top":"0.5rem"},label:"\u5BBD",onFinish:t[5]||(t[5]=B=>a.finish("width",B))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.height,"onUpdate:modelValue":t[6]||(t[6]=B=>i.innerElement.height=B),style:{"margin-top":"0.5rem"},label:"\u9AD8",onFinish:t[7]||(t[7]=B=>a.finish("height",B))},null,8,["modelValue"])])]),_:1}),m.createVNode(o,{title:"\u6837\u5F0F\u8BBE\u7F6E",name:"2"},{default:m.withCtx(()=>[m.createVNode(c,{plain:"",type:"primary",class:"block-btn",onClick:t[8]||(t[8]=B=>e.ungroup(i.innerElement.uuid))},{default:m.withCtx(()=>[m.createTextVNode("\u53D6\u6D88\u7EC4\u5408")]),_:1}),m.createVNode(s,{modelValue:i.innerElement.opacity,"onUpdate:modelValue":t[9]||(t[9]=B=>i.innerElement.opacity=B),class:"style-item",label:"\u4E0D\u900F\u660E",step:.05,maxValue:1,onFinish:t[10]||(t[10]=B=>a.finish("opacity",B))},null,8,["modelValue"]),SH,m.createVNode(A,{class:"style-item",label:"",data:i.layerIconList,onFinish:a.layerAction},null,8,["data","onFinish"]),m.createVNode(A,{label:"",data:i.alignIconList,onFinish:a.alignAction},null,8,["data","onFinish"])]),_:1})]),_:1},8,["modelValue"])])}var wB=ct(BH,[["render",IH],["__scopeId","data-v-c85f74f2"]]),xH=Object.freeze(Object.defineProperty({__proto__:null,default:wB},Symbol.toStringTag,{value:"Module"})),HX="";const MH=m.defineComponent({components:{[jt.ElTabPane.name]:jt.ElTabPane,[jt.ElTabs.name]:jt.ElTabs},emits:["select"],setup(e,t){const n=$e.useStore(),r=m.reactive({dialogVisible:!1,imgList:[],recommendImgList:[],isDone:!1,isPicsDone:!1});let i=!1,a=0,l=0;const o=x=>{x&&(r.imgList=[],a=0,r.isDone=!1),!(r.isDone||i)&&(i=!0,a+=1,wt.material.getMyPhoto({page:a}).then(({list:M})=>{M.length<=0?r.isDone=!0:r.imgList=r.imgList.concat(M),setTimeout(()=>{i=!1},100)}))},c=x=>{r.isPicsDone||i||x&&r.recommendImgList.length>0||(i=!0,l+=1,wt.material.getImagesList({page:l}).then(({list:M})=>{M.length<=0?r.isPicsDone=!0:r.recommendImgList=r.recommendImgList.concat(M),setTimeout(()=>{i=!1},100)}))},s=()=>{r.dialogVisible=!0,o(),n.commit("setShowMoveable",!1)},A=()=>{n.commit("setShowMoveable",!0)},v=(x,M)=>{const T=M?M[x]:r.imgList[x];t.emit("select",T),r.dialogVisible=!1},B=x=>{x==1&&c(!0)};return{...m.toRefs(r),open:s,close:A,load:o,loadPic:c,selectImg:v,tabChange:B}}}),DH={class:"pic__box"},TH={class:"pic__box"};function OH(e,t,n,r,i,a){const l=m.resolveComponent("photo-list"),o=m.resolveComponent("el-tab-pane"),c=m.resolveComponent("el-tabs"),s=m.resolveComponent("el-dialog");return m.openBlock(),m.createBlock(s,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=A=>e.dialogVisible=A),title:"\u9009\u62E9\u56FE\u7247",onClose:e.close},{default:m.withCtx(()=>[m.createVNode(c,{"tab-position":"left",style:{height:"60vh"},class:"demo-tabs",onTabChange:e.tabChange},{default:m.withCtx(()=>[m.createVNode(o,{label:"\u6211\u7684\u7D20\u6750"},{default:m.withCtx(()=>[m.createElementVNode("div",DH,[m.createVNode(l,{isDone:e.isDone,listData:e.imgList,onLoad:e.load,onSelect:e.selectImg},null,8,["isDone","listData","onLoad","onSelect"])])]),_:1}),m.createVNode(o,{label:"\u7167\u7247\u56FE\u5E93"},{default:m.withCtx(()=>[m.createElementVNode("div",TH,[m.createVNode(l,{isDone:e.isPicsDone,listData:e.recommendImgList,onLoad:e.loadPic,onSelect:t[0]||(t[0]=A=>e.selectImg(A,e.recommendImgList))},null,8,["isDone","listData","onLoad"])])]),_:1})]),_:1},8,["onTabChange"])]),_:1},8,["modelValue","onClose"])}var FH=ct(MH,[["render",OH],["__scopeId","data-v-1871779a"]]),jX="";const kH={name:"w-image-style",components:{numberInput:Li,numberSlider:ra,iconItemSelect:fa,picBox:FH,imageCutout:jh},data(){return{picBoxShow:!1,activeNames:["2","3","4"],innerElement:{},tag:!1,ingoreKeys:["left","top","name","width","height","radiusTopLeft","radiusTopRight","radiusBottomLeft","radiusBottomRight"],layerIconList:eA.concat([{key:"flip",icon:"sd-zuoyoufanzhuan",extraIcon:!0,tip:"\u6C34\u5E73\u7FFB\u8F6C",value:"Y"},{key:"flip",icon:"sd-shangxiafanzhuan",extraIcon:!0,tip:"\u5782\u76F4\u7FFB\u8F6C",value:"X"}]),alignIconList:zs,toolBarStyle:{}}},computed:{...$e.mapGetters(["dActiveElement","dMoving","dWidgets"])},watch:{dActiveElement:{handler(e,t){this.change(),e.uuid!=this.lastUuid&&typeof this.lastUuid!="undefined"&&(this.innerElement.cropEdit=!1,this.$store.commit("setShowRotatable",!0)),this.lastUuid=e.uuid},deep:!0},innerElement:{handler(e,t){this.changeValue(),this.cropHandle()},deep:!0}},created(){this.change()},methods:{...$e.mapActions(["updateWidgetData","updateAlign","updateLayerIndex","addWidget"]),change(){this.tag=!0,this.innerElement=JSON.parse(JSON.stringify({...this.innerElement,...this.dActiveElement}))},changeValue(){if(this.tag){this.tag=!1;return}if(!this.dMoving)for(let e in this.innerElement)this.ingoreKeys.indexOf(e)!==-1?this.dActiveElement[e]=this.innerElement[e]:e!=="cropEdit"&&e!=="record"&&this.innerElement[e]!==this.dActiveElement[e]&&this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:this.innerElement[e]})},finishSliceData(e,t){const n=this.dActiveElement.sliceData;n&&(n[e]=t,this.updateWidgetData({uuid:this.dActiveElement.uuid,key:"sliceData",value:n,pushHistory:!0}))},finish(e,t){this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:t,pushHistory:!0})},layerAction(e){e.key==="zIndex"?this.updateLayerIndex({uuid:this.dActiveElement.uuid,value:e.value}):this.finish(e.key,e.value===this.dActiveElement.flip?null:e.value)},async alignAction(e){this.updateAlign({align:e.value,uuid:this.dActiveElement.uuid}),await this.$nextTick(),this.$store.commit("updateRect")},openCropper(){this.$refs.crop.open(this.innerElement,this.innerElement.cropData)},cropDone({newImg:e,data:t,width:n,height:r}){this.innerElement.imgUrl=e,this.innerElement.cropData=t,this.innerElement.width=n.toFixed(0),this.innerElement.height=r.toFixed(0)},async changeContainer(e){const t=this.dWidgets.findIndex(r=>r.uuid==this.innerElement.uuid),n=await ol(e.svgUrl);e.width=this.innerElement.width,e.height=n.height*(this.innerElement.width/n.width),e.left=this.innerElement.left,e.top=this.innerElement.top,e.imgUrl=this.innerElement.imgUrl,this.dWidgets.splice(t,1),this.addWidget(e)},async uploadImgDone(e){this.$store.commit("setShowMoveable",!1),await wt.material.addMyPhoto(e),this.innerElement.height=e.height*(this.innerElement.width/e.width),this.innerElement.imgUrl=e.url,this.$store.commit("setShowMoveable",!0)},selectDone(e){this.innerElement.imgUrl=e.url},imgCrop(e){const{left:t,top:n}=document.getElementById(this.innerElement.uuid).getBoundingClientRect();this.toolBarStyle={left:t+"px",top:n+"px"},this.innerElement.cropEdit=e,this.$store.commit("setShowRotatable",!e)},cropHandle(){this.$store.commit("setCropUuid",this.innerElement.cropEdit?this.innerElement.uuid:-1)},openPicBox(){this.$refs.picBox.open()},openImageCutout(){fetch(this.innerElement.imgUrl).then(e=>e.blob()).then(e=>{const t=new File([e],`image_${Math.random()}.jpg`,{type:"image/jpeg"});this.$refs.imageCutout.open(t)}).catch(e=>{console.error("\u83B7\u53D6\u56FE\u7247\u5931\u8D25:",e)})},async cutImageDone(e){setTimeout(()=>{this.innerElement.imgUrl=e},300)}}},Oc=e=>(m.pushScopeId("data-v-df3e1d04"),e=e(),m.popScopeId(),e),UH={id:"w-image-style"},LH={class:"line-layout"},PH={class:"options"},NH=Oc(()=>m.createElementVNode("i",{class:"icon sd-caijian"},null,-1)),RH=Oc(()=>m.createElementVNode("i",{class:"icon sd-AIkoutu"},null,-1)),QH={class:"slide-wrap"},HH=Oc(()=>m.createElementVNode("br",null,null,-1)),jH=Oc(()=>m.createElementVNode("br",null,null,-1));function zH(e,t,n,r,i,a){const l=m.resolveComponent("number-input"),o=m.resolveComponent("el-collapse-item"),c=m.resolveComponent("el-button"),s=m.resolveComponent("number-slider"),A=m.resolveComponent("icon-item-select"),v=m.resolveComponent("el-collapse"),B=m.resolveComponent("inner-tool-bar"),x=m.resolveComponent("picBox"),M=m.resolveComponent("imageCutout");return m.openBlock(),m.createElementBlock("div",UH,[m.createVNode(v,{modelValue:i.activeNames,"onUpdate:modelValue":t[18]||(t[18]=T=>i.activeNames=T)},{default:m.withCtx(()=>[m.createVNode(o,{title:"\u4F4D\u7F6E\u5C3A\u5BF8",name:"1"},{default:m.withCtx(()=>[m.createElementVNode("div",LH,[m.createVNode(l,{modelValue:i.innerElement.left,"onUpdate:modelValue":t[0]||(t[0]=T=>i.innerElement.left=T),label:"X",onFinish:t[1]||(t[1]=T=>a.finish("left",T))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.top,"onUpdate:modelValue":t[2]||(t[2]=T=>i.innerElement.top=T),label:"Y",onFinish:t[3]||(t[3]=T=>a.finish("top",T))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.width,"onUpdate:modelValue":t[4]||(t[4]=T=>i.innerElement.width=T),style:{"margin-top":"0.5rem"},label:"\u5BBD",onFinish:t[5]||(t[5]=T=>a.finish("width",T))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.height,"onUpdate:modelValue":t[6]||(t[6]=T=>i.innerElement.height=T),style:{"margin-top":"0.5rem"},label:"\u9AD8",onFinish:t[7]||(t[7]=T=>a.finish("height",T))},null,8,["modelValue"])])]),_:1}),m.createVNode(o,{title:"\u8BBE\u7F6E",name:"2"},{default:m.withCtx(()=>[m.createVNode(c,{style:{width:"100%","margin-bottom":"12px"},plain:"",onClick:a.openPicBox},{default:m.withCtx(()=>[m.createTextVNode("\u66FF\u6362\u56FE\u7247")]),_:1},8,["onClick"]),m.createElementVNode("div",PH,[i.innerElement.cropEdit?(m.openBlock(),m.createBlock(c,{key:0,plain:"",type:"primary",onClick:t[8]||(t[8]=T=>a.imgCrop(!1))},{default:m.withCtx(()=>[m.createTextVNode("\u5B8C\u6210")]),_:1})):(m.openBlock(),m.createBlock(c,{key:1,plain:"",type:"primary",onClick:t[9]||(t[9]=T=>a.imgCrop(!0))},{default:m.withCtx(()=>[NH,m.createTextVNode(" \u88C1\u526A")]),_:1})),m.createVNode(c,{plain:"",onClick:a.openImageCutout},{default:m.withCtx(()=>[RH,m.createTextVNode(" \u62A0\u56FE")]),_:1},8,["onClick"]),m.createVNode(c,{size:"small",disabled:"",plain:"",onClick:a.openCropper},{default:m.withCtx(()=>[m.createTextVNode("\u7F8E\u5316")]),_:1},8,["onClick"])]),m.createElementVNode("div",QH,[m.createVNode(s,{modelValue:i.innerElement.opacity,"onUpdate:modelValue":t[10]||(t[10]=T=>i.innerElement.opacity=T),style:{"font-size":"14px"},label:"\u4E0D\u900F\u660E",step:.05,maxValue:1,onFinish:t[11]||(t[11]=T=>a.finish("opacity",T))},null,8,["modelValue"]),m.createVNode(s,{modelValue:i.innerElement.radius,"onUpdate:modelValue":t[12]||(t[12]=T=>i.innerElement.radius=T),style:{"font-size":"14px"},label:"\u5706\u89D2",maxValue:Math.min(i.innerElement.record.width,i.innerElement.record.height),onFinish:t[13]||(t[13]=T=>a.finish("radius",T))},null,8,["modelValue","maxValue"])])]),_:1}),i.innerElement.isNinePatch?(m.openBlock(),m.createBlock(o,{key:0,title:"\u70B9\u4E5D\u56FE\u8BBE\u7F6E",name:"3"},{default:m.withCtx(()=>[m.createVNode(s,{modelValue:i.innerElement.sliceData.ratio,"onUpdate:modelValue":t[14]||(t[14]=T=>i.innerElement.sliceData.ratio=T),step:.01,label:"\u6BD4\u7387",maxValue:10,onFinish:t[15]||(t[15]=T=>a.finishSliceData("ratio",T))},null,8,["modelValue"]),m.createVNode(s,{modelValue:i.innerElement.sliceData.left,"onUpdate:modelValue":t[16]||(t[16]=T=>i.innerElement.sliceData.left=T),step:.5,label:"\u5927\u5C0F",onFinish:t[17]||(t[17]=T=>a.finishSliceData("left",T))},null,8,["modelValue"])]),_:1})):m.createCommentVNode("",!0),HH,m.createVNode(A,{class:"style-item",label:"",data:i.layerIconList,onFinish:a.layerAction},null,8,["data","onFinish"]),m.createVNode(A,{data:i.alignIconList,onFinish:a.alignAction},null,8,["data","onFinish"]),jH]),_:1},8,["modelValue"]),m.withDirectives(m.createVNode(B,{style:m.normalizeStyle(i.toolBarStyle)},{default:m.withCtx(()=>[m.createVNode(s,{modelValue:i.innerElement.zoom,"onUpdate:modelValue":t[19]||(t[19]=T=>i.innerElement.zoom=T),class:"inner-bar",label:"\u7F29\u653E",labelWidth:"40px",step:.01,minValue:1,maxValue:3},null,8,["modelValue"]),m.createElementVNode("i",{style:{padding:"0 8px",cursor:"pointer"},class:"icon sd-queren",onClick:t[20]||(t[20]=T=>a.imgCrop(!1))})]),_:1},8,["style"]),[[m.vShow,i.innerElement.cropEdit]]),m.createVNode(x,{ref:"picBox",onSelect:a.selectDone},null,8,["onSelect"]),m.createVNode(M,{ref:"imageCutout",onDone:a.cutImageDone},null,8,["onDone"])])}var BB=ct(kH,[["render",zH],["__scopeId","data-v-df3e1d04"]]),VH=Object.freeze(Object.defineProperty({__proto__:null,default:BB},Symbol.toStringTag,{value:"Module"})),VX="",GX="",WX="",YX="",XX="";const GH={name:"text-input-area",props:{label:{default:""},modelValue:{default:""},editable:{default:!0},max:{}},emits:["update:modelValue","finish"],data(){return{inputBorder:!1,tagText:""}},computed:{dealValue(){return this.modelValue}},methods:{updateValue(e){this.$emit("update:modelValue",this.getValue(e))},focusInput(){this.inputBorder=!0,this.tagText=this.modelValue},blurInput(){this.inputBorder=!1;let e=this.getValue(this.modelValue);e!==this.tagText&&this.$emit("finish",e)},getValue(e){return e.replace(/\n|\r\n/g,"<br/>").replace(/ /g,"&nbsp;")}}},WH={id:"text-input-area"},YH={key:0,class:"input-label"},XH=["maxlength","value","readonly"];function KH(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",WH,[n.label?(m.openBlock(),m.createElementBlock("p",YH,m.toDisplayString(n.label),1)):m.createCommentVNode("",!0),m.createElementVNode("div",{class:m.normalizeClass({"input-wrap":!0,active:i.inputBorder})},[m.createElementVNode("textarea",{maxlength:n.max,class:m.normalizeClass({"real-input":!0,disable:!n.editable}),type:"text",rows:"3",value:a.dealValue,readonly:n.editable?!1:"readonly",onInput:t[0]||(t[0]=l=>a.updateValue(l.target.value)),onFocus:t[1]||(t[1]=(...l)=>a.focusInput&&a.focusInput(...l)),onBlur:t[2]||(t[2]=(...l)=>a.blurInput&&a.blurInput(...l))},null,42,XH)],2)])}var bB=ct(GH,[["render",KH],["__scopeId","data-v-16b235d8"]]),ZH=Object.freeze(Object.defineProperty({__proto__:null,default:bB},Symbol.toStringTag,{value:"Module"}));const EB=(e,{decimal:t=0}={})=>t>0?Number(e.toFixed(t)):Math.round(e),Fc=(e,{onmousedown:t,onmousemove:n,onmouseup:r}={})=>{let i=e.getBoundingClientRect();const a={x:0,y:0},l=A=>{let v=A.pageX-i.x,B=A.pageY-i.y;v<0&&(v=0),v>i.width&&(v=i.width),B<0&&(B=0),B>i.height&&(B=i.height),a.x=EB(v/i.width,{decimal:2}),a.y=EB(B/i.height,{decimal:2})},o=A=>{l(A),n&&n(a,A)},c=A=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c),r&&r(a,A)},s=A=>{i=e.getBoundingClientRect(),l(A),document.addEventListener("mousemove",o),document.addEventListener("mouseup",c),t&&t(a,A)};return e.addEventListener("mousedown",s),{destroy(){e.removeEventListener("mousedown",s)}}},_B=(e,t,n)=>{let r=Math.round(e).toString(16),i=Math.round(t).toString(16),a=Math.round(n).toString(16);return r.length===1&&(r="0"+r),i.length===1&&(i="0"+i),a.length===1&&(a="0"+a),"#"+r+i+a},SB=(e,t,n,r=1)=>{const i=_B(e,t,n);let a=Math.round(255*r).toString(16);return a.length===1&&(a="0"+a),i+a},IB=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.min(e,t,n),i=Math.max(e,t,n),a=i-r;let l=0,o=0;if(a===0)l=o=0;else{o=a/i;const c=((i-e)/6+a/2)/a,s=((i-t)/6+a/2)/a,A=((i-n)/6+a/2)/a;e===i?l=A-s:t===i?l=1/3+c-A:n===i&&(l=2/3+s-c),l<0?l+=1:l>1&&(l-=1)}return[360*l,100*o,100*i]},JH=(e,t,n)=>{const[r,i,a]=function(l,o,c){l=l/360*6,o/=100,c/=100;const s=Math.floor(l),A=l-s,v=c*(1-o),B=c*(1-A*o),x=c*(1-(1-A)*o),M=s%6,T=[c,B,v,v,x,c][M],p=[x,c,c,B,v,v][M],u=[v,v,x,c,c,B][M];return[Math.round(255*T),Math.round(255*p),Math.round(255*u)]}(e,t,n);return _B(r,i,a)},lg=e=>{let t=0,n=0,r=0;return(e=e.slice(0,7)).length==4?(t=Number("0x"+e[1]+e[1]),n=Number("0x"+e[2]+e[2]),r=Number("0x"+e[3]+e[3])):e.length==7&&(t=Number("0x"+e[1]+e[2]),n=Number("0x"+e[3]+e[4]),r=Number("0x"+e[5]+e[6])),[t,n,r]},cg=e=>{const t=lg(e),n=Number("0x"+e[7]+e[8]);return[...t,Number((n/255).toFixed(2))]},$H=e=>{const[t,n,r,i]=cg(e);return((a,l,o,c=1)=>[...IB(a,l,o),c])(t,n,r,i)},xB=e=>e.startsWith("#")?"\u7EAF\u8272":e.startsWith("linear-gradient")?"\u6E10\u53D8":"\u56FE\u6848",ug=(e,t)=>{const n=[];return t.forEach(r=>{n.push(`${r.color} ${100*r.offset}%`)}),`linear-gradient(${e}deg, ${n.join(",")})`};function qH(e){const t=function(n,r=!0){const i=document.createElement("div");return i.id="color-pipette-tooltip-container",i.innerHTML=n,i.style=`
    position: fixed;
    left: 50%;
    top: 9%;
    z-index: 10002;
    display: ${r?"flex":"none"};
    align-items: center;
    background-color: rgba(0,0,0,0.4);
    padding: 6px 12px;
    border-radius: 4px;
    color: #fff;
    font-size: 18px;
    pointer-events: none;
  `,i}(e);document.body.appendChild(t),setTimeout(()=>{var n;return(n=t==null?void 0:t.parentNode)===null||n===void 0?void 0:n.removeChild(t)},2e3)}const e5={class:"my-tabs"},t5={class:"my-tabs__header p-0.5 mb-3 rounded bg-gray-100 cursor-pointers"},n5={class:"my-tabs__header-shell relative flex justify-between"},r5=["onClick"],i5={class:"my-tabs__content"};var fg=Object.assign({name:"Tabs"},{props:{value:{type:String,required:!0}},emits:["update:value","change"],setup(e,{expose:t,emit:n}){const r=e;m.watch(()=>r.value,()=>{c()});const i=m.ref([]),a=m.reactive({width:0,left:0});let l=0;m.onMounted(()=>{l=100/i.value.length,a.width=`${l}%`,c()});let o=null;async function c(s=-1){var A,v,B,x;s<0&&(s=i.value.findIndex(M=>M.props.label===r.value)),a.left=l*s+"%";try{await m.nextTick(),(v=(A=o==null?void 0:o.exposed)==null?void 0:A.changeActive)==null||v.call(A,!1),o=i.value[s],(x=(B=o.exposed)==null?void 0:B.changeActive)==null||x.call(B,!0)}catch{}}return t({tabs:i}),(s,A)=>(m.openBlock(),m.createElementBlock("div",e5,[m.createElementVNode("div",t5,[m.createElementVNode("div",n5,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.value,(v,B)=>(m.openBlock(),m.createElementBlock("div",{key:v.props.label,class:m.normalizeClass(["my-tab__title relative flex-auto py-1 text-center",{"my-active":v.props.label===e.value}]),onClick:x=>function(M,T){n("update:value",M.props.label),c(T)}(v,B)},m.toDisplayString(v.props.label),11,r5))),128)),m.createElementVNode("div",{class:"my-tab__slider",style:m.normalizeStyle(a)},null,4)])]),m.createElementVNode("div",i5,[m.renderSlot(s.$slots,"default")])]))}});function kc(e,t){t===void 0&&(t={});var n=t.insertAt;if(e&&typeof document!="undefined"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}kc(`
.my-tabs__header[data-v-1f94052c] {
  margin-bottom: 0.75rem;
  border-radius: 0.25rem;
  --tw-bg-opacity: 1;
  background-color: rgb(243 244 246 / var(--tw-bg-opacity));
  padding: 0px;
  padding: 0.125rem;
}
.my-tabs__header-shell[data-v-1f94052c] {
  justify-content: space-between;
  position: relative;
  display: flex;
}
.my-tab__title[data-v-1f94052c] {
  text-align: center;
  position: relative;
  flex: 1 1 auto;
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
  z-index: 1;
}
.my-tab__title.my-active[data-v-1f94052c] {
  font-weight: bold;
}
.my-tab__slider[data-v-1f94052c] {
  position: absolute;
  bottom: 0px;
  top: 0px;
  border-radius: 0.25rem;
  --tw-bg-opacity: 1;
  background-color: rgb(255 255 255 / var(--tw-bg-opacity));
  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
  transition-duration: 150ms;
}
`),fg.__scopeId="data-v-1f94052c",fg.__file="packages/color-picker/comps/Tabs.vue";var hg=m.defineComponent({setup(){}});const a5={t:"1685345224620",class:"sd-xggj",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8489",width:"20",height:"20"},o5=[m.createElementVNode("path",{d:"M716.288 140.501333a42.666667 42.666667 0 0 1 60.373333 0l90.496 90.496a42.666667 42.666667 0 0 1 0 60.330667l-120.661333 120.704L595.626667 261.12l120.661333-120.661333zM520.192 185.770667l301.696 301.653333-60.330667 60.373333-301.653333-301.696 60.288-60.330666z","p-id":"8490"},null,-1),m.createElementVNode("path",{d:"M580.565333 366.762667l-60.373333-60.330667-362.026667 362.026667V853.333333l181.034667-3.84 362.026667-362.026666-60.330667-60.373334-331.861333 331.904-60.373334-60.373333 331.904-331.861333z","p-id":"8491"},null,-1)];hg.render=function(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("svg",a5,o5)},hg.__file="packages/color-picker/comps/svg.vue";var MB=Object.assign({name:"TabPanel"},{props:{label:{type:String,required:!0}},setup(e,{expose:t}){const n=m.getCurrentInstance();n.parent.exposed.tabs.value.push(n);const r=m.ref(!1),i=m.computed(()=>({display:r.value?"block":"none"}));return t({changeActive:function(a){r.value=a}}),(a,l)=>(m.openBlock(),m.createElementBlock("div",{class:"tab-panel",style:m.normalizeStyle(i.value)},[m.renderSlot(a.$slots,"default")],4))}});function s5(e,t,n){var r=(n||{}).atBegin;return function(i,a,l){var o,c=l||{},s=c.noTrailing,A=s!==void 0&&s,v=c.noLeading,B=v!==void 0&&v,x=c.debounceMode,M=x===void 0?void 0:x,T=!1,p=0;function u(){o&&clearTimeout(o)}function g(){for(var C=arguments.length,f=new Array(C),d=0;d<C;d++)f[d]=arguments[d];var h=this,w=Date.now()-p;function I(){p=Date.now(),a.apply(h,f)}function y(){o=void 0}T||(B||!M||o||I(),u(),M===void 0&&w>i?B?(p=Date.now(),A||(o=setTimeout(M?y:I,i))):I():A!==!0&&(o=setTimeout(M?y:I,M===void 0?i-w:i)))}return g.cancel=function(C){var f=(C||{}).upcomingOnly,d=f!==void 0&&f;u(),T=!d},g}(e,t,{debounceMode:(r!==void 0&&r)!==!1})}MB.__file="packages/color-picker/comps/TabPanel.vue";var dg=m.defineComponent({props:["modelValue"],emits:["change","update:modelValue"],setup(e,{emit:t}){const n=m.ref(90),r=m.ref(null),i=m.computed(()=>n.value-90);let a=!1;const l=m.ref(!1);return m.watch(()=>n.value,o=>{e.modelValue!==n.value&&t("update:modelValue",o),t("change")}),m.watch(()=>e.modelValue,o=>{n.value=o}),{inputChange:o=>{t("change",o)},num:n,turn:o=>{if(!a)return;const c=27,s=27,A=o.offsetX-c,v=o.offsetY-s,B=180*Math.atan2(v,A)/Math.PI;n.value=Math.round(B+90)},touch:(o,c)=>{o.preventDefault(),a=c},angleInDegrees:i,numInput:r,visiable:l}}});const A5={class:"angle-input-box"};kc(`.angle-input {
  width: 38px;
  margin-left: 5px;
  padding: 0 0 0 4px;
  border: 1px solid #e8eaec;
  border-radius: 4px;
  position: relative;
}
.angle-input-box {
  position: relative;
}
.angle-input-box::after {
  content: '\xB0';
  width: 5px;
  height: 2px;
  position: absolute;
  right: 2px;
  top: 0;
}
.AngleHandle {
  position: absolute;
  z-index: 2;
  right: 2px;
  margin-top: 3px;
  background: #ffffff;
  width: 60px;
  height: 60px;
  border-radius: 7px;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
}
.AngleHandle .angle {
  width: 54px;
  height: 54px;
  position: relative;
  overflow: hidden;
  background: #f1f2f4;
  border-radius: 50%;
  user-select: none;
  cursor: pointer;
}
.AngleHandle .line {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 50%;
  height: 1px;
  background: #999999;
  pointer-events: none;
  transform-origin: left top;
}
.AngleHandle .line::before {
  position: absolute;
  content: '';
  left: -1px;
  top: -1px;
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background: #999999;
}
.AngleHandle .line::after {
  position: absolute;
  content: '';
  right: 0;
  top: -2px;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #999999;
}
`),dg.render=function(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",A5,[m.withDirectives(m.createElementVNode("input",{ref:"numInput","onUpdate:modelValue":t[0]||(t[0]=l=>e.num=l),class:"angle-input",onFocus:t[1]||(t[1]=l=>e.visiable=!0),onBlur:t[2]||(t[2]=l=>e.visiable=!1),onInput:t[3]||(t[3]=(...l)=>e.inputChange&&e.inputChange(...l))},null,544),[[m.vModelText,e.num]]),m.withDirectives(m.createElementVNode("div",{class:"AngleHandle",onMousedown:t[6]||(t[6]=l=>e.touch(l,!0)),onMouseup:t[7]||(t[7]=l=>e.touch(l,!1))},[m.createElementVNode("div",{class:"angle",onMouseup:t[4]||(t[4]=(...l)=>e.turn&&e.turn(...l)),onMousemove:t[5]||(t[5]=(...l)=>e.turn&&e.turn(...l))},[m.createElementVNode("div",{style:m.normalizeStyle(`transform: rotate(${e.angleInDegrees}deg)`),class:"line"},null,4)],32)],544),[[m.vShow,e.visiable]])])},dg.__file="packages/color-picker/comps/AngleHandle.vue",kc(`/* ! tailwindcss v3.3.2 | MIT License | https://tailwindcss.com */

/*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

*,
::before,
::after {
  box-sizing: border-box;
  /* 1 */
  border-width: 0;
  /* 2 */
  border-style: solid;
  /* 2 */
  border-color: #e5e7eb;
  /* 2 */
}

::before,
::after {
  --tw-content: '';
}

/*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured \`sans\` font-family by default.
5. Use the user's configured \`sans\` font-feature-settings by default.
6. Use the user's configured \`sans\` font-variation-settings by default.
*/

html {
  line-height: 1.5;
  /* 1 */
  -webkit-text-size-adjust: 100%;
  /* 2 */
  -moz-tab-size: 4;
  /* 3 */
  tab-size: 4;
  /* 3 */
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  /* 4 */
  font-feature-settings: normal;
  /* 5 */
  font-variation-settings: normal;
  /* 6 */
}

/*
1. Remove the margin in all browsers.
2. Inherit line-height from \`html\` so users can set them as a class directly on the \`html\` element.
*/

body {
  margin: 0;
  /* 1 */
  line-height: inherit;
  /* 2 */
}

/*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

hr {
  height: 0;
  /* 1 */
  color: inherit;
  /* 2 */
  border-top-width: 1px;
  /* 3 */
}

/*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]) {
  -webkit-text-decoration: underline dotted;
  text-decoration: underline dotted;
}

/*
Remove the default font size and weight for headings.
*/

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: inherit;
  font-weight: inherit;
}

/*
Reset links to optimize for opt-in styling instead of opt-out.
*/

a {
  color: inherit;
  text-decoration: inherit;
}

/*
Add the correct font weight in Edge and Safari.
*/

b,
strong {
  font-weight: bolder;
}

/*
1. Use the user's configured \`mono\` font family by default.
2. Correct the odd \`em\` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  /* 1 */
  font-size: 1em;
  /* 2 */
}

/*
Add the correct font size in all browsers.
*/

small {
  font-size: 80%;
}

/*
Prevent \`sub\` and \`sup\` elements from affecting the line height in all browsers.
*/

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

table {
  text-indent: 0;
  /* 1 */
  border-color: inherit;
  /* 2 */
  border-collapse: collapse;
  /* 3 */
}

/*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

button,
input,
optgroup,
select,
textarea {
  font-family: inherit;
  /* 1 */
  font-size: 100%;
  /* 1 */
  font-weight: inherit;
  /* 1 */
  line-height: inherit;
  /* 1 */
  color: inherit;
  /* 1 */
  margin: 0;
  /* 2 */
  padding: 0;
  /* 3 */
}

/*
Remove the inheritance of text transform in Edge and Firefox.
*/

button,
select {
  text-transform: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

button,
[type='button'],
[type='reset'],
[type='submit'] {
  -webkit-appearance: button;
  /* 1 */
  background-color: transparent;
  /* 2 */
  background-image: none;
  /* 2 */
}

/*
Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring {
  outline: auto;
}

/*
Remove the additional \`:invalid\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid {
  box-shadow: none;
}

/*
Add the correct vertical alignment in Chrome and Firefox.
*/

progress {
  vertical-align: baseline;
}

/*
Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
  height: auto;
}

/*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

[type='search'] {
  -webkit-appearance: textfield;
  /* 1 */
  outline-offset: -2px;
  /* 2 */
}

/*
Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration {
  -webkit-appearance: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to \`inherit\` in Safari.
*/

::-webkit-file-upload-button {
  -webkit-appearance: button;
  /* 1 */
  font: inherit;
  /* 2 */
}

/*
Add the correct display in Chrome and Safari.
*/

summary {
  display: list-item;
}

/*
Removes the default spacing and border for appropriate elements.
*/

blockquote,
dl,
dd,
h1,
h2,
h3,
h4,
h5,
h6,
hr,
figure,
p,
pre {
  margin: 0;
}

fieldset {
  margin: 0;
  padding: 0;
}

legend {
  padding: 0;
}

ol,
ul,
menu {
  list-style: none;
  margin: 0;
  padding: 0;
}

/*
Prevent resizing textareas horizontally by default.
*/

textarea {
  resize: vertical;
}

/*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

input::placeholder,
textarea::placeholder {
  opacity: 1;
  /* 1 */
  color: #9ca3af;
  /* 2 */
}

/*
Set the default cursor for buttons.
*/

button,
[role="button"] {
  cursor: pointer;
}

/*
Make sure disabled buttons don't get the pointer cursor.
*/

:disabled {
  cursor: default;
}

/*
1. Make replaced elements \`display: block\` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add \`vertical-align: middle\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
   This can trigger a poorly considered lint error in some tools but is included by design.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  display: block;
  /* 1 */
  vertical-align: middle;
  /* 2 */
}

/*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img,
video {
  max-width: 100%;
  height: auto;
}

/* Make elements with the HTML hidden attribute stay hidden by default */

[hidden] {
  display: none;
}

*,
::before,
::after {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x: ;
  --tw-pan-y: ;
  --tw-pinch-zoom: ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position: ;
  --tw-gradient-via-position: ;
  --tw-gradient-to-position: ;
  --tw-ordinal: ;
  --tw-slashed-zero: ;
  --tw-numeric-figure: ;
  --tw-numeric-spacing: ;
  --tw-numeric-fraction: ;
  --tw-ring-inset: ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur: ;
  --tw-brightness: ;
  --tw-contrast: ;
  --tw-grayscale: ;
  --tw-hue-rotate: ;
  --tw-invert: ;
  --tw-saturate: ;
  --tw-sepia: ;
  --tw-drop-shadow: ;
  --tw-backdrop-blur: ;
  --tw-backdrop-brightness: ;
  --tw-backdrop-contrast: ;
  --tw-backdrop-grayscale: ;
  --tw-backdrop-hue-rotate: ;
  --tw-backdrop-invert: ;
  --tw-backdrop-opacity: ;
  --tw-backdrop-saturate: ;
  --tw-backdrop-sepia: ;
}

::backdrop {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x: ;
  --tw-pan-y: ;
  --tw-pinch-zoom: ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position: ;
  --tw-gradient-via-position: ;
  --tw-gradient-to-position: ;
  --tw-ordinal: ;
  --tw-slashed-zero: ;
  --tw-numeric-figure: ;
  --tw-numeric-spacing: ;
  --tw-numeric-fraction: ;
  --tw-ring-inset: ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur: ;
  --tw-brightness: ;
  --tw-contrast: ;
  --tw-grayscale: ;
  --tw-hue-rotate: ;
  --tw-invert: ;
  --tw-saturate: ;
  --tw-sepia: ;
  --tw-drop-shadow: ;
  --tw-backdrop-blur: ;
  --tw-backdrop-brightness: ;
  --tw-backdrop-contrast: ;
  --tw-backdrop-grayscale: ;
  --tw-backdrop-hue-rotate: ;
  --tw-backdrop-invert: ;
  --tw-backdrop-opacity: ;
  --tw-backdrop-saturate: ;
  --tw-backdrop-sepia: ;
}`);const DB=e=>(m.pushScopeId("data-v-f2777002"),e=e(),m.popScopeId(),e),l5={class:"color-picker"},c5={key:1,class:"title"},u5={key:2,class:"cp__gradient flex-center"},f5={class:"cp__gradient-bar"},h5=["data-sort","onMousedown","onKeydown"],d5=DB(()=>m.createElementVNode("div",{class:"cpp__color-saturation"},null,-1)),g5=DB(()=>m.createElementVNode("div",{class:"cpp__color-value"},null,-1)),p5={class:"cps__track"},v5={class:"cps__track"},m5={class:"cp__box"},y5=["value"],C5=["value"],w5=["onClick"];var po=Object.assign({name:"ColorPicker",inheritAttrs:!1},{props:{value:{type:String,default:"#ffffffff"},modes:{type:Array,default:()=>["\u7EAF\u8272","\u6E10\u53D8"]},defaultColor:{type:String,default:"#ffffffff"},defaultGradient:{type:String,default:"linear-gradient(90deg, #fffae0ff 0%, #ffd1f1ff 100%)"},defaultImage:{type:String,default:"https://st0.dancf.com/csc/157/material-2d-textures/0/20190714-174653-ed3c.jpg"}},emits:["update:value","change","native-pick","blur"],setup(e,{emit:t}){const n=e,r=m.ref(xB(n.value)),i=m.ref(90),a=m.ref([]),l=m.reactive({h:0,s:0,l:0,a:0}),o=m.ref("#f00"),c=m.ref("#000"),s=m.ref(0);let A=m.ref({});const v="EyeDropper"in window,B=m.ref(),x=m.ref(),M=m.ref(),T=m.ref(),p=m.ref(),u=m.ref(),g=m.ref();let C=null,f=null,d=null,h=null,w=null,I=!0,y=null;const D=m.ref([]),F={color:n.defaultColor,gradient:n.defaultGradient,image:n.defaultImage},L=m.computed(()=>n.modes.includes("\u6E10\u53D8")),k=m.computed(()=>{const oe=lg(c.value).join(",");return{background:`linear-gradient(to right, rgba(${oe}, 0) 0%, rgb(${oe}) 100%)`}});m.watch(A,oe=>{he(oe.color)}),m.watch(c,oe=>{(function(Z){if(/^#(?:[0-9a-f]{3}){1,2}$/i.test(Z)){const J=lg(Z),[q,Y,te]=IB(...J);l.h=q,l.s=Y,l.l=te,M.value.style.left=`${l.s}%`,M.value.style.top=100-l.l+"%",T.value.style.left=l.h/360*100+"%",c.value=Z}})(oe)}),m.watch(()=>n.value,oe=>{const Z=xB(oe);Z!==r.value&&(r.value=Z),ne(Z),z(oe),U(oe)});const U=s5(300,async oe=>{const Z=D.value,J=Z.indexOf(oe);J!==-1&&D.value.splice(J,1),Z.length>=4&&D.value.splice(Z.length-1,1);const q=[oe];D.value=q.concat(Z)}),N=m.watch(l,function(oe){const Z=((q,Y,te,V=1)=>`${JH(q,Y,te)}${V===0?"00":Math.round(255*V).toString(16)}`)(...Object.values(oe));let J;r.value==="\u7EAF\u8272"?J=Z:r.value==="\u6E10\u53D8"&&(A.value.color=Z,J=ug(i.value,a.value)),ie(Z),H(J)},{deep:!0});function z(oe){r.value==="\u7EAF\u8272"?F.color=oe:r.value==="\u6E10\u53D8"?F.gradient=oe:r.value==="\u56FE\u6848"&&(F.image=oe)}function H(oe){oe!==n.value&&(z(oe),t("update:value",oe),t("change",{mode:r.value,color:oe,angle:Number(i.value),stops:a.value}))}async function X(oe){if(oe===r.value)return;let Z;r.value=oe,oe==="\u7EAF\u8272"?Z=F.color:oe==="\u6E10\u53D8"?Z=F.gradient:oe==="\u56FE\u6848"&&(Z=F.image),H(Z)}function ne(oe){oe==="\u7EAF\u8272"?he(n.value):oe==="\u6E10\u53D8"&&(a.value.length===0?n.value.match(/[^,]+/g).forEach((Z,J)=>{if(J===0)return void(i.value=Number(Z.match(/\d+/)[0]));let[q,Y]=Z.trim().split(" ");q.startsWith("#")||(q=SB(q)),Y=Y.match(/\d+/)[0]/100,a.value.push({color:q,offset:Y}),A.value=a.value[0]}):he(A.value.color))}function ie(oe){var Z;o.value=`hsl(${l.h}, 100%, 50%)`,c.value=oe.slice(0,7),c.value,s.value=Math.round(100*((Z=l.a)!=null?Z:1))}function he(oe){if(I){const Z=$H(oe);l.h=Z[0],l.s=Z[1],l.l=Z[2],l.a=Z[3],ie(oe);let J=l.s;const q=Math.round(100-l.l);M.value.style.left=`${J}%`,M.value.style.top=`${q}%`,J=l.h/360,T.value.style.left=100*J+"%",u.value.style.left=100*l.a+"%"}}function le(oe){if(oe.stopPropagation(),oe.preventDefault(),!["Backspace","Delete"].includes(oe.key)||a.value.length===2)return;const Z=a.value.indexOf(A.value);a.value.splice(Z,1),A.value=a.value[0]}function Ae(){I=!1,y&&clearTimeout(y),y=setTimeout(()=>{I=!0},16)}async function R(oe){let Z="";if(oe&&oe.target.value){const J=oe.target.value;Z=J+(J.length===7?"ff":"")}else{const J=new window.EyeDropper;qH("\u6309Esc\u53EF\u9000\u51FA");try{Z=(await J.open()).sRGBHex+"ff"}catch{console.log("\u7528\u6237\u53D6\u6D88\u4E86\u53D6\u8272")}}r.value==="\u6E10\u53D8"?(A.value.color=Z,A.value={...A.value}):t("update:value",Z),t("native-pick",Z)}m.onMounted(async function(){M.value.style.left=`${l.s}%`,M.value.style.top=100-l.l+"%",T.value.style.left=l.h/360*100+"%",u.value.style.left=100*l.a+"%",L.value&&(C=Fc(B.value,{onmousedown:function(q){if(w)return;const Y=a.value.findIndex(ye=>ye.offset>=q.x),te=a.value[Y-1],V=cg(te.color),K=a.value[Y],$=cg(K.color),se=[];for(let ye=0;ye<3;ye+=1)se.push(V[ye]+($[ye]-V[ye])*q.x);const pe=K.offset-q.x-(q.x-te.offset)>0?V[3]:$[3],ue=SB(...se,pe);A.value={color:ue,offset:q.x},a.value.splice(Y,0,A.value)},onmousemove:function(q){!w||(A.value.offset=q.x,a.value.sort((Y,te)=>Y.offset-te.offset),H(ug(i.value,a.value)))},onmouseup:function(){w=!1}}));function oe(q){Ae();const Y=100*q.x,te=100*q.y;l.s=Math.round(Y),l.l=Math.round(100-te),M.value.style.left=`${Y}%`,M.value.style.top=`${te}%`}function Z(q){Ae(),l.h=360*q.x,T.value.style.left=100*q.x+"%"}function J(q){Ae(),l.a=q.x,u.value.style.left=100*q.x+"%"}f=Fc(x.value,{onmousemove:oe,onmouseup:oe}),d=Fc(p.value,{onmousemove:Z,onmouseup:Z}),h=Fc(g.value,{onmousemove:J,onmouseup:J}),ne(r.value),z(n.value)}),m.onBeforeUnmount(()=>{f==null||f.destroy(),d==null||d.destroy(),h==null||h.destroy(),N(),C&&C.destroy()});const re=oe=>{const Z=function(J){let q=J.replace(/\s/g,"");return J.startsWith("#")||(q="#"+q),q.length<9&&(q=q.padEnd(9,"f")),q}(oe.target.value);t("blur",Z),t("update:value",Z)};function ee(){H(ug(i.value,a.value))}return(oe,Z)=>(m.openBlock(),m.createElementBlock("div",l5,[e.modes.length>1?(m.openBlock(),m.createBlock(fg,{key:0,value:r.value,"onUpdate:value":X},{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.modes,J=>(m.openBlock(),m.createBlock(MB,{key:J,label:J},null,8,["label"]))),128))]),_:1},8,["value"])):(m.openBlock(),m.createElementBlock("div",c5,m.toDisplayString(r.value),1)),L.value?m.withDirectives((m.openBlock(),m.createElementBlock("div",u5,[m.createElementVNode("div",f5,[m.createElementVNode("div",{ref_key:"elGradientTrack",ref:B,class:"cpgb__track",style:m.normalizeStyle([{width:"100%"},{background:e.value}])},[m.createCommentVNode(' tabindex="-1" \u662F\u5143\u7D20\u53EF\u4EE5\u89E6\u53D1 keydown \u4E8B\u4EF6 '),(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(a.value,(J,q)=>(m.openBlock(),m.createElementBlock("div",{key:q,class:m.normalizeClass(["cpgb__pointer",{"cpgb__pointer--active":J===m.unref(A)}]),"data-sort":q,style:m.normalizeStyle({left:100*J.offset+"%",background:J.color}),tabindex:"-1",onMousedown:Y=>{return te=J,w=!0,void(A.value=te);var te},onKeydown:m.withModifiers(le,["stop"])},null,46,h5))),128))],4)]),m.createVNode(dg,{modelValue:i.value,"onUpdate:modelValue":Z[0]||(Z[0]=J=>i.value=J),onChange:ee},null,8,["modelValue"])],512)),[[m.vShow,r.value==="\u6E10\u53D8"]]):m.createCommentVNode("v-if",!0),m.createElementVNode("div",{ref_key:"elPalette",ref:x,class:"cp__palette",style:m.normalizeStyle({background:o.value})},[d5,g5,m.createElementVNode("div",{ref_key:"elPalettePointer",ref:M,class:"cpp__pointer"},null,512)],4),m.createElementVNode("div",{ref_key:"elSliderHux",ref:p,class:"cp__slider cp__slider-hux"},[m.createElementVNode("div",p5,[m.createElementVNode("div",{ref_key:"elSliderHuxPointer",ref:T,class:"cpst__pointer"},null,512)])],512),m.createElementVNode("div",{ref_key:"elSliderAlpha",ref:g,class:"cp__slider cp__slider-alpha"},[m.createElementVNode("div",{class:"cpsa__background",style:m.normalizeStyle(k.value)},null,4),m.createElementVNode("div",v5,[m.createElementVNode("div",{ref_key:"elSliderAlphaPointer",ref:u,class:"cpst__pointer"},null,512)])],512),m.createElementVNode("div",m5,[m.createElementVNode("div",{class:"item",onClick:R},[v?(m.openBlock(),m.createBlock(hg,{key:0})):(m.openBlock(),m.createElementBlock("input",{key:1,class:"native",type:"color",onInput:R},null,32))]),m.createCommentVNode(` <input :value="value" @input="$emit('update:value', $event.target.value)" class="input" /> `),r.value==="\u6E10\u53D8"?(m.openBlock(),m.createElementBlock("input",{key:0,class:"input",value:m.unref(A).color},null,8,y5)):(m.openBlock(),m.createElementBlock("input",{key:1,value:e.value,class:"input",onBlur:re},null,40,C5)),r.value==="\u7EAF\u8272"?(m.openBlock(!0),m.createElementBlock(m.Fragment,{key:2},m.renderList(D.value,J=>(m.openBlock(),m.createElementBlock("div",{key:J,class:"item item-color",style:m.normalizeStyle({background:J}),onClick:q=>R({target:{value:J}})},null,12,w5))),128)):m.createCommentVNode("v-if",!0),m.createCommentVNode(' <input :value="alpha" class="w-12" size="small" :min="0" :max="100" @input="onChangeAlpha" @change="onChangeAlpha" /> ')])]))}});kc(`.flex-center[data-v-f2777002] {
  display: flex;
  justify-content: center;
  align-items: center;
}
.title[data-v-f2777002] {
  margin-bottom: 0.75rem;
  font-size: 15px;
  font-weight: 600;
}
.color-picker[data-v-f2777002] {
  -webkit-user-select: none;
  user-select: none;
  min-width: 220px;
}
.cp__gradient-bar[data-v-f2777002] {
  display: flex;
  justify-content: center;
  height: 16px;
  width: 100%;
  padding: 0 8px;
}
.cpgb__track[data-v-f2777002] {
  position: relative;
  cursor: pointer;
}
.cpgb__pointer[data-v-f2777002] {
  cursor: grab;
  position: absolute;
  top: 0px;
  top: -0.125rem;
  height: 1.25rem;
  --tw-translate-x: -50%;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
  border-width: 2px;
  border-style: solid;
  --tw-border-opacity: 1;
  border-color: rgb(255 255 255 / var(--tw-border-opacity));
  --tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
  outline: 2px solid transparent;
  outline-offset: 2px;
  width: 18px;
}
.cpgb__pointer--active[data-v-f2777002] {
  z-index: 1;
  border-radius: 3px;
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.2), 0 0 0 1.2px #2254f4;
}
.cp__palette[data-v-f2777002] {
  height: 140px;
  position: relative;
  margin-top: 0.75rem;
  margin-top: 0.875rem;
  cursor: pointer;
  overflow: hidden;
  border-radius: 0.25rem;
}
.cp__palette .cpp__color-saturation[data-v-f2777002],
.cp__palette .cpp__color-value[data-v-f2777002] {
  position: absolute;
  bottom: 0px;
  right: 0px;
  top: 0px;
  width: 100%;
  height: 100%;
}
.cp__palette .cpp__color-saturation[data-v-f2777002] {
  background-image: linear-gradient(to right, var(--tw-gradient-stops));
  --tw-gradient-from: #fff var(--tw-gradient-from-position);
  --tw-gradient-to: rgba(255, 255, 255, 0) var(--tw-gradient-to-position);
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
}
.cp__palette .cpp__color-value[data-v-f2777002] {
  background-image: linear-gradient(to top, var(--tw-gradient-stops));
  --tw-gradient-from: #000 var(--tw-gradient-from-position);
  --tw-gradient-to: rgba(0, 0, 0, 0) var(--tw-gradient-to-position);
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
}
.cp__palette .cpp__pointer[data-v-f2777002] {
  position: absolute;
  height: 0.75rem;
  width: 0.75rem;
  --tw-translate-x: -0.25rem;
  --tw-translate-x: -0.375rem;
  --tw-translate-y: -0.25rem;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
  border-radius: 9999px;
  border-width: 2px;
  --tw-border-opacity: 1;
  border-color: rgb(255 255 255 / var(--tw-border-opacity));
  --tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.cp__slider[data-v-f2777002] {
  position: relative;
  margin-top: 0.75rem;
  margin-top: 0.875rem;
  height: 0.5rem;
  border-radius: 0.25rem;
}
.cp__slider-hux[data-v-f2777002] {
  background: linear-gradient(90deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red);
}
.cp__slider-alpha[data-v-f2777002] {
  background: linear-gradient(to top right, hsla(0, 0%, 80%, 0.4) 25%, transparent 0, transparent 75%, hsla(0, 0%, 80%, 0.4) 0, hsla(0, 0%, 80%, 0.4)), linear-gradient(to top right, hsla(0, 0%, 80%, 0.4) 25%, transparent 0, transparent 75%, hsla(0, 0%, 80%, 0.4) 0, hsla(0, 0%, 80%, 0.4));
  background-size: 6px 6px;
  background-position: 0 0, 3px 3px;
}
.cp__slider .cpsa__background[data-v-f2777002] {
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.06);
  height: 100%;
  border-radius: 0.25rem;
}
.cp__box[data-v-f2777002] {
  margin-top: 0.75rem;
  margin-top: 0.875rem;
  display: flex;
}
.cp__box .item[data-v-f2777002] {
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  margin-left: 6px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  border-radius: 4px;
}
.cp__box .item-color[data-v-f2777002] {
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.06);
}
.cp__box .item[data-v-f2777002]:first-of-type {
  margin: 0;
}
.cp__box .item[data-v-f2777002]:hover {
  transform: scale(1.08);
}
.cp__box .input[data-v-f2777002] {
  width: 4.7rem;
  margin-left: 2px;
}
.cp__box .native[data-v-f2777002] {
  width: 100%;
  height: 100%;
}
.cps__track[data-v-f2777002] {
  position: absolute;
  left: 0.25rem;
  right: 0.25rem;
  top: 0px;
}
.cpst__pointer[data-v-f2777002] {
  cursor: pointer;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.6);
  position: absolute;
  top: 0px;
  box-sizing: content-box;
  height: 0.5rem;
  width: 0.5rem;
  --tw-translate-x: -0.5rem;
  --tw-translate-y: -0.25rem;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
  border-radius: 9999px;
  border-width: 4px;
  --tw-border-opacity: 1;
  border-color: rgb(255 255 255 / var(--tw-border-opacity));
}
`),po.__scopeId="data-v-f2777002",po.__file="packages/color-picker/index.vue",po.install=e=>{e.component(po.name,po)};var qX="";const B5="color-select",b5=m.defineComponent({name:B5,components:{colorPicker:po},inheritAttrs:!1,props:{label:{default:""},modelValue:{default:""},width:{default:"100%"},modes:{default:()=>["\u7EAF\u8272"]}},emits:["finish","update:modelValue","change"],setup(e,{emit:t}){const n=$e.useStore(),r=m.reactive({innerColor:"#ffffffff"});m.onMounted(()=>{e.modelValue&&(r.innerColor=e.modelValue+(e.modelValue.length===7?"ff":""))});const i=async B=>{console.log("\u53D6\u8272: ",B)},a=B=>{t("update:modelValue",B)},l=B=>{a(B)},o=()=>{t("finish",r.innerColor)},c=B=>{r.innerColor=B},s=()=>{n.commit("setShowMoveable",!1)},A=()=>{n.commit("setShowMoveable",!0)},v=B=>{t("change",B)};return{...m.toRefs(r),activeChange:l,onChange:o,dropColor:i,inputBlur:c,enter:s,hide:A,colorChange:v}}}),E5={key:0,class:"input-label"},_5={class:"content"};function S5(e,t,n,r,i,a){const l=m.resolveComponent("color-picker"),o=m.resolveComponent("el-popover");return m.openBlock(),m.createElementBlock("div",{class:"color__select",style:m.normalizeStyle({width:e.width})},[e.label?(m.openBlock(),m.createElementBlock("p",E5,m.toDisplayString(e.label),1)):m.createCommentVNode("",!0),m.createElementVNode("div",_5,[m.createVNode(o,{placement:"left-end",trigger:"click",width:"auto",onAfterEnter:e.enter,onBeforeLeave:e.hide},{reference:m.withCtx(()=>[m.createElementVNode("div",{class:"color__bar",style:m.normalizeStyle({background:e.innerColor})},null,4)]),default:m.withCtx(()=>[m.createVNode(l,{value:e.innerColor,"onUpdate:value":t[0]||(t[0]=c=>e.innerColor=c),modes:e.modes,onChange:e.colorChange,onNativePick:e.dropColor},null,8,["value","modes","onChange","onNativePick"])]),_:1},8,["onAfterEnter","onBeforeLeave"])])],4)}var vo=ct(b5,[["render",S5],["__scopeId","data-v-30405e68"]]),I5=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),x5={dotColorTypes:[{key:"single",value:"\u5355\u8272"},{key:"gradient",value:"\u6E10\u53D8\u8272"}],dotTypes:[{key:"dots",value:"\u5706\u70B9\u98CE\u683C"},{key:"rounded",value:"\u5706\u6DA6\u98CE\u683C"},{key:"classy",value:"\u7ECF\u5178\u98CE\u683C"},{key:"classy-rounded",value:"\u5706\u89D2\u98CE\u683C"},{key:"square",value:"\u65B9\u5F62\u98CE\u683C"},{key:"extra-rounded",value:"\u7279\u6B8A\u98CE\u683C"}]},eK="";const M5={name:"w-image-style",components:{ElSelect:jt.ElSelect,ElOption:jt.ElOption,numberInput:Li,numberSlider:ra,iconItemSelect:fa,textInputArea:bB,colorSelect:vo,uploader:pl},data(){return{activeNames:["2","3","4"],innerElement:{},tag:!1,ingoreKeys:["left","top","name","width","height","radiusTopLeft","radiusTopRight","radiusBottomLeft","radiusBottomRight"],layerIconList:eA,alignIconList:zs,localization:x5}},computed:{...$e.mapGetters(["dActiveElement","dMoving","dWidgets"])},watch:{dActiveElement:{handler(e,t){this.change(),e.uuid==-1?(this.innerElement.cropEdit=!1,this.updateWidgetData({uuid:this.lastUuid,key:"cropEdit",value:!1})):this.lastUuid=e.uuid},deep:!0},innerElement:{handler(e,t){this.changeValue()},deep:!0}},created(){this.change()},methods:{...$e.mapActions(["updateWidgetData","updateAlign","updateLayerIndex","addWidget"]),change(){this.tag=!0,this.innerElement=JSON.parse(JSON.stringify(this.dActiveElement))},changeValue(){if(this.tag){this.tag=!1;return}if(!this.dMoving)for(let e in this.innerElement)this.ingoreKeys.indexOf(e)!==-1?this.dActiveElement[e]=this.innerElement[e]:e!=="setting"&&e!=="record"&&this.innerElement[e]!==this.dActiveElement[e]&&this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:this.innerElement[e]})},finish(e,t){this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:t,pushHistory:!0})},layerAction(e){console.log(e),this.updateLayerIndex({uuid:this.dActiveElement.uuid,value:e.value})},async alignAction(e){this.updateAlign({align:e.value,uuid:this.dActiveElement.uuid}),await this.$nextTick(),this.$store.commit("updateRect")},async uploadImgDone(e){this.$store.commit("setShowMoveable",!1),await wt.material.addMyPhoto(e),this.innerElement.url=e.url,this.$store.commit("setShowMoveable",!0)}}},Uc=e=>(m.pushScopeId("data-v-1fb0f52c"),e=e(),m.popScopeId(),e),D5={id:"w-image-style"},T5={class:"line-layout"},O5={style:{"flex-wrap":"nowrap"},class:"line-layout"},F5={style:{"flex-wrap":"nowrap","margin-top":"1rem"},class:"line-layout"},k5=Uc(()=>m.createElementVNode("br",null,null,-1)),U5={class:"slide-wrap logo__layout"},L5=["src"],P5=Uc(()=>m.createElementVNode("br",null,null,-1)),N5={class:"slide-wrap"},R5=Uc(()=>m.createElementVNode("br",null,null,-1)),Q5=Uc(()=>m.createElementVNode("br",null,null,-1));function H5(e,t,n,r,i,a){const l=m.resolveComponent("number-input"),o=m.resolveComponent("el-collapse-item"),c=m.resolveComponent("el-option"),s=m.resolveComponent("el-select"),A=m.resolveComponent("color-select"),v=m.resolveComponent("number-slider"),B=m.resolveComponent("text-input-area"),x=m.resolveComponent("el-button"),M=m.resolveComponent("uploader"),T=m.resolveComponent("icon-item-select"),p=m.resolveComponent("el-collapse");return m.openBlock(),m.createElementBlock("div",D5,[m.createVNode(p,{modelValue:i.activeNames,"onUpdate:modelValue":t[21]||(t[21]=u=>i.activeNames=u)},{default:m.withCtx(()=>[m.createVNode(o,{title:"\u4F4D\u7F6E\u5C3A\u5BF8",name:"1"},{default:m.withCtx(()=>[m.createElementVNode("div",T5,[m.createVNode(l,{modelValue:i.innerElement.left,"onUpdate:modelValue":t[0]||(t[0]=u=>i.innerElement.left=u),label:"X",onFinish:t[1]||(t[1]=u=>a.finish("left",u))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.top,"onUpdate:modelValue":t[2]||(t[2]=u=>i.innerElement.top=u),label:"Y",onFinish:t[3]||(t[3]=u=>a.finish("top",u))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.width,"onUpdate:modelValue":t[4]||(t[4]=u=>i.innerElement.width=u),style:{"margin-top":"0.5rem"},label:"\u5BBD",onFinish:t[5]||(t[5]=u=>a.finish("width",u))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.height,"onUpdate:modelValue":t[6]||(t[6]=u=>i.innerElement.height=u),style:{"margin-top":"0.5rem"},label:"\u9AD8",onFinish:t[7]||(t[7]=u=>a.finish("height",u))},null,8,["modelValue"])])]),_:1}),m.createVNode(o,{title:"\u6837\u5F0F\u8BBE\u8BA1",name:"2"},{default:m.withCtx(()=>[m.createElementVNode("div",O5,[m.createVNode(s,{modelValue:i.innerElement.dotColorType,"onUpdate:modelValue":t[8]||(t[8]=u=>i.innerElement.dotColorType=u)},{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.localization.dotColorTypes,u=>(m.openBlock(),m.createBlock(c,{key:u.key,label:u.value,value:u.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),m.createVNode(s,{modelValue:i.innerElement.dotType,"onUpdate:modelValue":t[9]||(t[9]=u=>i.innerElement.dotType=u),class:"selector"},{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.localization.dotTypes,u=>(m.openBlock(),m.createBlock(c,{key:u.key,label:u.value,value:u.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),m.createElementVNode("div",F5,[m.createVNode(A,{modelValue:i.innerElement.dotColor,"onUpdate:modelValue":t[10]||(t[10]=u=>i.innerElement.dotColor=u),onFinish:t[11]||(t[11]=u=>a.finish("dotColor",u))},null,8,["modelValue"]),m.withDirectives(m.createVNode(A,{modelValue:i.innerElement.dotColor2,"onUpdate:modelValue":t[12]||(t[12]=u=>i.innerElement.dotColor2=u),onFinish:t[13]||(t[13]=u=>a.finish("dotColor2",u))},null,8,["modelValue"]),[[m.vShow,i.innerElement.dotColorType!=="single"]])]),m.withDirectives(m.createVNode(v,{modelValue:i.innerElement.dotRotation,"onUpdate:modelValue":t[14]||(t[14]=u=>i.innerElement.dotRotation=u),style:{"margin-top":"8px"},label:"\u6E10\u53D8\u89D2\u5EA6",step:1,minValue:0,maxValue:360,onFinish:t[15]||(t[15]=u=>a.finish("dotRotation",u))},null,8,["modelValue"]),[[m.vShow,i.innerElement.dotColorType!=="single"]])]),_:1}),m.createVNode(o,{title:"\u5185\u5BB9\u8BBE\u7F6E",name:"3"},{default:m.withCtx(()=>[m.createVNode(B,{modelValue:i.innerElement.value,"onUpdate:modelValue":t[16]||(t[16]=u=>i.innerElement.value=u),max:40,label:"",onFinish:t[17]||(t[17]=u=>a.finish("value",u))},null,8,["modelValue"]),k5,m.createElementVNode("div",U5,[m.withDirectives(m.createElementVNode("img",{src:i.innerElement.url,class:"logo"},null,8,L5),[[m.vShow,i.innerElement.url]]),m.createVNode(M,{class:"options__upload",onDone:a.uploadImgDone},{default:m.withCtx(()=>[m.createVNode(x,{size:"small",plain:""},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(i.innerElement.url?"\u66FF\u6362\u56FE\u7247":"\u4E0A\u4F20 Logo"),1)]),_:1})]),_:1},8,["onDone"]),m.withDirectives(m.createVNode(x,{size:"small",link:"",onClick:t[18]||(t[18]=u=>a.finish("url",""))},{default:m.withCtx(()=>[m.createTextVNode("\u5220\u9664")]),_:1},512),[[m.vShow,i.innerElement.url]])]),P5,m.createElementVNode("div",N5,[m.createVNode(v,{modelValue:i.innerElement.opacity,"onUpdate:modelValue":t[19]||(t[19]=u=>i.innerElement.opacity=u),label:"\u4E0D\u900F\u660E",step:.01,maxValue:1,onFinish:t[20]||(t[20]=u=>a.finish("opacity",u))},null,8,["modelValue"])])]),_:1}),R5,m.createVNode(T,{class:"style-item",label:"",data:i.layerIconList,onFinish:a.layerAction},null,8,["data","onFinish"]),m.createVNode(T,{data:i.alignIconList,onFinish:a.alignAction},null,8,["data","onFinish"]),Q5]),_:1},8,["modelValue"])])}var TB=ct(M5,[["render",H5],["__scopeId","data-v-1fb0f52c"]]),j5=Object.freeze(Object.defineProperty({__proto__:null,default:TB},Symbol.toStringTag,{value:"Module"})),nK="";const z5={name:"w-image-style",components:{numberInput:Li,numberSlider:ra,iconItemSelect:fa,colorSelect:vo},data(){return{activeNames:["2","3","4"],innerElement:{},tag:!1,ingoreKeys:["left","top","name","width","height","radiusTopLeft","radiusTopRight","radiusBottomLeft","radiusBottomRight"],layerIconList:eA,alignIconList:zs}},computed:{...$e.mapGetters(["dActiveElement","dMoving"])},watch:{dActiveElement:{handler(e,t){this.change()},deep:!0},innerElement:{handler(e,t){this.changeValue()},deep:!0}},created(){this.change()},methods:{...$e.mapActions(["updateWidgetData","updateAlign","updateLayerIndex"]),change(){this.tag=!0,this.innerElement=JSON.parse(JSON.stringify(this.dActiveElement))},changeValue(){if(this.tag){this.tag=!1;return}if(!this.dMoving)for(let e in this.innerElement)this.ingoreKeys.indexOf(e)!==-1?this.dActiveElement[e]=this.innerElement[e]:e!=="setting"&&e!=="record"&&this.innerElement[e]!==this.dActiveElement[e]&&this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:this.innerElement[e]})},colorFinish(e){this.finish(e,this.innerElement[e])},finish(e,t){this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:t,pushHistory:!0})},layerAction(e){this.updateLayerIndex({uuid:this.dActiveElement.uuid,value:e.value})},alignAction(e){this.updateAlign({align:e.value,uuid:this.dActiveElement.uuid})}}},gg=e=>(m.pushScopeId("data-v-a6306dae"),e=e(),m.popScopeId(),e),V5={id:"w-image-style"},G5={class:"line-layout"},W5=gg(()=>m.createElementVNode("br",null,null,-1)),Y5={class:"slide-wrap"},X5=gg(()=>m.createElementVNode("br",null,null,-1)),K5=gg(()=>m.createElementVNode("br",null,null,-1));function Z5(e,t,n,r,i,a){const l=m.resolveComponent("number-input"),o=m.resolveComponent("el-collapse-item"),c=m.resolveComponent("color-select"),s=m.resolveComponent("number-slider"),A=m.resolveComponent("icon-item-select"),v=m.resolveComponent("el-collapse");return m.openBlock(),m.createElementBlock("div",V5,[m.createVNode(v,{modelValue:i.activeNames,"onUpdate:modelValue":t[11]||(t[11]=B=>i.activeNames=B)},{default:m.withCtx(()=>[m.createVNode(o,{title:"\u4F4D\u7F6E\u5C3A\u5BF8",name:"1"},{default:m.withCtx(()=>[m.createElementVNode("div",G5,[m.createVNode(l,{modelValue:i.innerElement.left,"onUpdate:modelValue":t[0]||(t[0]=B=>i.innerElement.left=B),label:"X",onFinish:t[1]||(t[1]=B=>a.finish("left",B))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.top,"onUpdate:modelValue":t[2]||(t[2]=B=>i.innerElement.top=B),label:"Y",onFinish:t[3]||(t[3]=B=>a.finish("top",B))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.width,"onUpdate:modelValue":t[4]||(t[4]=B=>i.innerElement.width=B),style:{"margin-top":"0.5rem"},label:"\u5BBD",onFinish:t[5]||(t[5]=B=>a.finish("width",B))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.height,"onUpdate:modelValue":t[6]||(t[6]=B=>i.innerElement.height=B),style:{"margin-top":"0.5rem"},label:"\u9AD8",onFinish:t[7]||(t[7]=B=>a.finish("height",B))},null,8,["modelValue"])])]),_:1}),m.createVNode(o,{title:"\u8BBE\u7F6E\u989C\u8272",name:"2"},{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.innerElement.colors,(B,x)=>(m.openBlock(),m.createElementBlock("div",{key:x+"c"},[m.createVNode(c,{modelValue:i.innerElement.colors[x],"onUpdate:modelValue":M=>i.innerElement.colors[x]=M,onFinish:t[8]||(t[8]=M=>a.colorFinish("colors"))},null,8,["modelValue","onUpdate:modelValue"])]))),128)),W5,m.createElementVNode("div",Y5,[m.createVNode(s,{modelValue:i.innerElement.opacity,"onUpdate:modelValue":t[9]||(t[9]=B=>i.innerElement.opacity=B),label:"\u4E0D\u900F\u660E",step:.01,maxValue:1,onFinish:t[10]||(t[10]=B=>a.finish("opacity",B))},null,8,["modelValue"])])]),_:1}),X5,m.createVNode(A,{class:"style-item",label:"",data:i.layerIconList,onFinish:a.layerAction},null,8,["data","onFinish"]),m.createVNode(A,{data:i.alignIconList,onFinish:a.alignAction},null,8,["data","onFinish"]),K5]),_:1},8,["modelValue"])])}var OB=ct(z5,[["render",Z5],["__scopeId","data-v-a6306dae"]]),J5=Object.freeze(Object.defineProperty({__proto__:null,default:OB},Symbol.toStringTag,{value:"Module"}));const $5=[{key:"fontWeight",icon:"icon-bold",tip:"\u52A0\u7C97",value:["normal","bold"],select:!1},{key:"fontStyle",icon:"icon-italic",tip:"\u659C\u4F53",value:["normal","italic"],select:!1},{key:"textDecoration",icon:"icon-underline",tip:"\u4E0B\u5212\u7EBF",value:["none","underline"],select:!1},{key:"textDecoration",icon:"icon-strikethrough",tip:"\u5220\u9664\u7EBF",value:["none","line-through"],select:!1},{key:"writingMode",icon:"icon-textorientation",tip:"\u7AD6\u7248\u6587\u5B57",value:["horizontal-tb","vertical-rl"],select:!1}],q5=[{key:"textAlign",icon:"icon-align-left-text",tip:"\u5DE6\u5BF9\u9F50",value:"left",select:!1},{key:"textAlign",icon:"icon-align-center-text",tip:"\u5C45\u4E2D\u5BF9\u9F50",value:"center",select:!1},{key:"textAlign",icon:"icon-align-right-text",tip:"\u53F3\u5BF9\u9F50",value:"right",select:!1},{key:"textAlign",icon:"icon-align-justify-text",tip:"\u4E24\u7AEF\u5BF9\u9F50",value:"justify",select:!1}],e3=[{key:"align",icon:"icon-align-left",tip:"\u5DE6\u5BF9\u9F50",value:"left"},{key:"align",icon:"icon-align-center-horiz",tip:"\u6C34\u5E73\u5C45\u4E2D\u5BF9\u9F50",value:"ch"},{key:"align",icon:"icon-align-right",tip:"\u53F3\u5BF9\u9F50",value:"right"},{key:"align",icon:"icon-align-top",tip:"\u4E0A\u5BF9\u9F50",value:"top"},{key:"align",icon:"icon-align-center-verti",tip:"\u5782\u76F4\u5C45\u4E2D\u5BF9\u9F50",value:"cv"},{key:"align",icon:"icon-align-bottom",tip:"\u4E0B\u5BF9\u9F50",value:"bottom"}];var iK="",aK="";const t3={name:"value-input",components:{ElTabPane:jt.ElTabPane,ElTabs:jt.ElTabs},props:{label:{default:""},modelValue:{default:""},suffix:{default:""},data:{required:!0},disable:{default:!0},inputWidth:{default:"80px"},readonly:{default:!1},step:{default:1}},emits:["finish","update:modelValue"],data(){return{inputBorder:!1,tagText:"",width:"0",innerValue:"",innerPreview:"",activeTab:"\u4E2D\u6587"}},computed:{showValue(){return this.innerValue}},watch:{modelValue(e){this.innerValue=typeof this.modelValue=="object"?this.modelValue.alias:this.modelValue},inputBorder(e){e?this.tagText=this.innerValue:this.innerValue!==this.tagText&&this.$emit("finish",this.innerValue)}},created(){this.innerValue=typeof this.modelValue=="object"?this.modelValue.alias:this.modelValue},mounted(){this.width=this.$refs.select.offsetWidth},methods:{selectItem(e){let t=typeof e=="object"?e.alias:e;this.innerValue!==t&&(this.innerValue=t,this.innerPreview=e.preview,this.$emit("finish",e))},inputText(e){this.innerValue=e.target.value,setTimeout(()=>{this.$emit("finish",this.innerValue)},100)},opNumber(e){switch(e.stopPropagation(),e.keyCode){case 38:typeof this.innerValue=="number"&&this.up();return;case 40:typeof this.innerValue=="number"&&this.down();return}},up(){this.$emit("update:modelValue",parseInt(this.modelValue||0,10)+this.step)},down(){let e=parseInt(this.modelValue||0,10)-this.step;e<0&&(e=0),this.$emit("update:modelValue",e)}}},n3=e=>(m.pushScopeId("data-v-23aae044"),e=e(),m.popScopeId(),e),r3={key:0,class:"input-label"},i3={key:0,class:"list-ul"},a3=["onClick"],o3=["src"],s3={key:1},A3={key:1,class:"tabs-wrap"},l3={class:"list-ul"},c3=["onClick"],u3=["src"],f3=["readonly","value"],h3=n3(()=>m.createElementVNode("div",{class:"op-btn"},[m.createElementVNode("i",{class:"iconfont icon-down1"})],-1));function d3(e,t,n,r,i,a){const l=m.resolveComponent("el-tab-pane"),o=m.resolveComponent("el-tabs"),c=m.resolveComponent("el-popover");return m.openBlock(),m.createElementBlock("div",{ref:"select",class:"value-select",style:m.normalizeStyle({width:n.inputWidth})},[n.label?(m.openBlock(),m.createElementBlock("p",r3,m.toDisplayString(n.label),1)):m.createCommentVNode("",!0),m.createVNode(c,{placement:"bottom-end",trigger:"click",width:"auto"},{reference:m.withCtx(()=>[m.createElementVNode("div",{class:m.normalizeClass(["input-wrap",{active:i.inputBorder}]),style:m.normalizeStyle({width:n.inputWidth})},[m.createElementVNode("input",{style:m.normalizeStyle({fontFamily:n.modelValue.value}),class:m.normalizeClass(["real-input",{disable:!n.disable}]),readonly:n.readonly?"readonly":!1,type:"text",value:a.showValue,onInput:t[1]||(t[1]=(...s)=>a.inputText&&a.inputText(...s)),onFocus:t[2]||(t[2]=s=>i.inputBorder=!0),onBlur:t[3]||(t[3]=s=>i.inputBorder=!1),onKeydown:t[4]||(t[4]=s=>a.opNumber(s))},null,46,f3),h3],6)]),default:m.withCtx(()=>[n.data&&Array.isArray(n.data)?(m.openBlock(),m.createElementBlock("ul",i3,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(n.data,s=>(m.openBlock(),m.createElementBlock("li",{key:typeof s=="object"?s.alias:s,class:m.normalizeClass({active:s==i.innerValue}),onClick:A=>a.selectItem(s)},[s.preview?(m.openBlock(),m.createElementBlock("img",{key:0,class:"preview",src:s.preview},null,8,o3)):(m.openBlock(),m.createElementBlock("span",s3,m.toDisplayString((typeof s=="object"?s.alias:s)+n.suffix),1))],10,a3))),128))])):(m.openBlock(),m.createElementBlock("div",A3,[m.createVNode(o,{modelValue:i.activeTab,"onUpdate:modelValue":t[0]||(t[0]=s=>i.activeTab=s)},{default:m.withCtx(()=>[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(n.data,(s,A,v)=>(m.openBlock(),m.createBlock(l,{key:"tab"+v,label:A,name:A},{default:m.withCtx(()=>[m.createElementVNode("ul",l3,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(n.data[A],B=>(m.openBlock(),m.createElementBlock("li",{key:typeof B=="object"?B.alias:B,class:m.normalizeClass({active:B==i.innerValue}),onClick:x=>a.selectItem(B)},[B.preview?(m.openBlock(),m.createElementBlock("img",{key:0,class:"preview",src:B.preview},null,8,u3)):(m.openBlock(),m.createElementBlock("span",{key:1,style:m.normalizeStyle({fontFamily:`'${B.value}'`})},m.toDisplayString((typeof B=="object"?B.alias:B)+n.suffix),5))],10,c3))),128))])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]))]),_:1})],4)}var FB=ct(t3,[["render",d3],["__scopeId","data-v-23aae044"]]),g3=Object.freeze(Object.defineProperty({__proto__:null,default:FB},Symbol.toStringTag,{value:"Module"})),sK="",AK="",lK="";let pg=[];const p3=m.defineComponent({components:{colorSelect:vo,ElInputNumber:jt.ElInputNumber,numberInput:Li,ElCheckbox:jt.ElCheckbox,draggable:yB},props:["modelValue","degree","data"],emits:["update:modelValue"],setup(e,{emit:t}){const n=m.reactive({strength:50,visiable:!1,list:[],layers:[],draging:!1,unfold:!0}),r={animation:300,ghostClass:"ghost",chosenClass:"choose"},i=m.computed(()=>Math.round(160/27));let a=[];m.onMounted(async()=>{if(await m.nextTick(),!e.data.textEffects)return;const M=JSON.parse(JSON.stringify(e.data.textEffects))||[];n.layers=M.map(T=>(T.uuid=String(Math.random()),T)).reverse(),a=JSON.parse(JSON.stringify(n.layers))}),m.watch(()=>n.layers,M=>{const T=M.map(p=>(delete p.uuid,p));t("update:modelValue",T.reverse())},{deep:!0});const l=async M=>{if(n.visiable=!1,M){const{data:T}=await wt.home.getTempDetail({id:M,type:1});n.layers=JSON.parse(T).textEffects.map(p=>(p.uuid=String(Math.random()),p)).reverse()}else n.layers=[]},o=M=>{n.layers.splice(M,1),a=JSON.parse(JSON.stringify(n.layers))},c=()=>{const M={enable:!1,type:0,color:"#000000ff"},T={enable:!1,width:0,color:"#000000ff",type:"outer"},p={enable:!1,x:0,y:0},u={enable:!1,color:"#000000ff",offsetX:0,offsetY:0,blur:0,opacity:0};n.layers.unshift({filling:M,stroke:T,shadow:u,offset:p,uuid:String(Math.random())}),a=JSON.parse(JSON.stringify(n.layers))},s=()=>{},A=(M,T)=>{const p={\u6E10\u53D8:2,\u7EAF\u8272:0};T.gradient={angle:M.angle,stops:M.stops},setTimeout(()=>{T.type=p[M.mode]||0},100)},v=()=>{n.draging=!1},B=M=>{const T=1+(M-50)/50;n.layers.forEach((p,u)=>{p.stroke&&(p.stroke.width=a[u].stroke.width*T),p.shadow&&(p.shadow.blur=a[u].shadow.blur*T)})},x=async()=>{if(n.visiable=!n.visiable,pg.length<=0){const{list:M}=await wt.home.getCompList({cate:12,type:1,per_page:30});n.list=M,pg=M}else n.list=pg};return{...m.toRefs(n),selectEffect:l,finish:s,coefficient:i,removeLayer:o,addLayer:c,dragOptions:r,onDone:v,strengthChange:B,openSet:x,colorChange:A,getGradientOrImg:C0}},methods:{}}),ha=e=>(m.pushScopeId("data-v-746de162"),e=e(),m.popScopeId(),e),v3={class:"card-header"},m3=ha(()=>m.createElementVNode("span",{class:"title"},"\u6587\u5B57\u7279\u6548",-1)),y3={class:"select__box"},C3=["onClick"],w3=["src"],B3={class:"text item"},b3=ha(()=>m.createElementVNode("span",{style:{width:"65px"}},"\u5F3A\u5EA6",-1)),E3=ha(()=>m.createElementVNode("b",null,"\u9AD8\u7EA7\u7F16\u8F91",-1)),_3=ha(()=>m.createElementVNode("div",{class:"line"},null,-1)),S3={style:{display:"flex","justify-content":"space-between"}},I3=ha(()=>m.createElementVNode("div",{class:"line"},null,-1)),x3={class:"feature__grab-wrap"},M3={class:"layer__title"},D3=ha(()=>m.createElementVNode("i",{class:"icon sd-yidong"},null,-1)),T3={style:{"font-size":"12px"}},O3=ha(()=>m.createElementVNode("b",null,"\u7279\u6548\u5C42",-1)),F3=["onClick"],k3={key:0,class:"feature__item"},U3={key:1,class:"feature__item"},L3={key:2,class:"feature__item"},P3={key:3,class:"feature__item"};function N3(e,t,n,r,i,a){const l=m.resolveComponent("el-button"),o=m.resolveComponent("el-popover"),c=m.resolveComponent("el-slider"),s=m.resolveComponent("el-checkbox"),A=m.resolveComponent("color-select"),v=m.resolveComponent("el-input-number"),B=m.resolveComponent("numberInput"),x=m.resolveComponent("draggable"),M=m.resolveComponent("el-collapse-item"),T=m.resolveComponent("el-card");return m.openBlock(),m.createBlock(T,{class:"box-card",shadow:"hover","body-style":{padding:"20px"}},{header:m.withCtx(()=>[m.createElementVNode("div",v3,[m.createElementVNode("div",{style:m.normalizeStyle({position:"relative",width:"27px",fontSize:"27px",color:e.data.color,fontWeight:e.data.fontWeight,fontStyle:e.data.fontStyle,textDecoration:e.data.textDecoration,opacity:e.data.opacity,backgroundColor:e.data.backgroundColor})},[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.modelValue,(p,u)=>(m.openBlock(),m.createElementBlock("div",{key:u+"effect",style:m.normalizeStyle({color:p.filling&&p.filling.enable&&p.filling.type===0?p.filling.color:"transparent",webkitTextStroke:p.stroke&&p.stroke.enable?`${p.stroke.width/e.coefficient}px ${p.stroke.color}`:void 0,textShadow:p.shadow&&p.shadow.enable?`${p.shadow.offsetX/e.coefficient}px ${p.shadow.offsetY/e.coefficient}px ${p.shadow.blur/e.coefficient}px ${p.shadow.color}`:void 0,backgroundImage:p.filling&&p.filling.enable?p.filling.type===0?void 0:e.getGradientOrImg(p):void 0,webkitBackgroundClip:p.filling&&p.filling.enable?p.filling.type===0?void 0:"text":void 0}),class:"demo"}," A ",4))),128)),m.createTextVNode(" A ")],4),m3,m.createVNode(o,{visible:e.visiable,placement:"left",width:220,trigger:"click"},{reference:m.withCtx(()=>[m.createVNode(l,{class:"button",link:"",onClick:e.openSet},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(e.visiable?"\u53D6\u6D88":"\u9009\u62E9"),1)]),_:1},8,["onClick"])]),default:m.withCtx(()=>[m.createElementVNode("div",y3,[m.createElementVNode("div",{class:"select__box__select-item",onClick:t[0]||(t[0]=p=>e.selectEffect(null))},"\u65E0"),(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.list,(p,u)=>(m.openBlock(),m.createElementBlock("div",{key:"list"+u,class:"select__box__select-item",onClick:g=>e.selectEffect(p.id)},[m.createElementVNode("img",{src:p.cover},null,8,w3)],8,C3))),128))])]),_:1},8,["visible"])])]),default:m.withCtx(()=>[m.withDirectives(m.createElementVNode("div",B3,[b3,m.createTextVNode(),m.createVNode(c,{modelValue:e.strength,"onUpdate:modelValue":t[1]||(t[1]=p=>e.strength=p),"show-input":"",maxValue:100,"input-size":"small","show-input-controls":!1,onInput:e.strengthChange},null,8,["modelValue","onInput"])],512),[[m.vShow,e.layers&&e.layers.length>0]]),m.createVNode(M,null,{title:m.withCtx(()=>[E3]),default:m.withCtx(()=>[_3,m.createElementVNode("div",S3,[m.createVNode(l,{class:"add-layer",size:"small",type:"primary",link:"",onClick:e.addLayer},{default:m.withCtx(()=>[m.createTextVNode(" + \u65B0\u5EFA\u7279\u6548\u5C42")]),_:1},8,["onClick"]),m.createTextVNode(),m.withDirectives(m.createVNode(l,{class:"add-layer",size:"small",type:"primary",link:"",onClick:t[2]||(t[2]=p=>e.unfold=!e.unfold)},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(e.unfold?"\u6536\u8D77":"\u5C55\u5F00")+"\u5168\u90E8",1)]),_:1},512),[[m.vShow,e.layers&&e.layers.length>0]])]),I3,m.createVNode(x,m.mergeProps({modelValue:e.layers,"onUpdate:modelValue":t[5]||(t[5]=p=>e.layers=p),handle:".sd-yidong","item-key":"uuid"},e.dragOptions),{item:m.withCtx(({element:p,index:u})=>[m.createElementVNode("div",x3,[m.createElementVNode("div",M3,[D3,m.createElementVNode("span",T3,[O3,m.createTextVNode(" "+m.toDisplayString(u+1),1)]),m.createElementVNode("i",{class:"icon sd-delete",onClick:g=>e.removeLayer(u)},null,8,F3)]),p.filling&&[0,2,"0","2"].includes(p.filling.type)?m.withDirectives((m.openBlock(),m.createElementBlock("div",k3,[m.createVNode(s,{modelValue:p.filling.enable,"onUpdate:modelValue":g=>p.filling.enable=g,label:"\u586B\u5145",class:"feature__header"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(A,{modelValue:p.filling.color,"onUpdate:modelValue":g=>p.filling.color=g,width:"28px",modes:["\u7EAF\u8272","\u6E10\u53D8"],label:"",onChange:g=>e.colorChange(g,p.filling)},null,8,["modelValue","onUpdate:modelValue","onChange"])],512)),[[m.vShow,e.unfold]]):m.createCommentVNode("",!0),p.stroke?m.withDirectives((m.openBlock(),m.createElementBlock("div",U3,[m.createVNode(s,{modelValue:p.stroke.enable,"onUpdate:modelValue":g=>p.stroke.enable=g,label:"\u63CF\u8FB9",class:"feature__header"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(v,{modelValue:p.stroke.width,"onUpdate:modelValue":g=>p.stroke.width=g,style:{width:"65px","margin-right":"0.5rem"},min:0,size:"small","controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(A,{modelValue:p.stroke.color,"onUpdate:modelValue":g=>p.stroke.color=g,width:"28px",label:"",onFinish:t[3]||(t[3]=g=>e.finish("color",g))},null,8,["modelValue","onUpdate:modelValue"])],512)),[[m.vShow,e.unfold]]):m.createCommentVNode("",!0),p.offset?m.withDirectives((m.openBlock(),m.createElementBlock("div",L3,[m.createVNode(s,{modelValue:p.offset.enable,"onUpdate:modelValue":g=>p.offset.enable=g,label:"\u504F\u79FB",class:"feature__header"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(B,{modelValue:p.offset.x,"onUpdate:modelValue":g=>p.offset.x=g,style:{width:"49.5px","margin-right":"2px"},prepend:"x",type:"simple"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(B,{modelValue:p.offset.y,"onUpdate:modelValue":g=>p.offset.y=g,style:{width:"49.5px"},prepend:"y",type:"simple"},null,8,["modelValue","onUpdate:modelValue"])],512)),[[m.vShow,e.unfold]]):m.createCommentVNode("",!0),p.shadow?m.withDirectives((m.openBlock(),m.createElementBlock("div",P3,[m.createVNode(s,{modelValue:p.shadow.enable,"onUpdate:modelValue":g=>p.shadow.enable=g,label:"\u9634\u5F71",class:"feature__header"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(B,{modelValue:p.shadow.blur,"onUpdate:modelValue":g=>p.shadow.blur=g,prepend:"blur",minValue:0,style:{width:"30px","margin-right":"2px"},type:"simple"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(B,{modelValue:p.shadow.offsetX,"onUpdate:modelValue":g=>p.shadow.offsetX=g,prepend:"x",style:{width:"30px","margin-right":"2px"},type:"simple"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(B,{modelValue:p.shadow.offsetY,"onUpdate:modelValue":g=>p.shadow.offsetY=g,prepend:"y",style:{width:"30px","margin-right":"0.5rem"},type:"simple"},null,8,["modelValue","onUpdate:modelValue"]),m.createVNode(A,{modelValue:p.shadow.color,"onUpdate:modelValue":g=>p.shadow.color=g,width:"28px",label:"",onFinish:t[4]||(t[4]=g=>e.finish("color",g))},null,8,["modelValue","onUpdate:modelValue"])],512)),[[m.vShow,e.unfold]]):m.createCommentVNode("",!0)])]),_:1},16,["modelValue"])]),_:1})]),_:1})}var kB=ct(p3,[["render",N3],["__scopeId","data-v-746de162"]]),R3=Object.freeze(Object.defineProperty({__proto__:null,default:kB},Symbol.toStringTag,{value:"Module"})),cK="",uK="";const Q3={name:"WTextarea",props:{modelValue:{type:String,default:""},tag:{type:String,default:"wise"},tools:{type:Array,default(){return[{type:"tag",text:"\u63D2\u5165\u53D8\u91CF"}]}},maxlength:{type:[String,Number],default:""}},emits:["input","add","update:modelValue"],data(){return{currentText:this.modelValue,contentId:`content${this.getGuid()}`,isLocked:!1,currentTagId:null,savedRange:{},vars:[]}},computed:{count(){let e=this.maxlength-this.currentText.length,t=e<0?`\u5DF2\u8D85\u51FA${Math.abs(e)}\u4E2A\u5B57\u7B26`:`\u8FD8\u53EF\u4EE5\u8F93\u5165${e}\u4E2A\u5B57\u7B26`;return{num:e,text:t}}},watch:{modelValue(e){this.isLocked||(this.$refs.wTextareaContent.innerHTML=e)},isLocked(e){if(e){const{uuid:t}=this.$store.getters.dActiveElement;this.updateWidgetData({uuid:t,key:"editable",value:!0,pushHistory:!1})}}},mounted(){this.currentText&&(this.$refs.wTextareaContent.innerHTML=this.currentText),this.createStyle(),this.initData(),document.addEventListener("selectionchange",this.selectHandler)},beforeUnmount(){document.removeEventListener("selectionchange",this.selectHandler)},methods:{...$e.mapActions(["updateWidgetData"]),async initData(){const e=await wt.home.getVars();let t=[];for(const[n,r]of Object.entries(e.data))t.push({title:r,key:n});this.vars=t},updateData(e){this.$emit("update:modelValue",e)},createStyle(){let e=document.createElement("style");e.innerHTML=`.w-textarea ${this.tag} {
        cursor: default;
        -webkit-user-modify: read-only !important;
      }`,this.$refs.wTextarea.appendChild(e)},closeModal(){this.form.text="",this.showModal=!1},addTag({title:e}){let t=document.createElement(this.tag);t.innerText=e,t.id=this.getGuid(),this.insertNode(t)},insertNode(e){var n,r;(r=(n=this==null?void 0:this.savedRange)==null?void 0:n.deleteContents)==null||r.call(n),this.savedRange.insertNode(e);let t=this.$refs.wTextareaContent;this.updateData(t.innerHTML),this.currentText=t.innerText},handleInput(e){this.updateData(e.innerHTML),this.currentText=e.innerText},handleDelete(e){if(this.currentTagId){let t=document.getElementById(this.currentTagId);this.$refs.wTextareaContent.removeChild(t),this.currentTagId=null,e.preventDefault(),this.handleInput(e.target)}},inputClick(e){if(this.isLocked=!0,e.target.nodeName===this.tag.toUpperCase())this.currentTagId=e.target.id,e.target.className="active";else if(this.currentTagId){let n=document.getElementById(this.currentTagId);n.className="",this.currentTagId=null}else this.currentTagId=null},getGuid(){return`r${new Date().getTime()}d${Math.ceil(Math.random()*1e3)}`},selectHandler(){let e=window.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):null;t&&t.commonAncestorContainer.ownerDocument.activeElement.id===this.contentId&&(this.savedRange=t)}}},H3={ref:"wTextarea",class:"w-textarea"},j3=["id"],z3={key:0,class:"w-textarea_tools"},V3=["onClick"],G3={class:"w-textarea_dialog"};function W3(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",H3,[m.createElementVNode("div",{id:i.contentId,ref:"wTextareaContent",class:"w-textarea_input text-left",onClick:t[0]||(t[0]=l=>a.inputClick(l)),onFocus:t[1]||(t[1]=l=>i.isLocked=!0),onBlur:t[2]||(t[2]=l=>i.isLocked=!1),onKeydown:t[3]||(t[3]=m.withKeys(l=>a.handleDelete(l),["delete"])),onInput:t[4]||(t[4]=l=>a.handleInput(l.target))},null,40,j3),i.vars.length>0||n.maxlength?(m.openBlock(),m.createElementBlock("div",z3,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.vars,l=>(m.openBlock(),m.createElementBlock("button",{key:l.key,class:"w-textarea_tools__item",onClick:o=>a.addTag(l)},m.toDisplayString(l.title),9,V3))),128))])):m.createCommentVNode("",!0),m.createElementVNode("div",G3,[m.renderSlot(e.$slots,"default",{},void 0,!0)])],512)}var Y3=ct(Q3,[["render",W3],["__scopeId","data-v-7965140c"]]),UB=()=>{const e=new Set,t={},{dWidgets:n}=tt.getters;for(let r=0;r<n.length;r++){const{type:i,fontClass:a}=n[r];i==="w-text"&&(e.add(a.id),t[a.id]=m.toRaw(a))}return Array.from(e).map(r=>t[r])},fK="";const X3={name:"w-text-style",components:{numberInput:Li,colorSelect:vo,iconItemSelect:fa,textArea:Y3,valueSelect:FB,effectWrap:kB,numberSlider:ra},data(){return{activeNames:[],innerElement:{},tag:!1,ingoreKeys:["left","top","name","width","height","text","color","backgroundColor"],fontSizeList:[12,14,24,26,28,30,36,48,60,72,96,108,120,140,180,200,250,300,400,500],fontClassList:[],lineHeightList:[1,1.5,2],letterSpacingList:[0,10,25,50,75,100,200],layerIconList:eA,styleIconList1:$5,styleIconList2:q5,alignIconList:e3}},computed:{...$e.mapGetters(["dActiveElement","dMoving"]),isModel(){return this.$store.state.templateMode===2},isDraw(){return!0}},watch:{dActiveElement:{handler(e,t){this.change()},deep:!0},innerElement:{handler(e,t){this.changeValue()},deep:!0}},created(){this.timer=null,this.change(),setTimeout(()=>{this.loadFonts()},100)},methods:{...$e.mapActions(["updateWidgetData","updateAlign","updateLayerIndex","pushHistory"]),testEffect({key:e,value:t,style:n}){console.log("\u9009\u62E9\u56DE\u8C03");const r=this.dActiveElement.uuid;this.$store.commit("setWidgetStyle",{uuid:r,key:e,value:t}),n&&this.finish("color",n.color||"")},loadFonts(){const e=Iw.list,t={\u5F53\u524D\u9875\u9762:[],\u4E2D\u6587:[],\u82F1\u6587:[]};for(const n of e){const{id:r,oid:i,value:a,url:l,alias:o,preview:c,lang:s}=n,A={id:r,oid:i,value:a,url:l,alias:o,preview:c};s==="zh"?t.\u4E2D\u6587.unshift(A):t.\u82F1\u6587.unshift(A)}t.\u5F53\u524D\u9875\u9762=UB(),this.fontClassList=t},change(){this.timer||(this.timer=!0,setTimeout(()=>{this.timer=null},300),this.tag=!0,this.innerElement=JSON.parse(JSON.stringify(this.dActiveElement)),this.changeStyleIconList())},changeValue(){if(this.tag){this.tag=!1;return}if(!this.dMoving)for(let e in this.innerElement)this.ingoreKeys.indexOf(e)!==-1?this.dActiveElement[e]=this.innerElement[e]:e!=="setting"&&e!=="record"&&this.innerElement[e]!==this.dActiveElement[e]&&this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:this.innerElement[e],pushHistory:!1})},finish(e,t){this.updateWidgetData({uuid:this.dActiveElement.uuid,key:e,value:t,pushHistory:!1}),setTimeout(()=>{e==="fontClass"&&(this.fontClassList.\u5F53\u524D\u9875\u9762=UB())},300)},layerAction(e){this.updateLayerIndex({uuid:this.dActiveElement.uuid,value:e.value})},async textStyleAction(e){let t=e.key==="textAlign"?e.value:e.value[e.select?1:0];this.innerElement[e.key]=t,e.key==="writingMode"&&this.relationChange(),await this.$nextTick(),this.$store.commit("updateRect")},async alignAction(e){this.updateAlign({align:e.value,uuid:this.dActiveElement.uuid}),await this.$nextTick(),this.$store.commit("updateRect")},changeStyleIconList(){for(let e=0;e<this.styleIconList1.length;++e){let t=this.styleIconList1[e].key;switch(this.styleIconList1[e].select=!1,t){case"fontWeight":case"fontStyle":this.innerElement[t]!=="normal"&&(this.styleIconList1[e].select=!0);break;case"textDecoration":this.innerElement[t]!==this.styleIconList1[e].value[0]&&this.innerElement[t]==this.styleIconList1[e].value[1]&&(this.styleIconList1[e].select=!this.styleIconList1[e].select);break;case"writingMode":this.innerElement[t]!==this.styleIconList1[e].value[0]&&(this.styleIconList1[e].select=!0);break}}for(let e=0;e<this.styleIconList2.length;e++){let t=this.styleIconList2[e].key;if(this.styleIconList2[e].select=!1,t==="textAlign"&&this.innerElement[t]===this.styleIconList2[e].value){this.styleIconList2[e].select=!0;continue}}},relationChange(){setTimeout(()=>{if(this.dActiveElement.writingMode){const e=this.dActiveElement.width;this.innerElement.width=this.dActiveElement.height,this.innerElement.height=e}},10)}}},K3={id:"w-text-style"},Z3={class:"line-layout"},J3={class:"line-layout style-item"},$3={class:"style-item slide-wrap"},q3={style:{"flex-wrap":"nowrap"},class:"line-layout style-item"},ej={class:"line-layout style-item"},tj={key:0,style:{"margin-top":"10px"},class:"line-layout style-item"};function nj(e,t,n,r,i,a){const l=m.resolveComponent("number-input"),o=m.resolveComponent("el-collapse-item"),c=m.resolveComponent("value-select"),s=m.resolveComponent("icon-item-select"),A=m.resolveComponent("number-slider"),v=m.resolveComponent("color-select"),B=m.resolveComponent("effect-wrap"),x=m.resolveComponent("text-area"),M=m.resolveComponent("el-collapse");return m.openBlock(),m.createElementBlock("div",K3,[m.createVNode(M,{modelValue:i.activeNames,"onUpdate:modelValue":t[20]||(t[20]=T=>i.activeNames=T)},{default:m.withCtx(()=>[m.createVNode(o,{title:"\u4F4D\u7F6E\u5C3A\u5BF8",name:"1"},{default:m.withCtx(()=>[m.createElementVNode("div",Z3,[m.createVNode(l,{modelValue:i.innerElement.left,"onUpdate:modelValue":t[0]||(t[0]=T=>i.innerElement.left=T),label:"X",onFinish:t[1]||(t[1]=T=>a.finish("left",T))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.top,"onUpdate:modelValue":t[2]||(t[2]=T=>i.innerElement.top=T),label:"Y",onFinish:t[3]||(t[3]=T=>a.finish("top",T))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.width,"onUpdate:modelValue":t[4]||(t[4]=T=>i.innerElement.width=T),style:{"margin-top":"0.5rem"},label:"\u5BBD",editable:!0,onFinish:t[5]||(t[5]=T=>a.finish("width",T))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.height,"onUpdate:modelValue":t[6]||(t[6]=T=>i.innerElement.height=T),style:{"margin-top":"0.5rem"},label:"\u9AD8",editable:!0,onFinish:t[7]||(t[7]=T=>a.finish("height",T))},null,8,["modelValue"])])]),_:1}),m.createElementVNode("div",J3,[m.createVNode(c,{modelValue:i.innerElement.fontClass,"onUpdate:modelValue":t[8]||(t[8]=T=>i.innerElement.fontClass=T),label:"\u6587\u5B57",data:i.fontClassList,inputWidth:"152px",readonly:!0,onFinish:t[9]||(t[9]=T=>a.finish("fontClass",T))},null,8,["modelValue","data"]),m.createVNode(c,{modelValue:i.innerElement.fontSize,"onUpdate:modelValue":t[10]||(t[10]=T=>i.innerElement.fontSize=T),label:"\u5927\u5C0F",suffix:"px",data:i.fontSizeList,onFinish:t[11]||(t[11]=T=>a.finish("fontSize",T))},null,8,["modelValue","data"])]),m.createVNode(s,{class:"style-item",data:i.styleIconList1,onFinish:a.textStyleAction},null,8,["data","onFinish"]),m.createVNode(s,{class:"style-item",data:i.styleIconList2,onFinish:a.textStyleAction},null,8,["data","onFinish"]),m.createElementVNode("div",$3,[m.createVNode(A,{modelValue:i.innerElement.letterSpacing,"onUpdate:modelValue":t[12]||(t[12]=T=>i.innerElement.letterSpacing=T),style:{"font-size":"14px"},label:"\u5B57\u8DDD",labelWidth:"40px",step:.05,minValue:-i.innerElement.fontSize,maxValue:i.innerElement.fontSize*2,onFinish:t[13]||(t[13]=T=>a.finish("letterSpacing",T))},null,8,["modelValue","minValue","maxValue"]),m.createVNode(A,{modelValue:i.innerElement.lineHeight,"onUpdate:modelValue":t[14]||(t[14]=T=>i.innerElement.lineHeight=T),style:{"font-size":"14px"},label:"\u884C\u8DDD",labelWidth:"40px",step:.05,minValue:0,maxValue:2.5,onFinish:t[15]||(t[15]=T=>a.finish("lineHeight",T))},null,8,["modelValue"])]),m.createElementVNode("div",q3,[m.createVNode(v,{modelValue:i.innerElement.color,"onUpdate:modelValue":t[16]||(t[16]=T=>i.innerElement.color=T),label:"\u989C\u8272",onFinish:t[17]||(t[17]=T=>a.finish("color",T))},null,8,["modelValue"])]),m.createElementVNode("div",ej,[m.createVNode(B,{modelValue:i.innerElement.textEffects,"onUpdate:modelValue":t[18]||(t[18]=T=>i.innerElement.textEffects=T),data:i.innerElement,degree:i.innerElement.degree,onSelect:a.testEffect},null,8,["modelValue","data","degree","onSelect"])]),m.createVNode(s,{class:"style-item",data:i.layerIconList,onFinish:a.layerAction},null,8,["data","onFinish"]),m.createVNode(s,{class:"style-item",data:i.alignIconList,onFinish:a.alignAction},null,8,["data","onFinish"]),a.isModel?(m.openBlock(),m.createElementBlock("div",tj,[m.createVNode(x,{modelValue:i.innerElement.text,"onUpdate:modelValue":t[19]||(t[19]=T=>i.innerElement.text=T)},null,8,["modelValue"])])):m.createCommentVNode("",!0)]),_:1},8,["modelValue"])])}var LB=ct(X3,[["render",nj],["__scopeId","data-v-deb8c5b4"]]),rj=Object.freeze(Object.defineProperty({__proto__:null,default:LB},Symbol.toStringTag,{value:"Module"})),dK="";const ij="style-panel",aj=m.defineComponent({name:ij,components:{iconItemSelect:fa,layerList:CB,wGroupStyle:wB,wImageStyle:BB,wQrcodeStyle:TB,wSvgStyle:OB,wTextStyle:LB},props:["noMenu"],data(){return{activeTab:0,alignIconList:zs,showGroupCombined:!1}},computed:{...$e.mapGetters(["dActiveElement","dWidgets","dSelectWidgets"])},watch:{dSelectWidgets:{handler(e){setTimeout(()=>{this.showGroupCombined=e.length>1},100)},deep:!0}},methods:{...$e.mapActions(["selectWidget","updateAlign","updateHoverUuid","getCombined","realCombined","ungroup","pushHistory"]),alignAction(e){const t=JSON.parse(JSON.stringify(this.dSelectWidgets));this.getCombined().then(n=>{for(let r=0;r<t.length;r++){const i=t[r];this.updateAlign({align:e.value,uuid:i.uuid,group:n})}this.pushHistory()})},layerChange(e){this.$store.commit("setDWidgets",e.reverse()),this.$store.commit("setShowMoveable",!1)}}}),oj={id:"style-panel"},sj={class:"style-tab"},Aj={class:"style-wrap"},lj={style:{padding:"2rem 0"}},cj={class:"layer-wrap"};function uj(e,t,n,r,i,a){const l=m.resolveComponent("el-button"),o=m.resolveComponent("icon-item-select"),c=m.resolveComponent("layer-list");return m.openBlock(),m.createElementBlock("div",oj,[m.createElementVNode("div",sj,[m.createElementVNode("span",{class:m.normalizeClass(["tab",{"active-tab":e.activeTab===0}]),onClick:t[0]||(t[0]=s=>e.activeTab=0)},"\u8BBE\u7F6E",2),m.createElementVNode("span",{class:m.normalizeClass(["tab",{"active-tab":e.activeTab===1}]),onClick:t[1]||(t[1]=s=>e.activeTab=1)},"\u56FE\u5C42",2)]),m.withDirectives(m.createElementVNode("div",Aj,[m.withDirectives(m.createElementVNode("div",lj,[m.createVNode(l,{plain:"",type:"primary",class:"gounp__btn",onClick:e.realCombined},{default:m.withCtx(()=>[m.createTextVNode("\u6210\u7EC4")]),_:1},8,["onClick"]),m.createVNode(o,{label:"",data:e.alignIconList,onFinish:e.alignAction},null,8,["data","onFinish"])],512),[[m.vShow,e.showGroupCombined]]),e.dActiveElement.type?m.withDirectives((m.openBlock(),m.createBlock(m.resolveDynamicComponent(e.dActiveElement.type+"-style"),{key:0,noMenu:e.noMenu},null,8,["noMenu"])),[[m.vShow,!e.showGroupCombined]]):m.createCommentVNode("",!0)],512),[[m.vShow,e.activeTab===0]]),m.withDirectives(m.createElementVNode("div",cj,[m.createVNode(c,{data:e.dWidgets,onChange:e.layerChange},null,8,["data","onChange"])],512),[[m.vShow,e.activeTab===1]])])}var PB=ct(aj,[["render",uj],["__scopeId","data-v-7af37c76"]]),fj=Object.freeze(Object.defineProperty({__proto__:null,default:PB},Symbol.toStringTag,{value:"Module"})),gK="",pK="";const hj=function(e){const t="\u7CFB\u7EDF\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58\u60A8\u672A\u4FEE\u6539\u7684\u5185\u5BB9";return(e||window.event).returnValue=t,t},dj=m.defineComponent({components:{RightClickMenu:IE,Moveable:px,headerOptions:XP,ProgressLoading:tN,designBoard:O0,zoomControl:U0,lineGuides:R0,imageCutout:jh,widgetPanel:Qw,stylePanel:PB,ElDialog:jt.ElDialog},mixins:[dF],setup(e){!tr.isDev&&window.addEventListener("beforeunload",hj);const t=m.reactive({style:{left:"0px"},downloadPercent:0,downloadText:"",isContinue:!0,APP_NAME:tr.APP_NAME,showLineGuides:!1,visible:!1});m.onMounted(()=>{setTimeout(()=>{t.visible=!0},3e3)});function n(){window.open("https://xp.palxp.cn/")}return{...m.toRefs(t),jump2home:n}},computed:{...$e.mapGetters(["dActiveElement","dHistoryParams","dCopyElement","dPage","dZoom"]),undoable(){return!(this.dHistoryParams.index===-1||this.dHistoryParams===0&&this.dHistoryParams.length===this.dHistoryParams.maxLength)},redoable(){return this.dHistoryParams.index!==this.dHistoryParams.length-1},templateVisible(){return this.$store.state.templateVisible},templateId(){return this.$store.state.templateId},noMenu(){return this.$store.state.templateMode===1}},watch:{templateVisible(e){e?(this.initGroupJson(JSON.stringify(Ih.setting)),window.addEventListener("scroll",this.fixTopBarScroll),document.addEventListener("keydown",this.handleKeydowm,!1),document.addEventListener("keyup",this.handleKeyup,!1),this.loadData()):(window.removeEventListener("scroll",this.fixTopBarScroll),document.removeEventListener("keydown",this.handleKeydowm,!1),document.removeEventListener("keyup",this.handleKeyup,!1),document.oncontextmenu=null)},templateId(e){}},mounted(){},methods:{...$e.mapActions(["selectWidget","initGroupJson","handleHistory"]),handleClose(){this.$store.commit("setState",{key:"templateVisible",value:!1})},toggleMode(e){this.$store.commit("setState",{key:"templateMode",value:e})},changeLineGuides(){this.showLineGuides=!this.showLineGuides},downloadCancel(){this.downloadPercent=0,this.isContinue=!1},async loadData(){setTimeout(()=>{var e,t,n;(n=(t=(e=this==null?void 0:this.$refs)==null?void 0:e.options)==null?void 0:t.load)==null||n.call(t,null,null,null,async()=>{this.$refs.zoomControl.screenChange(),await this.$nextTick(),this.selectWidget({uuid:"-1"})})},50)},zoomSub(){this.$refs.zoomControl.sub()},zoomAdd(){this.$refs.zoomControl.add()},save(){this.$refs.options.save()},fixTopBarScroll(){const e=document.documentElement.scrollLeft||document.body.scrollLeft;this.style.left=`-${e}px`},clickListener(e){console.log("click listener",e)},optionsChange({downloadPercent:e,downloadText:t}){this.downloadPercent=e,this.downloadText=t}}}),NB=e=>(m.pushScopeId("data-v-95d19f92"),e=e(),m.popScopeId(),e),gj={class:"text-left"},pj={id:"page-design-index",ref:"pageDesignIndex",class:"page-design-bg-color"},vj={class:"top-nav-wrap"},mj={class:"top-left"},yj={class:"operation"},Cj=[NB(()=>m.createElementVNode("i",{class:"iconfont icon-undo"},null,-1))],wj=[NB(()=>m.createElementVNode("i",{class:"iconfont icon-redo"},null,-1))],Bj={class:"page-design-index-wrap"};function bj(e,t,n,r,i,a){const l=m.resolveComponent("header-options"),o=m.resolveComponent("widget-panel"),c=m.resolveComponent("design-board"),s=m.resolveComponent("style-panel"),A=m.resolveComponent("image-cutout"),v=m.resolveComponent("line-guides"),B=m.resolveComponent("zoom-control"),x=m.resolveComponent("right-click-menu"),M=m.resolveComponent("Moveable"),T=m.resolveComponent("ProgressLoading"),p=m.resolveComponent("el-dialog");return m.openBlock(),m.createBlock(p,{modelValue:e.templateVisible,"onUpdate:modelValue":t[6]||(t[6]=u=>e.templateVisible=u),top:"5vh",width:"90%",style:{height:"90vh"},onClose:e.handleClose},{header:m.withCtx(()=>[m.createElementVNode("div",gj,[m.createTextVNode(" \u7F16\u8F91"+m.toDisplayString(e.noMenu?"\u56FE\u7247":"\u6A21\u677F")+" - \u3010",1),m.createElementVNode("a",{class:"text-blue-500 cursor-pointer",onClick:t[0]||(t[0]=u=>e.toggleMode(e.noMenu?2:1))},m.toDisplayString(e.noMenu?"\u8FDB\u5165":"\u9000\u51FA")+"\u6A21\u677F\u7F16\u8F91",1),m.createTextVNode("\u3011 ")])]),default:m.withCtx(()=>[m.createElementVNode("div",pj,[m.createVNode(l,{ref:"options",modelValue:e.isContinue,"onUpdate:modelValue":t[1]||(t[1]=u=>e.isContinue=u),noMenu:e.noMenu,onChange:e.optionsChange},null,8,["modelValue","noMenu","onChange"]),m.withDirectives(m.createElementVNode("div",{style:m.normalizeStyle(e.style),class:"top-nav"},[m.createElementVNode("div",vj,[m.createElementVNode("div",mj,[m.createElementVNode("div",{class:"name",onClick:t[2]||(t[2]=(...u)=>e.jump2home&&e.jump2home(...u))},m.toDisplayString(e.APP_NAME),1),m.createElementVNode("div",yj,[m.createElementVNode("div",{class:m.normalizeClass(["operation-item",{disable:!e.undoable}]),onClick:t[3]||(t[3]=u=>e.undoable?e.handleHistory("undo"):"")},Cj,2),m.createElementVNode("div",{class:m.normalizeClass(["operation-item",{disable:!e.redoable}]),onClick:t[4]||(t[4]=u=>e.redoable?e.handleHistory("redo"):"")},wj,2)])])])],4),[[m.vShow,!1]]),m.createElementVNode("div",Bj,[m.createVNode(o,{noMenu:e.noMenu},null,8,["noMenu"]),m.createVNode(c,{class:"page-design-wrap",pageDesignCanvasId:"page-design-canvas"},{default:m.withCtx(()=>[m.createElementVNode("div",{class:"shelter",style:m.normalizeStyle({width:Math.floor(e.dPage.width*e.dZoom/100)+"px",height:Math.floor(e.dPage.height*e.dZoom/100)+"px"})},null,4),m.createElementVNode("div",{class:"shelter-bg transparent-bg",style:m.normalizeStyle({width:Math.floor(e.dPage.width*e.dZoom/100)+"px",height:Math.floor(e.dPage.height*e.dZoom/100)+"px"})},null,4)]),_:1}),m.createVNode(s,{noMenu:e.noMenu},null,8,["noMenu"])]),m.createVNode(A),m.createVNode(v,{show:e.showLineGuides},null,8,["show"]),m.createVNode(B,{ref:"zoomControl"},null,512),m.createVNode(x),m.createVNode(M),m.createVNode(T,{percent:e.downloadPercent,text:e.downloadText,cancelText:"\u53D6\u6D88",onCancel:e.downloadCancel,onDone:t[5]||(t[5]=u=>e.downloadPercent=0)},null,8,["percent","text","onCancel"])],512)]),_:1},8,["modelValue","onClose"])}var Ej=ct(dj,[["render",bj],["__scopeId","data-v-95d19f92"]]),yK="",CK="",RB={exports:{}},QB={exports:{}};/*!
 * TOAST UI Color Picker
 * @version 2.2.8
 * @author NHN Cloud FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */(function(e,t){(function(r,i){e.exports=i()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,o){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:o})},i.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(l&1&&(a=i(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)i.d(o,c,function(s){return a[s]}.bind(null,c));return o},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="dist",i(i.s=33)}([function(n,r,i){function a(l,o){var c=Object.prototype.hasOwnProperty,s,A,v,B;for(v=1,B=arguments.length;v<B;v+=1){s=arguments[v];for(A in s)c.call(s,A)&&(l[A]=s[A])}return l}n.exports=a},function(n,r,i){function a(l){return l instanceof Array}n.exports=a},function(n,r,i){var a=i(1),l=i(6),o=i(7);function c(s,A,v){a(s)?l(s,A,v):o(s,A,v)}n.exports=c},function(n,r,i){function a(l){return l===void 0}n.exports=a},function(n,r,i){var a=i(22),l=i(2),o=i(6),c=i(7),s=i(37),A=0,v={getLength:function(B){var x=0;return c(B,function(){x+=1}),x},map:function(B,x,M){var T=[];return l(B,function(){T.push(x.apply(M||null,arguments))}),T},filter:function(B,x,M){var T=[];return o(B,function(p){x.apply(M||null,arguments)&&T.push(p)}),T},generateId:function(){return A+=1,A},isOldBrowser:function(){return a.msie&&a.version<9}(),sendHostName:function(){s("color-picker","UA-129987462-1")}};n.exports=v},function(n,r,i){var a=i(1);function l(o,c,s){var A,v;if(s=s||0,!a(c))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(c,o,s);for(v=c.length,A=s;s>=0&&A<v;A+=1)if(c[A]===o)return A;return-1}n.exports=l},function(n,r,i){function a(l,o,c){var s=0,A=l.length;for(c=c||null;s<A&&o.call(c,l[s],s,l)!==!1;s+=1);}n.exports=a},function(n,r,i){function a(l,o,c){var s;c=c||null;for(s in l)if(l.hasOwnProperty(s)&&o.call(c,l[s],s,l)===!1)break}n.exports=a},function(n,r,i){var a=i(39),l=i(13),o=i(41),c=i(3),s=i(9),A=i(19),v=i(4);function B(x,M){var T=v.generateId();c(M)&&(M=s.appendHTMLElement("div")),a(M,"tui-view-"+T),this.id=T,this.container=M,this.childs=new A(function(p){return p.id}),this.parent=null}B.prototype.addChild=function(x,M){M&&M.call(x,this),x.parent=this,this.childs.add(x)},B.prototype.removeChild=function(x,M){var T=o(x)?this.childs.items[x]:x;M&&M.call(T,this),this.childs.remove(T.id)},B.prototype.render=function(){this.childs.each(function(x){x.render()})},B.prototype.recursive=function(x,M){!l(x)||(M||x(this),this.childs.each(function(T){T.recursive(x)}))},B.prototype.resize=function(){for(var x=Array.prototype.slice.call(arguments),M=this.parent;M;)l(M._onResize)&&M._onResize.apply(M,x),M=M.parent},B.prototype._beforeDestroy=function(){},B.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},B.prototype.destroy=function(x){this.childs&&(this.childs.each(function(M){M.destroy(!0),M._destroy()}),this.childs.clear()),!x&&this._destroy()},B.prototype.getViewBound=function(){var x=this.container.getBoundingClientRect();return{x:x.left,y:x.top,width:x.right-x.left,height:x.bottom-x.top}},n.exports=B},function(n,r,i){var a={appendHTMLElement:function(l,o,c){var s=document.createElement(l);return s.className=c||"",o?o.appendChild(s):document.body.appendChild(s),s}};n.exports=a},function(n,r,i){var a=i(0),l=i(20),o=i(11),c=i(21),s=i(1),A=i(13),v=i(2),B=/\s+/g;function x(){this.events=null,this.contexts=null}x.mixin=function(M){a(M.prototype,x.prototype)},x.prototype._getHandlerItem=function(M,T){var p={handler:M};return T&&(p.context=T),p},x.prototype._safeEvent=function(M){var T=this.events,p;return T||(T=this.events={}),M&&(p=T[M],p||(p=[],T[M]=p),T=p),T},x.prototype._safeContext=function(){var M=this.contexts;return M||(M=this.contexts=[]),M},x.prototype._indexOfContext=function(M){for(var T=this._safeContext(),p=0;T[p];){if(M===T[p][0])return p;p+=1}return-1},x.prototype._memorizeContext=function(M){var T,p;!l(M)||(T=this._safeContext(),p=this._indexOfContext(M),p>-1?T[p][1]+=1:T.push([M,1]))},x.prototype._forgetContext=function(M){var T,p;!l(M)||(T=this._safeContext(),p=this._indexOfContext(M),p>-1&&(T[p][1]-=1,T[p][1]<=0&&T.splice(p,1)))},x.prototype._bindEvent=function(M,T,p){var u=this._safeEvent(M);this._memorizeContext(p),u.push(this._getHandlerItem(T,p))},x.prototype.on=function(M,T,p){var u=this;o(M)?(M=M.split(B),v(M,function(g){u._bindEvent(g,T,p)})):c(M)&&(p=T,v(M,function(g,C){u.on(C,g,p)}))},x.prototype.once=function(M,T,p){var u=this;if(c(M)){p=T,v(M,function(C,f){u.once(f,C,p)});return}function g(){T.apply(p,arguments),u.off(M,g,p)}this.on(M,g,p)},x.prototype._spliceMatches=function(M,T){var p=0,u;if(!!s(M))for(u=M.length;p<u;p+=1)T(M[p])===!0&&(M.splice(p,1),u-=1,p-=1)},x.prototype._matchHandler=function(M){var T=this;return function(p){var u=M===p.handler;return u&&T._forgetContext(p.context),u}},x.prototype._matchContext=function(M){var T=this;return function(p){var u=M===p.context;return u&&T._forgetContext(p.context),u}},x.prototype._matchHandlerAndContext=function(M,T){var p=this;return function(u){var g=M===u.handler,C=T===u.context,f=g&&C;return f&&p._forgetContext(u.context),f}},x.prototype._offByEventName=function(M,T){var p=this,u=A(T),g=p._matchHandler(T);M=M.split(B),v(M,function(C){var f=p._safeEvent(C);u?p._spliceMatches(f,g):(v(f,function(d){p._forgetContext(d.context)}),p.events[C]=[])})},x.prototype._offByHandler=function(M){var T=this,p=this._matchHandler(M);v(this._safeEvent(),function(u){T._spliceMatches(u,p)})},x.prototype._offByObject=function(M,T){var p=this,u;this._indexOfContext(M)<0?v(M,function(g,C){p.off(C,g)}):o(T)?(u=this._matchContext(M),p._spliceMatches(this._safeEvent(T),u)):A(T)?(u=this._matchHandlerAndContext(T,M),v(this._safeEvent(),function(g){p._spliceMatches(g,u)})):(u=this._matchContext(M),v(this._safeEvent(),function(g){p._spliceMatches(g,u)}))},x.prototype.off=function(M,T){o(M)?this._offByEventName(M,T):arguments.length?A(M)?this._offByHandler(M):c(M)&&this._offByObject(M,T):(this.events={},this.contexts=[])},x.prototype.fire=function(M){this.invoke.apply(this,arguments)},x.prototype.invoke=function(M){var T,p,u,g;if(!this.hasListener(M))return!0;for(T=this._safeEvent(M),p=Array.prototype.slice.call(arguments,1),u=0;T[u];){if(g=T[u],g.handler.apply(g.context,p)===!1)return!1;u+=1}return!0},x.prototype.hasListener=function(M){return this.getListenerLength(M)>0},x.prototype.getListenerLength=function(M){var T=this._safeEvent(M);return T.length},n.exports=x},function(n,r,i){function a(l){return typeof l=="string"||l instanceof String}n.exports=a},function(n,r,i){var a=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,l={leadingZero:function(o,c){var s="",A=0;if((o+"").length>c)return o+"";for(;A<c-1;A+=1)s+="0";return(s+o).slice(c*-1)},isValidRGB:function(o){return a.test(o)},hexToRGB:function(o){var c,s,A;return l.isValidRGB(o)?(o=o.substring(1),c=parseInt(o.substr(0,2),16),s=parseInt(o.substr(2,2),16),A=parseInt(o.substr(4,2),16),[c,s,A]):!1},rgbToHEX:function(o,c,s){var A="#"+l.leadingZero(o.toString(16),2)+l.leadingZero(c.toString(16),2)+l.leadingZero(s.toString(16),2);return l.isValidRGB(A)?A:!1},rgbToHSV:function(o,c,s){var A,v,B,x,M,T;if(o/=255,c/=255,s/=255,A=Math.max(o,c,s),v=Math.min(o,c,s),M=A,T=A-v,x=A===0?0:T/A,A===v)B=0;else{switch(A){case o:B=(c-s)/T+(c<s?6:0);break;case c:B=(s-o)/T+2;break;case s:B=(o-c)/T+4;break}B/=6}return[Math.round(B*360),Math.round(x*100),Math.round(M*100)]},hsvToRGB:function(o,c,s){var A,v,B,x,M,T,p,u;if(o=Math.max(0,Math.min(360,o)),c=Math.max(0,Math.min(100,c)),s=Math.max(0,Math.min(100,s)),c/=100,s/=100,c===0)return A=v=B=s,[Math.round(A*255),Math.round(v*255),Math.round(B*255)];switch(o/=60,x=Math.floor(o),M=o-x,T=s*(1-c),p=s*(1-c*M),u=s*(1-c*(1-M)),x){case 0:A=s,v=u,B=T;break;case 1:A=p,v=s,B=T;break;case 2:A=T,v=s,B=u;break;case 3:A=T,v=p,B=s;break;case 4:A=u,v=T,B=s;break;default:A=s,v=T,B=p;break}return[Math.round(A*255),Math.round(v*255),Math.round(B*255)]}};n.exports=l},function(n,r,i){function a(l){return l instanceof Function}n.exports=a},function(n,r,i){var a=i(11),l=i(2),o=i(26);function c(v,B,x,M){if(a(B)){l(B.split(/\s+/g),function(T){s(v,T,x,M)});return}l(B,function(T,p){s(v,p,T,x)})}function s(v,B,x,M){function T(p){x.call(M||v,p||window.event)}"addEventListener"in v?v.addEventListener(B,T):"attachEvent"in v&&v.attachEvent("on"+B,T),A(v,B,x,T)}function A(v,B,x,M){var T=o(v,B),p=!1;l(T,function(u){return u.handler===x?(p=!0,!1):!0}),p||T.push({handler:x,wrappedHandler:M})}n.exports=c},function(n,r,i){function a(l){if(l.preventDefault){l.preventDefault();return}l.returnValue=!1}n.exports=a},function(n,r,i){function a(l){return l.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}n.exports=a},function(n,r,i){var a=i(11),l=i(2),o=i(26);function c(v,B,x){if(a(B)){l(B.split(/\s+/g),function(M){s(v,M,x)});return}l(B,function(M,T){s(v,T,M)})}function s(v,B,x){var M=o(v,B),T;x?(l(M,function(p,u){return x===p.handler?(A(v,B,p.wrappedHandler),T=u,!1):!0}),M.splice(T,1)):(l(M,function(p){A(v,B,p.wrappedHandler)}),M.splice(0,M.length))}function A(v,B,x){"removeEventListener"in v?v.removeEventListener(B,x):"detachEvent"in v&&v.detachEvent("on"+B,x)}n.exports=c},function(n,r,i){var a=i(50);function l(o,c){var s=a(c.prototype);s.constructor=o,o.prototype=s}n.exports=l},function(n,r,i){var a=i(6),l=i(7),o=i(0),c=i(1),s=i(20),A=i(13),v=i(21),B=i(4),x=Array.prototype.slice;function M(T){this.items={},this.length=0,A(T)&&(this.getItemID=T)}M.and=function(T){var p;return T=x.call(arguments),p=T.length,function(u){for(var g=0;g<p;g+=1)if(!T[g].call(null,u))return!1;return!0}},M.or=function(T){var p;return T=x.call(arguments),p=T.length,function(u){for(var g=1,C=T[0].call(null,u);g<p;g+=1)C=C||T[g].call(null,u);return C}},M.merge=function(T){var p={},u=new M(T.getItemID);return a(arguments,function(g){o(p,g.items)}),u.items=p,u.length=B.getLength(u.items),u},M.prototype.getItemID=function(T){return T._id+""},M.prototype.add=function(T){var p,u;if(arguments.length>1){a(x.call(arguments),function(g){this.add(g)},this);return}p=this.getItemID(T),u=this.items,u[p]||(this.length+=1),u[p]=T},M.prototype.remove=function(T){var p=[],u,g;return this.length?arguments.length>1?(p=B.map(x.call(arguments),function(C){return this.remove(C)},this),p):(u=this.items,v(T)&&(T=this.getItemID(T)),u[T]?(this.length-=1,g=u[T],delete u[T],g):p):p},M.prototype.clear=function(){this.items={},this.length=0},M.prototype.has=function(T){var p,u;return this.length?(p=A(T),u=!1,p?this.each(function(g){return T(g)===!0?(u=!0,!1):!0}):(T=v(T)?this.getItemID(T):T,u=s(this.items[T])),u):!1},M.prototype.doWhenHas=function(T,p,u){var g=this.items[T];!s(g)||p.call(u||this,g)},M.prototype.find=function(T){var p=new M;return this.hasOwnProperty("getItemID")&&(p.getItemID=this.getItemID),this.each(function(u){T(u)===!0&&p.add(u)}),p},M.prototype.groupBy=function(T,p){var u={},g=A(T),C=this.getItemID,f,d;if(c(T)){if(a(T,function(h){u[h+""]=new M(C)}),!p)return u;T=p,g=!0}return this.each(function(h){g?d=T(h):(d=h[T],A(d)&&(d=d.apply(h))),f=u[d],f||(f=u[d]=new M(C)),f.add(h)}),u},M.prototype.single=function(){var T;return this.each(function(p){return T=p,!1},this),T},M.prototype.sort=function(T){var p=[];return this.each(function(u){p.push(u)}),A(T)&&(p=p.sort(T)),p},M.prototype.each=function(T,p){l(this.items,T,p||this)},M.prototype.toArray=function(){return this.length?B.map(this.items,function(T){return T}):[]},n.exports=M},function(n,r,i){var a=i(3),l=i(36);function o(c){return!a(c)&&!l(c)}n.exports=o},function(n,r,i){function a(l){return l===Object(l)}n.exports=a},function(n,r,i){var a={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};typeof window!="undefined"&&window.navigator&&l();function l(){var o=window.navigator,c=o.appName.replace(/\s/g,"_"),s=o.userAgent,A=/MSIE\s([0-9]+[.0-9]*)/,v=/Trident.*rv:11\./,B=/Edge\/(\d+)\./,x={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},M,T,p={Microsoft_Internet_Explorer:function(){var g=s.match(A);g?(a.msie=!0,a.version=parseFloat(g[1])):a.others=!0},Netscape:function(){var g=!1;if(v.exec(s))a.msie=!0,a.version=11,g=!0;else if(B.exec(s))a.edge=!0,a.version=s.match(B)[1],g=!0;else for(M in x)if(x.hasOwnProperty(M)&&(T=s.match(x[M]),T&&T.length>1)){a[M]=g=!0,a.version=parseFloat(T[1]||0);break}g||(a.others=!0)}},u=p[c];u&&p[c]()}n.exports=a},function(n,r,i){var a=i(3);function l(o){return!o||!o.className?"":a(o.className.baseVal)?o.className:o.className.baseVal}n.exports=l},function(n,r,i){(function(a){var l=i(10),o=i(42),c=i(44),s=i(47),A=i(28),v=i(17),B=i(14),x=i(15),M=i(0);function T(p,u){B(u,"mousedown",this._onMouseDown,this),this.options=M({distance:10},p),this.container=u,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}T.prototype.destroy=function(){v(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},T.prototype._toggleDragEvent=function(p){var u=this.container;p?(o(u),B(window,"dragstart",x),B(a.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(c(u),v(window,"dragstart",x),v(a.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},T.prototype._getEventData=function(p){return{target:A(p),originEvent:p}},T.prototype._onMouseDown=function(p){s(p)===0&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(p),this._toggleDragEvent(!0))},T.prototype._onMouseMove=function(p){var u=this.options.distance;if(x(p),this._isMoved=!0,this._distance<u){this._distance+=1;return}if(!this._dragStartFired&&(this._dragStartFired=!0,!this.invoke("dragStart",this._dragStartEventData))){this._toggleDragEvent(!1);return}this.fire("drag",this._getEventData(p))},T.prototype._onMouseUp=function(p){if(this._toggleDragEvent(!1),this._isMoved){this._isMoved=!1,this.fire("dragEnd",this._getEventData(p));return}this.fire("click",this._getEventData(p))},l.mixin(T),n.exports=T}).call(this,i(25))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){var a="_feEventKey";function l(o,c){var s=o[a],A;return s||(s=o[a]={}),A=s[c],A||(A=s[c]=[]),A}n.exports=l},function(n,r,i){function a(l){var o=document.documentElement.style,c,s;for(c=0,s=l.length;c<s;c+=1)if(l[c]in o)return l[c];return!1}n.exports=a},function(n,r,i){function a(l){return l.target||l.srcElement}n.exports=a},function(n,r,i){var a=i(10),l=i(28),o=i(17),c=i(14),s=i(30),A=i(0),v=i(18),B=i(9),x=i(12),M=i(8),T=i(51);function p(u,g){this.options=A({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},u),g=B.appendHTMLElement("div",g,this.options.cssPrefix+"palette-container"),M.call(this,u,g)}v(p,M),p.prototype._onClick=function(u){var g=this.options,C=l(u),f={};if(s(C,g.cssPrefix+"palette-button")){f.color=C.value,this.fire("_selectColor",f);return}s(C,g.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(u){var g=this.options,C=l(u),f={};s(C,g.cssPrefix+"palette-hex")&&(f.color=C.value,this.fire("_selectColor",f))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(u){var g=this.options,C=this.container,f=u?c:o,d;f(C,"click",this._onClick,this),d=C.querySelector("."+g.cssPrefix+"palette-hex",C),d&&f(d,"change",this._onChange,this)},p.prototype.render=function(u){var g=this.options,C="";this._toggleEvent(!1),C=T({cssPrefix:g.cssPrefix,preset:g.preset,detailTxt:g.detailTxt,color:u,isValidRGB:x.isValidRGB,getItemClass:function(f){return f?"":" "+g.cssPrefix+"color-transparent"},isSelected:function(f){return f===u?" "+g.cssPrefix+"selected":""}}),this.container.innerHTML=C,this._toggleEvent(!0)},a.mixin(p),n.exports=p},function(n,r,i){var a=i(5),l=i(23);function o(c,s){var A;return c.classList?c.classList.contains(s):(A=l(c).split(/\s+/),a(s,A)>-1)}n.exports=o},function(n,r,i){var a=i(10),l=i(53),o=i(54),c=i(30),s=i(0),A=i(18),v=i(9),B=i(32),x=i(12),M=i(8),T=i(24),p=i(57),u=-7,g=112,C=-3,f=115,d=359.99;function h(w,I){I=v.appendHTMLElement("div",I,w.cssPrefix+"slider-container"),I.style.display="none",M.call(this,w,I),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},w),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new T({distance:0},I),this.colorSliderPosLimitRange=[u,g],this.huebarPosLimitRange=[C,f],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}A(h,M),h.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},h.prototype.toggle=function(w){this.container.style.display=w?"block":"none"},h.prototype.isVisible=function(){return this.container.style.display==="block"},h.prototype.render=function(w){var I=this.container,y=this.options,D=p.layout,F,L;!x.isValidRGB(w)||(D=D.replace(/{{slider}}/,p.slider),D=D.replace(/{{huebar}}/,p.huebar),D=D.replace(/{{cssPrefix}}/g,y.cssPrefix),D=D.replace(/{{id}}/g,y.id),this.container.innerHTML=D,this.sliderSvgElement=I.querySelector("."+y.cssPrefix+"svg-slider"),this.huebarSvgElement=I.querySelector("."+y.cssPrefix+"svg-huebar"),this.sliderHandleElement=I.querySelector("."+y.cssPrefix+"slider-handle"),this.huebarHandleElement=I.querySelector("."+y.cssPrefix+"huebar-handle"),this.baseColorElement=I.querySelector("."+y.cssPrefix+"slider-basecolor"),F=x.hexToRGB(w),L=x.rgbToHSV.apply(null,F),this.moveHue(L[0],!0),this.moveSaturationAndValue(L[1],L[2],!0))},h.prototype._setColorSliderPosMax=function(){var w=this.sliderSvgElement.getClientRects()[0];w&&(this.colorSliderPosLimitRange[1]=w.height-10)},h.prototype._moveColorSliderHandle=function(w,I,y){var D=this.sliderHandleElement,F;I=Math.max(this.colorSliderPosLimitRange[0],I),I=Math.min(this.colorSliderPosLimitRange[1],I),w=Math.max(this.colorSliderPosLimitRange[0],w),w=Math.min(this.colorSliderPosLimitRange[1],w),B.setTranslateXY(D,w,I),F=I>50?"white":"black",B.setStrokeColor(D,F),y||this.fire("_selectColor",{color:x.rgbToHEX.apply(null,this.getRGB())})},h.prototype.moveSaturationAndValue=function(w,I,y){var D,F,L,k;w=w||0,I=I||0,D=Math.abs(this.colorSliderPosLimitRange[0]),F=this.colorSliderPosLimitRange[1],L=w*F/100-D,k=F-I*F/100-D,this._moveColorSliderHandle(L,k,y)},h.prototype._moveColorSliderByPosition=function(w,I){var y=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(w+y,I+y)},h.prototype.getSaturationAndValue=function(){var w=Math.abs(this.colorSliderPosLimitRange[0]),I=w+this.colorSliderPosLimitRange[1],y=B.getTranslateXY(this.sliderHandleElement),D,F;return D=(y[1]+w)/I*100,F=100-(y[0]+w)/I*100,[D,F]},h.prototype._setHueBarPosMax=function(){var w=this.huebarSvgElement.getClientRects()[0];w&&(this.huebarPosLimitRange[1]=w.height-7)},h.prototype._moveHueHandle=function(w,I){var y=this.huebarHandleElement,D=this.baseColorElement,F,L;w=Math.max(this.huebarPosLimitRange[0],w),w=Math.min(this.huebarPosLimitRange[1],w),B.setTranslateY(y,w),F=x.hsvToRGB(this.getHue(),100,100),L=x.rgbToHEX.apply(null,F),B.setGradientColorStop(D,L),I||this.fire("_selectColor",{color:x.rgbToHEX.apply(null,this.getRGB())})},h.prototype.moveHue=function(w,I){var y=0,D,F;D=Math.abs(this.huebarPosLimitRange[0]),F=D+this.huebarPosLimitRange[1],w=w||0,y=F*w/d-D,this._moveHueHandle(y,I)},h.prototype._moveHueByPosition=function(w){var I=this.huebarPosLimitRange[0];this._moveHueHandle(w+I)},h.prototype.getHue=function(){var w=this.huebarHandleElement,I=B.getTranslateXY(w),y,D;return y=Math.abs(this.huebarPosLimitRange[0]),D=y+this.huebarPosLimitRange[1],(I[0]+y)*d/D},h.prototype.getHSV=function(){var w=this.getSaturationAndValue(),I=this.getHue();return[I].concat(w)},h.prototype.getRGB=function(){return x.hsvToRGB.apply(null,this.getHSV())},h.prototype._prepareColorSliderForMouseEvent=function(w){var I=this.options,y=o(w.target,"."+I.cssPrefix+"slider-part"),D;return D=this._dragDataCache={isColorSlider:c(y,I.cssPrefix+"slider-left"),parentElement:y},D},h.prototype._onClick=function(w){var I=this._prepareColorSliderForMouseEvent(w),y=l(w.originEvent,I.parentElement);I.isColorSlider?this._moveColorSliderByPosition(y[0],y[1]):this._moveHueByPosition(y[1]),this._dragDataCache=null},h.prototype._onDragStart=function(w){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(w)},h.prototype._onDrag=function(w){var I=this._dragDataCache,y=l(w.originEvent,I.parentElement);I.isColorSlider?this._moveColorSliderByPosition(y[0],y[1]):this._moveHueByPosition(y[1])},h.prototype._onDragEnd=function(){this._dragDataCache=null},a.mixin(h),n.exports=h},function(n,r,i){var a=i(4).isOldBrowser,l=/[\.\-0-9]+/g,o=-6,c={getTranslateXY:function(s){var A;return a?(A=s.style,[parseFloat(A.top),parseFloat(A.left)]):(A=s.getAttribute("transform"),A?(A=A.match(l),[parseFloat(A[1]),parseFloat(A[0])]):[0,0])},setTranslateXY:function(s,A,v){a?(s.style.left=A+"px",s.style.top=v+"px"):s.setAttribute("transform","translate("+A+","+v+")")},setTranslateY:function(s,A){a?s.style.top=A+"px":s.setAttribute("transform","translate("+o+","+A+")")},setStrokeColor:function(s,A){a?s.strokecolor=A:s.setAttribute("stroke",A)},setGradientColorStop:function(s,A){a?s.color=A:s.setAttribute("stop-color",A)}};n.exports=c},function(n,r,i){i(34),n.exports=i(35)},function(n,r,i){},function(n,r,i){var a=i(19),l=i(8),o=i(24),c=i(48),s=i(29),A=i(31),v=i(12),B=i(32),x={Collection:a,View:l,Drag:o,create:c,Palette:s,Slider:A,colorutil:v,svgvml:B};n.exports=x},function(n,r,i){function a(l){return l===null}n.exports=a},function(n,r,i){var a=i(3),l=i(38),o=7*24*60*60*1e3;function c(A){var v=new Date().getTime();return v-A>o}function s(A,v){var B="https://www.google-analytics.com/collect",x=location.hostname,M="event",T="use",p="TOAST UI "+A+" for "+x+": Statistics",u=window.localStorage.getItem(p);!a(window.tui)&&window.tui.usageStatistics===!1||u&&!c(u)||(window.localStorage.setItem(p,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&l(B,{v:1,t:M,tid:v,cid:x,dp:x,dh:A,el:A,ec:T})},1e3))}n.exports=s},function(n,r,i){var a=i(7);function l(o,c){var s=document.createElement("img"),A="";return a(c,function(v,B){A+="&"+B+"="+v}),A=A.substring(1),s.src=o+"?"+A,s.style.display="none",document.body.appendChild(s),document.body.removeChild(s),s}n.exports=l},function(n,r,i){var a=i(2),l=i(5),o=i(23),c=i(40);function s(A){var v=Array.prototype.slice.call(arguments,1),B=A.classList,x=[],M;if(B){a(v,function(T){A.classList.add(T)});return}M=o(A),M&&(v=[].concat(M.split(/\s+/),v)),a(v,function(T){l(T,x)<0&&x.push(T)}),c(A,x)}n.exports=s},function(n,r,i){var a=i(1),l=i(3);function o(c,s){if(s=a(s)?s.join(" "):s,s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),l(c.className.baseVal)){c.className=s;return}c.className.baseVal=s}n.exports=o},function(n,r,i){function a(l){return typeof l=="number"||l instanceof Number}n.exports=a},function(n,r,i){var a=i(14),l=i(15),o=i(43),c=i(27),s="onselectstart"in document,A="prevUserSelect",v=c(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function B(x){x||(x=document),s?a(x,"selectstart",l):(x=x===document?document.documentElement:x,o(x,A,x.style[v]),x.style[v]="none")}n.exports=B},function(n,r,i){var a=i(16);function l(o,c,s){if(o.dataset){o.dataset[c]=s;return}o.setAttribute("data-"+a(c),s)}n.exports=l},function(n,r,i){var a=i(17),l=i(15),o=i(45),c=i(46),s=i(27),A="onselectstart"in document,v="prevUserSelect",B=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function x(M){M||(M=document),A?a(M,"selectstart",l):(M=M===document?document.documentElement:M,M.style[B]=o(M,v)||"auto",c(M,v))}n.exports=x},function(n,r,i){var a=i(16);function l(o,c){return o.dataset?o.dataset[c]:o.getAttribute("data-"+a(c))}n.exports=l},function(n,r,i){var a=i(16);function l(o,c){if(o.dataset){delete o.dataset[c];return}o.removeAttribute("data-"+a(c))}n.exports=l},function(n,r,i){var a=i(22),l=i(5),o=["0","1","3","5","7"],c=["2","6"],s=["4"];function A(B){return a.msie&&a.version<=8?v(B):B.button}function v(B){var x=String(B.button);return l(x,o)>-1?0:l(x,c)>-1?2:l(x,s)>-1?1:null}n.exports=A},function(n,r,i){var a=i(10),l=i(0),o=i(4),c=i(12),s=i(49),A=i(29),v=i(31),B=0;function x(){return B+=1,B}function M(T){var p;if(!(this instanceof M))return new M(T);if(T=this.options=l({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:x(),usageStatistics:!0},T),!T.container)throw new Error("ColorPicker(): need container option.");p=this.layout=new s(T,T.container),this.palette=new A(T,p.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new v(T,p.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),p.addChild(this.palette),p.addChild(this.slider),this.render(T.color),T.usageStatistics&&o.sendHostName()}M.prototype._onSelectColorInPalette=function(T){var p=T.color,u=this.options;if(!c.isValidRGB(p)&&p!==""){this.render();return}this.fire("selectColor",{color:p,origin:"palette"}),u.color!==p&&(u.color=p,this.render(p))},M.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},M.prototype._onSelectColorInSlider=function(T){var p=T.color,u=this.options;this.fire("selectColor",{color:p,origin:"slider"}),u.color!==p&&(u.color=p,this.palette.render(p))},M.prototype.setColor=function(T){if(!c.isValidRGB(T))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=T,this.render(T)},M.prototype.getColor=function(){return this.options.color},M.prototype.toggle=function(T){this.layout.container.style.display=T?"block":"none"},M.prototype.render=function(T){this.layout.render(T||this.options.color)},M.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},a.mixin(M),n.exports=M},function(n,r,i){var a=i(0),l=i(18),o=i(9),c=i(8);function s(A,v){this.options=a({cssPrefix:"tui-colorpicker-"},A),v=o.appendHTMLElement("div",v,this.options.cssPrefix+"container"),c.call(this,A,v),this.render()}l(s,c),s.prototype.render=function(A){this.recursive(function(v){v.render(A)},!0)},n.exports=s},function(n,r,i){function a(l){function o(){}return o.prototype=l,new o}n.exports=a},function(n,r,i){var a=i(52);n.exports=function(l){var o=['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),c=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",o,"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join(`
`);return a(c,l)}},function(n,r,i){var a=i(5),l=i(2),o=i(1),c=i(11),s=i(0),A=/{{\s?|\s?}}/g,v=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,B=/\[\s?|\s?\]/,x=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,M=/\./,T=/^["']\w+["']$/,p=/"|'/g,u=/^-?\d+\.?\d*$/,g=2,C={if:I,each:y,with:D},f="a".split(/a/).length===3,d=function(){return f?function(H,X){return H.split(X)}:function(H,X){var ne=[],ie=0,he,le;for(X.global||(X=new RegExp(X,"g")),he=X.exec(H);he!==null;)le=he.index,ne.push(H.slice(ie,le)),ie=le+he[0].length,he=X.exec(H);return ne.push(H.slice(ie)),ne}}();function h(H,X){var ne,ie=X[H];return H==="true"?ie=!0:H==="false"?ie=!1:T.test(H)?ie=H.replace(p,""):v.test(H)?(ne=H.split(B),ie=h(ne[0],X)[h(ne[1],X)]):x.test(H)?(ne=H.split(M),ie=h(ne[0],X)[ne[1]]):u.test(H)&&(ie=parseFloat(H)),ie}function w(H,X){var ne=[H],ie=[],he=0,le=0;return l(X,function(Ae,R){Ae.indexOf("if")===0?he+=1:Ae==="/if"?he-=1:!he&&(Ae.indexOf("elseif")===0||Ae==="else")&&(ne.push(Ae==="else"?["true"]:Ae.split(" ").slice(1)),ie.push(X.slice(le,R)),le=R+1)}),ie.push(X.slice(le)),{exps:ne,sourcesInsideIf:ie}}function I(H,X,ne){var ie=w(H,X),he=!1,le="";return l(ie.exps,function(Ae,R){return he=k(Ae,ne),he&&(le=N(ie.sourcesInsideIf[R],ne)),!he}),le}function y(H,X,ne){var ie=k(H,ne),he=o(ie)?"@index":"@key",le={},Ae="";return l(ie,function(R,re){le[he]=re,le["@this"]=R,s(ne,le),Ae+=N(X.slice(),ne)}),Ae}function D(H,X,ne){var ie=a("as",H),he=H[ie+1],le=k(H.slice(0,ie),ne),Ae={};return Ae[he]=le,N(X,s(ne,Ae))||""}function F(H,X,ne){var ie=H.splice(X+1,ne-X);return ie.pop(),ie}function L(H,X,ne){for(var ie=C[H],he=1,le=0,Ae,R=le+g,re=X[R];he&&c(re);)re.indexOf(H)===0?he+=1:re.indexOf("/"+H)===0&&(he-=1,Ae=R),R+=g,re=X[R];if(he)throw Error(H+" needs {{/"+H+"}} expression.");return X[le]=ie(X[le].split(" ").slice(1),F(X,le,Ae),ne),X}function k(H,X){var ne=h(H[0],X);return ne instanceof Function?U(ne,H.slice(1),X):ne}function U(H,X,ne){var ie=[];return l(X,function(he){ie.push(h(he,ne))}),H.apply(null,ie)}function N(H,X){for(var ne=1,ie=H[ne],he,le,Ae;c(ie);)he=ie.split(" "),le=he[0],C[le]?(Ae=L(le,H.splice(ne,H.length-ne),X),H=H.concat(Ae)):H[ne]=k(he,X),ne+=g,ie=H[ne];return H.join("")}function z(H,X){return N(d(H,A),X)}n.exports=z},function(n,r,i){var a=i(1);function l(o,c){var s=a(o),A=s?o[0]:o.clientX,v=s?o[1]:o.clientY,B;return c?(B=c.getBoundingClientRect(),[A-B.left-c.clientLeft,v-B.top-c.clientTop]):[A,v]}n.exports=l},function(n,r,i){var a=i(55);function l(o,c){var s=o.parentNode;if(a(o,c))return o;for(;s&&s!==document;){if(a(s,c))return s;s=s.parentNode}return null}n.exports=l},function(n,r,i){var a=i(5),l=i(56),o=Element.prototype,c=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(A){var v=this.document||this.ownerDocument;return a(this,l(v.querySelectorAll(A)))>-1};function s(A,v){return c.call(A,v)}n.exports=s},function(n,r,i){var a=i(6);function l(o){var c;try{c=Array.prototype.slice.call(o)}catch{c=[],a(o,function(A){c.push(A)})}return c}n.exports=l},function(n,r,i){(function(a){var l=i(4).isOldBrowser,o=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join(`
`),c=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join(`
`),s=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join(`
`),A=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join(`
`),v=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join(`
`);l&&a.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),n.exports={layout:o,slider:l?s:c,huebar:l?v:A}}).call(this,i(25))}])})})(QB);/*!
 * TOAST UI ImageEditor
 * @version 3.15.3
 * @license MIT
 */(function(e,t){(function(r,i){e.exports=i(QB.exports)})(self,function(n){return function(){var r={2777:function(o,c,s){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var A=A||{version:"4.6.0"};if(c.fabric=A,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?A.document=document:A.document=document.implementation.createHTMLDocument(""),A.window=window;else{var v=s(4960),B=new v.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;A.document=B.document,A.jsdomImplForWrapper=s(6759).implForWrapper,A.nodeCanvas=s(6272).Canvas,A.window=B,DOMParser=A.window.DOMParser}A.isTouchSupported="ontouchstart"in A.window||"ontouchstart"in A.document||A.window&&A.window.navigator&&A.window.navigator.maxTouchPoints>0,A.isLikelyNode=typeof Buffer!="undefined"&&typeof window=="undefined",A.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],A.DPI=96,A.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",A.commaWsp="(?:\\s+,?\\s*|,\\s*)",A.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,A.reNonWord=/[ \n\.,;!\?\-]/,A.fontPaths={},A.iMatrix=[1,0,0,1,0,0],A.svgNS="http://www.w3.org/2000/svg",A.perfLimitSizeTotal=2097152,A.maxCacheSideLimit=4096,A.minCacheSideLimit=256,A.charWidthsCache={},A.textureSize=2048,A.disableStyleCopyPaste=!1,A.enableGLFiltering=!0,A.devicePixelRatio=A.window.devicePixelRatio||A.window.webkitDevicePixelRatio||A.window.mozDevicePixelRatio||1,A.browserShadowBlurConstant=1,A.arcToSegmentsCache={},A.boundsOfCurveCache={},A.cachesBoundsOfCurve=!0,A.forceGLPutImageData=!1,A.initFilterBackend=function(){if(A.enableGLFiltering&&A.isWebglSupported&&A.isWebglSupported(A.textureSize))return console.log("max texture size: "+A.maxTextureSize),new A.WebglFilterBackend({tileSize:A.textureSize});if(A.Canvas2dFilterBackend)return new A.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=A),function(){function p(h,w){if(!!this.__eventListeners[h]){var I=this.__eventListeners[h];w?I[I.indexOf(w)]=!1:A.util.array.fill(I,!1)}}function u(h,w){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var I in h)this.on(I,h[I]);else this.__eventListeners[h]||(this.__eventListeners[h]=[]),this.__eventListeners[h].push(w);return this}function g(h,w){var I=function(){w.apply(this,arguments),this.off(h,I)}.bind(this);this.on(h,I)}function C(h,w){if(arguments.length===1)for(var I in h)g.call(this,I,h[I]);else g.call(this,h,w);return this}function f(h,w){if(!this.__eventListeners)return this;if(arguments.length===0)for(h in this.__eventListeners)p.call(this,h);else if(arguments.length===1&&typeof arguments[0]=="object")for(var I in h)p.call(this,I,h[I]);else p.call(this,h,w);return this}function d(h,w){if(!this.__eventListeners)return this;var I=this.__eventListeners[h];if(!I)return this;for(var y=0,D=I.length;y<D;y++)I[y]&&I[y].call(this,w||{});return this.__eventListeners[h]=I.filter(function(F){return F!==!1}),this}A.Observable={fire:d,on:u,once:C,off:f}}(),A.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var p=0,u=arguments.length;p<u;p++)this._onObjectAdded(arguments[p]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(p,u,g){var C=this._objects;return g?C[u]=p:C.splice(u,0,p),this._onObjectAdded&&this._onObjectAdded(p),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var p=this._objects,u,g=!1,C=0,f=arguments.length;C<f;C++)u=p.indexOf(arguments[C]),u!==-1&&(g=!0,p.splice(u,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[C]));return this.renderOnAddRemove&&g&&this.requestRenderAll(),this},forEachObject:function(p,u){for(var g=this.getObjects(),C=0,f=g.length;C<f;C++)p.call(u,g[C],C,g);return this},getObjects:function(p){return typeof p=="undefined"?this._objects.concat():this._objects.filter(function(u){return u.type===p})},item:function(p){return this._objects[p]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(p,u){return this._objects.indexOf(p)>-1?!0:u?this._objects.some(function(g){return typeof g.contains=="function"&&g.contains(p,!0)}):!1},complexity:function(){return this._objects.reduce(function(p,u){return p+=u.complexity?u.complexity():0,p},0)}},A.CommonMethods={_setOptions:function(p){for(var u in p)this.set(u,p[u])},_initGradient:function(p,u){p&&p.colorStops&&!(p instanceof A.Gradient)&&this.set(u,new A.Gradient(p))},_initPattern:function(p,u,g){p&&p.source&&!(p instanceof A.Pattern)?this.set(u,new A.Pattern(p,g)):g&&g()},_setObject:function(p){for(var u in p)this._set(u,p[u])},set:function(p,u){return typeof p=="object"?this._setObject(p):this._set(p,u),this},_set:function(p,u){this[p]=u},toggle:function(p){var u=this.get(p);return typeof u=="boolean"&&this.set(p,!u),this},get:function(p){return this[p]}},function(p){var u=Math.sqrt,g=Math.atan2,C=Math.pow,f=Math.PI/180,d=Math.PI/2;A.util={cos:function(h){if(h===0)return 1;h<0&&(h=-h);var w=h/d;switch(w){case 1:case 3:return 0;case 2:return-1}return Math.cos(h)},sin:function(h){if(h===0)return 0;var w=h/d,I=1;switch(h<0&&(I=-1),w){case 1:return I;case 2:return 0;case 3:return-I}return Math.sin(h)},removeFromArray:function(h,w){var I=h.indexOf(w);return I!==-1&&h.splice(I,1),h},getRandomInt:function(h,w){return Math.floor(Math.random()*(w-h+1))+h},degreesToRadians:function(h){return h*f},radiansToDegrees:function(h){return h/f},rotatePoint:function(h,w,I){var y=new A.Point(h.x-w.x,h.y-w.y),D=A.util.rotateVector(y,I);return new A.Point(D.x,D.y).addEquals(w)},rotateVector:function(h,w){var I=A.util.sin(w),y=A.util.cos(w),D=h.x*y-h.y*I,F=h.x*I+h.y*y;return{x:D,y:F}},transformPoint:function(h,w,I){return I?new A.Point(w[0]*h.x+w[2]*h.y,w[1]*h.x+w[3]*h.y):new A.Point(w[0]*h.x+w[2]*h.y+w[4],w[1]*h.x+w[3]*h.y+w[5])},makeBoundingBoxFromPoints:function(h,w){if(w)for(var I=0;I<h.length;I++)h[I]=A.util.transformPoint(h[I],w);var y=[h[0].x,h[1].x,h[2].x,h[3].x],D=A.util.array.min(y),F=A.util.array.max(y),L=F-D,k=[h[0].y,h[1].y,h[2].y,h[3].y],U=A.util.array.min(k),N=A.util.array.max(k),z=N-U;return{left:D,top:U,width:L,height:z}},invertTransform:function(h){var w=1/(h[0]*h[3]-h[1]*h[2]),I=[w*h[3],-w*h[1],-w*h[2],w*h[0]],y=A.util.transformPoint({x:h[4],y:h[5]},I,!0);return I[4]=-y.x,I[5]=-y.y,I},toFixed:function(h,w){return parseFloat(Number(h).toFixed(w))},parseUnit:function(h,w){var I=/\D{0,2}$/.exec(h),y=parseFloat(h);switch(w||(w=A.Text.DEFAULT_SVG_FONT_SIZE),I[0]){case"mm":return y*A.DPI/25.4;case"cm":return y*A.DPI/2.54;case"in":return y*A.DPI;case"pt":return y*A.DPI/72;case"pc":return y*A.DPI/72*12;case"em":return y*w;default:return y}},falseFunction:function(){return!1},getKlass:function(h,w){return h=A.util.string.camelize(h.charAt(0).toUpperCase()+h.slice(1)),A.util.resolveNamespace(w)[h]},getSvgAttributes:function(h){var w=["instantiated_by_use","style","id","class"];switch(h){case"linearGradient":w=w.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":w=w.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":w=w.concat(["offset","stop-color","stop-opacity"]);break}return w},resolveNamespace:function(h){if(!h)return A;var w=h.split("."),I=w.length,y,D=p||A.window;for(y=0;y<I;++y)D=D[w[y]];return D},loadImage:function(h,w,I,y){if(!h){w&&w.call(I,h);return}var D=A.util.createImage(),F=function(){w&&w.call(I,D,!1),D=D.onload=D.onerror=null};D.onload=F,D.onerror=function(){A.log("Error loading "+D.src),w&&w.call(I,null,!0),D=D.onload=D.onerror=null},h.indexOf("data")!==0&&y!==void 0&&y!==null&&(D.crossOrigin=y),h.substring(0,14)==="data:image/svg"&&(D.onload=null,A.util.loadImageInDom(D,F)),D.src=h},loadImageInDom:function(h,w){var I=A.document.createElement("div");I.style.width=I.style.height="1px",I.style.left=I.style.top="-100%",I.style.position="absolute",I.appendChild(h),A.document.querySelector("body").appendChild(I),h.onload=function(){w(),I.parentNode.removeChild(I),I=null}},enlivenObjects:function(h,w,I,y){h=h||[];var D=[],F=0,L=h.length;function k(){++F===L&&w&&w(D.filter(function(U){return U}))}if(!L){w&&w(D);return}h.forEach(function(U,N){if(!U||!U.type){k();return}var z=A.util.getKlass(U.type,I);z.fromObject(U,function(H,X){X||(D[N]=H),y&&y(U,H,X),k()})})},enlivenPatterns:function(h,w){h=h||[];function I(){++D===F&&w&&w(y)}var y=[],D=0,F=h.length;if(!F){w&&w(y);return}h.forEach(function(L,k){L&&L.source?new A.Pattern(L,function(U){y[k]=U,I()}):(y[k]=L,I())})},groupSVGElements:function(h,w,I){var y;return h&&h.length===1?h[0]:(w&&(w.width&&w.height?w.centerPoint={x:w.width/2,y:w.height/2}:(delete w.width,delete w.height)),y=new A.Group(h,w),typeof I!="undefined"&&(y.sourcePath=I),y)},populateWithProperties:function(h,w,I){if(I&&Object.prototype.toString.call(I)==="[object Array]")for(var y=0,D=I.length;y<D;y++)I[y]in h&&(w[I[y]]=h[I[y]])},drawDashedLine:function(h,w,I,y,D,F){var L=y-w,k=D-I,U=u(L*L+k*k),N=g(k,L),z=F.length,H=0,X=!0;for(h.save(),h.translate(w,I),h.moveTo(0,0),h.rotate(N),w=0;U>w;)w+=F[H++%z],w>U&&(w=U),h[X?"lineTo":"moveTo"](w,0),X=!X;h.restore()},createCanvasElement:function(){return A.document.createElement("canvas")},copyCanvasElement:function(h){var w=A.util.createCanvasElement();return w.width=h.width,w.height=h.height,w.getContext("2d").drawImage(h,0,0),w},toDataURL:function(h,w,I){return h.toDataURL("image/"+w,I)},createImage:function(){return A.document.createElement("img")},multiplyTransformMatrices:function(h,w,I){return[h[0]*w[0]+h[2]*w[1],h[1]*w[0]+h[3]*w[1],h[0]*w[2]+h[2]*w[3],h[1]*w[2]+h[3]*w[3],I?0:h[0]*w[4]+h[2]*w[5]+h[4],I?0:h[1]*w[4]+h[3]*w[5]+h[5]]},qrDecompose:function(h){var w=g(h[1],h[0]),I=C(h[0],2)+C(h[1],2),y=u(I),D=(h[0]*h[3]-h[2]*h[1])/y,F=g(h[0]*h[2]+h[1]*h[3],I);return{angle:w/f,scaleX:y,scaleY:D,skewX:F/f,skewY:0,translateX:h[4],translateY:h[5]}},calcRotateMatrix:function(h){if(!h.angle)return A.iMatrix.concat();var w=A.util.degreesToRadians(h.angle),I=A.util.cos(w),y=A.util.sin(w);return[I,y,-y,I,0,0]},calcDimensionsMatrix:function(h){var w=typeof h.scaleX=="undefined"?1:h.scaleX,I=typeof h.scaleY=="undefined"?1:h.scaleY,y=[h.flipX?-w:w,0,0,h.flipY?-I:I,0,0],D=A.util.multiplyTransformMatrices,F=A.util.degreesToRadians;return h.skewX&&(y=D(y,[1,0,Math.tan(F(h.skewX)),1],!0)),h.skewY&&(y=D(y,[1,Math.tan(F(h.skewY)),0,1],!0)),y},composeMatrix:function(h){var w=[1,0,0,1,h.translateX||0,h.translateY||0],I=A.util.multiplyTransformMatrices;return h.angle&&(w=I(w,A.util.calcRotateMatrix(h))),(h.scaleX!==1||h.scaleY!==1||h.skewX||h.skewY||h.flipX||h.flipY)&&(w=I(w,A.util.calcDimensionsMatrix(h))),w},resetObjectTransform:function(h){h.scaleX=1,h.scaleY=1,h.skewX=0,h.skewY=0,h.flipX=!1,h.flipY=!1,h.rotate(0)},saveObjectTransform:function(h){return{scaleX:h.scaleX,scaleY:h.scaleY,skewX:h.skewX,skewY:h.skewY,angle:h.angle,left:h.left,flipX:h.flipX,flipY:h.flipY,top:h.top}},isTransparent:function(h,w,I,y){y>0&&(w>y?w-=y:w=0,I>y?I-=y:I=0);var D=!0,F,L,k=h.getImageData(w,I,y*2||1,y*2||1),U=k.data.length;for(F=3;F<U&&(L=k.data[F],D=L<=0,D!==!1);F+=4);return k=null,D},parsePreserveAspectRatioAttribute:function(h){var w="meet",I="Mid",y="Mid",D=h.split(" "),F;return D&&D.length&&(w=D.pop(),w!=="meet"&&w!=="slice"?(F=w,w="meet"):D.length&&(F=D.pop())),I=F!=="none"?F.slice(1,4):"none",y=F!=="none"?F.slice(5,8):"none",{meetOrSlice:w,alignX:I,alignY:y}},clearFabricFontCache:function(h){h=(h||"").toLowerCase(),h?A.charWidthsCache[h]&&delete A.charWidthsCache[h]:A.charWidthsCache={}},limitDimsByArea:function(h,w){var I=Math.sqrt(w*h),y=Math.floor(w/I);return{x:Math.floor(I),y}},capValue:function(h,w,I){return Math.max(h,Math.min(w,I))},findScaleToFit:function(h,w){return Math.min(w.width/h.width,w.height/h.height)},findScaleToCover:function(h,w){return Math.max(w.width/h.width,w.height/h.height)},matrixToSVG:function(h){return"matrix("+h.map(function(w){return A.util.toFixed(w,A.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(h,w){var I=A.util.invertTransform(w),y=A.util.multiplyTransformMatrices(I,h.calcOwnMatrix());A.util.applyTransformToObject(h,y)},addTransformToObject:function(h,w){A.util.applyTransformToObject(h,A.util.multiplyTransformMatrices(w,h.calcOwnMatrix()))},applyTransformToObject:function(h,w){var I=A.util.qrDecompose(w),y=new A.Point(I.translateX,I.translateY);h.flipX=!1,h.flipY=!1,h.set("scaleX",I.scaleX),h.set("scaleY",I.scaleY),h.skewX=I.skewX,h.skewY=I.skewY,h.angle=I.angle,h.setPositionByOrigin(y,"center","center")},sizeAfterTransform:function(h,w,I){var y=h/2,D=w/2,F=[{x:-y,y:-D},{x:y,y:-D},{x:-y,y:D},{x:y,y:D}],L=A.util.calcDimensionsMatrix(I),k=A.util.makeBoundingBoxFromPoints(F,L);return{x:k.width,y:k.height}}}}(c),function(){var p=Array.prototype.join,u={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},g={m:"l",M:"L"};function C(q,Y,te,V,K,$,se,pe,ue,ye,we){var Ee=A.util.cos(q),me=A.util.sin(q),fe=A.util.cos(Y),de=A.util.sin(Y),ve=te*K*fe-V*$*de+se,Ce=V*K*fe+te*$*de+pe,xe=ye+ue*(-te*K*me-V*$*Ee),De=we+ue*(-V*K*me+te*$*Ee),Re=ve+ue*(te*K*de+V*$*fe),je=Ce+ue*(V*K*de-te*$*fe);return["C",xe,De,Re,je,ve,Ce]}function f(q,Y,te,V,K,$,se){var pe=Math.PI,ue=se*pe/180,ye=A.util.sin(ue),we=A.util.cos(ue),Ee=0,me=0;te=Math.abs(te),V=Math.abs(V);var fe=-we*q*.5-ye*Y*.5,de=-we*Y*.5+ye*q*.5,ve=te*te,Ce=V*V,xe=de*de,De=fe*fe,Re=ve*Ce-ve*xe-Ce*De,je=0;if(Re<0){var Ie=Math.sqrt(1-Re/(ve*Ce));te*=Ie,V*=Ie}else je=(K===$?-1:1)*Math.sqrt(Re/(ve*xe+Ce*De));var Ge=je*te*de/V,Xe=-je*V*fe/te,rt=we*Ge-ye*Xe+q*.5,vt=ye*Ge+we*Xe+Y*.5,Ct=d(1,0,(fe-Ge)/te,(de-Xe)/V),Dt=d((fe-Ge)/te,(de-Xe)/V,(-fe-Ge)/te,(-de-Xe)/V);$===0&&Dt>0?Dt-=2*pe:$===1&&Dt<0&&(Dt+=2*pe);for(var ft=Math.ceil(Math.abs(Dt/pe*2)),_t=[],Xt=Dt/ft,Ht=8/3*Math.sin(Xt/4)*Math.sin(Xt/4)/Math.sin(Xt/2),Fe=Ct+Xt,Oe=0;Oe<ft;Oe++)_t[Oe]=C(Ct,Fe,we,ye,te,V,rt,vt,Ht,Ee,me),Ee=_t[Oe][5],me=_t[Oe][6],Ct=Fe,Fe+=Xt;return _t}function d(q,Y,te,V){var K=Math.atan2(Y,q),$=Math.atan2(V,te);return $>=K?$-K:2*Math.PI-(K-$)}function h(q,Y,te,V,K,$,se,pe){var ue;if(A.cachesBoundsOfCurve&&(ue=p.call(arguments),A.boundsOfCurveCache[ue]))return A.boundsOfCurveCache[ue];var ye=Math.sqrt,we=Math.min,Ee=Math.max,me=Math.abs,fe=[],de=[[],[]],ve,Ce,xe,De,Re,je,Ie,Ge;Ce=6*q-12*te+6*K,ve=-3*q+9*te-9*K+3*se,xe=3*te-3*q;for(var Xe=0;Xe<2;++Xe){if(Xe>0&&(Ce=6*Y-12*V+6*$,ve=-3*Y+9*V-9*$+3*pe,xe=3*V-3*Y),me(ve)<1e-12){if(me(Ce)<1e-12)continue;De=-xe/Ce,0<De&&De<1&&fe.push(De);continue}Ie=Ce*Ce-4*xe*ve,!(Ie<0)&&(Ge=ye(Ie),Re=(-Ce+Ge)/(2*ve),0<Re&&Re<1&&fe.push(Re),je=(-Ce-Ge)/(2*ve),0<je&&je<1&&fe.push(je))}for(var rt,vt,Ct=fe.length,Dt=Ct,ft;Ct--;)De=fe[Ct],ft=1-De,rt=ft*ft*ft*q+3*ft*ft*De*te+3*ft*De*De*K+De*De*De*se,de[0][Ct]=rt,vt=ft*ft*ft*Y+3*ft*ft*De*V+3*ft*De*De*$+De*De*De*pe,de[1][Ct]=vt;de[0][Dt]=q,de[1][Dt]=Y,de[0][Dt+1]=se,de[1][Dt+1]=pe;var _t=[{x:we.apply(null,de[0]),y:we.apply(null,de[1])},{x:Ee.apply(null,de[0]),y:Ee.apply(null,de[1])}];return A.cachesBoundsOfCurve&&(A.boundsOfCurveCache[ue]=_t),_t}function w(q,Y,te){for(var V=te[1],K=te[2],$=te[3],se=te[4],pe=te[5],ue=te[6],ye=te[7],we=f(ue-q,ye-Y,V,K,se,pe,$),Ee=0,me=we.length;Ee<me;Ee++)we[Ee][1]+=q,we[Ee][2]+=Y,we[Ee][3]+=q,we[Ee][4]+=Y,we[Ee][5]+=q,we[Ee][6]+=Y;return we}function I(q){var Y=0,te=0,V=q.length,K=0,$=0,se,pe,ue,ye=[],we,Ee,me;for(pe=0;pe<V;++pe){switch(ue=!1,se=q[pe].slice(0),se[0]){case"l":se[0]="L",se[1]+=Y,se[2]+=te;case"L":Y=se[1],te=se[2];break;case"h":se[1]+=Y;case"H":se[0]="L",se[2]=te,Y=se[1];break;case"v":se[1]+=te;case"V":se[0]="L",te=se[1],se[1]=Y,se[2]=te;break;case"m":se[0]="M",se[1]+=Y,se[2]+=te;case"M":Y=se[1],te=se[2],K=se[1],$=se[2];break;case"c":se[0]="C",se[1]+=Y,se[2]+=te,se[3]+=Y,se[4]+=te,se[5]+=Y,se[6]+=te;case"C":Ee=se[3],me=se[4],Y=se[5],te=se[6];break;case"s":se[0]="S",se[1]+=Y,se[2]+=te,se[3]+=Y,se[4]+=te;case"S":we==="C"?(Ee=2*Y-Ee,me=2*te-me):(Ee=Y,me=te),Y=se[3],te=se[4],se[0]="C",se[5]=se[3],se[6]=se[4],se[3]=se[1],se[4]=se[2],se[1]=Ee,se[2]=me,Ee=se[3],me=se[4];break;case"q":se[0]="Q",se[1]+=Y,se[2]+=te,se[3]+=Y,se[4]+=te;case"Q":Ee=se[1],me=se[2],Y=se[3],te=se[4];break;case"t":se[0]="T",se[1]+=Y,se[2]+=te;case"T":we==="Q"?(Ee=2*Y-Ee,me=2*te-me):(Ee=Y,me=te),se[0]="Q",Y=se[1],te=se[2],se[1]=Ee,se[2]=me,se[3]=Y,se[4]=te;break;case"a":se[0]="A",se[6]+=Y,se[7]+=te;case"A":ue=!0,ye=ye.concat(w(Y,te,se)),Y=se[6],te=se[7];break;case"z":case"Z":Y=K,te=$;break}ue||ye.push(se),we=se[0]}return ye}function y(q,Y,te,V){return Math.sqrt((te-q)*(te-q)+(V-Y)*(V-Y))}function D(q){return q*q*q}function F(q){return 3*q*q*(1-q)}function L(q){return 3*q*(1-q)*(1-q)}function k(q){return(1-q)*(1-q)*(1-q)}function U(q,Y,te,V,K,$,se,pe){return function(ue){var ye=D(ue),we=F(ue),Ee=L(ue),me=k(ue);return{x:se*ye+K*we+te*Ee+q*me,y:pe*ye+$*we+V*Ee+Y*me}}}function N(q,Y,te,V,K,$,se,pe){return function(ue){var ye=1-ue,we=3*ye*ye*(te-q)+6*ye*ue*(K-te)+3*ue*ue*(se-K),Ee=3*ye*ye*(V-Y)+6*ye*ue*($-V)+3*ue*ue*(pe-$);return Math.atan2(Ee,we)}}function z(q){return q*q}function H(q){return 2*q*(1-q)}function X(q){return(1-q)*(1-q)}function ne(q,Y,te,V,K,$){return function(se){var pe=z(se),ue=H(se),ye=X(se);return{x:K*pe+te*ue+q*ye,y:$*pe+V*ue+Y*ye}}}function ie(q,Y,te,V,K,$){return function(se){var pe=1-se,ue=2*pe*(te-q)+2*se*(K-te),ye=2*pe*(V-Y)+2*se*($-V);return Math.atan2(ye,ue)}}function he(q,Y,te){var V={x:Y,y:te},K,$=0,se;for(se=1;se<=100;se+=1)K=q(se/100),$+=y(V.x,V.y,K.x,K.y),V=K;return $}function le(q,Y){for(var te=0,V=0,K=q.iterator,$={x:q.x,y:q.y},se,pe,ue=.01,ye=q.angleFinder,we;V<Y&&te<=1&&ue>1e-4;)se=K(te),we=te,pe=y($.x,$.y,se.x,se.y),pe+V>Y?(ue/=2,te-=ue):($=se,te+=ue,V+=pe);return se.angle=ye(we),se}function Ae(q){for(var Y=0,te=q.length,V,K=0,$=0,se=0,pe=0,ue=[],ye,we,Ee,me=0;me<te;me++){switch(V=q[me],we={x:K,y:$,command:V[0]},V[0]){case"M":we.length=0,se=K=V[1],pe=$=V[2];break;case"L":we.length=y(K,$,V[1],V[2]),K=V[1],$=V[2];break;case"C":ye=U(K,$,V[1],V[2],V[3],V[4],V[5],V[6]),Ee=N(K,$,V[1],V[2],V[3],V[4],V[5],V[6]),we.iterator=ye,we.angleFinder=Ee,we.length=he(ye,K,$),K=V[5],$=V[6];break;case"Q":ye=ne(K,$,V[1],V[2],V[3],V[4]),Ee=ie(K,$,V[1],V[2],V[3],V[4]),we.iterator=ye,we.angleFinder=Ee,we.length=he(ye,K,$),K=V[3],$=V[4];break;case"Z":case"z":we.destX=se,we.destY=pe,we.length=y(K,$,se,pe),K=se,$=pe;break}Y+=we.length,ue.push(we)}return ue.push({length:Y,x:K,y:$}),ue}function R(q,Y,te){te||(te=Ae(q));for(var V=0;Y-te[V].length>0&&V<te.length-2;)Y-=te[V].length,V++;var K=te[V],$=Y/K.length,se=K.command,pe=q[V],ue;switch(se){case"M":return{x:K.x,y:K.y,angle:0};case"Z":case"z":return ue=new A.Point(K.x,K.y).lerp(new A.Point(K.destX,K.destY),$),ue.angle=Math.atan2(K.destY-K.y,K.destX-K.x),ue;case"L":return ue=new A.Point(K.x,K.y).lerp(new A.Point(pe[1],pe[2]),$),ue.angle=Math.atan2(pe[2]-K.y,pe[1]-K.x),ue;case"C":return le(K,Y);case"Q":return le(K,Y)}}function re(q){var Y=[],te=[],V,K,$=A.rePathCommand,se="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",pe="("+se+")"+A.commaWsp,ue="([01])"+A.commaWsp+"?",ye=pe+"?"+pe+"?"+pe+ue+ue+pe+"?("+se+")",we=new RegExp(ye,"g"),Ee,me,fe;if(!q||!q.match)return Y;fe=q.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var de=0,ve,Ce=fe.length;de<Ce;de++){V=fe[de],me=V.slice(1).trim(),te.length=0;var xe=V.charAt(0);if(ve=[xe],xe.toLowerCase()==="a")for(var De;De=we.exec(me);)for(var Re=1;Re<De.length;Re++)te.push(De[Re]);else for(;Ee=$.exec(me);)te.push(Ee[0]);for(var Re=0,je=te.length;Re<je;Re++)K=parseFloat(te[Re]),isNaN(K)||ve.push(K);var Ie=u[xe.toLowerCase()],Ge=g[xe]||xe;if(ve.length-1>Ie)for(var Xe=1,rt=ve.length;Xe<rt;Xe+=Ie)Y.push([xe].concat(ve.slice(Xe,Xe+Ie))),xe=Ge;else Y.push(ve)}return Y}function ee(q,Y){var te=[],V,K=new A.Point(q[0].x,q[0].y),$=new A.Point(q[1].x,q[1].y),se=q.length,pe=1,ue=0,ye=se>2;for(Y=Y||0,ye&&(pe=q[2].x<$.x?-1:q[2].x===$.x?0:1,ue=q[2].y<$.y?-1:q[2].y===$.y?0:1),te.push(["M",K.x-pe*Y,K.y-ue*Y]),V=1;V<se;V++){if(!K.eq($)){var we=K.midPointFrom($);te.push(["Q",K.x,K.y,we.x,we.y])}K=q[V],V+1<q.length&&($=q[V+1])}return ye&&(pe=K.x>q[V-2].x?1:K.x===q[V-2].x?0:-1,ue=K.y>q[V-2].y?1:K.y===q[V-2].y?0:-1),te.push(["L",K.x+pe*Y,K.y+ue*Y]),te}function oe(q,Y,te){return te&&(Y=A.util.multiplyTransformMatrices(Y,[1,0,0,1,-te.x,-te.y])),q.map(function(V){for(var K=V.slice(0),$={},se=1;se<V.length-1;se+=2)$.x=V[se],$.y=V[se+1],$=A.util.transformPoint($,Y),K[se]=$.x,K[se+1]=$.y;return K})}function Z(q,Y,te,V,K,$,se,pe,ue){for(var ye=0,we=0,Ee,me=[],fe=f(pe-q,ue-Y,te,V,$,se,K),de=0,ve=fe.length;de<ve;de++)Ee=h(ye,we,fe[de][1],fe[de][2],fe[de][3],fe[de][4],fe[de][5],fe[de][6]),me.push({x:Ee[0].x+q,y:Ee[0].y+Y}),me.push({x:Ee[1].x+q,y:Ee[1].y+Y}),ye=fe[de][5],we=fe[de][6];return me}function J(q,Y,te,V){V=V.slice(0).unshift("X");var K=w(Y,te,V);K.forEach(function($){q.bezierCurveTo.apply(q,$.slice(1))})}A.util.joinPath=function(q){return q.map(function(Y){return Y.join(" ")}).join(" ")},A.util.parsePath=re,A.util.makePathSimpler=I,A.util.getSmoothPathFromPoints=ee,A.util.getPathSegmentsInfo=Ae,A.util.getBoundsOfCurve=h,A.util.getPointOnPath=R,A.util.transformPath=oe,A.util.fromArcToBeizers=w,A.util.getBoundsOfArc=Z,A.util.drawArc=J}(),function(){var p=Array.prototype.slice;function u(h,w){for(var I=p.call(arguments,2),y=[],D=0,F=h.length;D<F;D++)y[D]=I.length?h[D][w].apply(h[D],I):h[D][w].call(h[D]);return y}function g(h,w){return d(h,w,function(I,y){return I>=y})}function C(h,w){return d(h,w,function(I,y){return I<y})}function f(h,w){for(var I=h.length;I--;)h[I]=w;return h}function d(h,w,I){if(!(!h||h.length===0)){var y=h.length-1,D=w?h[y][w]:h[y];if(w)for(;y--;)I(h[y][w],D)&&(D=h[y][w]);else for(;y--;)I(h[y],D)&&(D=h[y]);return D}}A.util.array={fill:f,invoke:u,min:C,max:g}}(),function(){function p(g,C,f){if(f)if(!A.isLikelyNode&&C instanceof Element)g=C;else if(C instanceof Array){g=[];for(var d=0,h=C.length;d<h;d++)g[d]=p({},C[d],f)}else if(C&&typeof C=="object")for(var w in C)w==="canvas"||w==="group"?g[w]=null:C.hasOwnProperty(w)&&(g[w]=p({},C[w],f));else g=C;else for(var w in C)g[w]=C[w];return g}function u(g,C){return p({},g,C)}A.util.object={extend:p,clone:u},A.util.object.extend(A.util,A.Observable)}(),function(){function p(d){return d.replace(/-+(.)?/g,function(h,w){return w?w.toUpperCase():""})}function u(d,h){return d.charAt(0).toUpperCase()+(h?d.slice(1):d.slice(1).toLowerCase())}function g(d){return d.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function C(d){var h=0,w,I=[];for(h=0,w;h<d.length;h++)(w=f(d,h))!==!1&&I.push(w);return I}function f(d,h){var w=d.charCodeAt(h);if(isNaN(w))return"";if(w<55296||w>57343)return d.charAt(h);if(55296<=w&&w<=56319){if(d.length<=h+1)throw"High surrogate without following low surrogate";var I=d.charCodeAt(h+1);if(56320>I||I>57343)throw"High surrogate without following low surrogate";return d.charAt(h)+d.charAt(h+1)}if(h===0)throw"Low surrogate without preceding high surrogate";var y=d.charCodeAt(h-1);if(55296>y||y>56319)throw"Low surrogate without preceding high surrogate";return!1}A.util.string={camelize:p,capitalize:u,escapeXml:g,graphemeSplit:C}}(),function(){var p=Array.prototype.slice,u=function(){},g=function(){for(var w in{toString:1})if(w==="toString")return!1;return!0}(),C=function(w,I,y){for(var D in I)D in w.prototype&&typeof w.prototype[D]=="function"&&(I[D]+"").indexOf("callSuper")>-1?w.prototype[D]=function(F){return function(){var L=this.constructor.superclass;this.constructor.superclass=y;var k=I[F].apply(this,arguments);if(this.constructor.superclass=L,F!=="initialize")return k}}(D):w.prototype[D]=I[D],g&&(I.toString!==Object.prototype.toString&&(w.prototype.toString=I.toString),I.valueOf!==Object.prototype.valueOf&&(w.prototype.valueOf=I.valueOf))};function f(){}function d(w){for(var I=null,y=this;y.constructor.superclass;){var D=y.constructor.superclass.prototype[w];if(y[w]!==D){I=D;break}y=y.constructor.superclass.prototype}return I?arguments.length>1?I.apply(this,p.call(arguments,1)):I.call(this):console.log("tried to callSuper "+w+", method not found in prototype chain",this)}function h(){var w=null,I=p.call(arguments,0);typeof I[0]=="function"&&(w=I.shift());function y(){this.initialize.apply(this,arguments)}y.superclass=w,y.subclasses=[],w&&(f.prototype=w.prototype,y.prototype=new f,w.subclasses.push(y));for(var D=0,F=I.length;D<F;D++)C(y,I[D],w);return y.prototype.initialize||(y.prototype.initialize=u),y.prototype.constructor=y,y.prototype.callSuper=d,y}A.util.createClass=h}(),function(){var p=!!A.document.createElement("div").attachEvent,u=["touchstart","touchmove","touchend"];A.util.addListener=function(C,f,d,h){C&&C.addEventListener(f,d,p?!1:h)},A.util.removeListener=function(C,f,d,h){C&&C.removeEventListener(f,d,p?!1:h)};function g(C){var f=C.changedTouches;return f&&f[0]?f[0]:C}A.util.getPointer=function(C){var f=C.target,d=A.util.getScrollLeftTop(f),h=g(C);return{x:h.clientX+d.left,y:h.clientY+d.top}},A.util.isTouchEvent=function(C){return u.indexOf(C.type)>-1||C.pointerType==="touch"}}(),function(){function p(h,w){var I=h.style;if(!I)return h;if(typeof w=="string")return h.style.cssText+=";"+w,w.indexOf("opacity")>-1?d(h,w.match(/opacity:\s*(\d?\.?\d*)/)[1]):h;for(var y in w)if(y==="opacity")d(h,w[y]);else{var D=y==="float"||y==="cssFloat"?typeof I.styleFloat=="undefined"?"cssFloat":"styleFloat":y;I[D]=w[y]}return h}var u=A.document.createElement("div"),g=typeof u.style.opacity=="string",C=typeof u.style.filter=="string",f=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,d=function(h){return h};g?d=function(h,w){return h.style.opacity=w,h}:C&&(d=function(h,w){var I=h.style;return h.currentStyle&&!h.currentStyle.hasLayout&&(I.zoom=1),f.test(I.filter)?(w=w>=.9999?"":"alpha(opacity="+w*100+")",I.filter=I.filter.replace(f,w)):I.filter+=" alpha(opacity="+w*100+")",h}),A.util.setStyle=p}(),function(){var p=Array.prototype.slice;function u(k){return typeof k=="string"?A.document.getElementById(k):k}var g,C=function(k){return p.call(k,0)};try{g=C(A.document.childNodes)instanceof Array}catch{}g||(C=function(k){for(var U=new Array(k.length),N=k.length;N--;)U[N]=k[N];return U});function f(k,U){var N=A.document.createElement(k);for(var z in U)z==="class"?N.className=U[z]:z==="for"?N.htmlFor=U[z]:N.setAttribute(z,U[z]);return N}function d(k,U){k&&(" "+k.className+" ").indexOf(" "+U+" ")===-1&&(k.className+=(k.className?" ":"")+U)}function h(k,U,N){return typeof U=="string"&&(U=f(U,N)),k.parentNode&&k.parentNode.replaceChild(U,k),U.appendChild(k),U}function w(k){for(var U=0,N=0,z=A.document.documentElement,H=A.document.body||{scrollLeft:0,scrollTop:0};k&&(k.parentNode||k.host)&&(k=k.parentNode||k.host,k===A.document?(U=H.scrollLeft||z.scrollLeft||0,N=H.scrollTop||z.scrollTop||0):(U+=k.scrollLeft||0,N+=k.scrollTop||0),!(k.nodeType===1&&k.style.position==="fixed")););return{left:U,top:N}}function I(k){var U,N=k&&k.ownerDocument,z={left:0,top:0},H={left:0,top:0},X,ne={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!N)return H;for(var ie in ne)H[ne[ie]]+=parseInt(y(k,ie),10)||0;return U=N.documentElement,typeof k.getBoundingClientRect!="undefined"&&(z=k.getBoundingClientRect()),X=w(k),{left:z.left+X.left-(U.clientLeft||0)+H.left,top:z.top+X.top-(U.clientTop||0)+H.top}}var y;A.document.defaultView&&A.document.defaultView.getComputedStyle?y=function(k,U){var N=A.document.defaultView.getComputedStyle(k,null);return N?N[U]:void 0}:y=function(k,U){var N=k.style[U];return!N&&k.currentStyle&&(N=k.currentStyle[U]),N},function(){var k=A.document.documentElement.style,U="userSelect"in k?"userSelect":"MozUserSelect"in k?"MozUserSelect":"WebkitUserSelect"in k?"WebkitUserSelect":"KhtmlUserSelect"in k?"KhtmlUserSelect":"";function N(H){return typeof H.onselectstart!="undefined"&&(H.onselectstart=A.util.falseFunction),U?H.style[U]="none":typeof H.unselectable=="string"&&(H.unselectable="on"),H}function z(H){return typeof H.onselectstart!="undefined"&&(H.onselectstart=null),U?H.style[U]="":typeof H.unselectable=="string"&&(H.unselectable=""),H}A.util.makeElementUnselectable=N,A.util.makeElementSelectable=z}();function D(k){var U=A.jsdomImplForWrapper(k);return U._canvas||U._image}function F(k){if(!!A.isLikelyNode){var U=A.jsdomImplForWrapper(k);U&&(U._image=null,U._canvas=null,U._currentSrc=null,U._attributes=null,U._classList=null)}}function L(k,U){k.imageSmoothingEnabled=k.imageSmoothingEnabled||k.webkitImageSmoothingEnabled||k.mozImageSmoothingEnabled||k.msImageSmoothingEnabled||k.oImageSmoothingEnabled,k.imageSmoothingEnabled=U}A.util.setImageSmoothing=L,A.util.getById=u,A.util.toArray=C,A.util.addClass=d,A.util.makeElement=f,A.util.wrapElement=h,A.util.getScrollLeftTop=w,A.util.getElementOffset=I,A.util.getNodeCanvas=D,A.util.cleanUpJsdomNode=F}(),function(){function p(C,f){return C+(/\?/.test(C)?"&":"?")+f}function u(){}function g(C,f){f||(f={});var d=f.method?f.method.toUpperCase():"GET",h=f.onComplete||function(){},w=new A.window.XMLHttpRequest,I=f.body||f.parameters;return w.onreadystatechange=function(){w.readyState===4&&(h(w),w.onreadystatechange=u)},d==="GET"&&(I=null,typeof f.parameters=="string"&&(C=p(C,f.parameters))),w.open(d,C,!0),(d==="POST"||d==="PUT")&&w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w.send(I),w}A.util.request=g}(),A.log=console.log,A.warn=console.warn,function(){function p(){return!1}function u(w,I,y,D){return-y*Math.cos(w/D*(Math.PI/2))+y+I}function g(w){var I=!1;return d(function(y){w||(w={});var D=y||+new Date,F=w.duration||500,L=D+F,k,U=w.onChange||p,N=w.abort||p,z=w.onComplete||p,H=w.easing||u,X="startValue"in w?w.startValue:0,ne="endValue"in w?w.endValue:100,ie=w.byValue||ne-X;w.onStart&&w.onStart(),function he(le){k=le||+new Date;var Ae=k>L?F:k-D,R=Ae/F,re=H(Ae,X,ie,F),ee=Math.abs((re-X)/ie);if(!I){if(N(re,ee,R)){z(ne,1,1);return}if(k>L){U(ne,1,1),z(ne,1,1);return}else U(re,ee,R),d(he)}}(D)}),function(){I=!0}}var C=A.window.requestAnimationFrame||A.window.webkitRequestAnimationFrame||A.window.mozRequestAnimationFrame||A.window.oRequestAnimationFrame||A.window.msRequestAnimationFrame||function(w){return A.window.setTimeout(w,1e3/60)},f=A.window.cancelAnimationFrame||A.window.clearTimeout;function d(){return C.apply(A.window,arguments)}function h(){return f.apply(A.window,arguments)}A.util.animate=g,A.util.requestAnimFrame=d,A.util.cancelAnimFrame=h}(),function(){function p(g,C,f){var d="rgba("+parseInt(g[0]+f*(C[0]-g[0]),10)+","+parseInt(g[1]+f*(C[1]-g[1]),10)+","+parseInt(g[2]+f*(C[2]-g[2]),10);return d+=","+(g&&C?parseFloat(g[3]+f*(C[3]-g[3])):1),d+=")",d}function u(g,C,f,d){var h=new A.Color(g).getSource(),w=new A.Color(C).getSource(),I=d.onComplete,y=d.onChange;return d=d||{},A.util.animate(A.util.object.extend(d,{duration:f||500,startValue:h,endValue:w,byValue:w,easing:function(D,F,L,k){var U=d.colorEasing?d.colorEasing(D,k):1-Math.cos(D/k*(Math.PI/2));return p(F,L,U)},onComplete:function(D,F,L){if(I)return I(p(w,w,0),F,L)},onChange:function(D,F,L){if(y){if(Array.isArray(D))return y(p(D,D,0),F,L);y(D,F,L)}}}))}A.util.animateColor=u}(),function(){function p(Z,J,q,Y){return Z<Math.abs(J)?(Z=J,Y=q/4):J===0&&Z===0?Y=q/(2*Math.PI)*Math.asin(1):Y=q/(2*Math.PI)*Math.asin(J/Z),{a:Z,c:J,p:q,s:Y}}function u(Z,J,q){return Z.a*Math.pow(2,10*(J-=1))*Math.sin((J*q-Z.s)*(2*Math.PI)/Z.p)}function g(Z,J,q,Y){return q*((Z=Z/Y-1)*Z*Z+1)+J}function C(Z,J,q,Y){return Z/=Y/2,Z<1?q/2*Z*Z*Z+J:q/2*((Z-=2)*Z*Z+2)+J}function f(Z,J,q,Y){return q*(Z/=Y)*Z*Z*Z+J}function d(Z,J,q,Y){return-q*((Z=Z/Y-1)*Z*Z*Z-1)+J}function h(Z,J,q,Y){return Z/=Y/2,Z<1?q/2*Z*Z*Z*Z+J:-q/2*((Z-=2)*Z*Z*Z-2)+J}function w(Z,J,q,Y){return q*(Z/=Y)*Z*Z*Z*Z+J}function I(Z,J,q,Y){return q*((Z=Z/Y-1)*Z*Z*Z*Z+1)+J}function y(Z,J,q,Y){return Z/=Y/2,Z<1?q/2*Z*Z*Z*Z*Z+J:q/2*((Z-=2)*Z*Z*Z*Z+2)+J}function D(Z,J,q,Y){return-q*Math.cos(Z/Y*(Math.PI/2))+q+J}function F(Z,J,q,Y){return q*Math.sin(Z/Y*(Math.PI/2))+J}function L(Z,J,q,Y){return-q/2*(Math.cos(Math.PI*Z/Y)-1)+J}function k(Z,J,q,Y){return Z===0?J:q*Math.pow(2,10*(Z/Y-1))+J}function U(Z,J,q,Y){return Z===Y?J+q:q*(-Math.pow(2,-10*Z/Y)+1)+J}function N(Z,J,q,Y){return Z===0?J:Z===Y?J+q:(Z/=Y/2,Z<1?q/2*Math.pow(2,10*(Z-1))+J:q/2*(-Math.pow(2,-10*--Z)+2)+J)}function z(Z,J,q,Y){return-q*(Math.sqrt(1-(Z/=Y)*Z)-1)+J}function H(Z,J,q,Y){return q*Math.sqrt(1-(Z=Z/Y-1)*Z)+J}function X(Z,J,q,Y){return Z/=Y/2,Z<1?-q/2*(Math.sqrt(1-Z*Z)-1)+J:q/2*(Math.sqrt(1-(Z-=2)*Z)+1)+J}function ne(Z,J,q,Y){var te=1.70158,V=0,K=q;if(Z===0)return J;if(Z/=Y,Z===1)return J+q;V||(V=Y*.3);var $=p(K,q,V,te);return-u($,Z,Y)+J}function ie(Z,J,q,Y){var te=1.70158,V=0,K=q;if(Z===0)return J;if(Z/=Y,Z===1)return J+q;V||(V=Y*.3);var $=p(K,q,V,te);return $.a*Math.pow(2,-10*Z)*Math.sin((Z*Y-$.s)*(2*Math.PI)/$.p)+$.c+J}function he(Z,J,q,Y){var te=1.70158,V=0,K=q;if(Z===0)return J;if(Z/=Y/2,Z===2)return J+q;V||(V=Y*.44999999999999996);var $=p(K,q,V,te);return Z<1?-.5*u($,Z,Y)+J:$.a*Math.pow(2,-10*(Z-=1))*Math.sin((Z*Y-$.s)*(2*Math.PI)/$.p)*.5+$.c+J}function le(Z,J,q,Y,te){return te===void 0&&(te=1.70158),q*(Z/=Y)*Z*((te+1)*Z-te)+J}function Ae(Z,J,q,Y,te){return te===void 0&&(te=1.70158),q*((Z=Z/Y-1)*Z*((te+1)*Z+te)+1)+J}function R(Z,J,q,Y,te){return te===void 0&&(te=1.70158),Z/=Y/2,Z<1?q/2*(Z*Z*(((te*=1.525)+1)*Z-te))+J:q/2*((Z-=2)*Z*(((te*=1.525)+1)*Z+te)+2)+J}function re(Z,J,q,Y){return q-ee(Y-Z,0,q,Y)+J}function ee(Z,J,q,Y){return(Z/=Y)<.36363636363636365?q*(7.5625*Z*Z)+J:Z<.7272727272727273?q*(7.5625*(Z-=.5454545454545454)*Z+.75)+J:Z<.9090909090909091?q*(7.5625*(Z-=.8181818181818182)*Z+.9375)+J:q*(7.5625*(Z-=.9545454545454546)*Z+.984375)+J}function oe(Z,J,q,Y){return Z<Y/2?re(Z*2,0,q,Y)*.5+J:ee(Z*2-Y,0,q,Y)*.5+q*.5+J}A.util.ease={easeInQuad:function(Z,J,q,Y){return q*(Z/=Y)*Z+J},easeOutQuad:function(Z,J,q,Y){return-q*(Z/=Y)*(Z-2)+J},easeInOutQuad:function(Z,J,q,Y){return Z/=Y/2,Z<1?q/2*Z*Z+J:-q/2*(--Z*(Z-2)-1)+J},easeInCubic:function(Z,J,q,Y){return q*(Z/=Y)*Z*Z+J},easeOutCubic:g,easeInOutCubic:C,easeInQuart:f,easeOutQuart:d,easeInOutQuart:h,easeInQuint:w,easeOutQuint:I,easeInOutQuint:y,easeInSine:D,easeOutSine:F,easeInOutSine:L,easeInExpo:k,easeOutExpo:U,easeInOutExpo:N,easeInCirc:z,easeOutCirc:H,easeInOutCirc:X,easeInElastic:ne,easeOutElastic:ie,easeInOutElastic:he,easeInBack:le,easeOutBack:Ae,easeInOutBack:R,easeInBounce:re,easeOutBounce:ee,easeInOutBounce:oe}}(),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend,C=u.util.object.clone,f=u.util.toFixed,d=u.util.parseUnit,h=u.util.multiplyTransformMatrices,w=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],I=["symbol","image","marker","pattern","view","svg"],y=["pattern","defs","symbol","metadata","clipPath","mask","desc"],D=["symbol","g","a","svg","clipPath","defs"],F={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},L={stroke:"strokeOpacity",fill:"fillOpacity"},k="font-size",U="clip-path";u.svgValidTagNamesRegEx=H(w),u.svgViewBoxElementsRegEx=H(I),u.svgInvalidAncestorsRegEx=H(y),u.svgValidParentsRegEx=H(D),u.cssRules={},u.gradientDefs={},u.clipPaths={};function N(V){return V in F?F[V]:V}function z(V,K,$,se){var pe=Object.prototype.toString.call(K)==="[object Array]",ue;if((V==="fill"||V==="stroke")&&K==="none")K="";else{if(V==="strokeUniform")return K==="non-scaling-stroke";if(V==="strokeDashArray")K==="none"?K=null:K=K.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(V==="transformMatrix")$&&$.transformMatrix?K=h($.transformMatrix,u.parseTransformAttribute(K)):K=u.parseTransformAttribute(K);else if(V==="visible")K=K!=="none"&&K!=="hidden",$&&$.visible===!1&&(K=!1);else if(V==="opacity")K=parseFloat(K),$&&typeof $.opacity!="undefined"&&(K*=$.opacity);else if(V==="textAnchor")K=K==="start"?"left":K==="end"?"right":"center";else if(V==="charSpacing")ue=d(K,se)/se*1e3;else if(V==="paintFirst"){var ye=K.indexOf("fill"),we=K.indexOf("stroke"),K="fill";(ye>-1&&we>-1&&we<ye||ye===-1&&we>-1)&&(K="stroke")}else{if(V==="href"||V==="xlink:href"||V==="font")return K;if(V==="imageSmoothing")return K==="optimizeQuality";ue=pe?K.map(d):d(K,se)}}return!pe&&isNaN(ue)?K:ue}function H(V){return new RegExp("^("+V.join("|")+")\\b","i")}function X(V){for(var K in L)if(!(typeof V[L[K]]=="undefined"||V[K]==="")){if(typeof V[K]=="undefined"){if(!u.Object.prototype[K])continue;V[K]=u.Object.prototype[K]}if(V[K].indexOf("url(")!==0){var $=new u.Color(V[K]);V[K]=$.setAlpha(f($.getAlpha()*V[L[K]],2)).toRgba()}}return V}function ne(V,K){var $,se=[],pe,ue,ye;for(ue=0,ye=K.length;ue<ye;ue++)$=K[ue],pe=V.getElementsByTagName($),se=se.concat(Array.prototype.slice.call(pe));return se}u.parseTransformAttribute=function(){function V(Ie,Ge){var Xe=u.util.cos(Ge[0]),rt=u.util.sin(Ge[0]),vt=0,Ct=0;Ge.length===3&&(vt=Ge[1],Ct=Ge[2]),Ie[0]=Xe,Ie[1]=rt,Ie[2]=-rt,Ie[3]=Xe,Ie[4]=vt-(Xe*vt-rt*Ct),Ie[5]=Ct-(rt*vt+Xe*Ct)}function K(Ie,Ge){var Xe=Ge[0],rt=Ge.length===2?Ge[1]:Ge[0];Ie[0]=Xe,Ie[3]=rt}function $(Ie,Ge,Xe){Ie[Xe]=Math.tan(u.util.degreesToRadians(Ge[0]))}function se(Ie,Ge){Ie[4]=Ge[0],Ge.length===2&&(Ie[5]=Ge[1])}var pe=u.iMatrix,ue=u.reNum,ye=u.commaWsp,we="(?:(skewX)\\s*\\(\\s*("+ue+")\\s*\\))",Ee="(?:(skewY)\\s*\\(\\s*("+ue+")\\s*\\))",me="(?:(rotate)\\s*\\(\\s*("+ue+")(?:"+ye+"("+ue+")"+ye+"("+ue+"))?\\s*\\))",fe="(?:(scale)\\s*\\(\\s*("+ue+")(?:"+ye+"("+ue+"))?\\s*\\))",de="(?:(translate)\\s*\\(\\s*("+ue+")(?:"+ye+"("+ue+"))?\\s*\\))",ve="(?:(matrix)\\s*\\(\\s*("+ue+")"+ye+"("+ue+")"+ye+"("+ue+")"+ye+"("+ue+")"+ye+"("+ue+")"+ye+"("+ue+")\\s*\\))",Ce="(?:"+ve+"|"+de+"|"+fe+"|"+me+"|"+we+"|"+Ee+")",xe="(?:"+Ce+"(?:"+ye+"*"+Ce+")*)",De="^\\s*(?:"+xe+"?)\\s*$",Re=new RegExp(De),je=new RegExp(Ce,"g");return function(Ie){var Ge=pe.concat(),Xe=[];if(!Ie||Ie&&!Re.test(Ie))return Ge;Ie.replace(je,function(vt){var Ct=new RegExp(Ce).exec(vt).filter(function(_t){return!!_t}),Dt=Ct[1],ft=Ct.slice(2).map(parseFloat);switch(Dt){case"translate":se(Ge,ft);break;case"rotate":ft[0]=u.util.degreesToRadians(ft[0]),V(Ge,ft);break;case"scale":K(Ge,ft);break;case"skewX":$(Ge,ft,2);break;case"skewY":$(Ge,ft,1);break;case"matrix":Ge=ft;break}Xe.push(Ge.concat()),Ge=pe.concat()});for(var rt=Xe[0];Xe.length>1;)Xe.shift(),rt=u.util.multiplyTransformMatrices(rt,Xe[0]);return rt}}();function ie(V,K){var $,se;V.replace(/;\s*$/,"").split(";").forEach(function(pe){var ue=pe.split(":");$=ue[0].trim().toLowerCase(),se=ue[1].trim(),K[$]=se})}function he(V,K){var $,se;for(var pe in V)typeof V[pe]!="undefined"&&($=pe.toLowerCase(),se=V[pe],K[$]=se)}function le(V,K){var $={};for(var se in u.cssRules[K])if(Ae(V,se.split(" ")))for(var pe in u.cssRules[K][se])$[pe]=u.cssRules[K][se][pe];return $}function Ae(V,K){var $,se=!0;return $=re(V,K.pop()),$&&K.length&&(se=R(V,K)),$&&se&&K.length===0}function R(V,K){for(var $,se=!0;V.parentNode&&V.parentNode.nodeType===1&&K.length;)se&&($=K.pop()),V=V.parentNode,se=re(V,$);return K.length===0}function re(V,K){var $=V.nodeName,se=V.getAttribute("class"),pe=V.getAttribute("id"),ue,ye;if(ue=new RegExp("^"+$,"i"),K=K.replace(ue,""),pe&&K.length&&(ue=new RegExp("#"+pe+"(?![a-zA-Z\\-]+)","i"),K=K.replace(ue,"")),se&&K.length)for(se=se.split(" "),ye=se.length;ye--;)ue=new RegExp("\\."+se[ye]+"(?![a-zA-Z\\-]+)","i"),K=K.replace(ue,"");return K.length===0}function ee(V,K){var $;if(V.getElementById&&($=V.getElementById(K)),$)return $;var se,pe,ue,ye=V.getElementsByTagName("*");for(pe=0,ue=ye.length;pe<ue;pe++)if(se=ye[pe],K===se.getAttribute("id"))return se}function oe(V){for(var K=ne(V,["use","svg:use"]),$=0;K.length&&$<K.length;){var se=K[$],pe=se.getAttribute("xlink:href")||se.getAttribute("href");if(pe===null)return;var ue=pe.substr(1),ye=se.getAttribute("x")||0,we=se.getAttribute("y")||0,Ee=ee(V,ue).cloneNode(!0),me=(Ee.getAttribute("transform")||"")+" translate("+ye+", "+we+")",fe,de=K.length,ve,Ce,xe,De,Re=u.svgNS;if(J(Ee),/^svg$/i.test(Ee.nodeName)){var je=Ee.ownerDocument.createElementNS(Re,"g");for(Ce=0,xe=Ee.attributes,De=xe.length;Ce<De;Ce++)ve=xe.item(Ce),je.setAttributeNS(Re,ve.nodeName,ve.nodeValue);for(;Ee.firstChild;)je.appendChild(Ee.firstChild);Ee=je}for(Ce=0,xe=se.attributes,De=xe.length;Ce<De;Ce++)ve=xe.item(Ce),!(ve.nodeName==="x"||ve.nodeName==="y"||ve.nodeName==="xlink:href"||ve.nodeName==="href")&&(ve.nodeName==="transform"?me=ve.nodeValue+" "+me:Ee.setAttribute(ve.nodeName,ve.nodeValue));Ee.setAttribute("transform",me),Ee.setAttribute("instantiated_by_use","1"),Ee.removeAttribute("id"),fe=se.parentNode,fe.replaceChild(Ee,se),K.length===de&&$++}}var Z=new RegExp("^\\s*("+u.reNum+"+)\\s*,?\\s*("+u.reNum+"+)\\s*,?\\s*("+u.reNum+"+)\\s*,?\\s*("+u.reNum+"+)\\s*$");function J(V){if(!u.svgViewBoxElementsRegEx.test(V.nodeName))return{};var K=V.getAttribute("viewBox"),$=1,se=1,pe=0,ue=0,ye,we,Ee,me,fe=V.getAttribute("width"),de=V.getAttribute("height"),ve=V.getAttribute("x")||0,Ce=V.getAttribute("y")||0,xe=V.getAttribute("preserveAspectRatio")||"",De=!K||!(K=K.match(Z)),Re=!fe||!de||fe==="100%"||de==="100%",je=De&&Re,Ie={},Ge="",Xe=0,rt=0;if(Ie.width=0,Ie.height=0,Ie.toBeParsed=je,De&&(ve||Ce)&&V.parentNode&&V.parentNode.nodeName!=="#document"&&(Ge=" translate("+d(ve)+" "+d(Ce)+") ",Ee=(V.getAttribute("transform")||"")+Ge,V.setAttribute("transform",Ee),V.removeAttribute("x"),V.removeAttribute("y")),je)return Ie;if(De)return Ie.width=d(fe),Ie.height=d(de),Ie;if(pe=-parseFloat(K[1]),ue=-parseFloat(K[2]),ye=parseFloat(K[3]),we=parseFloat(K[4]),Ie.minX=pe,Ie.minY=ue,Ie.viewBoxWidth=ye,Ie.viewBoxHeight=we,Re?(Ie.width=ye,Ie.height=we):(Ie.width=d(fe),Ie.height=d(de),$=Ie.width/ye,se=Ie.height/we),xe=u.util.parsePreserveAspectRatioAttribute(xe),xe.alignX!=="none"&&(xe.meetOrSlice==="meet"&&(se=$=$>se?se:$),xe.meetOrSlice==="slice"&&(se=$=$>se?$:se),Xe=Ie.width-ye*$,rt=Ie.height-we*$,xe.alignX==="Mid"&&(Xe/=2),xe.alignY==="Mid"&&(rt/=2),xe.alignX==="Min"&&(Xe=0),xe.alignY==="Min"&&(rt=0)),$===1&&se===1&&pe===0&&ue===0&&ve===0&&Ce===0)return Ie;if((ve||Ce)&&V.parentNode.nodeName!=="#document"&&(Ge=" translate("+d(ve)+" "+d(Ce)+") "),Ee=Ge+" matrix("+$+" 0 0 "+se+" "+(pe*$+Xe)+" "+(ue*se+rt)+") ",V.nodeName==="svg"){for(me=V.ownerDocument.createElementNS(u.svgNS,"g");V.firstChild;)me.appendChild(V.firstChild);V.appendChild(me)}else me=V,me.removeAttribute("x"),me.removeAttribute("y"),Ee=me.getAttribute("transform")+Ee;return me.setAttribute("transform",Ee),Ie}function q(V,K){for(;V&&(V=V.parentNode);)if(V.nodeName&&K.test(V.nodeName.replace("svg:",""))&&!V.getAttribute("instantiated_by_use"))return!0;return!1}u.parseSVGDocument=function(V,K,$,se){if(!!V){oe(V);var pe=u.Object.__uid++,ue,ye,we=J(V),Ee=u.util.toArray(V.getElementsByTagName("*"));if(we.crossOrigin=se&&se.crossOrigin,we.svgUid=pe,Ee.length===0&&u.isLikelyNode){Ee=V.selectNodes('//*[name(.)!="svg"]');var me=[];for(ue=0,ye=Ee.length;ue<ye;ue++)me[ue]=Ee[ue];Ee=me}var fe=Ee.filter(function(ve){return J(ve),u.svgValidTagNamesRegEx.test(ve.nodeName.replace("svg:",""))&&!q(ve,u.svgInvalidAncestorsRegEx)});if(!fe||fe&&!fe.length){K&&K([],{});return}var de={};Ee.filter(function(ve){return ve.nodeName.replace("svg:","")==="clipPath"}).forEach(function(ve){var Ce=ve.getAttribute("id");de[Ce]=u.util.toArray(ve.getElementsByTagName("*")).filter(function(xe){return u.svgValidTagNamesRegEx.test(xe.nodeName.replace("svg:",""))})}),u.gradientDefs[pe]=u.getGradientDefs(V),u.cssRules[pe]=u.getCSSRules(V),u.clipPaths[pe]=de,u.parseElements(fe,function(ve,Ce){K&&(K(ve,we,Ce,Ee),delete u.gradientDefs[pe],delete u.cssRules[pe],delete u.clipPaths[pe])},C(we),$,se)}};function Y(V,K){var $=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],se="xlink:href",pe=K.getAttribute(se).substr(1),ue=ee(V,pe);if(ue&&ue.getAttribute(se)&&Y(V,ue),$.forEach(function(we){ue&&!K.hasAttribute(we)&&ue.hasAttribute(we)&&K.setAttribute(we,ue.getAttribute(we))}),!K.children.length)for(var ye=ue.cloneNode(!0);ye.firstChild;)K.appendChild(ye.firstChild);K.removeAttribute(se)}var te=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+u.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+u.reNum+"))?\\s+(.*)");g(u,{parseFontDeclaration:function(V,K){var $=V.match(te);if(!!$){var se=$[1],pe=$[3],ue=$[4],ye=$[5],we=$[6];se&&(K.fontStyle=se),pe&&(K.fontWeight=isNaN(parseFloat(pe))?pe:parseFloat(pe)),ue&&(K.fontSize=d(ue)),we&&(K.fontFamily=we),ye&&(K.lineHeight=ye==="normal"?1:ye)}},getGradientDefs:function(V){var K=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],$=ne(V,K),se,pe=0,ue={};for(pe=$.length;pe--;)se=$[pe],se.getAttribute("xlink:href")&&Y(V,se),ue[se.getAttribute("id")]=se;return ue},parseAttributes:function(V,K,$){if(!!V){var se,pe={},ue,ye;typeof $=="undefined"&&($=V.getAttribute("svgUid")),V.parentNode&&u.svgValidParentsRegEx.test(V.parentNode.nodeName)&&(pe=u.parseAttributes(V.parentNode,K,$));var we=K.reduce(function(xe,De){return se=V.getAttribute(De),se&&(xe[De]=se),xe},{}),Ee=g(le(V,$),u.parseStyleAttribute(V));we=g(we,Ee),Ee[U]&&V.setAttribute(U,Ee[U]),ue=ye=pe.fontSize||u.Text.DEFAULT_SVG_FONT_SIZE,we[k]&&(we[k]=ue=d(we[k],ye));var me,fe,de={};for(var ve in we)me=N(ve),fe=z(me,we[ve],pe,ue),de[me]=fe;de&&de.font&&u.parseFontDeclaration(de.font,de);var Ce=g(pe,de);return u.svgValidParentsRegEx.test(V.nodeName)?Ce:X(Ce)}},parseElements:function(V,K,$,se,pe){new u.ElementsParser(V,K,$,se,pe).parse()},parseStyleAttribute:function(V){var K={},$=V.getAttribute("style");return $&&(typeof $=="string"?ie($,K):he($,K)),K},parsePointsAttribute:function(V){if(!V)return null;V=V.replace(/,/g," ").trim(),V=V.split(/\s+/);var K=[],$,se;for($=0,se=V.length;$<se;$+=2)K.push({x:parseFloat(V[$]),y:parseFloat(V[$+1])});return K},getCSSRules:function(V){var K=V.getElementsByTagName("style"),$,se,pe={},ue;for($=0,se=K.length;$<se;$++){var ye=K[$].textContent;ye=ye.replace(/\/\*[\s\S]*?\*\//g,""),ye.trim()!==""&&(ue=ye.match(/[^{]*\{[\s\S]*?\}/g),ue=ue.map(function(we){return we.trim()}),ue.forEach(function(we){var Ee=we.match(/([\s\S]*?)\s*\{([^}]*)\}/),me={},fe=Ee[2].trim(),de=fe.replace(/;$/,"").split(/\s*;\s*/);for($=0,se=de.length;$<se;$++){var ve=de[$].split(/\s*:\s*/),Ce=ve[0],xe=ve[1];me[Ce]=xe}we=Ee[1],we.split(",").forEach(function(De){De=De.replace(/^svg/i,"").trim(),De!==""&&(pe[De]?u.util.object.extend(pe[De],me):pe[De]=u.util.object.clone(me))})}))}return pe},loadSVGFromURL:function(V,K,$,se){V=V.replace(/^\n\s*/,"").trim(),new u.util.request(V,{method:"get",onComplete:pe});function pe(ue){var ye=ue.responseXML;if(!ye||!ye.documentElement)return K&&K(null),!1;u.parseSVGDocument(ye.documentElement,function(we,Ee,me,fe){K&&K(we,Ee,me,fe)},$,se)}},loadSVGFromString:function(V,K,$,se){var pe=new u.window.DOMParser,ue=pe.parseFromString(V.trim(),"text/xml");u.parseSVGDocument(ue.documentElement,function(ye,we,Ee,me){K(ye,we,Ee,me)},$,se)}})}(c),A.ElementsParser=function(p,u,g,C,f,d){this.elements=p,this.callback=u,this.options=g,this.reviver=C,this.svgUid=g&&g.svgUid||0,this.parsingOptions=f,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=d},function(p){p.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},p.createObjects=function(){var u=this;this.elements.forEach(function(g,C){g.setAttribute("svgUid",u.svgUid),u.createObject(g,C)})},p.findTag=function(u){return A[A.util.string.capitalize(u.tagName.replace("svg:",""))]},p.createObject=function(u,g){var C=this.findTag(u);if(C&&C.fromElement)try{C.fromElement(u,this.createCallback(g,u),this.options)}catch(f){A.log(f)}else this.checkIfDone()},p.createCallback=function(u,g){var C=this;return function(f){var d;C.resolveGradient(f,g,"fill"),C.resolveGradient(f,g,"stroke"),f instanceof A.Image&&f._originalElement&&(d=f.parsePreserveAspectRatioAttribute(g)),f._removeTransformMatrix(d),C.resolveClipPath(f,g),C.reviver&&C.reviver(g,f),C.instances[u]=f,C.checkIfDone()}},p.extractPropertyDefinition=function(u,g,C){var f=u[g],d=this.regexUrl;if(!!d.test(f)){d.lastIndex=0;var h=d.exec(f)[1];return d.lastIndex=0,A[C][this.svgUid][h]}},p.resolveGradient=function(u,g,C){var f=this.extractPropertyDefinition(u,C,"gradientDefs");if(f){var d=g.getAttribute(C+"-opacity"),h=A.Gradient.fromElement(f,u,d,this.options);u.set(C,h)}},p.createClipPathCallback=function(u,g){return function(C){C._removeTransformMatrix(),C.fillRule=C.clipRule,g.push(C)}},p.resolveClipPath=function(u,g){var C=this.extractPropertyDefinition(u,"clipPath","clipPaths"),f,d,h,w,I,y;if(C){w=[],h=A.util.invertTransform(u.calcTransformMatrix());for(var D=C[0].parentNode,F=g;F.parentNode&&F.getAttribute("clip-path")!==u.clipPath;)F=F.parentNode;F.parentNode.appendChild(D);for(var L=0;L<C.length;L++)f=C[L],d=this.findTag(f),d.fromElement(f,this.createClipPathCallback(u,w),this.options);w.length===1?C=w[0]:C=new A.Group(w),I=A.util.multiplyTransformMatrices(h,C.calcTransformMatrix()),C.clipPath&&this.resolveClipPath(C,F);var y=A.util.qrDecompose(I);C.flipX=!1,C.flipY=!1,C.set("scaleX",y.scaleX),C.set("scaleY",y.scaleY),C.angle=y.angle,C.skewX=y.skewX,C.skewY=0,C.setPositionByOrigin({x:y.translateX,y:y.translateY},"center","center"),u.clipPath=C}else delete u.clipPath},p.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(u){return u!=null}),this.callback(this.instances,this.elements))}}(A.ElementsParser.prototype),function(p){var u=p.fabric||(p.fabric={});if(u.Point){u.warn("fabric.Point is already defined");return}u.Point=g;function g(C,f){this.x=C,this.y=f}g.prototype={type:"point",constructor:g,add:function(C){return new g(this.x+C.x,this.y+C.y)},addEquals:function(C){return this.x+=C.x,this.y+=C.y,this},scalarAdd:function(C){return new g(this.x+C,this.y+C)},scalarAddEquals:function(C){return this.x+=C,this.y+=C,this},subtract:function(C){return new g(this.x-C.x,this.y-C.y)},subtractEquals:function(C){return this.x-=C.x,this.y-=C.y,this},scalarSubtract:function(C){return new g(this.x-C,this.y-C)},scalarSubtractEquals:function(C){return this.x-=C,this.y-=C,this},multiply:function(C){return new g(this.x*C,this.y*C)},multiplyEquals:function(C){return this.x*=C,this.y*=C,this},divide:function(C){return new g(this.x/C,this.y/C)},divideEquals:function(C){return this.x/=C,this.y/=C,this},eq:function(C){return this.x===C.x&&this.y===C.y},lt:function(C){return this.x<C.x&&this.y<C.y},lte:function(C){return this.x<=C.x&&this.y<=C.y},gt:function(C){return this.x>C.x&&this.y>C.y},gte:function(C){return this.x>=C.x&&this.y>=C.y},lerp:function(C,f){return typeof f=="undefined"&&(f=.5),f=Math.max(Math.min(1,f),0),new g(this.x+(C.x-this.x)*f,this.y+(C.y-this.y)*f)},distanceFrom:function(C){var f=this.x-C.x,d=this.y-C.y;return Math.sqrt(f*f+d*d)},midPointFrom:function(C){return this.lerp(C)},min:function(C){return new g(Math.min(this.x,C.x),Math.min(this.y,C.y))},max:function(C){return new g(Math.max(this.x,C.x),Math.max(this.y,C.y))},toString:function(){return this.x+","+this.y},setXY:function(C,f){return this.x=C,this.y=f,this},setX:function(C){return this.x=C,this},setY:function(C){return this.y=C,this},setFromPoint:function(C){return this.x=C.x,this.y=C.y,this},swap:function(C){var f=this.x,d=this.y;this.x=C.x,this.y=C.y,C.x=f,C.y=d},clone:function(){return new g(this.x,this.y)}}}(c),function(p){var u=p.fabric||(p.fabric={});if(u.Intersection){u.warn("fabric.Intersection is already defined");return}function g(C){this.status=C,this.points=[]}u.Intersection=g,u.Intersection.prototype={constructor:g,appendPoint:function(C){return this.points.push(C),this},appendPoints:function(C){return this.points=this.points.concat(C),this}},u.Intersection.intersectLineLine=function(C,f,d,h){var w,I=(h.x-d.x)*(C.y-d.y)-(h.y-d.y)*(C.x-d.x),y=(f.x-C.x)*(C.y-d.y)-(f.y-C.y)*(C.x-d.x),D=(h.y-d.y)*(f.x-C.x)-(h.x-d.x)*(f.y-C.y);if(D!==0){var F=I/D,L=y/D;0<=F&&F<=1&&0<=L&&L<=1?(w=new g("Intersection"),w.appendPoint(new u.Point(C.x+F*(f.x-C.x),C.y+F*(f.y-C.y)))):w=new g}else I===0||y===0?w=new g("Coincident"):w=new g("Parallel");return w},u.Intersection.intersectLinePolygon=function(C,f,d){var h=new g,w=d.length,I,y,D,F;for(F=0;F<w;F++)I=d[F],y=d[(F+1)%w],D=g.intersectLineLine(C,f,I,y),h.appendPoints(D.points);return h.points.length>0&&(h.status="Intersection"),h},u.Intersection.intersectPolygonPolygon=function(C,f){var d=new g,h=C.length,w;for(w=0;w<h;w++){var I=C[w],y=C[(w+1)%h],D=g.intersectLinePolygon(I,y,f);d.appendPoints(D.points)}return d.points.length>0&&(d.status="Intersection"),d},u.Intersection.intersectPolygonRectangle=function(C,f,d){var h=f.min(d),w=f.max(d),I=new u.Point(w.x,h.y),y=new u.Point(h.x,w.y),D=g.intersectLinePolygon(h,I,C),F=g.intersectLinePolygon(I,w,C),L=g.intersectLinePolygon(w,y,C),k=g.intersectLinePolygon(y,h,C),U=new g;return U.appendPoints(D.points),U.appendPoints(F.points),U.appendPoints(L.points),U.appendPoints(k.points),U.points.length>0&&(U.status="Intersection"),U}}(c),function(p){var u=p.fabric||(p.fabric={});if(u.Color){u.warn("fabric.Color is already defined.");return}function g(f){f?this._tryParsingColor(f):this.setSource([0,0,0,1])}u.Color=g,u.Color.prototype={_tryParsingColor:function(f){var d;f in g.colorNameMap&&(f=g.colorNameMap[f]),f==="transparent"&&(d=[255,255,255,0]),d||(d=g.sourceFromHex(f)),d||(d=g.sourceFromRgb(f)),d||(d=g.sourceFromHsl(f)),d||(d=[0,0,0,1]),d&&this.setSource(d)},_rgbToHsl:function(f,d,h){f/=255,d/=255,h/=255;var w,I,y,D=u.util.array.max([f,d,h]),F=u.util.array.min([f,d,h]);if(y=(D+F)/2,D===F)w=I=0;else{var L=D-F;switch(I=y>.5?L/(2-D-F):L/(D+F),D){case f:w=(d-h)/L+(d<h?6:0);break;case d:w=(h-f)/L+2;break;case h:w=(f-d)/L+4;break}w/=6}return[Math.round(w*360),Math.round(I*100),Math.round(y*100)]},getSource:function(){return this._source},setSource:function(f){this._source=f},toRgb:function(){var f=this.getSource();return"rgb("+f[0]+","+f[1]+","+f[2]+")"},toRgba:function(){var f=this.getSource();return"rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+")"},toHsl:function(){var f=this.getSource(),d=this._rgbToHsl(f[0],f[1],f[2]);return"hsl("+d[0]+","+d[1]+"%,"+d[2]+"%)"},toHsla:function(){var f=this.getSource(),d=this._rgbToHsl(f[0],f[1],f[2]);return"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+f[3]+")"},toHex:function(){var f=this.getSource(),d,h,w;return d=f[0].toString(16),d=d.length===1?"0"+d:d,h=f[1].toString(16),h=h.length===1?"0"+h:h,w=f[2].toString(16),w=w.length===1?"0"+w:w,d.toUpperCase()+h.toUpperCase()+w.toUpperCase()},toHexa:function(){var f=this.getSource(),d;return d=Math.round(f[3]*255),d=d.toString(16),d=d.length===1?"0"+d:d,this.toHex()+d.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(f){var d=this.getSource();return d[3]=f,this.setSource(d),this},toGrayscale:function(){var f=this.getSource(),d=parseInt((f[0]*.3+f[1]*.59+f[2]*.11).toFixed(0),10),h=f[3];return this.setSource([d,d,d,h]),this},toBlackWhite:function(f){var d=this.getSource(),h=(d[0]*.3+d[1]*.59+d[2]*.11).toFixed(0),w=d[3];return f=f||127,h=Number(h)<Number(f)?0:255,this.setSource([h,h,h,w]),this},overlayWith:function(f){f instanceof g||(f=new g(f));var d=[],h=this.getAlpha(),w=.5,I=this.getSource(),y=f.getSource(),D;for(D=0;D<3;D++)d.push(Math.round(I[D]*(1-w)+y[D]*w));return d[3]=h,this.setSource(d),this}},u.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,u.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,u.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,u.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function C(f,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?f+(d-f)*6*h:h<.5?d:h<.6666666666666666?f+(d-f)*(.6666666666666666-h)*6:f}u.Color.fromRgb=function(f){return g.fromSource(g.sourceFromRgb(f))},u.Color.sourceFromRgb=function(f){var d=f.match(g.reRGBa);if(d){var h=parseInt(d[1],10)/(/%$/.test(d[1])?100:1)*(/%$/.test(d[1])?255:1),w=parseInt(d[2],10)/(/%$/.test(d[2])?100:1)*(/%$/.test(d[2])?255:1),I=parseInt(d[3],10)/(/%$/.test(d[3])?100:1)*(/%$/.test(d[3])?255:1);return[parseInt(h,10),parseInt(w,10),parseInt(I,10),d[4]?parseFloat(d[4]):1]}},u.Color.fromRgba=g.fromRgb,u.Color.fromHsl=function(f){return g.fromSource(g.sourceFromHsl(f))},u.Color.sourceFromHsl=function(f){var d=f.match(g.reHSLa);if(!!d){var h=(parseFloat(d[1])%360+360)%360/360,w=parseFloat(d[2])/(/%$/.test(d[2])?100:1),I=parseFloat(d[3])/(/%$/.test(d[3])?100:1),y,D,F;if(w===0)y=D=F=I;else{var L=I<=.5?I*(w+1):I+w-I*w,k=I*2-L;y=C(k,L,h+.3333333333333333),D=C(k,L,h),F=C(k,L,h-.3333333333333333)}return[Math.round(y*255),Math.round(D*255),Math.round(F*255),d[4]?parseFloat(d[4]):1]}},u.Color.fromHsla=g.fromHsl,u.Color.fromHex=function(f){return g.fromSource(g.sourceFromHex(f))},u.Color.sourceFromHex=function(f){if(f.match(g.reHex)){var d=f.slice(f.indexOf("#")+1),h=d.length===3||d.length===4,w=d.length===8||d.length===4,I=h?d.charAt(0)+d.charAt(0):d.substring(0,2),y=h?d.charAt(1)+d.charAt(1):d.substring(2,4),D=h?d.charAt(2)+d.charAt(2):d.substring(4,6),F=w?h?d.charAt(3)+d.charAt(3):d.substring(6,8):"FF";return[parseInt(I,16),parseInt(y,16),parseInt(D,16),parseFloat((parseInt(F,16)/255).toFixed(2))]}},u.Color.fromSource=function(f){var d=new g;return d.setSource(f),d}}(c),function(p){var u=p.fabric||(p.fabric={}),g=["e","se","s","sw","w","nw","n","ne","e"],C=["ns","nesw","ew","nwse"],f={},d="left",h="top",w="right",I="bottom",y="center",D={top:I,bottom:h,left:w,right:d,center:y},F=u.util.radiansToDegrees,L=Math.sign||function(me){return(me>0)-(me<0)||+me};function k(me,fe){var de=me.angle+F(Math.atan2(fe.y,fe.x))+360;return Math.round(de%360/45)}function U(me,fe){var de=fe.transform.target,ve=de.canvas,Ce=u.util.object.clone(fe);Ce.target=de,ve&&ve.fire("object:"+me,Ce),de.fire(me,fe)}function N(me,fe){var de=fe.canvas,ve=de.uniScaleKey,Ce=me[ve];return de.uniformScaling&&!Ce||!de.uniformScaling&&Ce}function z(me){return me.originX===y&&me.originY===y}function H(me,fe,de){var ve=me.lockScalingX,Ce=me.lockScalingY;return!!(ve&&Ce||!fe&&(ve||Ce)&&de||ve&&fe==="x"||Ce&&fe==="y")}function X(me,fe,de){var ve="not-allowed",Ce=N(me,de),xe="";if(fe.x!==0&&fe.y===0?xe="x":fe.x===0&&fe.y!==0&&(xe="y"),H(de,xe,Ce))return ve;var De=k(de,fe);return g[De]+"-resize"}function ne(me,fe,de){var ve="not-allowed";if(fe.x!==0&&de.lockSkewingY||fe.y!==0&&de.lockSkewingX)return ve;var Ce=k(de,fe)%4;return C[Ce]+"-resize"}function ie(me,fe,de){return me[de.canvas.altActionKey]?f.skewCursorStyleHandler(me,fe,de):f.scaleCursorStyleHandler(me,fe,de)}function he(me,fe,de){var ve=me[de.canvas.altActionKey];if(fe.x===0)return ve?"skewX":"scaleY";if(fe.y===0)return ve?"skewY":"scaleX"}function le(me,fe,de){return de.lockRotation?"not-allowed":fe.cursorStyle}function Ae(me,fe,de,ve){return{e:me,transform:fe,pointer:{x:de,y:ve}}}function R(me){return function(fe,de,ve,Ce){var xe=de.target,De=xe.getCenterPoint(),Re=xe.translateToOriginPoint(De,de.originX,de.originY),je=me(fe,de,ve,Ce);return xe.setPositionByOrigin(Re,de.originX,de.originY),je}}function re(me,fe){return function(de,ve,Ce,xe){var De=fe(de,ve,Ce,xe);return De&&U(me,Ae(de,ve,Ce,xe)),De}}function ee(me,fe,de,ve,Ce){var xe=me.target,De=xe.controls[me.corner],Re=xe.canvas.getZoom(),je=xe.padding/Re,Ie=xe.toLocalPoint(new u.Point(ve,Ce),fe,de);return Ie.x>=je&&(Ie.x-=je),Ie.x<=-je&&(Ie.x+=je),Ie.y>=je&&(Ie.y-=je),Ie.y<=je&&(Ie.y+=je),Ie.x-=De.offsetX,Ie.y-=De.offsetY,Ie}function oe(me){return me.flipX!==me.flipY}function Z(me,fe,de,ve,Ce){if(me[fe]!==0){var xe=me._getTransformedDimensions()[ve],De=Ce/xe*me[de];me.set(de,De)}}function J(me,fe,de,ve){var Ce=fe.target,xe=Ce._getTransformedDimensions(0,Ce.skewY),De=ee(fe,fe.originX,fe.originY,de,ve),Re=Math.abs(De.x*2)-xe.x,je=Ce.skewX,Ie;Re<2?Ie=0:(Ie=F(Math.atan2(Re/Ce.scaleX,xe.y/Ce.scaleY)),fe.originX===d&&fe.originY===I&&(Ie=-Ie),fe.originX===w&&fe.originY===h&&(Ie=-Ie),oe(Ce)&&(Ie=-Ie));var Ge=je!==Ie;if(Ge){var Xe=Ce._getTransformedDimensions().y;Ce.set("skewX",Ie),Z(Ce,"skewY","scaleY","y",Xe)}return Ge}function q(me,fe,de,ve){var Ce=fe.target,xe=Ce._getTransformedDimensions(Ce.skewX,0),De=ee(fe,fe.originX,fe.originY,de,ve),Re=Math.abs(De.y*2)-xe.y,je=Ce.skewY,Ie;Re<2?Ie=0:(Ie=F(Math.atan2(Re/Ce.scaleY,xe.x/Ce.scaleX)),fe.originX===d&&fe.originY===I&&(Ie=-Ie),fe.originX===w&&fe.originY===h&&(Ie=-Ie),oe(Ce)&&(Ie=-Ie));var Ge=je!==Ie;if(Ge){var Xe=Ce._getTransformedDimensions().x;Ce.set("skewY",Ie),Z(Ce,"skewX","scaleX","x",Xe)}return Ge}function Y(me,fe,de,ve){var Ce=fe.target,xe=Ce.skewX,De,Re=fe.originY;if(Ce.lockSkewingX)return!1;if(xe===0){var je=ee(fe,y,y,de,ve);je.x>0?De=d:De=w}else xe>0&&(De=Re===h?d:w),xe<0&&(De=Re===h?w:d),oe(Ce)&&(De=De===d?w:d);fe.originX=De;var Ie=re("skewing",R(J));return Ie(me,fe,de,ve)}function te(me,fe,de,ve){var Ce=fe.target,xe=Ce.skewY,De,Re=fe.originX;if(Ce.lockSkewingY)return!1;if(xe===0){var je=ee(fe,y,y,de,ve);je.y>0?De=h:De=I}else xe>0&&(De=Re===d?h:I),xe<0&&(De=Re===d?I:h),oe(Ce)&&(De=De===h?I:h);fe.originY=De;var Ie=re("skewing",R(q));return Ie(me,fe,de,ve)}function V(me,fe,de,ve){var Ce=fe,xe=Ce.target,De=xe.translateToOriginPoint(xe.getCenterPoint(),Ce.originX,Ce.originY);if(xe.lockRotation)return!1;var Re=Math.atan2(Ce.ey-De.y,Ce.ex-De.x),je=Math.atan2(ve-De.y,de-De.x),Ie=F(je-Re+Ce.theta),Ge=!0;if(xe.snapAngle>0){var Xe=xe.snapAngle,rt=xe.snapThreshold||Xe,vt=Math.ceil(Ie/Xe)*Xe,Ct=Math.floor(Ie/Xe)*Xe;Math.abs(Ie-Ct)<rt?Ie=Ct:Math.abs(Ie-vt)<rt&&(Ie=vt)}return Ie<0&&(Ie=360+Ie),Ie%=360,Ge=xe.angle!==Ie,xe.angle=Ie,Ge}function K(me,fe,de,ve,Ce){Ce=Ce||{};var xe=fe.target,De=xe.lockScalingX,Re=xe.lockScalingY,je=Ce.by,Ie,Ge,Xe,rt,vt=N(me,xe),Ct=H(xe,je,vt),Dt,ft,_t=fe.gestureScale;if(Ct)return!1;if(_t)Ge=fe.scaleX*_t,Xe=fe.scaleY*_t;else{if(Ie=ee(fe,fe.originX,fe.originY,de,ve),Dt=je!=="y"?L(Ie.x):1,ft=je!=="x"?L(Ie.y):1,fe.signX||(fe.signX=Dt),fe.signY||(fe.signY=ft),xe.lockScalingFlip&&(fe.signX!==Dt||fe.signY!==ft))return!1;if(rt=xe._getTransformedDimensions(),vt&&!je){var Xt=Math.abs(Ie.x)+Math.abs(Ie.y),Ht=fe.original,Fe=Math.abs(rt.x*Ht.scaleX/xe.scaleX)+Math.abs(rt.y*Ht.scaleY/xe.scaleY),Oe=Xt/Fe;Ge=Ht.scaleX*Oe,Xe=Ht.scaleY*Oe}else Ge=Math.abs(Ie.x*xe.scaleX/rt.x),Xe=Math.abs(Ie.y*xe.scaleY/rt.y);z(fe)&&(Ge*=2,Xe*=2),fe.signX!==Dt&&je!=="y"&&(fe.originX=D[fe.originX],Ge*=-1,fe.signX=Dt),fe.signY!==ft&&je!=="x"&&(fe.originY=D[fe.originY],Xe*=-1,fe.signY=ft)}var ze=xe.scaleX,Ke=xe.scaleY;return je?(je==="x"&&xe.set("scaleX",Ge),je==="y"&&xe.set("scaleY",Xe)):(!De&&xe.set("scaleX",Ge),!Re&&xe.set("scaleY",Xe)),ze!==xe.scaleX||Ke!==xe.scaleY}function $(me,fe,de,ve){return K(me,fe,de,ve)}function se(me,fe,de,ve){return K(me,fe,de,ve,{by:"x"})}function pe(me,fe,de,ve){return K(me,fe,de,ve,{by:"y"})}function ue(me,fe,de,ve){return me[fe.target.canvas.altActionKey]?f.skewHandlerX(me,fe,de,ve):f.scalingY(me,fe,de,ve)}function ye(me,fe,de,ve){return me[fe.target.canvas.altActionKey]?f.skewHandlerY(me,fe,de,ve):f.scalingX(me,fe,de,ve)}function we(me,fe,de,ve){var Ce=fe.target,xe=ee(fe,fe.originX,fe.originY,de,ve),De=Ce.strokeWidth/(Ce.strokeUniform?Ce.scaleX:1),Re=z(fe)?2:1,je=Ce.width,Ie=Math.abs(xe.x*Re/Ce.scaleX)-De;return Ce.set("width",Math.max(Ie,0)),je!==Ie}function Ee(me,fe,de,ve){var Ce=fe.target,xe=de-fe.offsetX,De=ve-fe.offsetY,Re=!Ce.get("lockMovementX")&&Ce.left!==xe,je=!Ce.get("lockMovementY")&&Ce.top!==De;return Re&&Ce.set("left",xe),je&&Ce.set("top",De),(Re||je)&&U("moving",Ae(me,fe,de,ve)),Re||je}f.scaleCursorStyleHandler=X,f.skewCursorStyleHandler=ne,f.scaleSkewCursorStyleHandler=ie,f.rotationWithSnapping=re("rotating",R(V)),f.scalingEqually=re("scaling",R($)),f.scalingX=re("scaling",R(se)),f.scalingY=re("scaling",R(pe)),f.scalingYOrSkewingX=ue,f.scalingXOrSkewingY=ye,f.changeWidth=re("resizing",R(we)),f.skewHandlerX=Y,f.skewHandlerY=te,f.dragHandler=Ee,f.scaleOrSkewActionName=he,f.rotationStyleHandler=le,f.fireEvent=U,f.wrapWithFixedAnchor=R,f.wrapWithFireEvent=re,f.getLocalPoint=ee,u.controlsUtils=f}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.degreesToRadians,C=u.controlsUtils;function f(h,w,I,y,D){y=y||{};var F=this.sizeX||y.cornerSize||D.cornerSize,L=this.sizeY||y.cornerSize||D.cornerSize,k=typeof y.transparentCorners!="undefined"?y.transparentCorners:D.transparentCorners,U=k?"stroke":"fill",N=!k&&(y.cornerStrokeColor||D.cornerStrokeColor),z=w,H=I,X;h.save(),h.fillStyle=y.cornerColor||D.cornerColor,h.strokeStyle=y.cornerStrokeColor||D.cornerStrokeColor,F>L?(X=F,h.scale(1,L/F),H=I*F/L):L>F?(X=L,h.scale(F/L,1),z=w*L/F):X=F,h.lineWidth=1,h.beginPath(),h.arc(z,H,X/2,0,2*Math.PI,!1),h[U](),N&&h.stroke(),h.restore()}function d(h,w,I,y,D){y=y||{};var F=this.sizeX||y.cornerSize||D.cornerSize,L=this.sizeY||y.cornerSize||D.cornerSize,k=typeof y.transparentCorners!="undefined"?y.transparentCorners:D.transparentCorners,U=k?"stroke":"fill",N=!k&&(y.cornerStrokeColor||D.cornerStrokeColor),z=F/2,H=L/2;h.save(),h.fillStyle=y.cornerColor||D.cornerColor,h.strokeStyle=y.cornerStrokeColor||D.cornerStrokeColor,h.lineWidth=1,h.translate(w,I),h.rotate(g(D.angle)),h[U+"Rect"](-z,-H,F,L),N&&h.strokeRect(-z,-H,F,L),h.restore()}C.renderCircleControl=f,C.renderSquareControl=d}(c),function(p){var u=p.fabric||(p.fabric={});function g(C){for(var f in C)this[f]=C[f]}u.Control=g,u.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(C,f){return f.cursorStyle},getActionName:function(C,f){return f.actionName},getVisibility:function(C,f){var d=C._controlsVisibility;return d&&typeof d[f]!="undefined"?d[f]:this.visible},setVisibility:function(C){this.visible=C},positionHandler:function(C,f){var d=u.util.transformPoint({x:this.x*C.x+this.offsetX,y:this.y*C.y+this.offsetY},f);return d},calcCornerCoords:function(C,f,d,h,w){var I,y,D,F,L=w?this.touchSizeX:this.sizeX,k=w?this.touchSizeY:this.sizeY;if(L&&k&&L!==k){var U=Math.atan2(k,L),N=Math.sqrt(L*L+k*k)/2,z=U-u.util.degreesToRadians(C),H=Math.PI/2-U-u.util.degreesToRadians(C);I=N*u.util.cos(z),y=N*u.util.sin(z),D=N*u.util.cos(H),F=N*u.util.sin(H)}else{var X=L&&k?L:f;N=X*.7071067812;var z=u.util.degreesToRadians(45-C);I=D=N*u.util.cos(z),y=F=N*u.util.sin(z)}return{tl:{x:d-F,y:h-D},tr:{x:d+I,y:h-y},bl:{x:d-I,y:h+y},br:{x:d+F,y:h+D}}},render:function(C,f,d,h,w){switch(h=h||{},h.cornerStyle||w.cornerStyle){case"circle":u.controlsUtils.renderCircleControl.call(this,C,f,d,h,w);break;default:u.controlsUtils.renderSquareControl.call(this,C,f,d,h,w)}}}}(c),function(){function p(d,h){var w=d.getAttribute("style"),I=d.getAttribute("offset")||0,y,D,F,L;if(I=parseFloat(I)/(/%$/.test(I)?100:1),I=I<0?0:I>1?1:I,w){var k=w.split(/\s*;\s*/);for(k[k.length-1]===""&&k.pop(),L=k.length;L--;){var U=k[L].split(/\s*:\s*/),N=U[0].trim(),z=U[1].trim();N==="stop-color"?y=z:N==="stop-opacity"&&(F=z)}}return y||(y=d.getAttribute("stop-color")||"rgb(0,0,0)"),F||(F=d.getAttribute("stop-opacity")),y=new A.Color(y),D=y.getAlpha(),F=isNaN(parseFloat(F))?1:parseFloat(F),F*=D*h,{offset:I,color:y.toRgb(),opacity:F}}function u(d){return{x1:d.getAttribute("x1")||0,y1:d.getAttribute("y1")||0,x2:d.getAttribute("x2")||"100%",y2:d.getAttribute("y2")||0}}function g(d){return{x1:d.getAttribute("fx")||d.getAttribute("cx")||"50%",y1:d.getAttribute("fy")||d.getAttribute("cy")||"50%",r1:0,x2:d.getAttribute("cx")||"50%",y2:d.getAttribute("cy")||"50%",r2:d.getAttribute("r")||"50%"}}var C=A.util.object.clone;A.Gradient=A.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(d){d||(d={}),d.coords||(d.coords={});var h,w=this;Object.keys(d).forEach(function(I){w[I]=d[I]}),this.id?this.id+="_"+A.Object.__uid++:this.id=A.Object.__uid++,h={x1:d.coords.x1||0,y1:d.coords.y1||0,x2:d.coords.x2||0,y2:d.coords.y2||0},this.type==="radial"&&(h.r1=d.coords.r1||0,h.r2=d.coords.r2||0),this.coords=h,this.colorStops=d.colorStops.slice()},addColorStop:function(d){for(var h in d){var w=new A.Color(d[h]);this.colorStops.push({offset:parseFloat(h),color:w.toRgb(),opacity:w.getAlpha()})}return this},toObject:function(d){var h={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return A.util.populateWithProperties(this,h,d),h},toSVG:function(d,D){var w=C(this.coords,!0),I,y,D=D||{},F,L,k=C(this.colorStops,!0),U=w.r1>w.r2,N=this.gradientTransform?this.gradientTransform.concat():A.iMatrix.concat(),z=-this.offsetX,H=-this.offsetY,X=!!D.additionalTransform,ne=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(k.sort(function(R,re){return R.offset-re.offset}),ne==="objectBoundingBox"?(z/=d.width,H/=d.height):(z+=d.width/2,H+=d.height/2),d.type==="path"&&this.gradientUnits!=="percentage"&&(z-=d.pathOffset.x,H-=d.pathOffset.y),N[4]-=z,N[5]-=H,L='id="SVGID_'+this.id+'" gradientUnits="'+ne+'"',L+=' gradientTransform="'+(X?D.additionalTransform+" ":"")+A.util.matrixToSVG(N)+'" ',this.type==="linear"?F=["<linearGradient ",L,' x1="',w.x1,'" y1="',w.y1,'" x2="',w.x2,'" y2="',w.y2,`">
`]:this.type==="radial"&&(F=["<radialGradient ",L,' cx="',U?w.x1:w.x2,'" cy="',U?w.y1:w.y2,'" r="',U?w.r1:w.r2,'" fx="',U?w.x2:w.x1,'" fy="',U?w.y2:w.y1,`">
`]),this.type==="radial"){if(U)for(k=k.concat(),k.reverse(),I=0,y=k.length;I<y;I++)k[I].offset=1-k[I].offset;var ie=Math.min(w.r1,w.r2);if(ie>0){var he=Math.max(w.r1,w.r2),le=ie/he;for(I=0,y=k.length;I<y;I++)k[I].offset+=le*(1-k[I].offset)}}for(I=0,y=k.length;I<y;I++){var Ae=k[I];F.push("<stop ",'offset="',Ae.offset*100+"%",'" style="stop-color:',Ae.color,typeof Ae.opacity!="undefined"?";stop-opacity: "+Ae.opacity:";",`"/>
`)}return F.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),F.join("")},toLive:function(d){var h,w=A.util.object.clone(this.coords),I,y;if(!!this.type){for(this.type==="linear"?h=d.createLinearGradient(w.x1,w.y1,w.x2,w.y2):this.type==="radial"&&(h=d.createRadialGradient(w.x1,w.y1,w.r1,w.x2,w.y2,w.r2)),I=0,y=this.colorStops.length;I<y;I++){var D=this.colorStops[I].color,F=this.colorStops[I].opacity,L=this.colorStops[I].offset;typeof F!="undefined"&&(D=new A.Color(D).setAlpha(F).toRgba()),h.addColorStop(L,D)}return h}}}),A.util.object.extend(A.Gradient,{fromElement:function(d,h,w,I){var y=parseFloat(w)/(/%$/.test(w)?100:1);y=y<0?0:y>1?1:y,isNaN(y)&&(y=1);var D=d.getElementsByTagName("stop"),F,L=d.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",k=d.getAttribute("gradientTransform")||"",U=[],N,z,H=0,X=0,ne;for(d.nodeName==="linearGradient"||d.nodeName==="LINEARGRADIENT"?(F="linear",N=u(d)):(F="radial",N=g(d)),z=D.length;z--;)U.push(p(D[z],y));ne=A.parseTransformAttribute(k),f(h,N,I,L),L==="pixels"&&(H=-h.left,X=-h.top);var ie=new A.Gradient({id:d.getAttribute("id"),type:F,coords:N,colorStops:U,gradientUnits:L,gradientTransform:ne,offsetX:H,offsetY:X});return ie}});function f(d,h,w,I){var y,D;Object.keys(h).forEach(function(F){y=h[F],y==="Infinity"?D=1:y==="-Infinity"?D=0:(D=parseFloat(h[F],10),typeof y=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(y)&&(D*=.01,I==="pixels"&&((F==="x1"||F==="x2"||F==="r2")&&(D*=w.viewBoxWidth||w.width),(F==="y1"||F==="y2")&&(D*=w.viewBoxHeight||w.height)))),h[F]=D})}}(),function(){var p=A.util.toFixed;A.Pattern=A.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(u,g){if(u||(u={}),this.id=A.Object.__uid++,this.setOptions(u),!u.source||u.source&&typeof u.source!="string"){g&&g(this);return}else{var C=this;this.source=A.util.createImage(),A.util.loadImage(u.source,function(f,d){C.source=f,g&&g(C,d)},null,this.crossOrigin)}},toObject:function(u){var g=A.Object.NUM_FRACTION_DIGITS,C,f;return typeof this.source.src=="string"?C=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(C=this.source.toDataURL()),f={type:"pattern",source:C,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:p(this.offsetX,g),offsetY:p(this.offsetY,g),patternTransform:this.patternTransform?this.patternTransform.concat():null},A.util.populateWithProperties(this,f,u),f},toSVG:function(u){var g=typeof this.source=="function"?this.source():this.source,C=g.width/u.width,f=g.height/u.height,d=this.offsetX/u.width,h=this.offsetY/u.height,w="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(f=1,h&&(f+=Math.abs(h))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(C=1,d&&(C+=Math.abs(d))),g.src?w=g.src:g.toDataURL&&(w=g.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+d+'" y="'+h+'" width="'+C+'" height="'+f+`">
<image x="0" y="0" width="`+g.width+'" height="'+g.height+'" xlink:href="'+w+`"></image>
</pattern>
`},setOptions:function(u){for(var g in u)this[g]=u[g]},toLive:function(u){var g=this.source;return!g||typeof g.src!="undefined"&&(!g.complete||g.naturalWidth===0||g.naturalHeight===0)?"":u.createPattern(g,this.repeat)}})}(),function(p){var u=p.fabric||(p.fabric={}),g=u.util.toFixed;if(u.Shadow){u.warn("fabric.Shadow is already defined.");return}u.Shadow=u.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(C){typeof C=="string"&&(C=this._parseShadow(C));for(var f in C)this[f]=C[f];this.id=u.Object.__uid++},_parseShadow:function(C){var f=C.trim(),d=u.Shadow.reOffsetsAndBlur.exec(f)||[],h=f.replace(u.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:h.trim(),offsetX:parseFloat(d[1],10)||0,offsetY:parseFloat(d[2],10)||0,blur:parseFloat(d[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(C){var f=40,d=40,h=u.Object.NUM_FRACTION_DIGITS,w=u.util.rotateVector({x:this.offsetX,y:this.offsetY},u.util.degreesToRadians(-C.angle)),I=20,y=new u.Color(this.color);return C.width&&C.height&&(f=g((Math.abs(w.x)+this.blur)/C.width,h)*100+I,d=g((Math.abs(w.y)+this.blur)/C.height,h)*100+I),C.flipX&&(w.x*=-1),C.flipY&&(w.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+d+'%" height="'+(100+2*d)+'%" x="-'+f+'%" width="'+(100+2*f)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+g(this.blur?this.blur/2:0,h)+`"></feGaussianBlur>
	<feOffset dx="`+g(w.x,h)+'" dy="'+g(w.y,h)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+y.toRgb()+'" flood-opacity="'+y.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var C={},f=u.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(d){this[d]!==f[d]&&(C[d]=this[d])},this),C}}),u.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(c),function(){if(A.StaticCanvas){A.warn("fabric.StaticCanvas is already defined.");return}var p=A.util.object.extend,u=A.util.getElementOffset,g=A.util.removeFromArray,C=A.util.toFixed,f=A.util.transformPoint,d=A.util.invertTransform,h=A.util.getNodeCanvas,w=A.util.createCanvasElement,I=new Error("Could not initialize `canvas` element");A.StaticCanvas=A.util.createClass(A.CommonMethods,{initialize:function(y,D){D||(D={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(y,D)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:A.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(y,D){var F=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(y),this._initOptions(D),this.interactive||this._initRetinaScaling(),D.overlayImage&&this.setOverlayImage(D.overlayImage,F),D.backgroundImage&&this.setBackgroundImage(D.backgroundImage,F),D.backgroundColor&&this.setBackgroundColor(D.backgroundColor,F),D.overlayColor&&this.setOverlayColor(D.overlayColor,F),this.calcOffset()},_isRetinaScaling:function(){return A.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?A.devicePixelRatio:1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var y=A.devicePixelRatio;this.__initRetinaScaling(y,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(y,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(y,D,F){D.setAttribute("width",this.width*y),D.setAttribute("height",this.height*y),F.scale(y,y)},calcOffset:function(){return this._offset=u(this.lowerCanvasEl),this},setOverlayImage:function(y,D,F){return this.__setBgOverlayImage("overlayImage",y,D,F)},setBackgroundImage:function(y,D,F){return this.__setBgOverlayImage("backgroundImage",y,D,F)},setOverlayColor:function(y,D){return this.__setBgOverlayColor("overlayColor",y,D)},setBackgroundColor:function(y,D){return this.__setBgOverlayColor("backgroundColor",y,D)},__setBgOverlayImage:function(y,D,F,L){return typeof D=="string"?A.util.loadImage(D,function(k,U){if(k){var N=new A.Image(k,L);this[y]=N,N.canvas=this}F&&F(k,U)},this,L&&L.crossOrigin):(L&&D.setOptions(L),this[y]=D,D&&(D.canvas=this),F&&F(D,!1)),this},__setBgOverlayColor:function(y,D,F){return this[y]=D,this._initGradient(D,y),this._initPattern(D,y,F),this},_createCanvasElement:function(){var y=w();if(!y||(y.style||(y.style={}),typeof y.getContext=="undefined"))throw I;return y},_initOptions:function(y){var D=this.lowerCanvasEl;this._setOptions(y),this.width=this.width||parseInt(D.width,10)||0,this.height=this.height||parseInt(D.height,10)||0,this.lowerCanvasEl.style&&(D.width=this.width,D.height=this.height,D.style.width=this.width+"px",D.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(y){y&&y.getContext?this.lowerCanvasEl=y:this.lowerCanvasEl=A.util.getById(y)||this._createCanvasElement(),A.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(y,D){return this.setDimensions({width:y},D)},setHeight:function(y,D){return this.setDimensions({height:y},D)},setDimensions:function(y,D){var F;D=D||{};for(var L in y)F=y[L],D.cssOnly||(this._setBackstoreDimension(L,y[L]),F+="px",this.hasLostContext=!0),D.backstoreOnly||this._setCssDimension(L,F);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),D.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(y,D){return this.lowerCanvasEl[y]=D,this.upperCanvasEl&&(this.upperCanvasEl[y]=D),this.cacheCanvasEl&&(this.cacheCanvasEl[y]=D),this[y]=D,this},_setCssDimension:function(y,D){return this.lowerCanvasEl.style[y]=D,this.upperCanvasEl&&(this.upperCanvasEl.style[y]=D),this.wrapperEl&&(this.wrapperEl.style[y]=D),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(y){var D=this._activeObject,F=this.backgroundImage,L=this.overlayImage,k,U,N;for(this.viewportTransform=y,U=0,N=this._objects.length;U<N;U++)k=this._objects[U],k.group||k.setCoords(!0);return D&&D.setCoords(),F&&F.setCoords(!0),L&&L.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(y,D){var F=y,L=this.viewportTransform.slice(0);y=f(y,d(this.viewportTransform)),L[0]=D,L[3]=D;var k=f(y,L);return L[4]+=F.x-k.x,L[5]+=F.y-k.y,this.setViewportTransform(L)},setZoom:function(y){return this.zoomToPoint(new A.Point(0,0),y),this},absolutePan:function(y){var D=this.viewportTransform.slice(0);return D[4]=-y.x,D[5]=-y.y,this.setViewportTransform(D)},relativePan:function(y){return this.absolutePan(new A.Point(-y.x-this.viewportTransform[4],-y.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(y){this.stateful&&y.setupState(),y._set("canvas",this),y.setCoords(),this.fire("object:added",{target:y}),y.fire("added")},_onObjectRemoved:function(y){this.fire("object:removed",{target:y}),y.fire("removed"),delete y.canvas},clearContext:function(y){return y.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var y=this.contextContainer;return this.renderCanvas(y,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=A.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var y={},D=this.width,F=this.height,L=d(this.viewportTransform);return y.tl=f({x:0,y:0},L),y.br=f({x:D,y:F},L),y.tr=new A.Point(y.br.x,y.tl.y),y.bl=new A.Point(y.tl.x,y.br.y),this.vptCoords=y,y},cancelRequestedRender:function(){this.isRendering&&(A.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(y,D){var F=this.viewportTransform,L=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(y),A.util.setImageSmoothing(y,this.imageSmoothingEnabled),this.fire("before:render",{ctx:y}),this._renderBackground(y),y.save(),y.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._renderObjects(y,D),y.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(y),L&&(L.canvas=this,L.shouldCache(),L._transformDone=!0,L.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(y)),this._renderOverlay(y),this.controlsAboveOverlay&&this.interactive&&this.drawControls(y),this.fire("after:render",{ctx:y})},drawClipPathOnCanvas:function(y){var D=this.viewportTransform,F=this.clipPath;y.save(),y.transform(D[0],D[1],D[2],D[3],D[4],D[5]),y.globalCompositeOperation="destination-in",F.transform(y),y.scale(1/F.zoomX,1/F.zoomY),y.drawImage(F._cacheCanvas,-F.cacheTranslationX,-F.cacheTranslationY),y.restore()},_renderObjects:function(y,D){var F,L;for(F=0,L=D.length;F<L;++F)D[F]&&D[F].render(y)},_renderBackgroundOrOverlay:function(y,D){var F=this[D+"Color"],L=this[D+"Image"],k=this.viewportTransform,U=this[D+"Vpt"];if(!(!F&&!L)){if(F){y.save(),y.beginPath(),y.moveTo(0,0),y.lineTo(this.width,0),y.lineTo(this.width,this.height),y.lineTo(0,this.height),y.closePath(),y.fillStyle=F.toLive?F.toLive(y,this):F,U&&y.transform(k[0],k[1],k[2],k[3],k[4],k[5]),y.transform(1,0,0,1,F.offsetX||0,F.offsetY||0);var N=F.gradientTransform||F.patternTransform;N&&y.transform(N[0],N[1],N[2],N[3],N[4],N[5]),y.fill(),y.restore()}L&&(y.save(),U&&y.transform(k[0],k[1],k[2],k[3],k[4],k[5]),L.render(y),y.restore())}},_renderBackground:function(y){this._renderBackgroundOrOverlay(y,"background")},_renderOverlay:function(y){this._renderBackgroundOrOverlay(y,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(y){return this._centerObject(y,new A.Point(this.getCenter().left,y.getCenterPoint().y))},centerObjectV:function(y){return this._centerObject(y,new A.Point(y.getCenterPoint().x,this.getCenter().top))},centerObject:function(y){var D=this.getCenter();return this._centerObject(y,new A.Point(D.left,D.top))},viewportCenterObject:function(y){var D=this.getVpCenter();return this._centerObject(y,D)},viewportCenterObjectH:function(y){var D=this.getVpCenter();return this._centerObject(y,new A.Point(D.x,y.getCenterPoint().y)),this},viewportCenterObjectV:function(y){var D=this.getVpCenter();return this._centerObject(y,new A.Point(y.getCenterPoint().x,D.y))},getVpCenter:function(){var y=this.getCenter(),D=d(this.viewportTransform);return f({x:y.left,y:y.top},D)},_centerObject:function(y,D){return y.setPositionByOrigin(D,"center","center"),y.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(y){return this.toDatalessObject(y)},toObject:function(y){return this._toObjectMethod("toObject",y)},toDatalessObject:function(y){return this._toObjectMethod("toDatalessObject",y)},_toObjectMethod:function(y,D){var F=this.clipPath,L={version:A.version,objects:this._toObjects(y,D)};return F&&!F.excludeFromExport&&(L.clipPath=this._toObject(this.clipPath,y,D)),p(L,this.__serializeBgOverlay(y,D)),A.util.populateWithProperties(this,L,D),L},_toObjects:function(y,D){return this._objects.filter(function(F){return!F.excludeFromExport}).map(function(F){return this._toObject(F,y,D)},this)},_toObject:function(y,D,F){var L;this.includeDefaultValues||(L=y.includeDefaultValues,y.includeDefaultValues=!1);var k=y[D](F);return this.includeDefaultValues||(y.includeDefaultValues=L),k},__serializeBgOverlay:function(y,D){var F={},L=this.backgroundImage,k=this.overlayImage,U=this.backgroundColor,N=this.overlayColor;return U&&U.toObject?U.excludeFromExport||(F.background=U.toObject(D)):U&&(F.background=U),N&&N.toObject?N.excludeFromExport||(F.overlay=N.toObject(D)):N&&(F.overlay=N),L&&!L.excludeFromExport&&(F.backgroundImage=this._toObject(L,y,D)),k&&!k.excludeFromExport&&(F.overlayImage=this._toObject(k,y,D)),F},svgViewportTransformation:!0,toSVG:function(y,D){y||(y={}),y.reviver=D;var F=[];return this._setSVGPreamble(F,y),this._setSVGHeader(F,y),this.clipPath&&F.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(F,"background"),this._setSVGBgOverlayImage(F,"backgroundImage",D),this._setSVGObjects(F,D),this.clipPath&&F.push(`</g>
`),this._setSVGBgOverlayColor(F,"overlay"),this._setSVGBgOverlayImage(F,"overlayImage",D),F.push("</svg>"),F.join("")},_setSVGPreamble:function(y,D){D.suppressPreamble||y.push('<?xml version="1.0" encoding="',D.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(y,D){var F=D.width||this.width,L=D.height||this.height,k,U='viewBox="0 0 '+this.width+" "+this.height+'" ',N=A.Object.NUM_FRACTION_DIGITS;D.viewBox?U='viewBox="'+D.viewBox.x+" "+D.viewBox.y+" "+D.viewBox.width+" "+D.viewBox.height+'" ':this.svgViewportTransformation&&(k=this.viewportTransform,U='viewBox="'+C(-k[4]/k[0],N)+" "+C(-k[5]/k[3],N)+" "+C(this.width/k[0],N)+" "+C(this.height/k[3],N)+'" '),y.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',F,'" ','height="',L,'" ',U,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",A.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(D),`</defs>
`)},createSVGClipPathMarkup:function(y){var D=this.clipPath;return D?(D.clipPathId="CLIPPATH_"+A.Object.__uid++,'<clipPath id="'+D.clipPathId+`" >
`+this.clipPath.toClipPathSVG(y.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var y=this,D=["background","overlay"].map(function(F){var L=y[F+"Color"];if(L&&L.toLive){var k=y[F+"Vpt"],U=y.viewportTransform,N={width:y.width/(k?U[0]:1),height:y.height/(k?U[3]:1)};return L.toSVG(N,{additionalTransform:k?A.util.matrixToSVG(U):""})}});return D.join("")},createSVGFontFacesMarkup:function(){var y="",D={},F,L,k,U,N,z,H,X,ne,ie=A.fontPaths,he=[];for(this._objects.forEach(function Ae(R){he.push(R),R._objects&&R._objects.forEach(Ae)}),X=0,ne=he.length;X<ne;X++)if(F=he[X],L=F.fontFamily,!(F.type.indexOf("text")===-1||D[L]||!ie[L])&&(D[L]=!0,!!F.styles)){k=F.styles;for(N in k){U=k[N];for(H in U)z=U[H],L=z.fontFamily,!D[L]&&ie[L]&&(D[L]=!0)}}for(var le in D)y+=[`		@font-face {
`,"			font-family: '",le,`';
`,"			src: url('",ie[le],`');
`,`		}
`].join("");return y&&(y=['	<style type="text/css">',`<![CDATA[
`,y,"]]>",`</style>
`].join("")),y},_setSVGObjects:function(y,D){var F,L,k,U=this._objects;for(L=0,k=U.length;L<k;L++)F=U[L],!F.excludeFromExport&&this._setSVGObject(y,F,D)},_setSVGObject:function(y,D,F){y.push(D.toSVG(F))},_setSVGBgOverlayImage:function(y,D,F){this[D]&&!this[D].excludeFromExport&&this[D].toSVG&&y.push(this[D].toSVG(F))},_setSVGBgOverlayColor:function(y,D){var F=this[D+"Color"],L=this.viewportTransform,k=this.width,U=this.height;if(!!F)if(F.toLive){var N=F.repeat,z=A.util.invertTransform(L),H=this[D+"Vpt"],X=H?A.util.matrixToSVG(z):"";y.push('<rect transform="'+X+" translate(",k/2,",",U/2,')"',' x="',F.offsetX-k/2,'" y="',F.offsetY-U/2,'" ','width="',N==="repeat-y"||N==="no-repeat"?F.source.width:k,'" height="',N==="repeat-x"||N==="no-repeat"?F.source.height:U,'" fill="url(#SVGID_'+F.id+')"',`></rect>
`)}else y.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',F,'"',`></rect>
`)},sendToBack:function(y){if(!y)return this;var D=this._activeObject,F,L,k;if(y===D&&y.type==="activeSelection")for(k=D._objects,F=k.length;F--;)L=k[F],g(this._objects,L),this._objects.unshift(L);else g(this._objects,y),this._objects.unshift(y);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(y){if(!y)return this;var D=this._activeObject,F,L,k;if(y===D&&y.type==="activeSelection")for(k=D._objects,F=0;F<k.length;F++)L=k[F],g(this._objects,L),this._objects.push(L);else g(this._objects,y),this._objects.push(y);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(y,D){if(!y)return this;var F=this._activeObject,L,k,U,N,z,H=0;if(y===F&&y.type==="activeSelection")for(z=F._objects,L=0;L<z.length;L++)k=z[L],U=this._objects.indexOf(k),U>0+H&&(N=U-1,g(this._objects,k),this._objects.splice(N,0,k)),H++;else U=this._objects.indexOf(y),U!==0&&(N=this._findNewLowerIndex(y,U,D),g(this._objects,y),this._objects.splice(N,0,y));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(y,D,F){var L,k;if(F)for(L=D,k=D-1;k>=0;--k){var U=y.intersectsWithObject(this._objects[k])||y.isContainedWithinObject(this._objects[k])||this._objects[k].isContainedWithinObject(y);if(U){L=k;break}}else L=D-1;return L},bringForward:function(y,D){if(!y)return this;var F=this._activeObject,L,k,U,N,z,H=0;if(y===F&&y.type==="activeSelection")for(z=F._objects,L=z.length;L--;)k=z[L],U=this._objects.indexOf(k),U<this._objects.length-1-H&&(N=U+1,g(this._objects,k),this._objects.splice(N,0,k)),H++;else U=this._objects.indexOf(y),U!==this._objects.length-1&&(N=this._findNewUpperIndex(y,U,D),g(this._objects,y),this._objects.splice(N,0,y));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(y,D,F){var L,k,U;if(F)for(L=D,k=D+1,U=this._objects.length;k<U;++k){var N=y.intersectsWithObject(this._objects[k])||y.isContainedWithinObject(this._objects[k])||this._objects[k].isContainedWithinObject(y);if(N){L=k;break}}else L=D+1;return L},moveTo:function(y,D){return g(this._objects,y),this._objects.splice(D,0,y),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(A.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(y){y.dispose&&y.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),A.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),p(A.StaticCanvas.prototype,A.Observable),p(A.StaticCanvas.prototype,A.Collection),p(A.StaticCanvas.prototype,A.DataURLExporter),p(A.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(y){var D=w();if(!D||!D.getContext)return null;var F=D.getContext("2d");if(!F)return null;switch(y){case"setLineDash":return typeof F.setLineDash!="undefined";default:return null}}}),A.StaticCanvas.prototype.toJSON=A.StaticCanvas.prototype.toObject,A.isLikelyNode&&(A.StaticCanvas.prototype.createPNGStream=function(){var y=h(this.lowerCanvasEl);return y&&y.createPNGStream()},A.StaticCanvas.prototype.createJPEGStream=function(y){var D=h(this.lowerCanvasEl);return D&&D.createJPEGStream(y)})}(),A.BaseBrush=A.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var p=this.canvas.contextTop;p.strokeStyle=this.color,p.lineWidth=this.width,p.lineCap=this.strokeLineCap,p.miterLimit=this.strokeMiterLimit,p.lineJoin=this.strokeLineJoin,p.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(p){var u=this.canvas.viewportTransform;p.save(),p.transform(u[0],u[1],u[2],u[3],u[4],u[5])},_setShadow:function(){if(!!this.shadow){var p=this.canvas,u=this.shadow,g=p.contextTop,C=p.getZoom();p&&p._isRetinaScaling()&&(C*=A.devicePixelRatio),g.shadowColor=u.color,g.shadowBlur=u.blur*C,g.shadowOffsetX=u.offsetX*C,g.shadowOffsetY=u.offsetY*C}},needsFullRender:function(){var p=new A.Color(this.color);return p.getAlpha()<1||!!this.shadow},_resetShadow:function(){var p=this.canvas.contextTop;p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0},_isOutSideCanvas:function(p){return p.x<0||p.x>this.canvas.getWidth()||p.y<0||p.y>this.canvas.getHeight()}}),function(){A.PencilBrush=A.util.createClass(A.BaseBrush,{decimate:.4,initialize:function(p){this.canvas=p,this._points=[]},_drawSegment:function(p,u,g){var C=u.midPointFrom(g);return p.quadraticCurveTo(u.x,u.y,C.x,C.y),C},onMouseDown:function(p,u){!this.canvas._isMainEvent(u.e)||(this._prepareForDrawing(p),this._captureDrawingPath(p),this._render())},onMouseMove:function(p,u){if(!!this.canvas._isMainEvent(u.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p))&&this._captureDrawingPath(p)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var g=this._points,C=g.length,f=this.canvas.contextTop;this._saveAndTransform(f),this.oldEnd&&(f.beginPath(),f.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(f,g[C-2],g[C-1],!0),f.stroke(),f.restore()}},onMouseUp:function(p){return this.canvas._isMainEvent(p.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(p){var u=new A.Point(p.x,p.y);this._reset(),this._addPoint(u),this.canvas.contextTop.moveTo(u.x,u.y)},_addPoint:function(p){return this._points.length>1&&p.eq(this._points[this._points.length-1])?!1:(this._points.push(p),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(p){var u=new A.Point(p.x,p.y);return this._addPoint(u)},_render:function(){var p=this.canvas.contextTop,u,g,C=this._points[0],f=this._points[1];if(this._saveAndTransform(p),p.beginPath(),this._points.length===2&&C.x===f.x&&C.y===f.y){var d=this.width/1e3;C=new A.Point(C.x,C.y),f=new A.Point(f.x,f.y),C.x-=d,f.x+=d}for(p.moveTo(C.x,C.y),u=1,g=this._points.length;u<g;u++)this._drawSegment(p,C,f),C=this._points[u],f=this._points[u+1];p.lineTo(C.x,C.y),p.stroke(),p.restore()},convertPointsToSVGPath:function(p){var u=this.width/1e3;return A.util.getSmoothPathFromPoints(p,u)},_isEmptySVGPath:function(p){var u=A.util.joinPath(p);return u==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(p){var u=new A.Path(p,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,u.shadow=new A.Shadow(this.shadow)),u},decimatePoints:function(p,u){if(p.length<=2)return p;var g=this.canvas.getZoom(),C=Math.pow(u/g,2),f,d=p.length-1,h=p[0],w=[h],I;for(f=1;f<d-1;f++)I=Math.pow(h.x-p[f].x,2)+Math.pow(h.y-p[f].y,2),I>=C&&(h=p[f],w.push(h));return w.push(p[d]),w},_finalizeAndAddPath:function(){var p=this.canvas.contextTop;p.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var u=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(u)){this.canvas.requestRenderAll();return}var g=this.createPath(u);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.requestRenderAll(),g.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:g})}})}(),A.CircleBrush=A.util.createClass(A.BaseBrush,{width:10,initialize:function(p){this.canvas=p,this.points=[]},drawDot:function(p){var u=this.addPoint(p),g=this.canvas.contextTop;this._saveAndTransform(g),this.dot(g,u),g.restore()},dot:function(p,u){p.fillStyle=u.fill,p.beginPath(),p.arc(u.x,u.y,u.radius,0,Math.PI*2,!1),p.closePath(),p.fill()},onMouseDown:function(p){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(p)},_render:function(){var p=this.canvas.contextTop,u,g,C=this.points;for(this._saveAndTransform(p),u=0,g=C.length;u<g;u++)this.dot(p,C[u]);p.restore()},onMouseMove:function(p){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(p),this._render()):this.drawDot(p))},onMouseUp:function(){var p=this.canvas.renderOnAddRemove,u,g;this.canvas.renderOnAddRemove=!1;var C=[];for(u=0,g=this.points.length;u<g;u++){var f=this.points[u],d=new A.Circle({radius:f.radius,left:f.x,top:f.y,originX:"center",originY:"center",fill:f.fill});this.shadow&&(d.shadow=new A.Shadow(this.shadow)),C.push(d)}var h=new A.Group(C);h.canvas=this.canvas,this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=p,this.canvas.requestRenderAll()},addPoint:function(p){var u=new A.Point(p.x,p.y),g=A.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,C=new A.Color(this.color).setAlpha(A.util.getRandomInt(0,100)/100).toRgba();return u.radius=g,u.fill=C,this.points.push(u),u}}),A.SprayBrush=A.util.createClass(A.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(p){this.canvas=p,this.sprayChunks=[]},onMouseDown:function(p){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(p),this.render(this.sprayChunkPoints)},onMouseMove:function(p){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p)||(this.addSprayChunk(p),this.render(this.sprayChunkPoints))},onMouseUp:function(){var p=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var u=[],g=0,C=this.sprayChunks.length;g<C;g++)for(var f=this.sprayChunks[g],d=0,h=f.length;d<h;d++){var w=new A.Rect({width:f[d].width,height:f[d].width,left:f[d].x+1,top:f[d].y+1,originX:"center",originY:"center",fill:this.color});u.push(w)}this.optimizeOverlapping&&(u=this._getOptimizedRects(u));var I=new A.Group(u);this.shadow&&I.set("shadow",new A.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:I}),this.canvas.add(I),this.canvas.fire("path:created",{path:I}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=p,this.canvas.requestRenderAll()},_getOptimizedRects:function(p){var u={},g,C,f;for(C=0,f=p.length;C<f;C++)g=p[C].left+""+p[C].top,u[g]||(u[g]=p[C]);var d=[];for(g in u)d.push(u[g]);return d},render:function(p){var u=this.canvas.contextTop,g,C;for(u.fillStyle=this.color,this._saveAndTransform(u),g=0,C=p.length;g<C;g++){var f=p[g];typeof f.opacity!="undefined"&&(u.globalAlpha=f.opacity),u.fillRect(f.x,f.y,f.width,f.width)}u.restore()},_render:function(){var p=this.canvas.contextTop,u,g;for(p.fillStyle=this.color,this._saveAndTransform(p),u=0,g=this.sprayChunks.length;u<g;u++)this.render(this.sprayChunks[u]);p.restore()},addSprayChunk:function(p){this.sprayChunkPoints=[];var u,g,C,f=this.width/2,d;for(d=0;d<this.density;d++){u=A.util.getRandomInt(p.x-f,p.x+f),g=A.util.getRandomInt(p.y-f,p.y+f),this.dotWidthVariance?C=A.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):C=this.dotWidth;var h=new A.Point(u,g);h.width=C,this.randomOpacity&&(h.opacity=A.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(h)}this.sprayChunks.push(this.sprayChunkPoints)}}),A.PatternBrush=A.util.createClass(A.PencilBrush,{getPatternSrc:function(){var p=20,u=5,g=A.util.createCanvasElement(),C=g.getContext("2d");return g.width=g.height=p+u,C.fillStyle=this.color,C.beginPath(),C.arc(p/2,p/2,p/2,0,Math.PI*2,!1),C.closePath(),C.fill(),g},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(p){var u=this.callSuper("createPath",p),g=u._getLeftTopCoords().scalarAdd(u.strokeWidth/2);return u.stroke=new A.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-g.x,offsetY:-g.y}),u}}),function(){var p=A.util.getPointer,u=A.util.degreesToRadians,g=A.util.isTouchEvent;A.Canvas=A.util.createClass(A.StaticCanvas,{initialize:function(f,d){d||(d={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,d),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=A.PencilBrush&&new A.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var f=this.getActiveObjects(),d,h,w;if(f.length>0&&!this.preserveObjectStacking){h=[],w=[];for(var I=0,y=this._objects.length;I<y;I++)d=this._objects[I],f.indexOf(d)===-1?h.push(d):w.push(d);f.length>1&&(this._activeObject._objects=w),h.push.apply(h,w)}else h=this._objects;return h},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var f=this.contextContainer;return this.renderCanvas(f,this._chooseObjectsToRender()),this},renderTopLayer:function(f){f.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(f),this.contextTopDirty=!0),f.restore()},renderTop:function(){var f=this.contextTop;return this.clearContext(f),this.renderTopLayer(f),this.fire("after:render"),this},_normalizePointer:function(f,d){var h=f.calcTransformMatrix(),w=A.util.invertTransform(h),I=this.restorePointerVpt(d);return A.util.transformPoint(I,w)},isTargetTransparent:function(f,d,h){if(f.shouldCache()&&f._cacheCanvas&&f!==this._activeObject){var w=this._normalizePointer(f,{x:d,y:h}),I=Math.max(f.cacheTranslationX+w.x*f.zoomX,0),y=Math.max(f.cacheTranslationY+w.y*f.zoomY,0),k=A.util.isTransparent(f._cacheContext,Math.round(I),Math.round(y),this.targetFindTolerance);return k}var D=this.contextCache,F=f.selectionBackgroundColor,L=this.viewportTransform;f.selectionBackgroundColor="",this.clearContext(D),D.save(),D.transform(L[0],L[1],L[2],L[3],L[4],L[5]),f.render(D),D.restore(),f.selectionBackgroundColor=F;var k=A.util.isTransparent(D,d,h,this.targetFindTolerance);return k},_isSelectionKeyPressed:function(f){var d=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?d=!!this.selectionKey.find(function(h){return f[h]===!0}):d=f[this.selectionKey],d},_shouldClearSelection:function(f,d){var h=this.getActiveObjects(),w=this._activeObject;return!d||d&&w&&h.length>1&&h.indexOf(d)===-1&&w!==d&&!this._isSelectionKeyPressed(f)||d&&!d.evented||d&&!d.selectable&&w&&w!==d},_shouldCenterTransform:function(f,d,h){if(!!f){var w;return d==="scale"||d==="scaleX"||d==="scaleY"||d==="resizing"?w=this.centeredScaling||f.centeredScaling:d==="rotate"&&(w=this.centeredRotation||f.centeredRotation),w?!h:h}},_getOriginFromCorner:function(f,d){var h={x:f.originX,y:f.originY};return d==="ml"||d==="tl"||d==="bl"?h.x="right":(d==="mr"||d==="tr"||d==="br")&&(h.x="left"),d==="tl"||d==="mt"||d==="tr"?h.y="bottom":(d==="bl"||d==="mb"||d==="br")&&(h.y="top"),h},_getActionFromCorner:function(f,d,h,w){if(!d||!f)return"drag";var I=w.controls[d];return I.getActionName(h,I,w)},_setupCurrentTransform:function(f,d,h){if(!!d){var w=this.getPointer(f),I=d.__corner,y=d.controls[I],D=h&&I?y.getActionHandler(f,d,y):A.controlsUtils.dragHandler,F=this._getActionFromCorner(h,I,f,d),L=this._getOriginFromCorner(d,I),k=f[this.centeredKey],U={target:d,action:F,actionHandler:D,corner:I,scaleX:d.scaleX,scaleY:d.scaleY,skewX:d.skewX,skewY:d.skewY,offsetX:w.x-d.left,offsetY:w.y-d.top,originX:L.x,originY:L.y,ex:w.x,ey:w.y,lastX:w.x,lastY:w.y,theta:u(d.angle),width:d.width*d.scaleX,shiftKey:f.shiftKey,altKey:k,original:A.util.saveObjectTransform(d)};this._shouldCenterTransform(d,F,k)&&(U.originX="center",U.originY="center"),U.original.originX=L.x,U.original.originY=L.y,this._currentTransform=U,this._beforeTransform(f)}},setCursor:function(f){this.upperCanvasEl.style.cursor=f},_drawSelection:function(f){var d=this._groupSelector,h=new A.Point(d.ex,d.ey),w=A.util.transformPoint(h,this.viewportTransform),I=new A.Point(d.ex+d.left,d.ey+d.top),y=A.util.transformPoint(I,this.viewportTransform),D=Math.min(w.x,y.x),F=Math.min(w.y,y.y),L=Math.max(w.x,y.x),k=Math.max(w.y,y.y),U=this.selectionLineWidth/2;this.selectionColor&&(f.fillStyle=this.selectionColor,f.fillRect(D,F,L-D,k-F)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(f.lineWidth=this.selectionLineWidth,f.strokeStyle=this.selectionBorderColor,D+=U,F+=U,L-=U,k-=U,A.Object.prototype._setLineDash.call(this,f,this.selectionDashArray),f.strokeRect(D,F,L-D,k-F))},findTarget:function(f,d){if(!this.skipTargetFind){var h=!0,w=this.getPointer(f,h),I=this._activeObject,y=this.getActiveObjects(),D,F,L=g(f),k=y.length>1&&!d||y.length===1;if(this.targets=[],k&&I._findTargetCorner(w,L)||y.length>1&&!d&&I===this._searchPossibleTargets([I],w))return I;if(y.length===1&&I===this._searchPossibleTargets([I],w))if(this.preserveObjectStacking)D=I,F=this.targets,this.targets=[];else return I;var U=this._searchPossibleTargets(this._objects,w);return f[this.altSelectionKey]&&U&&D&&U!==D&&(U=D,this.targets=F),U}},_checkTarget:function(f,d,h){if(d&&d.visible&&d.evented&&d.containsPoint(f))if((this.perPixelTargetFind||d.perPixelTargetFind)&&!d.isEditing){var w=this.isTargetTransparent(d,h.x,h.y);if(!w)return!0}else return!0},_searchPossibleTargets:function(f,d){for(var h,w=f.length,I;w--;){var y=f[w],D=y.group?this._normalizePointer(y.group,d):d;if(this._checkTarget(D,y,d)){h=f[w],h.subTargetCheck&&h instanceof A.Group&&(I=this._searchPossibleTargets(h._objects,d),I&&this.targets.push(I));break}}return h},restorePointerVpt:function(f){return A.util.transformPoint(f,A.util.invertTransform(this.viewportTransform))},getPointer:function(f,d){if(this._absolutePointer&&!d)return this._absolutePointer;if(this._pointer&&d)return this._pointer;var h=p(f),w=this.upperCanvasEl,I=w.getBoundingClientRect(),y=I.width||0,D=I.height||0,F;(!y||!D)&&("top"in I&&"bottom"in I&&(D=Math.abs(I.top-I.bottom)),"right"in I&&"left"in I&&(y=Math.abs(I.right-I.left))),this.calcOffset(),h.x=h.x-this._offset.left,h.y=h.y-this._offset.top,d||(h=this.restorePointerVpt(h));var L=this.getRetinaScaling();return L!==1&&(h.x/=L,h.y/=L),y===0||D===0?F={width:1,height:1}:F={width:w.width/y,height:w.height/D},{x:h.x*F.width,y:h.y*F.height}},_createUpperCanvas:function(){var f=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),d=this.lowerCanvasEl,h=this.upperCanvasEl;h?h.className="":(h=this._createCanvasElement(),this.upperCanvasEl=h),A.util.addClass(h,"upper-canvas "+f),this.wrapperEl.appendChild(h),this._copyCanvasStyle(d,h),this._applyCanvasStyle(h),this.contextTop=h.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=A.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),A.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),A.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(f){var d=this.width||f.width,h=this.height||f.height;A.util.setStyle(f,{position:"absolute",width:d+"px",height:h+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),f.width=d,f.height=h,A.util.makeElementUnselectable(f)},_copyCanvasStyle:function(f,d){d.style.cssText=f.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var f=this._activeObject;return f?f.type==="activeSelection"&&f._objects?f._objects.slice(0):[f]:[]},_onObjectRemoved:function(f){f===this._activeObject&&(this.fire("before:selection:cleared",{target:f}),this._discardActiveObject(),this.fire("selection:cleared",{target:f}),f.fire("deselected")),f===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",f)},_fireSelectionEvents:function(f,d){var h=!1,w=this.getActiveObjects(),I=[],y=[];f.forEach(function(D){w.indexOf(D)===-1&&(h=!0,D.fire("deselected",{e:d,target:D}),y.push(D))}),w.forEach(function(D){f.indexOf(D)===-1&&(h=!0,D.fire("selected",{e:d,target:D}),I.push(D))}),f.length>0&&w.length>0?h&&this.fire("selection:updated",{e:d,selected:I,deselected:y,updated:I[0]||y[0],target:this._activeObject}):w.length>0?this.fire("selection:created",{e:d,selected:I,target:this._activeObject}):f.length>0&&this.fire("selection:cleared",{e:d,deselected:y})},setActiveObject:function(f,d){var h=this.getActiveObjects();return this._setActiveObject(f,d),this._fireSelectionEvents(h,d),this},_setActiveObject:function(f,d){return this._activeObject===f||!this._discardActiveObject(d,f)||f.onSelect({e:d})?!1:(this._activeObject=f,!0)},_discardActiveObject:function(f,d){var h=this._activeObject;if(h){if(h.onDeselect({e:f,object:d}))return!1;this._activeObject=null}return!0},discardActiveObject:function(f){var d=this.getActiveObjects(),h=this.getActiveObject();return d.length&&this.fire("before:selection:cleared",{target:h,e:f}),this._discardActiveObject(f),this._fireSelectionEvents(d,f),this},dispose:function(){var f=this.wrapperEl;return this.removeListeners(),f.removeChild(this.upperCanvasEl),f.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(d){A.util.cleanUpJsdomNode(this[d]),this[d]=void 0}.bind(this)),f.parentNode&&f.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,A.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(f){var d=this._activeObject;d&&d._renderControls(f)},_toObject:function(f,d,h){var w=this._realizeGroupTransformOnObject(f),I=this.callSuper("_toObject",f,d,h);return this._unwindGroupTransformOnObject(f,w),I},_realizeGroupTransformOnObject:function(f){if(f.group&&f.group.type==="activeSelection"&&this._activeObject===f.group){var d=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],h={};return d.forEach(function(w){h[w]=f[w]}),A.util.addTransformToObject(f,this._activeObject.calcOwnMatrix()),h}else return null},_unwindGroupTransformOnObject:function(f,d){d&&f.set(d)},_setSVGObject:function(f,d,h){var w=this._realizeGroupTransformOnObject(d);this.callSuper("_setSVGObject",f,d,h),this._unwindGroupTransformOnObject(d,w)},setViewportTransform:function(f){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),A.StaticCanvas.prototype.setViewportTransform.call(this,f)}});for(var C in A.StaticCanvas)C!=="prototype"&&(A.Canvas[C]=A.StaticCanvas[C])}(),function(){var p=A.util.addListener,u=A.util.removeListener,g=3,C=2,f=1,d={passive:!1};function h(w,I){return w.button&&w.button===I-1}A.util.object.extend(A.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(p,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(w,I){var y=this.upperCanvasEl,D=this._getEventPrefix();w(A.window,"resize",this._onResize),w(y,D+"down",this._onMouseDown),w(y,D+"move",this._onMouseMove,d),w(y,D+"out",this._onMouseOut),w(y,D+"enter",this._onMouseEnter),w(y,"wheel",this._onMouseWheel),w(y,"contextmenu",this._onContextMenu),w(y,"dblclick",this._onDoubleClick),w(y,"dragover",this._onDragOver),w(y,"dragenter",this._onDragEnter),w(y,"dragleave",this._onDragLeave),w(y,"drop",this._onDrop),this.enablePointerEvents||w(y,"touchstart",this._onTouchStart,d),typeof eventjs!="undefined"&&I in eventjs&&(eventjs[I](y,"gesture",this._onGesture),eventjs[I](y,"drag",this._onDrag),eventjs[I](y,"orientation",this._onOrientationChange),eventjs[I](y,"shake",this._onShake),eventjs[I](y,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(u,"remove");var w=this._getEventPrefix();u(A.document,w+"up",this._onMouseUp),u(A.document,"touchend",this._onTouchEnd,d),u(A.document,w+"move",this._onMouseMove,d),u(A.document,"touchmove",this._onMouseMove,d)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(w,I){this.__onTransformGesture&&this.__onTransformGesture(w,I)},_onDrag:function(w,I){this.__onDrag&&this.__onDrag(w,I)},_onMouseWheel:function(w){this.__onMouseWheel(w)},_onMouseOut:function(w){var I=this._hoveredTarget;this.fire("mouse:out",{target:I,e:w}),this._hoveredTarget=null,I&&I.fire("mouseout",{e:w});var y=this;this._hoveredTargets.forEach(function(D){y.fire("mouse:out",{target:I,e:w}),D&&I.fire("mouseout",{e:w})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(D){D.isEditing&&D.hiddenTextarea.focus()})},_onMouseEnter:function(w){!this._currentTransform&&!this.findTarget(w)&&(this.fire("mouse:over",{target:null,e:w}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(w,I){this.__onOrientationChange&&this.__onOrientationChange(w,I)},_onShake:function(w,I){this.__onShake&&this.__onShake(w,I)},_onLongPress:function(w,I){this.__onLongPress&&this.__onLongPress(w,I)},_onDragOver:function(w){w.preventDefault();var I=this._simpleEventHandler("dragover",w);this._fireEnterLeaveEvents(I,w)},_onContextMenu:function(w){return this.stopContextMenu&&(w.stopPropagation(),w.preventDefault()),!1},_onDoubleClick:function(w){this._cacheTransformEventData(w),this._handleEvent(w,"dblclick"),this._resetTransformEventData(w)},getPointerId:function(w){var I=w.changedTouches;return I?I[0]&&I[0].identifier:this.enablePointerEvents?w.pointerId:-1},_isMainEvent:function(w){return w.isPrimary===!0?!0:w.isPrimary===!1?!1:w.type==="touchend"&&w.touches.length===0?!0:w.changedTouches?w.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(w){w.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(w)),this.__onMouseDown(w),this._resetTransformEventData();var I=this.upperCanvasEl,y=this._getEventPrefix();p(A.document,"touchend",this._onTouchEnd,d),p(A.document,"touchmove",this._onMouseMove,d),u(I,y+"down",this._onMouseDown)},_onMouseDown:function(w){this.__onMouseDown(w),this._resetTransformEventData();var I=this.upperCanvasEl,y=this._getEventPrefix();u(I,y+"move",this._onMouseMove,d),p(A.document,y+"up",this._onMouseUp),p(A.document,y+"move",this._onMouseMove,d)},_onTouchEnd:function(w){if(!(w.touches.length>0)){this.__onMouseUp(w),this._resetTransformEventData(),this.mainTouchId=null;var I=this._getEventPrefix();u(A.document,"touchend",this._onTouchEnd,d),u(A.document,"touchmove",this._onMouseMove,d);var y=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){p(y.upperCanvasEl,I+"down",y._onMouseDown),y._willAddMouseDown=0},400)}},_onMouseUp:function(w){this.__onMouseUp(w),this._resetTransformEventData();var I=this.upperCanvasEl,y=this._getEventPrefix();this._isMainEvent(w)&&(u(A.document,y+"up",this._onMouseUp),u(A.document,y+"move",this._onMouseMove,d),p(I,y+"move",this._onMouseMove,d))},_onMouseMove:function(w){!this.allowTouchScrolling&&w.preventDefault&&w.preventDefault(),this.__onMouseMove(w)},_onResize:function(){this.calcOffset()},_shouldRender:function(w){var I=this._activeObject;return!!I!=!!w||I&&w&&I!==w?!0:(I&&I.isEditing,!1)},__onMouseUp:function(w){var I,y=this._currentTransform,D=this._groupSelector,F=!1,L=!D||D.left===0&&D.top===0;if(this._cacheTransformEventData(w),I=this._target,this._handleEvent(w,"up:before"),h(w,g)){this.fireRightClick&&this._handleEvent(w,"up",g,L);return}if(h(w,C)){this.fireMiddleClick&&this._handleEvent(w,"up",C,L),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(w);return}if(!!this._isMainEvent(w)){if(y&&(this._finalizeCurrentTransform(w),F=y.actionPerformed),!L){var k=I===this._activeObject;this._maybeGroupObjects(w),F||(F=this._shouldRender(I)||!k&&I===this._activeObject)}if(I){if(I.selectable&&I!==this._activeObject&&I.activeOn==="up")this.setActiveObject(I,w),F=!0;else{var U=I._findTargetCorner(this.getPointer(w,!0),A.util.isTouchEvent(w)),N=I.controls[U],z=N&&N.getMouseUpHandler(w,I,N);if(z){var H=this.getPointer(w);z(w,y,H.x,H.y)}}I.isMoving=!1}this._setCursorFromEvent(w,I),this._handleEvent(w,"up",f,L),this._groupSelector=null,this._currentTransform=null,I&&(I.__corner=0),F?this.requestRenderAll():L||this.renderTop()}},_simpleEventHandler:function(w,I){var y=this.findTarget(I),D=this.targets,F={e:I,target:y,subTargets:D};if(this.fire(w,F),y&&y.fire(w,F),!D)return y;for(var L=0;L<D.length;L++)D[L].fire(w,F);return y},_handleEvent:function(w,I,y,D){var F=this._target,L=this.targets||[],k={e:w,target:F,subTargets:L,button:y||f,isClick:D||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};I==="up"&&(k.currentTarget=this.findTarget(w),k.currentSubTargets=this.targets),this.fire("mouse:"+I,k),F&&F.fire("mouse"+I,k);for(var U=0;U<L.length;U++)L[U].fire("mouse"+I,k)},_finalizeCurrentTransform:function(w){var I=this._currentTransform,y=I.target,D,F={e:w,target:y,transform:I,action:I.action};y._scaling&&(y._scaling=!1),y.setCoords(),(I.actionPerformed||this.stateful&&y.hasStateChanged())&&(I.actionPerformed&&(D=this._addEventOptions(F,I),this._fire(D,F)),this._fire("modified",F))},_addEventOptions:function(w,I){var y,D;switch(I.action){case"scaleX":y="scaled",D="x";break;case"scaleY":y="scaled",D="y";break;case"skewX":y="skewed",D="x";break;case"skewY":y="skewed",D="y";break;case"scale":y="scaled",D="equally";break;case"rotate":y="rotated";break;case"drag":y="moved";break}return w.by=D,y},_onMouseDownInDrawingMode:function(w){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(w).requestRenderAll();var I=this.getPointer(w);this.freeDrawingBrush.onMouseDown(I,{e:w,pointer:I}),this._handleEvent(w,"down")},_onMouseMoveInDrawingMode:function(w){if(this._isCurrentlyDrawing){var I=this.getPointer(w);this.freeDrawingBrush.onMouseMove(I,{e:w,pointer:I})}this.setCursor(this.freeDrawingCursor),this._handleEvent(w,"move")},_onMouseUpInDrawingMode:function(w){var I=this.getPointer(w);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:w,pointer:I}),this._handleEvent(w,"up")},__onMouseDown:function(w){this._cacheTransformEventData(w),this._handleEvent(w,"down:before");var I=this._target;if(h(w,g)){this.fireRightClick&&this._handleEvent(w,"down",g);return}if(h(w,C)){this.fireMiddleClick&&this._handleEvent(w,"down",C);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(w);return}if(!!this._isMainEvent(w)&&!this._currentTransform){var y=this._pointer;this._previousPointer=y;var D=this._shouldRender(I),F=this._shouldGroup(w,I);if(this._shouldClearSelection(w,I)?this.discardActiveObject(w):F&&(this._handleGrouping(w,I),I=this._activeObject),this.selection&&(!I||!I.selectable&&!I.isEditing&&I!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),I){var L=I===this._activeObject;I.selectable&&I.activeOn==="down"&&this.setActiveObject(I,w);var k=I._findTargetCorner(this.getPointer(w,!0),A.util.isTouchEvent(w));if(I.__corner=k,I===this._activeObject&&(k||!F)){this._setupCurrentTransform(w,I,L);var U=I.controls[k],y=this.getPointer(w),N=U&&U.getMouseDownHandler(w,I,U);N&&N(w,this._currentTransform,y.x,y.y)}}this._handleEvent(w,"down"),(D||F)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(w){this._resetTransformEventData(),this._pointer=this.getPointer(w,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(w)||null},_beforeTransform:function(w){var I=this._currentTransform;this.stateful&&I.target.saveState(),this.fire("before:transform",{e:w,transform:I})},__onMouseMove:function(w){this._handleEvent(w,"move:before"),this._cacheTransformEventData(w);var I,y;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(w);return}if(!!this._isMainEvent(w)){var D=this._groupSelector;D?(y=this._absolutePointer,D.left=y.x-D.ex,D.top=y.y-D.ey,this.renderTop()):this._currentTransform?this._transformObject(w):(I=this.findTarget(w)||null,this._setCursorFromEvent(w,I),this._fireOverOutEvents(I,w)),this._handleEvent(w,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(w,I){var y=this._hoveredTarget,D=this._hoveredTargets,F=this.targets,L=Math.max(D.length,F.length);this.fireSyntheticInOutEvents(w,I,{oldTarget:y,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var k=0;k<L;k++)this.fireSyntheticInOutEvents(F[k],I,{oldTarget:D[k],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=w,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(w,I){var y=this._draggedoverTarget,D=this._hoveredTargets,F=this.targets,L=Math.max(D.length,F.length);this.fireSyntheticInOutEvents(w,I,{oldTarget:y,evtOut:"dragleave",evtIn:"dragenter"});for(var k=0;k<L;k++)this.fireSyntheticInOutEvents(F[k],I,{oldTarget:D[k],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=w},fireSyntheticInOutEvents:function(w,I,y){var D,F,L=y.oldTarget,k,U,N=L!==w,z=y.canvasEvtIn,H=y.canvasEvtOut;N&&(D={e:I,target:w,previousTarget:L},F={e:I,target:L,nextTarget:w}),U=w&&N,k=L&&N,k&&(H&&this.fire(H,F),L.fire(y.evtOut,F)),U&&(z&&this.fire(z,D),w.fire(y.evtIn,D))},__onMouseWheel:function(w){this._cacheTransformEventData(w),this._handleEvent(w,"wheel"),this._resetTransformEventData()},_transformObject:function(w){var I=this.getPointer(w),y=this._currentTransform;y.reset=!1,y.shiftKey=w.shiftKey,y.altKey=w[this.centeredKey],this._performTransformAction(w,y,I),y.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(w,I,y){var D=y.x,F=y.y,L=I.action,k=!1,U=I.actionHandler;U&&(k=U(w,I,D,F)),L==="drag"&&k&&(I.target.isMoving=!0,this.setCursor(I.target.moveCursor||this.moveCursor)),I.actionPerformed=I.actionPerformed||k},_fire:A.controlsUtils.fireEvent,_setCursorFromEvent:function(w,I){if(!I)return this.setCursor(this.defaultCursor),!1;var y=I.hoverCursor||this.hoverCursor,D=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,F=(!D||!D.contains(I))&&I._findTargetCorner(this.getPointer(w,!0));F?this.setCursor(this.getCornerCursor(F,I,w)):(I.subTargetCheck&&this.targets.concat().reverse().map(function(L){y=L.hoverCursor||y}),this.setCursor(y))},getCornerCursor:function(w,I,y){var D=I.controls[w];return D.cursorStyleHandler(y,D,I)}})}(),function(){var p=Math.min,u=Math.max;A.util.object.extend(A.Canvas.prototype,{_shouldGroup:function(g,C){var f=this._activeObject;return f&&this._isSelectionKeyPressed(g)&&C&&C.selectable&&this.selection&&(f!==C||f.type==="activeSelection")&&!C.onSelect({e:g})},_handleGrouping:function(g,C){var f=this._activeObject;f.__corner||C===f&&(C=this.findTarget(g,!0),!C||!C.selectable)||(f&&f.type==="activeSelection"?this._updateActiveSelection(C,g):this._createActiveSelection(C,g))},_updateActiveSelection:function(g,C){var f=this._activeObject,d=f._objects.slice(0);f.contains(g)?(f.removeWithUpdate(g),this._hoveredTarget=g,this._hoveredTargets=this.targets.concat(),f.size()===1&&this._setActiveObject(f.item(0),C)):(f.addWithUpdate(g),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(d,C)},_createActiveSelection:function(g,C){var f=this.getActiveObjects(),d=this._createGroup(g);this._hoveredTarget=d,this._setActiveObject(d,C),this._fireSelectionEvents(f,C)},_createGroup:function(g){var C=this._objects,f=C.indexOf(this._activeObject)<C.indexOf(g),d=f?[this._activeObject,g]:[g,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new A.ActiveSelection(d,{canvas:this})},_groupSelectedObjects:function(g){var C=this._collectObjects(g),f;C.length===1?this.setActiveObject(C[0],g):C.length>1&&(f=new A.ActiveSelection(C.reverse(),{canvas:this}),this.setActiveObject(f,g))},_collectObjects:function(g){for(var C=[],f,d=this._groupSelector.ex,h=this._groupSelector.ey,w=d+this._groupSelector.left,I=h+this._groupSelector.top,y=new A.Point(p(d,w),p(h,I)),D=new A.Point(u(d,w),u(h,I)),F=!this.selectionFullyContained,L=d===w&&h===I,k=this._objects.length;k--&&(f=this._objects[k],!(!(!f||!f.selectable||!f.visible)&&(F&&f.intersectsWithRect(y,D,!0)||f.isContainedWithinRect(y,D,!0)||F&&f.containsPoint(y,null,!0)||F&&f.containsPoint(D,null,!0))&&(C.push(f),L))););return C.length>1&&(C=C.filter(function(U){return!U.onSelect({e:g})})),C},_maybeGroupObjects:function(g){this.selection&&this._groupSelector&&this._groupSelectedObjects(g),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){A.util.object.extend(A.StaticCanvas.prototype,{toDataURL:function(p){p||(p={});var u=p.format||"png",g=p.quality||1,C=(p.multiplier||1)*(p.enableRetinaScaling?this.getRetinaScaling():1),f=this.toCanvasElement(C,p);return A.util.toDataURL(f,u,g)},toCanvasElement:function(p,u){p=p||1,u=u||{};var g=(u.width||this.width)*p,C=(u.height||this.height)*p,f=this.getZoom(),d=this.width,h=this.height,w=f*p,I=this.viewportTransform,y=(I[4]-(u.left||0))*p,D=(I[5]-(u.top||0))*p,F=this.interactive,L=[w,0,0,w,y,D],k=this.enableRetinaScaling,U=A.util.createCanvasElement(),N=this.contextTop;return U.width=g,U.height=C,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=L,this.width=g,this.height=C,this.calcViewportBoundaries(),this.renderCanvas(U.getContext("2d"),this._objects),this.viewportTransform=I,this.width=d,this.height=h,this.calcViewportBoundaries(),this.interactive=F,this.enableRetinaScaling=k,this.contextTop=N,U}})}(),A.util.object.extend(A.StaticCanvas.prototype,{loadFromJSON:function(p,u,g){if(!!p){var C=typeof p=="string"?JSON.parse(p):A.util.object.clone(p),f=this,d=C.clipPath,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete C.clipPath,this._enlivenObjects(C.objects,function(w){f.clear(),f._setBgOverlay(C,function(){d?f._enlivenObjects([d],function(I){f.clipPath=I[0],f.__setupCanvas.call(f,C,w,h,u)}):f.__setupCanvas.call(f,C,w,h,u)})},g),this}},__setupCanvas:function(p,u,g,C){var f=this;u.forEach(function(d,h){f.insertAt(d,h)}),this.renderOnAddRemove=g,delete p.objects,delete p.backgroundImage,delete p.overlayImage,delete p.background,delete p.overlay,this._setOptions(p),this.renderAll(),C&&C()},_setBgOverlay:function(p,u){var g={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!p.backgroundImage&&!p.overlayImage&&!p.background&&!p.overlay){u&&u();return}var C=function(){g.backgroundImage&&g.overlayImage&&g.backgroundColor&&g.overlayColor&&u&&u()};this.__setBgOverlay("backgroundImage",p.backgroundImage,g,C),this.__setBgOverlay("overlayImage",p.overlayImage,g,C),this.__setBgOverlay("backgroundColor",p.background,g,C),this.__setBgOverlay("overlayColor",p.overlay,g,C)},__setBgOverlay:function(p,u,g,C){var f=this;if(!u){g[p]=!0,C&&C();return}p==="backgroundImage"||p==="overlayImage"?A.util.enlivenObjects([u],function(d){f[p]=d[0],g[p]=!0,C&&C()}):this["set"+A.util.string.capitalize(p,!0)](u,function(){g[p]=!0,C&&C()})},_enlivenObjects:function(p,u,g){if(!p||p.length===0){u&&u([]);return}A.util.enlivenObjects(p,function(C){u&&u(C)},null,g)},_toDataURL:function(p,u){this.clone(function(g){u(g.toDataURL(p))})},_toDataURLWithMultiplier:function(p,u,g){this.clone(function(C){g(C.toDataURLWithMultiplier(p,u))})},clone:function(p,u){var g=JSON.stringify(this.toJSON(u));this.cloneWithoutData(function(C){C.loadFromJSON(g,function(){p&&p(C)})})},cloneWithoutData:function(p){var u=A.util.createCanvasElement();u.width=this.width,u.height=this.height;var g=new A.Canvas(u);this.backgroundImage?(g.setBackgroundImage(this.backgroundImage.src,function(){g.renderAll(),p&&p(g)}),g.backgroundImageOpacity=this.backgroundImageOpacity,g.backgroundImageStretch=this.backgroundImageStretch):p&&p(g)}}),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend,C=u.util.object.clone,f=u.util.toFixed,d=u.util.string.capitalize,h=u.util.degreesToRadians,w=!u.isLikelyNode,I=2;u.Object||(u.Object=u.util.createClass(u.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:w,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(y){y&&this.setOptions(y)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=u.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(y){var D=u.perfLimitSizeTotal,F=y.width,L=y.height,k=u.maxCacheSideLimit,U=u.minCacheSideLimit;if(F<=k&&L<=k&&F*L<=D)return F<U&&(y.width=U),L<U&&(y.height=U),y;var N=F/L,z=u.util.limitDimsByArea(N,D),H=u.util.capValue,X=H(U,z.x,k),ne=H(U,z.y,k);return F>X&&(y.zoomX/=F/X,y.width=X,y.capped=!0),L>ne&&(y.zoomY/=L/ne,y.height=ne,y.capped=!0),y},_getCacheCanvasDimensions:function(){var y=this.getTotalObjectScaling(),D=this._getTransformedDimensions(0,0),F=D.x*y.scaleX/this.scaleX,L=D.y*y.scaleY/this.scaleY;return{width:F+I,height:L+I,zoomX:y.scaleX,zoomY:y.scaleY,x:F,y:L}},_updateCacheCanvas:function(){var y=this.canvas;if(this.noScaleCache&&y&&y._currentTransform){var D=y._currentTransform.target,F=y._currentTransform.action;if(this===D&&F.slice&&F.slice(0,5)==="scale")return!1}var L=this._cacheCanvas,k=this._limitCacheSize(this._getCacheCanvasDimensions()),U=u.minCacheSideLimit,N=k.width,z=k.height,H,X,ne=k.zoomX,ie=k.zoomY,he=N!==this.cacheWidth||z!==this.cacheHeight,le=this.zoomX!==ne||this.zoomY!==ie,Ae=he||le,R=0,re=0,ee=!1;if(he){var oe=this._cacheCanvas.width,Z=this._cacheCanvas.height,J=N>oe||z>Z,q=(N<oe*.9||z<Z*.9)&&oe>U&&Z>U;ee=J||q,J&&!k.capped&&(N>U||z>U)&&(R=N*.1,re=z*.1)}return this instanceof u.Text&&this.path&&(Ae=!0,ee=!0,R+=this.getHeightOfLine(0)*this.zoomX,re+=this.getHeightOfLine(0)*this.zoomY),Ae?(ee?(L.width=Math.ceil(N+R),L.height=Math.ceil(z+re)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,L.width,L.height)),H=k.x/2,X=k.y/2,this.cacheTranslationX=Math.round(L.width/2-H)+H,this.cacheTranslationY=Math.round(L.height/2-X)+X,this.cacheWidth=N,this.cacheHeight=z,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(ne,ie),this.zoomX=ne,this.zoomY=ie,!0):!1},setOptions:function(y){this._setOptions(y),this._initGradient(y.fill,"fill"),this._initGradient(y.stroke,"stroke"),this._initPattern(y.fill,"fill"),this._initPattern(y.stroke,"stroke")},transform:function(y){var D=this.group&&!this.group._transformDone||this.group&&this.canvas&&y===this.canvas.contextTop,F=this.calcTransformMatrix(!D);y.transform(F[0],F[1],F[2],F[3],F[4],F[5])},toObject:function(y){var D=u.Object.NUM_FRACTION_DIGITS,F={type:this.type,version:u.version,originX:this.originX,originY:this.originY,left:f(this.left,D),top:f(this.top,D),width:f(this.width,D),height:f(this.height,D),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:f(this.strokeWidth,D),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:f(this.strokeMiterLimit,D),scaleX:f(this.scaleX,D),scaleY:f(this.scaleY,D),angle:f(this.angle,D),flipX:this.flipX,flipY:this.flipY,opacity:f(this.opacity,D),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:f(this.skewX,D),skewY:f(this.skewY,D)};return this.clipPath&&!this.clipPath.excludeFromExport&&(F.clipPath=this.clipPath.toObject(y),F.clipPath.inverted=this.clipPath.inverted,F.clipPath.absolutePositioned=this.clipPath.absolutePositioned),u.util.populateWithProperties(this,F,y),this.includeDefaultValues||(F=this._removeDefaultValues(F)),F},toDatalessObject:function(y){return this.toObject(y)},_removeDefaultValues:function(y){var D=u.util.getKlass(y.type).prototype,F=D.stateProperties;return F.forEach(function(L){if(!(L==="left"||L==="top")){y[L]===D[L]&&delete y[L];var k=Object.prototype.toString.call(y[L])==="[object Array]"&&Object.prototype.toString.call(D[L])==="[object Array]";k&&y[L].length===0&&D[L].length===0&&delete y[L]}}),y},toString:function(){return"#<fabric."+d(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var y=u.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(y.scaleX),scaleY:Math.abs(y.scaleY)}},getTotalObjectScaling:function(){var y=this.getObjectScaling(),D=y.scaleX,F=y.scaleY;if(this.canvas){var L=this.canvas.getZoom(),k=this.canvas.getRetinaScaling();D*=L*k,F*=L*k}return{scaleX:D,scaleY:F}},getObjectOpacity:function(){var y=this.opacity;return this.group&&(y*=this.group.getObjectOpacity()),y},_set:function(y,D){var F=y==="scaleX"||y==="scaleY",L=this[y]!==D,k=!1;return F&&(D=this._constrainScale(D)),y==="scaleX"&&D<0?(this.flipX=!this.flipX,D*=-1):y==="scaleY"&&D<0?(this.flipY=!this.flipY,D*=-1):y==="shadow"&&D&&!(D instanceof u.Shadow)?D=new u.Shadow(D):y==="dirty"&&this.group&&this.group.set("dirty",D),this[y]=D,L&&(k=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(y)>-1?(this.dirty=!0,k&&this.group.set("dirty",!0)):k&&this.stateProperties.indexOf(y)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:u.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(y){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(y.save(),this._setupCompositeOperation(y),this.drawSelectionBackground(y),this.transform(y),this._setOpacity(y),this._setShadow(y,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(y)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(y),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),y.restore())},renderCache:function(y){y=y||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,y.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(y){var D=this.clipPath;if(y.save(),D.inverted?y.globalCompositeOperation="destination-out":y.globalCompositeOperation="destination-in",D.absolutePositioned){var F=u.util.invertTransform(this.calcTransformMatrix());y.transform(F[0],F[1],F[2],F[3],F[4],F[5])}D.transform(y),y.scale(1/D.zoomX,1/D.zoomY),y.drawImage(D._cacheCanvas,-D.cacheTranslationX,-D.cacheTranslationY),y.restore()},drawObject:function(y,D){var F=this.fill,L=this.stroke;D?(this.fill="black",this.stroke="",this._setClippingProperties(y)):this._renderBackground(y),this._render(y),this._drawClipPath(y),this.fill=F,this.stroke=L},_drawClipPath:function(y){var D=this.clipPath;!D||(D.canvas=this.canvas,D.shouldCache(),D._transformDone=!0,D.renderCache({forClipping:!0}),this.drawClipPathOnCache(y))},drawCacheOnCanvas:function(y){y.scale(1/this.zoomX,1/this.zoomY),y.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(y){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!y&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!y){var D=this.cacheWidth/this.zoomX,F=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-D/2,-F/2,D,F)}return!0}return!1},_renderBackground:function(y){if(!!this.backgroundColor){var D=this._getNonTransformedDimensions();y.fillStyle=this.backgroundColor,y.fillRect(-D.x/2,-D.y/2,D.x,D.y),this._removeShadow(y)}},_setOpacity:function(y){this.group&&!this.group._transformDone?y.globalAlpha=this.getObjectOpacity():y.globalAlpha*=this.opacity},_setStrokeStyles:function(y,D){var F=D.stroke;F&&(y.lineWidth=D.strokeWidth,y.lineCap=D.strokeLineCap,y.lineDashOffset=D.strokeDashOffset,y.lineJoin=D.strokeLineJoin,y.miterLimit=D.strokeMiterLimit,F.toLive?F.gradientUnits==="percentage"||F.gradientTransform||F.patternTransform?this._applyPatternForTransformedGradient(y,F):(y.strokeStyle=F.toLive(y,this),this._applyPatternGradientTransform(y,F)):y.strokeStyle=D.stroke)},_setFillStyles:function(y,D){var F=D.fill;F&&(F.toLive?(y.fillStyle=F.toLive(y,this),this._applyPatternGradientTransform(y,D.fill)):y.fillStyle=F)},_setClippingProperties:function(y){y.globalAlpha=1,y.strokeStyle="transparent",y.fillStyle="#000000"},_setLineDash:function(y,D){!D||D.length===0||(1&D.length&&D.push.apply(D,D),y.setLineDash(D))},_renderControls:function(y,D){var F=this.getViewportTransform(),L=this.calcTransformMatrix(),k,U,N;D=D||{},U=typeof D.hasBorders!="undefined"?D.hasBorders:this.hasBorders,N=typeof D.hasControls!="undefined"?D.hasControls:this.hasControls,L=u.util.multiplyTransformMatrices(F,L),k=u.util.qrDecompose(L),y.save(),y.translate(k.translateX,k.translateY),y.lineWidth=1*this.borderScaleFactor,this.group||(y.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),y.rotate(h(k.angle)),D.forActiveSelection||this.group?U&&this.drawBordersInGroup(y,k,D):U&&this.drawBorders(y,D),N&&this.drawControls(y,D),y.restore()},_setShadow:function(y){if(!!this.shadow){var D=this.shadow,F=this.canvas,L,k=F&&F.viewportTransform[0]||1,U=F&&F.viewportTransform[3]||1;D.nonScaling?L={scaleX:1,scaleY:1}:L=this.getObjectScaling(),F&&F._isRetinaScaling()&&(k*=u.devicePixelRatio,U*=u.devicePixelRatio),y.shadowColor=D.color,y.shadowBlur=D.blur*u.browserShadowBlurConstant*(k+U)*(L.scaleX+L.scaleY)/4,y.shadowOffsetX=D.offsetX*k*L.scaleX,y.shadowOffsetY=D.offsetY*U*L.scaleY}},_removeShadow:function(y){!this.shadow||(y.shadowColor="",y.shadowBlur=y.shadowOffsetX=y.shadowOffsetY=0)},_applyPatternGradientTransform:function(y,D){if(!D||!D.toLive)return{offsetX:0,offsetY:0};var F=D.gradientTransform||D.patternTransform,L=-this.width/2+D.offsetX||0,k=-this.height/2+D.offsetY||0;return D.gradientUnits==="percentage"?y.transform(this.width,0,0,this.height,L,k):y.transform(1,0,0,1,L,k),F&&y.transform(F[0],F[1],F[2],F[3],F[4],F[5]),{offsetX:L,offsetY:k}},_renderPaintInOrder:function(y){this.paintFirst==="stroke"?(this._renderStroke(y),this._renderFill(y)):(this._renderFill(y),this._renderStroke(y))},_render:function(){},_renderFill:function(y){!this.fill||(y.save(),this._setFillStyles(y,this),this.fillRule==="evenodd"?y.fill("evenodd"):y.fill(),y.restore())},_renderStroke:function(y){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(y),y.save(),this.strokeUniform&&this.group){var D=this.getObjectScaling();y.scale(1/D.scaleX,1/D.scaleY)}else this.strokeUniform&&y.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(y,this.strokeDashArray),this._setStrokeStyles(y,this),y.stroke(),y.restore()}},_applyPatternForTransformedGradient:function(y,D){var F=this._limitCacheSize(this._getCacheCanvasDimensions()),L=u.util.createCanvasElement(),k,U=this.canvas.getRetinaScaling(),N=F.x/this.scaleX/U,z=F.y/this.scaleY/U;L.width=N,L.height=z,k=L.getContext("2d"),k.beginPath(),k.moveTo(0,0),k.lineTo(N,0),k.lineTo(N,z),k.lineTo(0,z),k.closePath(),k.translate(N/2,z/2),k.scale(F.zoomX/this.scaleX/U,F.zoomY/this.scaleY/U),this._applyPatternGradientTransform(k,D),k.fillStyle=D.toLive(y),k.fill(),y.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),y.scale(U*this.scaleX/F.zoomX,U*this.scaleY/F.zoomY),y.strokeStyle=k.createPattern(L,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var y=u.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",y.scaleX),this.set("scaleY",y.scaleY),this.angle=y.angle,this.skewX=y.skewX,this.skewY=0}},_removeTransformMatrix:function(y){var D=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),D=u.util.transformPoint(D,this.transformMatrix)),this.transformMatrix=null,y&&(this.scaleX*=y.scaleX,this.scaleY*=y.scaleY,this.cropX=y.cropX,this.cropY=y.cropY,D.x+=y.offsetLeft,D.y+=y.offsetTop,this.width=y.width,this.height=y.height),this.setPositionByOrigin(D,"center","center")},clone:function(y,D){var F=this.toObject(D);this.constructor.fromObject?this.constructor.fromObject(F,y):u.Object._fromObject("Object",F,y)},cloneAsImage:function(y,D){var F=this.toCanvasElement(D);return y&&y(new u.Image(F)),this},toCanvasElement:function(y){y||(y={});var D=u.util,F=D.saveObjectTransform(this),L=this.group,k=this.shadow,U=Math.abs,N=(y.multiplier||1)*(y.enableRetinaScaling?u.devicePixelRatio:1);delete this.group,y.withoutTransform&&D.resetObjectTransform(this),y.withoutShadow&&(this.shadow=null);var z=u.util.createCanvasElement(),H=this.getBoundingRect(!0,!0),X=this.shadow,ne,ie={x:0,y:0},he,le,Ae;X&&(he=X.blur,X.nonScaling?ne={scaleX:1,scaleY:1}:ne=this.getObjectScaling(),ie.x=2*Math.round(U(X.offsetX)+he)*U(ne.scaleX),ie.y=2*Math.round(U(X.offsetY)+he)*U(ne.scaleY)),le=H.width+ie.x,Ae=H.height+ie.y,z.width=Math.ceil(le),z.height=Math.ceil(Ae);var R=new u.StaticCanvas(z,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});y.format==="jpeg"&&(R.backgroundColor="#fff"),this.setPositionByOrigin(new u.Point(R.width/2,R.height/2),"center","center");var re=this.canvas;R.add(this);var ee=R.toCanvasElement(N||1,y);return this.shadow=k,this.set("canvas",re),L&&(this.group=L),this.set(F).setCoords(),R._objects=[],R.dispose(),R=null,ee},toDataURL:function(y){return y||(y={}),u.util.toDataURL(this.toCanvasElement(y),y.format||"png",y.quality||1)},isType:function(y){return this.type===y},complexity:function(){return 1},toJSON:function(y){return this.toObject(y)},rotate:function(y){var D=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return D&&this._setOriginToCenter(),this.set("angle",y),D&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(y,D){D=D||this.canvas.getPointer(y);var F=new u.Point(D.x,D.y),L=this._getLeftTopCoords();return this.angle&&(F=u.util.rotatePoint(F,L,h(-this.angle))),{x:F.x-L.x,y:F.y-L.y}},_setupCompositeOperation:function(y){this.globalCompositeOperation&&(y.globalCompositeOperation=this.globalCompositeOperation)}}),u.util.createAccessors&&u.util.createAccessors(u.Object),g(u.Object.prototype,u.Observable),u.Object.NUM_FRACTION_DIGITS=2,u.Object._fromObject=function(y,D,F,L){var k=u[y];D=C(D,!0),u.util.enlivenPatterns([D.fill,D.stroke],function(U){typeof U[0]!="undefined"&&(D.fill=U[0]),typeof U[1]!="undefined"&&(D.stroke=U[1]),u.util.enlivenObjects([D.clipPath],function(N){D.clipPath=N[0];var z=L?new k(D[L],D):new k(D);F&&F(z)})})},u.Object.__uid=0)}(c),function(){var p=A.util.degreesToRadians,u={left:-.5,center:0,right:.5},g={top:-.5,center:0,bottom:.5};A.util.object.extend(A.Object.prototype,{translateToGivenOrigin:function(C,f,d,h,w){var I=C.x,y=C.y,D,F,L;return typeof f=="string"?f=u[f]:f-=.5,typeof h=="string"?h=u[h]:h-=.5,D=h-f,typeof d=="string"?d=g[d]:d-=.5,typeof w=="string"?w=g[w]:w-=.5,F=w-d,(D||F)&&(L=this._getTransformedDimensions(),I=C.x+D*L.x,y=C.y+F*L.y),new A.Point(I,y)},translateToCenterPoint:function(C,f,d){var h=this.translateToGivenOrigin(C,f,d,"center","center");return this.angle?A.util.rotatePoint(h,C,p(this.angle)):h},translateToOriginPoint:function(C,f,d){var h=this.translateToGivenOrigin(C,"center","center",f,d);return this.angle?A.util.rotatePoint(h,C,p(this.angle)):h},getCenterPoint:function(){var C=new A.Point(this.left,this.top);return this.translateToCenterPoint(C,this.originX,this.originY)},getPointByOrigin:function(C,f){var d=this.getCenterPoint();return this.translateToOriginPoint(d,C,f)},toLocalPoint:function(C,f,d){var h=this.getCenterPoint(),w,I;return typeof f!="undefined"&&typeof d!="undefined"?w=this.translateToGivenOrigin(h,"center","center",f,d):w=new A.Point(this.left,this.top),I=new A.Point(C.x,C.y),this.angle&&(I=A.util.rotatePoint(I,h,-p(this.angle))),I.subtractEquals(w)},setPositionByOrigin:function(C,f,d){var h=this.translateToCenterPoint(C,f,d),w=this.translateToOriginPoint(h,this.originX,this.originY);this.set("left",w.x),this.set("top",w.y)},adjustPosition:function(C){var f=p(this.angle),d=this.getScaledWidth(),h=A.util.cos(f)*d,w=A.util.sin(f)*d,I,y;typeof this.originX=="string"?I=u[this.originX]:I=this.originX-.5,typeof C=="string"?y=u[C]:y=C-.5,this.left+=h*(y-I),this.top+=w*(y-I),this.setCoords(),this.originX=C},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var C=this.getCenterPoint();this.originX="center",this.originY="center",this.left=C.x,this.top=C.y},_resetOrigin:function(){var C=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=C.x,this.top=C.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function p(d){return[new A.Point(d.tl.x,d.tl.y),new A.Point(d.tr.x,d.tr.y),new A.Point(d.br.x,d.br.y),new A.Point(d.bl.x,d.bl.y)]}var u=A.util,g=u.degreesToRadians,C=u.multiplyTransformMatrices,f=u.transformPoint;u.object.extend(A.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(d,h){return h?d?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),d?this.aCoords:this.lineCoords)},getCoords:function(d,h){return p(this._getCoords(d,h))},intersectsWithRect:function(d,h,w,I){var y=this.getCoords(w,I),D=A.Intersection.intersectPolygonRectangle(y,d,h);return D.status==="Intersection"},intersectsWithObject:function(d,h,w){var I=A.Intersection.intersectPolygonPolygon(this.getCoords(h,w),d.getCoords(h,w));return I.status==="Intersection"||d.isContainedWithinObject(this,h,w)||this.isContainedWithinObject(d,h,w)},isContainedWithinObject:function(d,h,w){for(var I=this.getCoords(h,w),y=h?d.aCoords:d.lineCoords,D=0,F=d._getImageLines(y);D<4;D++)if(!d.containsPoint(I[D],F))return!1;return!0},isContainedWithinRect:function(d,h,w,I){var y=this.getBoundingRect(w,I);return y.left>=d.x&&y.left+y.width<=h.x&&y.top>=d.y&&y.top+y.height<=h.y},containsPoint:function(d,D,w,I){var y=this._getCoords(w,I),D=D||this._getImageLines(y),F=this._findCrossPoints(d,D);return F!==0&&F%2===1},isOnScreen:function(d){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,w=this.canvas.vptCoords.br,I=this.getCoords(!0,d);return I.some(function(y){return y.x<=w.x&&y.x>=h.x&&y.y<=w.y&&y.y>=h.y})||this.intersectsWithRect(h,w,!0,d)?!0:this._containsCenterOfCanvas(h,w,d)},_containsCenterOfCanvas:function(d,h,w){var I={x:(d.x+h.x)/2,y:(d.y+h.y)/2};return!!this.containsPoint(I,null,!0,w)},isPartiallyOnScreen:function(d){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,w=this.canvas.vptCoords.br;if(this.intersectsWithRect(h,w,!0,d))return!0;var I=this.getCoords(!0,d).every(function(y){return(y.x>=w.x||y.x<=h.x)&&(y.y>=w.y||y.y<=h.y)});return I&&this._containsCenterOfCanvas(h,w,d)},_getImageLines:function(d){var h={topline:{o:d.tl,d:d.tr},rightline:{o:d.tr,d:d.br},bottomline:{o:d.br,d:d.bl},leftline:{o:d.bl,d:d.tl}};return h},_findCrossPoints:function(d,h){var w,I,y,D,F,L=0,k;for(var U in h)if(k=h[U],!(k.o.y<d.y&&k.d.y<d.y)&&!(k.o.y>=d.y&&k.d.y>=d.y)&&(k.o.x===k.d.x&&k.o.x>=d.x?F=k.o.x:(w=0,I=(k.d.y-k.o.y)/(k.d.x-k.o.x),y=d.y-w*d.x,D=k.o.y-I*k.o.x,F=-(y-D)/(w-I)),F>=d.x&&(L+=1),L===2))break;return L},getBoundingRect:function(d,h){var w=this.getCoords(d,h);return u.makeBoundingBoxFromPoints(w)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(d){return Math.abs(d)<this.minScaleLimit?d<0?-this.minScaleLimit:this.minScaleLimit:d===0?1e-4:d},scale:function(d){return this._set("scaleX",d),this._set("scaleY",d),this.setCoords()},scaleToWidth:function(d,h){var w=this.getBoundingRect(h).width/this.getScaledWidth();return this.scale(d/this.width/w)},scaleToHeight:function(d,h){var w=this.getBoundingRect(h).height/this.getScaledHeight();return this.scale(d/this.height/w)},calcCoords:function(d){return d?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var d=this.getViewportTransform(),h=this.padding,w=g(this.angle),I=u.cos(w),y=u.sin(w),D=I*h,F=y*h,L=D+F,k=D-F,U=this.calcACoords(),N={tl:f(U.tl,d),tr:f(U.tr,d),bl:f(U.bl,d),br:f(U.br,d)};return h&&(N.tl.x-=k,N.tl.y-=L,N.tr.x+=L,N.tr.y-=k,N.bl.x-=L,N.bl.y+=k,N.br.x+=k,N.br.y+=L),N},calcOCoords:function(){var d=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),w=this.getViewportTransform(),I=C(w,h),y=C(I,d),y=C(y,[1/w[0],0,0,1/w[3],0,0]),D=this._calculateCurrentDimensions(),F={};return this.forEachControl(function(L,k,U){F[k]=L.positionHandler(D,y,U)}),F},calcACoords:function(){var d=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),w=C(h,d),I=this._getTransformedDimensions(),y=I.x/2,D=I.y/2;return{tl:f({x:-y,y:-D},w),tr:f({x:y,y:-D},w),bl:f({x:-y,y:D},w),br:f({x:y,y:D},w)}},setCoords:function(d){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),d?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return u.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var d=this.getCenterPoint();return[1,0,0,1,d.x,d.y]},transformMatrixKey:function(d){var h="_",w="";return!d&&this.group&&(w=this.group.transformMatrixKey(d)+h),w+this.top+h+this.left+h+this.scaleX+h+this.scaleY+h+this.skewX+h+this.skewY+h+this.angle+h+this.originX+h+this.originY+h+this.width+h+this.height+h+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(d){var h=this.calcOwnMatrix();if(d||!this.group)return h;var w=this.transformMatrixKey(d),I=this.matrixCache||(this.matrixCache={});return I.key===w?I.value:(this.group&&(h=C(this.group.calcTransformMatrix(!1),h)),I.key=w,I.value=h,h)},calcOwnMatrix:function(){var d=this.transformMatrixKey(!0),h=this.ownMatrixCache||(this.ownMatrixCache={});if(h.key===d)return h.value;var w=this._calcTranslateMatrix(),I={angle:this.angle,translateX:w[4],translateY:w[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return h.key=d,h.value=u.composeMatrix(I),h.value},_calcDimensionsTransformMatrix:function(d,h,w){return u.calcDimensionsMatrix({skewX:d,skewY:h,scaleX:this.scaleX*(w&&this.flipX?-1:1),scaleY:this.scaleY*(w&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var d=this.strokeWidth,h=this.width+d,w=this.height+d;return{x:h,y:w}},_getTransformedDimensions:function(d,h){typeof d=="undefined"&&(d=this.skewX),typeof h=="undefined"&&(h=this.skewY);var w,I,y,D=d===0&&h===0;if(this.strokeUniform?(I=this.width,y=this.height):(w=this._getNonTransformedDimensions(),I=w.x,y=w.y),D)return this._finalizeDimensions(I*this.scaleX,y*this.scaleY);var F=u.sizeAfterTransform(I,y,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:d,skewY:h});return this._finalizeDimensions(F.x,F.y)},_finalizeDimensions:function(d,h){return this.strokeUniform?{x:d+this.strokeWidth,y:h+this.strokeWidth}:{x:d,y:h}},_calculateCurrentDimensions:function(){var d=this.getViewportTransform(),h=this._getTransformedDimensions(),w=f(h,d,!0);return w.scalarAdd(2*this.padding)}})}(),A.util.object.extend(A.Object.prototype,{sendToBack:function(){return this.group?A.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?A.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(p){return this.group?A.StaticCanvas.prototype.sendBackwards.call(this.group,this,p):this.canvas&&this.canvas.sendBackwards(this,p),this},bringForward:function(p){return this.group?A.StaticCanvas.prototype.bringForward.call(this.group,this,p):this.canvas&&this.canvas.bringForward(this,p),this},moveTo:function(p){return this.group&&this.group.type!=="activeSelection"?A.StaticCanvas.prototype.moveTo.call(this.group,this,p):this.canvas&&this.canvas.moveTo(this,p),this}}),function(){function p(g,C){if(C){if(C.toLive)return g+": url(#SVGID_"+C.id+"); ";var f=new A.Color(C),d=g+": "+f.toRgb()+"; ",h=f.getAlpha();return h!==1&&(d+=g+"-opacity: "+h.toString()+"; "),d}else return g+": none; "}var u=A.util.toFixed;A.util.object.extend(A.Object.prototype,{getSvgStyles:function(g){var C=this.fillRule?this.fillRule:"nonzero",f=this.strokeWidth?this.strokeWidth:"0",d=this.strokeDashArray?this.strokeDashArray.join(" "):"none",h=this.strokeDashOffset?this.strokeDashOffset:"0",w=this.strokeLineCap?this.strokeLineCap:"butt",I=this.strokeLineJoin?this.strokeLineJoin:"miter",y=this.strokeMiterLimit?this.strokeMiterLimit:"4",D=typeof this.opacity!="undefined"?this.opacity:"1",F=this.visible?"":" visibility: hidden;",L=g?"":this.getSvgFilter(),k=p("fill",this.fill),U=p("stroke",this.stroke);return[U,"stroke-width: ",f,"; ","stroke-dasharray: ",d,"; ","stroke-linecap: ",w,"; ","stroke-dashoffset: ",h,"; ","stroke-linejoin: ",I,"; ","stroke-miterlimit: ",y,"; ",k,"fill-rule: ",C,"; ","opacity: ",D,";",L,F].join("")},getSvgSpanStyles:function(g,C){var f="; ",h=g.fontFamily?"font-family: "+(g.fontFamily.indexOf("'")===-1&&g.fontFamily.indexOf('"')===-1?"'"+g.fontFamily+"'":g.fontFamily)+f:"",d=g.strokeWidth?"stroke-width: "+g.strokeWidth+f:"",h=h,w=g.fontSize?"font-size: "+g.fontSize+"px"+f:"",I=g.fontStyle?"font-style: "+g.fontStyle+f:"",y=g.fontWeight?"font-weight: "+g.fontWeight+f:"",D=g.fill?p("fill",g.fill):"",F=g.stroke?p("stroke",g.stroke):"",L=this.getSvgTextDecoration(g),k=g.deltaY?"baseline-shift: "+-g.deltaY+"; ":"";return L&&(L="text-decoration: "+L+f),[F,d,h,w,I,y,L,D,k,C?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(g){return["overline","underline","line-through"].filter(function(C){return g[C.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(g,C){var f=g?this.calcTransformMatrix():this.calcOwnMatrix(),d='transform="'+A.util.matrixToSVG(f);return d+(C||"")+'" '},_setSVGBg:function(g){if(this.backgroundColor){var C=A.Object.NUM_FRACTION_DIGITS;g.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',u(-this.width/2,C),'" y="',u(-this.height/2,C),'" width="',u(this.width,C),'" height="',u(this.height,C),`"></rect>
`)}},toSVG:function(g){return this._createBaseSVGMarkup(this._toSVG(g),{reviver:g})},toClipPathSVG:function(g){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(g),{reviver:g})},_createBaseClipPathSVGMarkup:function(g,C){C=C||{};var f=C.reviver,d=C.additionalTransform||"",h=[this.getSvgTransform(!0,d),this.getSvgCommons()].join(""),w=g.indexOf("COMMON_PARTS");return g[w]=h,f?f(g.join("")):g.join("")},_createBaseSVGMarkup:function(g,C){C=C||{};var f=C.noStyle,d=C.reviver,h=f?"":'style="'+this.getSvgStyles()+'" ',w=C.withShadow?'style="'+this.getSvgFilter()+'" ':"",I=this.clipPath,y=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",D=I&&I.absolutePositioned,F=this.stroke,L=this.fill,k=this.shadow,U,N=[],z,H=g.indexOf("COMMON_PARTS"),X=C.additionalTransform;return I&&(I.clipPathId="CLIPPATH_"+A.Object.__uid++,z='<clipPath id="'+I.clipPathId+`" >
`+I.toClipPathSVG(d)+`</clipPath>
`),D&&N.push("<g ",w,this.getSvgCommons(),` >
`),N.push("<g ",this.getSvgTransform(!1),D?"":w+this.getSvgCommons(),` >
`),U=[h,y,f?"":this.addPaintOrder()," ",X?'transform="'+X+'" ':""].join(""),g[H]=U,L&&L.toLive&&N.push(L.toSVG(this)),F&&F.toLive&&N.push(F.toSVG(this)),k&&N.push(k.toSVG(this)),I&&N.push(z),N.push(g.join("")),N.push(`</g>
`),D&&N.push(`</g>
`),d?d(N.join("")):N.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var p=A.util.object.extend,u="stateProperties";function g(f,d,h){var w={},I=!0;h.forEach(function(y){w[y]=f[y]}),p(f[d],w,I)}function C(f,d,h){if(f===d)return!0;if(Array.isArray(f)){if(!Array.isArray(d)||f.length!==d.length)return!1;for(var w=0,I=f.length;w<I;w++)if(!C(f[w],d[w]))return!1;return!0}else if(f&&typeof f=="object"){var y=Object.keys(f),D;if(!d||typeof d!="object"||!h&&y.length!==Object.keys(d).length)return!1;for(var w=0,I=y.length;w<I;w++)if(D=y[w],!(D==="canvas"||D==="group")&&!C(f[D],d[D]))return!1;return!0}}A.util.object.extend(A.Object.prototype,{hasStateChanged:function(f){f=f||u;var d="_"+f;return Object.keys(this[d]).length<this[f].length?!0:!C(this[d],this,!0)},saveState:function(f){var d=f&&f.propertySet||u,h="_"+d;return this[h]?(g(this,h,this[d]),f&&f.stateProperties&&g(this,h,f.stateProperties),this):this.setupState(f)},setupState:function(f){f=f||{};var d=f.propertySet||u;return f.propertySet=d,this["_"+d]={},this.saveState(f),this}})}(),function(){var p=A.util.degreesToRadians;A.util.object.extend(A.Object.prototype,{_findTargetCorner:function(u,g){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var C=u.x,f=u.y,d,h,w=Object.keys(this.oCoords),I=w.length-1,y;for(this.__corner=0;I>=0;I--)if(y=w[I],!!this.isControlVisible(y)&&(h=this._getImageLines(g?this.oCoords[y].touchCorner:this.oCoords[y].corner),d=this._findCrossPoints({x:C,y:f},h),d!==0&&d%2===1))return this.__corner=y,y;return!1},forEachControl:function(u){for(var g in this.controls)u(this.controls[g],g,this)},_setCornerCoords:function(){var u=this.oCoords;for(var g in u){var C=this.controls[g];u[g].corner=C.calcCornerCoords(this.angle,this.cornerSize,u[g].x,u[g].y,!1),u[g].touchCorner=C.calcCornerCoords(this.angle,this.touchCornerSize,u[g].x,u[g].y,!0)}},drawSelectionBackground:function(u){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;u.save();var g=this.getCenterPoint(),C=this._calculateCurrentDimensions(),f=this.canvas.viewportTransform;return u.translate(g.x,g.y),u.scale(1/f[0],1/f[3]),u.rotate(p(this.angle)),u.fillStyle=this.selectionBackgroundColor,u.fillRect(-C.x/2,-C.y/2,C.x,C.y),u.restore(),this},drawBorders:function(u,g){g=g||{};var C=this._calculateCurrentDimensions(),f=this.borderScaleFactor,d=C.x+f,h=C.y+f,w=typeof g.hasControls!="undefined"?g.hasControls:this.hasControls,I=!1;return u.save(),u.strokeStyle=g.borderColor||this.borderColor,this._setLineDash(u,g.borderDashArray||this.borderDashArray),u.strokeRect(-d/2,-h/2,d,h),w&&(u.beginPath(),this.forEachControl(function(y,D,F){y.withConnection&&y.getVisibility(F,D)&&(I=!0,u.moveTo(y.x*d,y.y*h),u.lineTo(y.x*d+y.offsetX,y.y*h+y.offsetY))}),I&&u.stroke()),u.restore(),this},drawBordersInGroup:function(u,g,C){C=C||{};var f=A.util.sizeAfterTransform(this.width,this.height,g),d=this.strokeWidth,h=this.strokeUniform,w=this.borderScaleFactor,I=f.x+d*(h?this.canvas.getZoom():g.scaleX)+w,y=f.y+d*(h?this.canvas.getZoom():g.scaleY)+w;return u.save(),this._setLineDash(u,C.borderDashArray||this.borderDashArray),u.strokeStyle=C.borderColor||this.borderColor,u.strokeRect(-I/2,-y/2,I,y),u.restore(),this},drawControls:function(u,g){g=g||{},u.save();var C=this.canvas.getRetinaScaling(),f,d;return u.setTransform(C,0,0,C,0,0),u.strokeStyle=u.fillStyle=g.cornerColor||this.cornerColor,this.transparentCorners||(u.strokeStyle=g.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(u,g.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(f=this.group.calcTransformMatrix()),this.forEachControl(function(h,w,I){d=I.oCoords[w],h.getVisibility(I,w)&&(f&&(d=A.util.transformPoint(d,f)),h.render(u,d.x,d.y,g,I))}),u.restore(),this},isControlVisible:function(u){return this.controls[u]&&this.controls[u].getVisibility(this,u)},setControlVisible:function(u,g){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[u]=g,this},setControlsVisibility:function(u){u||(u={});for(var g in u)this.setControlVisible(g,u[g]);return this},onDeselect:function(){},onSelect:function(){}})}(),A.util.object.extend(A.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(p,u){u=u||{};var g=function(){},C=u.onComplete||g,f=u.onChange||g,d=this;return A.util.animate({startValue:p.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(h){p.set("left",h),d.requestRenderAll(),f()},onComplete:function(){p.setCoords(),C()}}),this},fxCenterObjectV:function(p,u){u=u||{};var g=function(){},C=u.onComplete||g,f=u.onChange||g,d=this;return A.util.animate({startValue:p.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(h){p.set("top",h),d.requestRenderAll(),f()},onComplete:function(){p.setCoords(),C()}}),this},fxRemove:function(p,u){u=u||{};var g=function(){},C=u.onComplete||g,f=u.onChange||g,d=this;return A.util.animate({startValue:p.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(h){p.set("opacity",h),d.requestRenderAll(),f()},onComplete:function(){d.remove(p),C()}}),this}}),A.util.object.extend(A.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var p=[],u,g;for(u in arguments[0])p.push(u);for(var C=0,f=p.length;C<f;C++)u=p[C],g=C!==f-1,this._animate(u,arguments[0][u],arguments[1],g)}else this._animate.apply(this,arguments);return this},_animate:function(p,u,g,C){var f=this,d;u=u.toString(),g?g=A.util.object.clone(g):g={},~p.indexOf(".")&&(d=p.split("."));var h=f.colorProperties.indexOf(p)>-1||d&&f.colorProperties.indexOf(d[1])>-1,w=d?this.get(d[0])[d[1]]:this.get(p);"from"in g||(g.from=w),h||(~u.indexOf("=")?u=w+parseFloat(u.replace("=","")):u=parseFloat(u));var I={startValue:g.from,endValue:u,byValue:g.by,easing:g.easing,duration:g.duration,abort:g.abort&&function(y,D,F){return g.abort.call(f,y,D,F)},onChange:function(y,D,F){d?f[d[0]][d[1]]=y:f.set(p,y),!C&&g.onChange&&g.onChange(y,D,F)},onComplete:function(y,D,F){C||(f.setCoords(),g.onComplete&&g.onComplete(y,D,F))}};return h?A.util.animateColor(I.startValue,I.endValue,I.duration,I):A.util.animate(I)}}),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend,C=u.util.object.clone,f={x1:1,x2:1,y1:1,y2:1};if(u.Line){u.warn("fabric.Line is already defined");return}u.Line=u.util.createClass(u.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:u.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(h,w){h||(h=[0,0,0,0]),this.callSuper("initialize",w),this.set("x1",h[0]),this.set("y1",h[1]),this.set("x2",h[2]),this.set("y2",h[3]),this._setWidthHeight(w)},_setWidthHeight:function(h){h||(h={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in h?h.left:this._getLeftToOriginX(),this.top="top"in h?h.top:this._getTopToOriginY()},_set:function(h,w){return this.callSuper("_set",h,w),typeof f[h]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:d({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:d({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(h){h.beginPath();var w=this.calcLinePoints();h.moveTo(w.x1,w.y1),h.lineTo(w.x2,w.y2),h.lineWidth=this.strokeWidth;var I=h.strokeStyle;h.strokeStyle=this.stroke||h.fillStyle,this.stroke&&this._renderStroke(h),h.strokeStyle=I},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(h){return g(this.callSuper("toObject",h),this.calcLinePoints())},_getNonTransformedDimensions:function(){var h=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(h.y-=this.strokeWidth),this.height===0&&(h.x-=this.strokeWidth)),h},calcLinePoints:function(){var h=this.x1<=this.x2?-1:1,w=this.y1<=this.y2?-1:1,I=h*this.width*.5,y=w*this.height*.5,D=h*this.width*-.5,F=w*this.height*-.5;return{x1:I,x2:D,y1:y,y2:F}},_toSVG:function(){var h=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',h.x1,'" y1="',h.y1,'" x2="',h.x2,'" y2="',h.y2,`" />
`]}}),u.Line.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),u.Line.fromElement=function(h,w,I){I=I||{};var y=u.parseAttributes(h,u.Line.ATTRIBUTE_NAMES),D=[y.x1||0,y.y1||0,y.x2||0,y.y2||0];w(new u.Line(D,g(y,I)))},u.Line.fromObject=function(h,w){function I(D){delete D.points,w&&w(D)}var y=C(h,!0);y.points=[h.x1,h.y1,h.x2,h.y2],u.Object._fromObject("Line",y,I,"points")};function d(h,w){var I=h.origin,y=h.axis1,D=h.axis2,F=h.dimension,L=w.nearest,k=w.center,U=w.farthest;return function(){switch(this.get(I)){case L:return Math.min(this.get(y),this.get(D));case k:return Math.min(this.get(y),this.get(D))+.5*this.get(F);case U:return Math.max(this.get(y),this.get(D))}}}}(c),function(p){var u=p.fabric||(p.fabric={}),g=Math.PI;if(u.Circle){u.warn("fabric.Circle is already defined.");return}u.Circle=u.util.createClass(u.Object,{type:"circle",radius:0,startAngle:0,endAngle:g*2,cacheProperties:u.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(f,d){return this.callSuper("_set",f,d),f==="radius"&&this.setRadius(d),this},toObject:function(f){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(f))},_toSVG:function(){var f,d=0,h=0,w=(this.endAngle-this.startAngle)%(2*g);if(w===0)f=["<circle ","COMMON_PARTS",'cx="'+d+'" cy="'+h+'" ','r="',this.radius,`" />
`];else{var I=u.util.cos(this.startAngle)*this.radius,y=u.util.sin(this.startAngle)*this.radius,D=u.util.cos(this.endAngle)*this.radius,F=u.util.sin(this.endAngle)*this.radius,L=w>g?"1":"0";f=['<path d="M '+I+" "+y," A "+this.radius+" "+this.radius," 0 ",+L+" 1"," "+D+" "+F,'" ',"COMMON_PARTS",` />
`]}return f},_render:function(f){f.beginPath(),f.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(f)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(f){return this.radius=f,this.set("width",f*2).set("height",f*2)}}),u.Circle.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),u.Circle.fromElement=function(f,d){var h=u.parseAttributes(f,u.Circle.ATTRIBUTE_NAMES);if(!C(h))throw new Error("value of `r` attribute is required and can not be negative");h.left=(h.left||0)-h.radius,h.top=(h.top||0)-h.radius,d(new u.Circle(h))};function C(f){return"radius"in f&&f.radius>=0}u.Circle.fromObject=function(f,d){u.Object._fromObject("Circle",f,d)}}(c),function(p){var u=p.fabric||(p.fabric={});if(u.Triangle){u.warn("fabric.Triangle is already defined");return}u.Triangle=u.util.createClass(u.Object,{type:"triangle",width:100,height:100,_render:function(g){var C=this.width/2,f=this.height/2;g.beginPath(),g.moveTo(-C,f),g.lineTo(0,-f),g.lineTo(C,f),g.closePath(),this._renderPaintInOrder(g)},_toSVG:function(){var g=this.width/2,C=this.height/2,f=[-g+" "+C,"0 "+-C,g+" "+C].join(",");return["<polygon ","COMMON_PARTS",'points="',f,'" />']}}),u.Triangle.fromObject=function(g,C){return u.Object._fromObject("Triangle",g,C)}}(c),function(p){var u=p.fabric||(p.fabric={}),g=Math.PI*2;if(u.Ellipse){u.warn("fabric.Ellipse is already defined.");return}u.Ellipse=u.util.createClass(u.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:u.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(C){this.callSuper("initialize",C),this.set("rx",C&&C.rx||0),this.set("ry",C&&C.ry||0)},_set:function(C,f){switch(this.callSuper("_set",C,f),C){case"rx":this.rx=f,this.set("width",f*2);break;case"ry":this.ry=f,this.set("height",f*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(C){return this.callSuper("toObject",["rx","ry"].concat(C))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(C){C.beginPath(),C.save(),C.transform(1,0,0,this.ry/this.rx,0,0),C.arc(0,0,this.rx,0,g,!1),C.restore(),this._renderPaintInOrder(C)}}),u.Ellipse.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),u.Ellipse.fromElement=function(C,f){var d=u.parseAttributes(C,u.Ellipse.ATTRIBUTE_NAMES);d.left=(d.left||0)-d.rx,d.top=(d.top||0)-d.ry,f(new u.Ellipse(d))},u.Ellipse.fromObject=function(C,f){u.Object._fromObject("Ellipse",C,f)}}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend;if(u.Rect){u.warn("fabric.Rect is already defined");return}u.Rect=u.util.createClass(u.Object,{stateProperties:u.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:u.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(C){this.callSuper("initialize",C),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(C){var f=this.rx?Math.min(this.rx,this.width/2):0,d=this.ry?Math.min(this.ry,this.height/2):0,h=this.width,w=this.height,I=-this.width/2,y=-this.height/2,D=f!==0||d!==0,F=1-.5522847498;C.beginPath(),C.moveTo(I+f,y),C.lineTo(I+h-f,y),D&&C.bezierCurveTo(I+h-F*f,y,I+h,y+F*d,I+h,y+d),C.lineTo(I+h,y+w-d),D&&C.bezierCurveTo(I+h,y+w-F*d,I+h-F*f,y+w,I+h-f,y+w),C.lineTo(I+f,y+w),D&&C.bezierCurveTo(I+F*f,y+w,I,y+w-F*d,I,y+w-d),C.lineTo(I,y+d),D&&C.bezierCurveTo(I,y+F*d,I+F*f,y,I+f,y),C.closePath(),this._renderPaintInOrder(C)},toObject:function(C){return this.callSuper("toObject",["rx","ry"].concat(C))},_toSVG:function(){var C=-this.width/2,f=-this.height/2;return["<rect ","COMMON_PARTS",'x="',C,'" y="',f,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),u.Rect.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),u.Rect.fromElement=function(C,f,d){if(!C)return f(null);d=d||{};var h=u.parseAttributes(C,u.Rect.ATTRIBUTE_NAMES);h.left=h.left||0,h.top=h.top||0,h.height=h.height||0,h.width=h.width||0;var w=new u.Rect(g(d?u.util.object.clone(d):{},h));w.visible=w.visible&&w.width>0&&w.height>0,f(w)},u.Rect.fromObject=function(C,f){return u.Object._fromObject("Rect",C,f)}}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend,C=u.util.array.min,f=u.util.array.max,d=u.util.toFixed;if(u.Polyline){u.warn("fabric.Polyline is already defined");return}u.Polyline=u.util.createClass(u.Object,{type:"polyline",points:null,cacheProperties:u.Object.prototype.cacheProperties.concat("points"),initialize:function(h,w){w=w||{},this.points=h||[],this.callSuper("initialize",w),this._setPositionDimensions(w)},_setPositionDimensions:function(h){var w=this._calcDimensions(h),I;this.width=w.width,this.height=w.height,h.fromSVG||(I=this.translateToGivenOrigin({x:w.left-this.strokeWidth/2,y:w.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof h.left=="undefined"&&(this.left=h.fromSVG?w.left:I.x),typeof h.top=="undefined"&&(this.top=h.fromSVG?w.top:I.y),this.pathOffset={x:w.left+this.width/2,y:w.top+this.height/2}},_calcDimensions:function(){var h=this.points,w=C(h,"x")||0,I=C(h,"y")||0,y=f(h,"x")||0,D=f(h,"y")||0,F=y-w,L=D-I;return{left:w,top:I,width:F,height:L}},toObject:function(h){return g(this.callSuper("toObject",h),{points:this.points.concat()})},_toSVG:function(){for(var h=[],w=this.pathOffset.x,I=this.pathOffset.y,y=u.Object.NUM_FRACTION_DIGITS,D=0,F=this.points.length;D<F;D++)h.push(d(this.points[D].x-w,y),",",d(this.points[D].y-I,y)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',h.join(""),`" />
`]},commonRender:function(h){var w,I=this.points.length,y=this.pathOffset.x,D=this.pathOffset.y;if(!I||isNaN(this.points[I-1].y))return!1;h.beginPath(),h.moveTo(this.points[0].x-y,this.points[0].y-D);for(var F=0;F<I;F++)w=this.points[F],h.lineTo(w.x-y,w.y-D);return!0},_render:function(h){!this.commonRender(h)||this._renderPaintInOrder(h)},complexity:function(){return this.get("points").length}}),u.Polyline.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat(),u.Polyline.fromElementGenerator=function(h){return function(w,I,y){if(!w)return I(null);y||(y={});var D=u.parsePointsAttribute(w.getAttribute("points")),F=u.parseAttributes(w,u[h].ATTRIBUTE_NAMES);F.fromSVG=!0,I(new u[h](D,g(F,y)))}},u.Polyline.fromElement=u.Polyline.fromElementGenerator("Polyline"),u.Polyline.fromObject=function(h,w){return u.Object._fromObject("Polyline",h,w,"points")}}(c),function(p){var u=p.fabric||(p.fabric={});if(u.Polygon){u.warn("fabric.Polygon is already defined");return}u.Polygon=u.util.createClass(u.Polyline,{type:"polygon",_render:function(g){!this.commonRender(g)||(g.closePath(),this._renderPaintInOrder(g))}}),u.Polygon.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat(),u.Polygon.fromElement=u.Polyline.fromElementGenerator("Polygon"),u.Polygon.fromObject=function(g,C){u.Object._fromObject("Polygon",g,C,"points")}}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.array.min,C=u.util.array.max,f=u.util.object.extend,d=Object.prototype.toString,h=u.util.toFixed;if(u.Path){u.warn("fabric.Path is already defined");return}u.Path=u.util.createClass(u.Object,{type:"path",path:null,cacheProperties:u.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:u.Object.prototype.stateProperties.concat("path"),initialize:function(w,I){I=I||{},this.callSuper("initialize",I),w||(w=[]);var y=d.call(w)==="[object Array]";this.path=u.util.makePathSimpler(y?w:u.util.parsePath(w)),this.path&&u.Polyline.prototype._setPositionDimensions.call(this,I)},_renderPathCommands:function(w){var I,y=0,D=0,F=0,L=0,k=0,U=0,N=-this.pathOffset.x,z=-this.pathOffset.y;w.beginPath();for(var H=0,X=this.path.length;H<X;++H)switch(I=this.path[H],I[0]){case"L":F=I[1],L=I[2],w.lineTo(F+N,L+z);break;case"M":F=I[1],L=I[2],y=F,D=L,w.moveTo(F+N,L+z);break;case"C":F=I[5],L=I[6],k=I[3],U=I[4],w.bezierCurveTo(I[1]+N,I[2]+z,k+N,U+z,F+N,L+z);break;case"Q":w.quadraticCurveTo(I[1]+N,I[2]+z,I[3]+N,I[4]+z),F=I[3],L=I[4],k=I[1],U=I[2];break;case"z":case"Z":F=y,L=D,w.closePath();break}},_render:function(w){this._renderPathCommands(w),this._renderPaintInOrder(w)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(w){return f(this.callSuper("toObject",w),{path:this.path.map(function(I){return I.slice()})})},toDatalessObject:function(w){var I=this.toObject(["sourcePath"].concat(w));return I.sourcePath&&delete I.path,I},_toSVG:function(){var w=u.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',w,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var w=u.Object.NUM_FRACTION_DIGITS;return" translate("+h(-this.pathOffset.x,w)+", "+h(-this.pathOffset.y,w)+")"},toClipPathSVG:function(w){var I=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:w,additionalTransform:I})},toSVG:function(w){var I=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:w,additionalTransform:I})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var w=[],I=[],y,D=0,F=0,L=0,k=0,U,N=0,z=this.path.length;N<z;++N){switch(y=this.path[N],y[0]){case"L":L=y[1],k=y[2],U=[];break;case"M":L=y[1],k=y[2],D=L,F=k,U=[];break;case"C":U=u.util.getBoundsOfCurve(L,k,y[1],y[2],y[3],y[4],y[5],y[6]),L=y[5],k=y[6];break;case"Q":U=u.util.getBoundsOfCurve(L,k,y[1],y[2],y[1],y[2],y[3],y[4]),L=y[3],k=y[4];break;case"z":case"Z":L=D,k=F;break}U.forEach(function(Ae){w.push(Ae.x),I.push(Ae.y)}),w.push(L),I.push(k)}var H=g(w)||0,X=g(I)||0,ne=C(w)||0,ie=C(I)||0,he=ne-H,le=ie-X;return{left:H,top:X,width:he,height:le}}}),u.Path.fromObject=function(w,I){if(typeof w.sourcePath=="string"){var y=w.sourcePath;u.loadSVGFromURL(y,function(D){var F=D[0];F.setOptions(w),I&&I(F)})}else u.Object._fromObject("Path",w,I,"path")},u.Path.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat(["d"]),u.Path.fromElement=function(w,I,y){var D=u.parseAttributes(w,u.Path.ATTRIBUTE_NAMES);D.fromSVG=!0,I(new u.Path(D.d,f(D,y)))}}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.array.min,C=u.util.array.max;u.Group||(u.Group=u.util.createClass(u.Object,u.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(f,d,h){d=d||{},this._objects=[],h&&this.callSuper("initialize",d),this._objects=f||[];for(var w=this._objects.length;w--;)this._objects[w].group=this;if(h)this._updateObjectsACoords();else{var I=d&&d.centerPoint;d.originX!==void 0&&(this.originX=d.originX),d.originY!==void 0&&(this.originY=d.originY),I||this._calcBounds(),this._updateObjectsCoords(I),delete d.centerPoint,this.callSuper("initialize",d)}this.setCoords()},_updateObjectsACoords:function(){for(var f=!0,d=this._objects.length;d--;)this._objects[d].setCoords(f)},_updateObjectsCoords:function(d){for(var d=d||this.getCenterPoint(),h=this._objects.length;h--;)this._updateObjectCoords(this._objects[h],d)},_updateObjectCoords:function(f,d){var h=f.left,w=f.top,I=!0;f.set({left:h-d.x,top:w-d.y}),f.group=this,f.setCoords(I)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(f){var d=!!this.group;return this._restoreObjectsState(),u.util.resetObjectTransform(this),f&&(d&&u.util.removeTransformFromObject(f,this.group.calcTransformMatrix()),this._objects.push(f),f.group=this,f._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,d?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(f){return this._restoreObjectsState(),u.util.resetObjectTransform(this),this.remove(f),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(f){this.dirty=!0,f.group=this,f._set("canvas",this.canvas)},_onObjectRemoved:function(f){this.dirty=!0,delete f.group},_set:function(f,d){var h=this._objects.length;if(this.useSetOnGroup)for(;h--;)this._objects[h].setOnGroup(f,d);if(f==="canvas")for(;h--;)this._objects[h]._set(f,d);u.Object.prototype._set.call(this,f,d)},toObject:function(f){var d=this.includeDefaultValues,h=this._objects.filter(function(I){return!I.excludeFromExport}).map(function(I){var y=I.includeDefaultValues;I.includeDefaultValues=d;var D=I.toObject(f);return I.includeDefaultValues=y,D}),w=u.Object.prototype.toObject.call(this,f);return w.objects=h,w},toDatalessObject:function(f){var d,h=this.sourcePath;if(h)d=h;else{var w=this.includeDefaultValues;d=this._objects.map(function(y){var D=y.includeDefaultValues;y.includeDefaultValues=w;var F=y.toDatalessObject(f);return y.includeDefaultValues=D,F})}var I=u.Object.prototype.toDatalessObject.call(this,f);return I.objects=d,I},render:function(f){this._transformDone=!0,this.callSuper("render",f),this._transformDone=!1},shouldCache:function(){var f=u.Object.prototype.shouldCache.call(this);if(f){for(var d=0,h=this._objects.length;d<h;d++)if(this._objects[d].willDrawShadow())return this.ownCaching=!1,!1}return f},willDrawShadow:function(){if(u.Object.prototype.willDrawShadow.call(this))return!0;for(var f=0,d=this._objects.length;f<d;f++)if(this._objects[f].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(f){for(var d=0,h=this._objects.length;d<h;d++)this._objects[d].render(f);this._drawClipPath(f)},isCacheDirty:function(f){if(this.callSuper("isCacheDirty",f))return!0;if(!this.statefullCache)return!1;for(var d=0,h=this._objects.length;d<h;d++)if(this._objects[d].isCacheDirty(!0)){if(this._cacheCanvas){var w=this.cacheWidth/this.zoomX,I=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-w/2,-I/2,w,I)}return!0}return!1},_restoreObjectsState:function(){var f=this.calcOwnMatrix();return this._objects.forEach(function(d){u.util.addTransformToObject(d,f),delete d.group,d.setCoords()}),this},realizeTransform:function(f,d){return u.util.addTransformToObject(f,d),f},destroy:function(){return this._objects.forEach(function(f){f.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(!!this.canvas){var f=this._objects,d=this.canvas;this._objects=[];var h=this.toObject();delete h.objects;var w=new u.ActiveSelection([]);return w.set(h),w.type="activeSelection",d.remove(this),f.forEach(function(I){I.group=w,I.dirty=!0,d.add(I)}),w.canvas=d,w._objects=f,d._activeObject=w,w.setCoords(),w}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var f=!0;return this.forEachObject(function(d){d.setCoords(f)}),this},_calcBounds:function(f){for(var d=[],h=[],w,I,y,D=["tr","br","bl","tl"],F=0,L=this._objects.length,k,U=D.length;F<L;++F){for(w=this._objects[F],y=w.calcACoords(),k=0;k<U;k++)I=D[k],d.push(y[I].x),h.push(y[I].y);w.aCoords=y}this._getBounds(d,h,f)},_getBounds:function(f,d,h){var w=new u.Point(g(f),g(d)),I=new u.Point(C(f),C(d)),y=w.y||0,D=w.x||0,F=I.x-w.x||0,L=I.y-w.y||0;this.width=F,this.height=L,h||this.setPositionByOrigin({x:D,y},"left","top")},_toSVG:function(f){for(var d=["<g ","COMMON_PARTS",` >
`],h=0,w=this._objects.length;h<w;h++)d.push("		",this._objects[h].toSVG(f));return d.push(`</g>
`),d},getSvgStyles:function(){var f=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",d=this.visible?"":" visibility: hidden;";return[f,this.getSvgFilter(),d].join("")},toClipPathSVG:function(f){for(var d=[],h=0,w=this._objects.length;h<w;h++)d.push("	",this._objects[h].toClipPathSVG(f));return this._createBaseClipPathSVGMarkup(d,{reviver:f})}}),u.Group.fromObject=function(f,d){var h=f.objects,w=u.util.object.clone(f,!0);if(delete w.objects,typeof h=="string"){u.loadSVGFromURL(h,function(I){var y=u.util.groupSVGElements(I,f,h);y.set(w),d&&d(y)});return}u.util.enlivenObjects(h,function(I){u.util.enlivenObjects([f.clipPath],function(y){var D=u.util.object.clone(f,!0);D.clipPath=y[0],delete D.objects,d&&d(new u.Group(I,D,!0))})})})}(c),function(p){var u=p.fabric||(p.fabric={});u.ActiveSelection||(u.ActiveSelection=u.util.createClass(u.Group,{type:"activeSelection",initialize:function(g,C){C=C||{},this._objects=g||[];for(var f=this._objects.length;f--;)this._objects[f].group=this;C.originX&&(this.originX=C.originX),C.originY&&(this.originY=C.originY),this._calcBounds(),this._updateObjectsCoords(),u.Object.prototype.initialize.call(this,C),this.setCoords()},toGroup:function(){var g=this._objects.concat();this._objects=[];var C=u.Object.prototype.toObject.call(this),f=new u.Group([]);if(delete C.type,f.set(C),g.forEach(function(h){h.canvas.remove(h),h.group=f}),f._objects=g,!this.canvas)return f;var d=this.canvas;return d.add(f),d._activeObject=f,f.setCoords(),f},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(g,C,f){g.save(),g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",g,C),f=f||{},typeof f.hasControls=="undefined"&&(f.hasControls=!1),f.forActiveSelection=!0;for(var d=0,h=this._objects.length;d<h;d++)this._objects[d]._renderControls(g,f);g.restore()}}),u.ActiveSelection.fromObject=function(g,C){u.util.enlivenObjects(g.objects,function(f){delete g.objects,C&&C(new u.ActiveSelection(f,g,!0))})})}(c),function(p){var u=A.util.object.extend;if(p.fabric||(p.fabric={}),p.fabric.Image){A.warn("fabric.Image is already defined.");return}A.Image=A.util.createClass(A.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:A.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:A.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(g,C){C||(C={}),this.filters=[],this.cacheKey="texture"+A.Object.__uid++,this.callSuper("initialize",C),this._initElement(g,C)},getElement:function(){return this._element||{}},setElement:function(g,C){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=g,this._originalElement=g,this._initConfig(C),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(g){var C=A.filterBackend;C&&C.evictCachesForKey&&C.evictCachesForKey(g)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(g){A.util.cleanUpJsdomNode(this[g]),this[g]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var g=this.getElement();return{width:g.naturalWidth||g.width,height:g.naturalHeight||g.height}},_stroke:function(g){if(!(!this.stroke||this.strokeWidth===0)){var C=this.width/2,f=this.height/2;g.beginPath(),g.moveTo(-C,-f),g.lineTo(C,-f),g.lineTo(C,f),g.lineTo(-C,f),g.lineTo(-C,-f),g.closePath()}},toObject:function(g){var C=[];this.filters.forEach(function(d){d&&C.push(d.toObject())});var f=u(this.callSuper("toObject",["cropX","cropY"].concat(g)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:C});return this.resizeFilter&&(f.resizeFilter=this.resizeFilter.toObject()),f},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var g=[],C=[],f,d=this._element,h=-this.width/2,w=-this.height/2,I="",y="";if(!d)return[];if(this.hasCrop()){var D=A.Object.__uid++;g.push('<clipPath id="imageCrop_'+D+`">
`,'	<rect x="'+h+'" y="'+w+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),I=' clip-path="url(#imageCrop_'+D+')" '}if(this.imageSmoothing||(y='" image-rendering="optimizeSpeed'),C.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',h-this.cropX,'" y="',w-this.cropY,'" width="',d.width||d.naturalWidth,'" height="',d.height||d.height,y,'"',I,`></image>
`),this.stroke||this.strokeDashArray){var F=this.fill;this.fill=null,f=["	<rect ",'x="',h,'" y="',w,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=F}return this.paintFirst!=="fill"?g=g.concat(f,C):g=g.concat(C,f),g},getSrc:function(g){var C=g?this._element:this._originalElement;return C?C.toDataURL?C.toDataURL():this.srcFromAttribute?C.getAttribute("src"):C.src:this.src||""},setSrc:function(g,C,f){return A.util.loadImage(g,function(d,h){this.setElement(d,f),this._setWidthHeight(),C&&C(this,h)},this,f&&f.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var g=this.resizeFilter,C=this.minimumScaleTrigger,f=this.getTotalObjectScaling(),d=f.scaleX,h=f.scaleY,w=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!g||d>C&&h>C){this._element=w,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=d,this._lastScaleY=h;return}A.filterBackend||(A.filterBackend=A.initFilterBackend());var I=A.util.createCanvasElement(),y=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,D=w.width,F=w.height;I.width=D,I.height=F,this._element=I,this._lastScaleX=g.scaleX=d,this._lastScaleY=g.scaleY=h,A.filterBackend.applyFilters([g],w,D,F,this._element,y),this._filterScalingX=I.width/this._originalElement.width,this._filterScalingY=I.height/this._originalElement.height},applyFilters:function(g){if(g=g||this.filters||[],g=g.filter(function(w){return w&&!w.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),g.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var C=this._originalElement,f=C.naturalWidth||C.width,d=C.naturalHeight||C.height;if(this._element===this._originalElement){var h=A.util.createCanvasElement();h.width=f,h.height=d,this._element=h,this._filteredEl=h}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,f,d),this._lastScaleX=1,this._lastScaleY=1;return A.filterBackend||(A.filterBackend=A.initFilterBackend()),A.filterBackend.applyFilters(g,this._originalElement,f,d,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(g){A.util.setImageSmoothing(g,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(g),this._renderPaintInOrder(g)},drawCacheOnCanvas:function(g){A.util.setImageSmoothing(g,this.imageSmoothing),A.Object.prototype.drawCacheOnCanvas.call(this,g)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(g){var C=this._element;if(!!C){var f=this._filterScalingX,d=this._filterScalingY,h=this.width,w=this.height,I=Math.min,y=Math.max,D=y(this.cropX,0),F=y(this.cropY,0),L=C.naturalWidth||C.width,k=C.naturalHeight||C.height,U=D*f,N=F*d,z=I(h*f,L-U),H=I(w*d,k-N),X=-h/2,ne=-w/2,ie=I(h,L/f-D),he=I(w,k/d-F);C&&g.drawImage(C,U,N,z,H,X,ne,ie,he)}},_needsResize:function(){var g=this.getTotalObjectScaling();return g.scaleX!==this._lastScaleX||g.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(g,C){this.setElement(A.util.getById(g),C),A.util.addClass(this.getElement(),A.Image.CSS_CANVAS)},_initConfig:function(g){g||(g={}),this.setOptions(g),this._setWidthHeight(g)},_initFilters:function(g,C){g&&g.length?A.util.enlivenObjects(g,function(f){C&&C(f)},"fabric.Image.filters"):C&&C()},_setWidthHeight:function(g){g||(g={});var C=this.getElement();this.width=g.width||C.naturalWidth||C.width||0,this.height=g.height||C.naturalHeight||C.height||0},parsePreserveAspectRatioAttribute:function(){var g=A.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),C=this._element.width,f=this._element.height,d=1,h=1,w=0,I=0,y=0,D=0,F,L=this.width,k=this.height,U={width:L,height:k};return g&&(g.alignX!=="none"||g.alignY!=="none")?(g.meetOrSlice==="meet"&&(d=h=A.util.findScaleToFit(this._element,U),F=(L-C*d)/2,g.alignX==="Min"&&(w=-F),g.alignX==="Max"&&(w=F),F=(k-f*h)/2,g.alignY==="Min"&&(I=-F),g.alignY==="Max"&&(I=F)),g.meetOrSlice==="slice"&&(d=h=A.util.findScaleToCover(this._element,U),F=C-L/d,g.alignX==="Mid"&&(y=F/2),g.alignX==="Max"&&(y=F),F=f-k/h,g.alignY==="Mid"&&(D=F/2),g.alignY==="Max"&&(D=F),C=L/d,f=k/h)):(d=L/C,h=k/f),{width:C,height:f,scaleX:d,scaleY:h,offsetLeft:w,offsetTop:I,cropX:y,cropY:D}}}),A.Image.CSS_CANVAS="canvas-img",A.Image.prototype.getSvgSrc=A.Image.prototype.getSrc,A.Image.fromObject=function(g,C){var f=A.util.object.clone(g);A.util.loadImage(f.src,function(d,h){if(h){C&&C(null,!0);return}A.Image.prototype._initFilters.call(f,f.filters,function(w){f.filters=w||[],A.Image.prototype._initFilters.call(f,[f.resizeFilter],function(I){f.resizeFilter=I[0],A.util.enlivenObjects([f.clipPath],function(y){f.clipPath=y[0];var D=new A.Image(d,f);C(D,!1)})})})},null,f.crossOrigin)},A.Image.fromURL=function(g,C,f){A.util.loadImage(g,function(d,h){C&&C(new A.Image(d,f),h)},null,f&&f.crossOrigin)},A.Image.ATTRIBUTE_NAMES=A.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),A.Image.fromElement=function(g,C,f){var d=A.parseAttributes(g,A.Image.ATTRIBUTE_NAMES);A.Image.fromURL(d["xlink:href"],C,u(f?A.util.object.clone(f):{},d))}}(c),A.util.object.extend(A.Object.prototype,{_getAngleValueForStraighten:function(){var p=this.angle%360;return p>0?Math.round((p-1)/90)*90:Math.round(p/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(p){p=p||{};var u=function(){},g=p.onComplete||u,C=p.onChange||u,f=this;return A.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(d){f.rotate(d),C()},onComplete:function(){f.setCoords(),g()}}),this}}),A.util.object.extend(A.StaticCanvas.prototype,{straightenObject:function(p){return p.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(p){return p.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function p(g,C){var f="precision "+C+` float;
void main(){}`,d=g.createShader(g.FRAGMENT_SHADER);return g.shaderSource(d,f),g.compileShader(d),!!g.getShaderParameter(d,g.COMPILE_STATUS)}A.isWebglSupported=function(g){if(A.isLikelyNode)return!1;g=g||A.WebglFilterBackend.prototype.tileSize;var C=document.createElement("canvas"),f=C.getContext("webgl")||C.getContext("experimental-webgl"),d=!1;if(f){A.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE),d=A.maxTextureSize>=g;for(var h=["highp","mediump","lowp"],w=0;w<3;w++)if(p(f,h[w])){A.webGlPrecision=h[w];break}}return this.isSupported=d,d},A.WebglFilterBackend=u;function u(g){g&&g.tileSize&&(this.tileSize=g.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}u.prototype={tileSize:2048,resources:{},setupGLContext:function(g,C){this.dispose(),this.createWebGLCanvas(g,C),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(g,C)},chooseFastestCopyGLTo2DMethod:function(g,C){var f=typeof window.performance!="undefined",d;try{new ImageData(1,1),d=!0}catch{d=!1}var h=typeof ArrayBuffer!="undefined",w=typeof Uint8ClampedArray!="undefined";if(!!(f&&d&&h&&w)){var I=A.util.createCanvasElement(),y=new ArrayBuffer(g*C*4);if(A.forceGLPutImageData){this.imageBuffer=y,this.copyGLTo2D=T;return}var D={imageBuffer:y,destinationWidth:g,destinationHeight:C,targetCanvas:I},F,L,k;I.width=g,I.height=C,F=window.performance.now(),M.call(D,this.gl,D),L=window.performance.now()-F,F=window.performance.now(),T.call(D,this.gl,D),k=window.performance.now()-F,L>k?(this.imageBuffer=y,this.copyGLTo2D=T):this.copyGLTo2D=M}},createWebGLCanvas:function(g,C){var f=A.util.createCanvasElement();f.width=g,f.height=C;var d={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},h=f.getContext("webgl",d);h||(h=f.getContext("experimental-webgl",d)),h&&(h.clearColor(0,0,0,0),this.canvas=f,this.gl=h)},applyFilters:function(g,C,f,d,h,w){var I=this.gl,y;w&&(y=this.getCachedTexture(w,C));var D={originalWidth:C.width||C.originalWidth,originalHeight:C.height||C.originalHeight,sourceWidth:f,sourceHeight:d,destinationWidth:f,destinationHeight:d,context:I,sourceTexture:this.createTexture(I,f,d,!y&&C),targetTexture:this.createTexture(I,f,d),originalTexture:y||this.createTexture(I,f,d,!y&&C),passes:g.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:h},F=I.createFramebuffer();return I.bindFramebuffer(I.FRAMEBUFFER,F),g.forEach(function(L){L&&L.applyTo(D)}),x(D),this.copyGLTo2D(I,D),I.bindTexture(I.TEXTURE_2D,null),I.deleteTexture(D.sourceTexture),I.deleteTexture(D.targetTexture),I.deleteFramebuffer(F),h.getContext("2d").setTransform(1,0,0,1,0,0),D},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(g,C,f,d){var h=g.createTexture();return g.bindTexture(g.TEXTURE_2D,h),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),d?g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,d):g.texImage2D(g.TEXTURE_2D,0,g.RGBA,C,f,0,g.RGBA,g.UNSIGNED_BYTE,null),h},getCachedTexture:function(g,C){if(this.textureCache[g])return this.textureCache[g];var f=this.createTexture(this.gl,C.width,C.height,C);return this.textureCache[g]=f,f},evictCachesForKey:function(g){this.textureCache[g]&&(this.gl.deleteTexture(this.textureCache[g]),delete this.textureCache[g])},copyGLTo2D:M,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var g=this.gl,C={renderer:"",vendor:""};if(!g)return C;var f=g.getExtension("WEBGL_debug_renderer_info");if(f){var d=g.getParameter(f.UNMASKED_RENDERER_WEBGL),h=g.getParameter(f.UNMASKED_VENDOR_WEBGL);d&&(C.renderer=d.toLowerCase()),h&&(C.vendor=h.toLowerCase())}return this.gpuInfo=C,C}}}();function x(p){var u=p.targetCanvas,g=u.width,C=u.height,f=p.destinationWidth,d=p.destinationHeight;(g!==f||C!==d)&&(u.width=f,u.height=d)}function M(p,u){var g=p.canvas,C=u.targetCanvas,f=C.getContext("2d");f.translate(0,C.height),f.scale(1,-1);var d=g.height-C.height;f.drawImage(g,0,d,C.width,C.height,0,0,C.width,C.height)}function T(p,u){var g=u.targetCanvas,C=g.getContext("2d"),f=u.destinationWidth,d=u.destinationHeight,h=f*d*4,w=new Uint8Array(this.imageBuffer,0,h),I=new Uint8ClampedArray(this.imageBuffer,0,h);p.readPixels(0,0,f,d,p.RGBA,p.UNSIGNED_BYTE,w);var y=new ImageData(I,f,d);C.putImageData(y,0,0)}(function(){var p=function(){};A.Canvas2dFilterBackend=u;function u(){}u.prototype={evictCachesForKey:p,dispose:p,clearWebGLCaches:p,resources:{},applyFilters:function(g,C,f,d,h){var w=h.getContext("2d");w.drawImage(C,0,0,f,d);var I=w.getImageData(0,0,f,d),y=w.getImageData(0,0,f,d),D={sourceWidth:f,sourceHeight:d,imageData:I,originalEl:C,originalImageData:y,canvasEl:h,ctx:w,filterBackend:this};return g.forEach(function(F){F.applyTo(D)}),(D.imageData.width!==f||D.imageData.height!==d)&&(h.width=D.imageData.width,h.height=D.imageData.height),w.putImageData(D.imageData,0,0),D}}})(),A.Image=A.Image||{},A.Image.filters=A.Image.filters||{},A.Image.filters.BaseFilter=A.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(p){p&&this.setOptions(p)},setOptions:function(p){for(var u in p)this[u]=p[u]},createProgram:function(p,u,g){u=u||this.fragmentSource,g=g||this.vertexSource,A.webGlPrecision!=="highp"&&(u=u.replace(/precision highp float/g,"precision "+A.webGlPrecision+" float"));var C=p.createShader(p.VERTEX_SHADER);if(p.shaderSource(C,g),p.compileShader(C),!p.getShaderParameter(C,p.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+p.getShaderInfoLog(C));var f=p.createShader(p.FRAGMENT_SHADER);if(p.shaderSource(f,u),p.compileShader(f),!p.getShaderParameter(f,p.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+p.getShaderInfoLog(f));var d=p.createProgram();if(p.attachShader(d,C),p.attachShader(d,f),p.linkProgram(d),!p.getProgramParameter(d,p.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+p.getProgramInfoLog(d));var h=this.getAttributeLocations(p,d),w=this.getUniformLocations(p,d)||{};return w.uStepW=p.getUniformLocation(d,"uStepW"),w.uStepH=p.getUniformLocation(d,"uStepH"),{program:d,attributeLocations:h,uniformLocations:w}},getAttributeLocations:function(p,u){return{aPosition:p.getAttribLocation(u,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(p,u,g){var C=u.aPosition,f=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,f),p.enableVertexAttribArray(C),p.vertexAttribPointer(C,2,p.FLOAT,!1,0,0),p.bufferData(p.ARRAY_BUFFER,g,p.STATIC_DRAW)},_setupFrameBuffer:function(p){var u=p.context,g,C;p.passes>1?(g=p.destinationWidth,C=p.destinationHeight,(p.sourceWidth!==g||p.sourceHeight!==C)&&(u.deleteTexture(p.targetTexture),p.targetTexture=p.filterBackend.createTexture(u,g,C)),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,p.targetTexture,0)):(u.bindFramebuffer(u.FRAMEBUFFER,null),u.finish())},_swapTextures:function(p){p.passes--,p.pass++;var u=p.targetTexture;p.targetTexture=p.sourceTexture,p.sourceTexture=u},isNeutralState:function(){var p=this.mainParameter,u=A.Image.filters[this.type].prototype;if(p)if(Array.isArray(u[p])){for(var g=u[p].length;g--;)if(this[p][g]!==u[p][g])return!1;return!0}else return u[p]===this[p];else return!1},applyTo:function(p){p.webgl?(this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p)):this.applyTo2d(p)},retrieveShader:function(p){return p.programCache.hasOwnProperty(this.type)||(p.programCache[this.type]=this.createProgram(p.context)),p.programCache[this.type]},applyToWebGL:function(p){var u=p.context,g=this.retrieveShader(p);p.pass===0&&p.originalTexture?u.bindTexture(u.TEXTURE_2D,p.originalTexture):u.bindTexture(u.TEXTURE_2D,p.sourceTexture),u.useProgram(g.program),this.sendAttributeData(u,g.attributeLocations,p.aPosition),u.uniform1f(g.uniformLocations.uStepW,1/p.sourceWidth),u.uniform1f(g.uniformLocations.uStepH,1/p.sourceHeight),this.sendUniformData(u,g.uniformLocations),u.viewport(0,0,p.destinationWidth,p.destinationHeight),u.drawArrays(u.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(p,u,g){p.activeTexture(g),p.bindTexture(p.TEXTURE_2D,u),p.activeTexture(p.TEXTURE0)},unbindAdditionalTexture:function(p,u){p.activeTexture(u),p.bindTexture(p.TEXTURE_2D,null),p.activeTexture(p.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(p){this[this.mainParameter]=p},sendUniformData:function(){},createHelpLayer:function(p){if(!p.helpLayer){var u=document.createElement("canvas");u.width=p.sourceWidth,u.height=p.sourceHeight,p.helpLayer=u}},toObject:function(){var p={type:this.type},u=this.mainParameter;return u&&(p[u]=this[u]),p},toJSON:function(){return this.toObject()}}),A.Image.filters.BaseFilter.fromObject=function(p,u){var g=new A.Image.filters[p.type](p);return u&&u(g),g},function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.ColorMatrix=C(g.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(f){this.callSuper("initialize",f),this.matrix=this.matrix.slice(0)},applyTo2d:function(f){var d=f.imageData,h=d.data,w=h.length,I=this.matrix,y,D,F,L,k,U=this.colorsOnly;for(k=0;k<w;k+=4)y=h[k],D=h[k+1],F=h[k+2],U?(h[k]=y*I[0]+D*I[1]+F*I[2]+I[4]*255,h[k+1]=y*I[5]+D*I[6]+F*I[7]+I[9]*255,h[k+2]=y*I[10]+D*I[11]+F*I[12]+I[14]*255):(L=h[k+3],h[k]=y*I[0]+D*I[1]+F*I[2]+L*I[3]+I[4]*255,h[k+1]=y*I[5]+D*I[6]+F*I[7]+L*I[8]+I[9]*255,h[k+2]=y*I[10]+D*I[11]+F*I[12]+L*I[13]+I[14]*255,h[k+3]=y*I[15]+D*I[16]+F*I[17]+L*I[18]+I[19]*255)},getUniformLocations:function(f,d){return{uColorMatrix:f.getUniformLocation(d,"uColorMatrix"),uConstants:f.getUniformLocation(d,"uConstants")}},sendUniformData:function(f,d){var h=this.matrix,w=[h[0],h[1],h[2],h[3],h[5],h[6],h[7],h[8],h[10],h[11],h[12],h[13],h[15],h[16],h[17],h[18]],I=[h[4],h[9],h[14],h[19]];f.uniformMatrix4fv(d.uColorMatrix,!1,w),f.uniform4fv(d.uConstants,I)}}),u.Image.filters.ColorMatrix.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Brightness=C(g.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(f){if(this.brightness!==0){var d=f.imageData,h=d.data,w,I=h.length,y=Math.round(this.brightness*255);for(w=0;w<I;w+=4)h[w]=h[w]+y,h[w+1]=h[w+1]+y,h[w+2]=h[w+2]+y}},getUniformLocations:function(f,d){return{uBrightness:f.getUniformLocation(d,"uBrightness")}},sendUniformData:function(f,d){f.uniform1f(d.uBrightness,this.brightness)}}),u.Image.filters.Brightness.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend,C=u.Image.filters,f=u.util.createClass;C.Convolute=f(C.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(d){var h=Math.sqrt(this.matrix.length),w=this.type+"_"+h+"_"+(this.opaque?1:0),I=this.fragmentSource[w];return d.programCache.hasOwnProperty(w)||(d.programCache[w]=this.createProgram(d.context,I)),d.programCache[w]},applyTo2d:function(d){var h=d.imageData,w=h.data,I=this.matrix,y=Math.round(Math.sqrt(I.length)),D=Math.floor(y/2),F=h.width,L=h.height,k=d.ctx.createImageData(F,L),U=k.data,N=this.opaque?1:0,z,H,X,ne,ie,he,le,Ae,R,re,ee,oe,Z;for(ee=0;ee<L;ee++)for(re=0;re<F;re++){for(ie=(ee*F+re)*4,z=0,H=0,X=0,ne=0,Z=0;Z<y;Z++)for(oe=0;oe<y;oe++)le=ee+Z-D,he=re+oe-D,!(le<0||le>=L||he<0||he>=F)&&(Ae=(le*F+he)*4,R=I[Z*y+oe],z+=w[Ae]*R,H+=w[Ae+1]*R,X+=w[Ae+2]*R,N||(ne+=w[Ae+3]*R));U[ie]=z,U[ie+1]=H,U[ie+2]=X,N?U[ie+3]=w[ie+3]:U[ie+3]=ne}d.imageData=k},getUniformLocations:function(d,h){return{uMatrix:d.getUniformLocation(h,"uMatrix"),uOpaque:d.getUniformLocation(h,"uOpaque"),uHalfSize:d.getUniformLocation(h,"uHalfSize"),uSize:d.getUniformLocation(h,"uSize")}},sendUniformData:function(d,h){d.uniform1fv(h.uMatrix,this.matrix)},toObject:function(){return g(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),u.Image.filters.Convolute.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Grayscale=C(g.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(f){var d=f.imageData,h=d.data,w,I=h.length,y,D=this.mode;for(w=0;w<I;w+=4)D==="average"?y=(h[w]+h[w+1]+h[w+2])/3:D==="lightness"?y=(Math.min(h[w],h[w+1],h[w+2])+Math.max(h[w],h[w+1],h[w+2]))/2:D==="luminosity"&&(y=.21*h[w]+.72*h[w+1]+.07*h[w+2]),h[w]=y,h[w+1]=y,h[w+2]=y},retrieveShader:function(f){var d=this.type+"_"+this.mode;if(!f.programCache.hasOwnProperty(d)){var h=this.fragmentSource[this.mode];f.programCache[d]=this.createProgram(f.context,h)}return f.programCache[d]},getUniformLocations:function(f,d){return{uMode:f.getUniformLocation(d,"uMode")}},sendUniformData:function(f,d){var h=1;f.uniform1i(d.uMode,h)},isNeutralState:function(){return!1}}),u.Image.filters.Grayscale.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Invert=C(g.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(f){var d=f.imageData,h=d.data,w,I=h.length;for(w=0;w<I;w+=4)h[w]=255-h[w],h[w+1]=255-h[w+1],h[w+2]=255-h[w+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(f,d){return{uInvert:f.getUniformLocation(d,"uInvert")}},sendUniformData:function(f,d){f.uniform1i(d.uInvert,this.invert)}}),u.Image.filters.Invert.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend,C=u.Image.filters,f=u.util.createClass;C.Noise=f(C.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(d){if(this.noise!==0){var h=d.imageData,w=h.data,I,y=w.length,D=this.noise,F;for(I=0,y=w.length;I<y;I+=4)F=(.5-Math.random())*D,w[I]+=F,w[I+1]+=F,w[I+2]+=F}},getUniformLocations:function(d,h){return{uNoise:d.getUniformLocation(h,"uNoise"),uSeed:d.getUniformLocation(h,"uSeed")}},sendUniformData:function(d,h){d.uniform1f(h.uNoise,this.noise/255),d.uniform1f(h.uSeed,Math.random())},toObject:function(){return g(this.callSuper("toObject"),{noise:this.noise})}}),u.Image.filters.Noise.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Pixelate=C(g.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(f){var d=f.imageData,h=d.data,w=d.height,I=d.width,y,D,F,L,k,U,N,z,H,X,ne;for(D=0;D<w;D+=this.blocksize)for(F=0;F<I;F+=this.blocksize)for(y=D*4*I+F*4,L=h[y],k=h[y+1],U=h[y+2],N=h[y+3],X=Math.min(D+this.blocksize,w),ne=Math.min(F+this.blocksize,I),z=D;z<X;z++)for(H=F;H<ne;H++)y=z*4*I+H*4,h[y]=L,h[y+1]=k,h[y+2]=U,h[y+3]=N},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(f,d){return{uBlocksize:f.getUniformLocation(d,"uBlocksize"),uStepW:f.getUniformLocation(d,"uStepW"),uStepH:f.getUniformLocation(d,"uStepH")}},sendUniformData:function(f,d){f.uniform1f(d.uBlocksize,this.blocksize)}}),u.Image.filters.Pixelate.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.extend,C=u.Image.filters,f=u.util.createClass;C.RemoveColor=f(C.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(d){var h=d.imageData,w=h.data,I,y=this.distance*255,D,F,L,k=new u.Color(this.color).getSource(),U=[k[0]-y,k[1]-y,k[2]-y],N=[k[0]+y,k[1]+y,k[2]+y];for(I=0;I<w.length;I+=4)D=w[I],F=w[I+1],L=w[I+2],D>U[0]&&F>U[1]&&L>U[2]&&D<N[0]&&F<N[1]&&L<N[2]&&(w[I+3]=0)},getUniformLocations:function(d,h){return{uLow:d.getUniformLocation(h,"uLow"),uHigh:d.getUniformLocation(h,"uHigh")}},sendUniformData:function(d,h){var w=new u.Color(this.color).getSource(),I=parseFloat(this.distance),y=[0+w[0]/255-I,0+w[1]/255-I,0+w[2]/255-I,1],D=[w[0]/255+I,w[1]/255+I,w[2]/255+I,1];d.uniform4fv(h.uLow,y),d.uniform4fv(h.uHigh,D)},toObject:function(){return g(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),u.Image.filters.RemoveColor.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass,f={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var d in f)g[d]=C(g.ColorMatrix,{type:d,matrix:f[d],mainParameter:!1,colorsOnly:!0}),u.Image.filters[d].fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric,g=u.Image.filters,C=u.util.createClass;g.BlendColor=C(g.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(f){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[f]+`}
}`},retrieveShader:function(f){var d=this.type+"_"+this.mode,h;return f.programCache.hasOwnProperty(d)||(h=this.buildSource(this.mode),f.programCache[d]=this.createProgram(f.context,h)),f.programCache[d]},applyTo2d:function(f){var d=f.imageData,h=d.data,w=h.length,I,y,D,F,L,k,U,N=1-this.alpha;U=new u.Color(this.color).getSource(),I=U[0]*this.alpha,y=U[1]*this.alpha,D=U[2]*this.alpha;for(var z=0;z<w;z+=4)switch(F=h[z],L=h[z+1],k=h[z+2],this.mode){case"multiply":h[z]=F*I/255,h[z+1]=L*y/255,h[z+2]=k*D/255;break;case"screen":h[z]=255-(255-F)*(255-I)/255,h[z+1]=255-(255-L)*(255-y)/255,h[z+2]=255-(255-k)*(255-D)/255;break;case"add":h[z]=F+I,h[z+1]=L+y,h[z+2]=k+D;break;case"diff":case"difference":h[z]=Math.abs(F-I),h[z+1]=Math.abs(L-y),h[z+2]=Math.abs(k-D);break;case"subtract":h[z]=F-I,h[z+1]=L-y,h[z+2]=k-D;break;case"darken":h[z]=Math.min(F,I),h[z+1]=Math.min(L,y),h[z+2]=Math.min(k,D);break;case"lighten":h[z]=Math.max(F,I),h[z+1]=Math.max(L,y),h[z+2]=Math.max(k,D);break;case"overlay":h[z]=I<128?2*F*I/255:255-2*(255-F)*(255-I)/255,h[z+1]=y<128?2*L*y/255:255-2*(255-L)*(255-y)/255,h[z+2]=D<128?2*k*D/255:255-2*(255-k)*(255-D)/255;break;case"exclusion":h[z]=I+F-2*I*F/255,h[z+1]=y+L-2*y*L/255,h[z+2]=D+k-2*D*k/255;break;case"tint":h[z]=I+F*N,h[z+1]=y+L*N,h[z+2]=D+k*N}},getUniformLocations:function(f,d){return{uColor:f.getUniformLocation(d,"uColor")}},sendUniformData:function(f,d){var h=new u.Color(this.color).getSource();h[0]=this.alpha*h[0]/255,h[1]=this.alpha*h[1]/255,h[2]=this.alpha*h[2]/255,h[3]=this.alpha,f.uniform4fv(d.uColor,h)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),u.Image.filters.BlendColor.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric,g=u.Image.filters,C=u.util.createClass;g.BlendImage=C(g.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(f){var d=this.type+"_"+this.mode,h=this.fragmentSource[this.mode];return f.programCache.hasOwnProperty(d)||(f.programCache[d]=this.createProgram(f.context,h)),f.programCache[d]},applyToWebGL:function(f){var d=f.context,h=this.createTexture(f.filterBackend,this.image);this.bindAdditionalTexture(d,h,d.TEXTURE1),this.callSuper("applyToWebGL",f),this.unbindAdditionalTexture(d,d.TEXTURE1)},createTexture:function(f,d){return f.getCachedTexture(d.cacheKey,d._element)},calculateMatrix:function(){var f=this.image,d=f._element.width,h=f._element.height;return[1/f.scaleX,0,0,0,1/f.scaleY,0,-f.left/d,-f.top/h,1]},applyTo2d:function(f){var d=f.imageData,h=f.filterBackend.resources,w=d.data,I=w.length,y=d.width,D=d.height,F,L,k,U,N,z,H,X,ne,ie,he=this.image,le;h.blendImage||(h.blendImage=u.util.createCanvasElement()),ne=h.blendImage,ie=ne.getContext("2d"),ne.width!==y||ne.height!==D?(ne.width=y,ne.height=D):ie.clearRect(0,0,y,D),ie.setTransform(he.scaleX,0,0,he.scaleY,he.left,he.top),ie.drawImage(he._element,0,0,y,D),le=ie.getImageData(0,0,y,D).data;for(var Ae=0;Ae<I;Ae+=4)switch(N=w[Ae],z=w[Ae+1],H=w[Ae+2],X=w[Ae+3],F=le[Ae],L=le[Ae+1],k=le[Ae+2],U=le[Ae+3],this.mode){case"multiply":w[Ae]=N*F/255,w[Ae+1]=z*L/255,w[Ae+2]=H*k/255,w[Ae+3]=X*U/255;break;case"mask":w[Ae+3]=U;break}},getUniformLocations:function(f,d){return{uTransformMatrix:f.getUniformLocation(d,"uTransformMatrix"),uImage:f.getUniformLocation(d,"uImage")}},sendUniformData:function(f,d){var h=this.calculateMatrix();f.uniform1i(d.uImage,1),f.uniformMatrix3fv(d.uTransformMatrix,!1,h)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),u.Image.filters.BlendImage.fromObject=function(f,d){u.Image.fromObject(f.image,function(h){var w=u.util.object.clone(f);w.image=h,d(new u.Image.filters.BlendImage(w))})}}(c),function(p){var u=p.fabric||(p.fabric={}),g=Math.pow,C=Math.floor,f=Math.sqrt,d=Math.abs,h=Math.round,w=Math.sin,I=Math.ceil,y=u.Image.filters,D=u.util.createClass;y.Resize=D(y.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(F,L){return{uDelta:F.getUniformLocation(L,"uDelta"),uTaps:F.getUniformLocation(L,"uTaps")}},sendUniformData:function(F,L){F.uniform2fv(L.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),F.uniform1fv(L.uTaps,this.taps)},retrieveShader:function(F){var L=this.getFilterWindow(),k=this.type+"_"+L;if(!F.programCache.hasOwnProperty(k)){var U=this.generateShader(L);F.programCache[k]=this.createProgram(F.context,U)}return F.programCache[k]},getFilterWindow:function(){var F=this.tempScale;return Math.ceil(this.lanczosLobes/F)},getTaps:function(){for(var F=this.lanczosCreate(this.lanczosLobes),L=this.tempScale,k=this.getFilterWindow(),U=new Array(k),N=1;N<=k;N++)U[N-1]=F(N*L);return U},generateShader:function(U){for(var L=new Array(U),k=this.fragmentSourceTOP,U,N=1;N<=U;N++)L[N-1]=N+".0 * uDelta";return k+="uniform float uTaps["+U+`];
`,k+=`void main() {
`,k+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,k+=`  float sum = 1.0;
`,L.forEach(function(z,H){k+="  color += texture2D(uTexture, vTexCoord + "+z+") * uTaps["+H+`];
`,k+="  color += texture2D(uTexture, vTexCoord - "+z+") * uTaps["+H+`];
`,k+="  sum += 2.0 * uTaps["+H+`];
`}),k+=`  gl_FragColor = color / sum;
`,k+="}",k},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(F){F.webgl?(F.passes++,this.width=F.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=F.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),F.destinationWidth=this.dW,this._setupFrameBuffer(F),this.applyToWebGL(F),this._swapTextures(F),F.sourceWidth=F.destinationWidth,this.height=F.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),F.destinationHeight=this.dH,this._setupFrameBuffer(F),this.applyToWebGL(F),this._swapTextures(F),F.sourceHeight=F.destinationHeight):this.applyTo2d(F)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(F){return function(L){if(L>=F||L<=-F)return 0;if(L<11920929e-14&&L>-11920929e-14)return 1;L*=Math.PI;var k=L/F;return w(L)/L*w(k)/k}},applyTo2d:function(F){var L=F.imageData,k=this.scaleX,U=this.scaleY;this.rcpScaleX=1/k,this.rcpScaleY=1/U;var N=L.width,z=L.height,H=h(N*k),X=h(z*U),ne;this.resizeType==="sliceHack"?ne=this.sliceByTwo(F,N,z,H,X):this.resizeType==="hermite"?ne=this.hermiteFastResize(F,N,z,H,X):this.resizeType==="bilinear"?ne=this.bilinearFiltering(F,N,z,H,X):this.resizeType==="lanczos"&&(ne=this.lanczosResize(F,N,z,H,X)),F.imageData=ne},sliceByTwo:function(F,L,k,U,N){var z=F.imageData,H=.5,X=!1,ne=!1,ie=L*H,he=k*H,le=u.filterBackend.resources,Ae,R,re=0,ee=0,oe=L,Z=0;for(le.sliceByTwo||(le.sliceByTwo=document.createElement("canvas")),Ae=le.sliceByTwo,(Ae.width<L*1.5||Ae.height<k)&&(Ae.width=L*1.5,Ae.height=k),R=Ae.getContext("2d"),R.clearRect(0,0,L*1.5,k),R.putImageData(z,0,0),U=C(U),N=C(N);!X||!ne;)L=ie,k=he,U<C(ie*H)?ie=C(ie*H):(ie=U,X=!0),N<C(he*H)?he=C(he*H):(he=N,ne=!0),R.drawImage(Ae,re,ee,L,k,oe,Z,ie,he),re=oe,ee=Z,Z+=he;return R.getImageData(re,ee,U,N)},lanczosResize:function(F,L,k,U,N){function z(q){var Y,te,V,K,$,se,pe,ue,ye,we,Ee;for(Z.x=(q+.5)*he,J.x=C(Z.x),Y=0;Y<N;Y++){for(Z.y=(Y+.5)*le,J.y=C(Z.y),$=0,se=0,pe=0,ue=0,ye=0,te=J.x-re;te<=J.x+re;te++)if(!(te<0||te>=L)){we=C(1e3*d(te-Z.x)),oe[we]||(oe[we]={});for(var me=J.y-ee;me<=J.y+ee;me++)me<0||me>=k||(Ee=C(1e3*d(me-Z.y)),oe[we][Ee]||(oe[we][Ee]=ie(f(g(we*Ae,2)+g(Ee*R,2))/1e3)),V=oe[we][Ee],V>0&&(K=(me*L+te)*4,$+=V,se+=V*H[K],pe+=V*H[K+1],ue+=V*H[K+2],ye+=V*H[K+3]))}K=(Y*U+q)*4,ne[K]=se/$,ne[K+1]=pe/$,ne[K+2]=ue/$,ne[K+3]=ye/$}return++q<U?z(q):X}var H=F.imageData.data,X=F.ctx.createImageData(U,N),ne=X.data,ie=this.lanczosCreate(this.lanczosLobes),he=this.rcpScaleX,le=this.rcpScaleY,Ae=2/this.rcpScaleX,R=2/this.rcpScaleY,re=I(he*this.lanczosLobes/2),ee=I(le*this.lanczosLobes/2),oe={},Z={},J={};return z(0)},bilinearFiltering:function(F,L,k,U,N){var z,H,X,ne,ie,he,le,Ae,R,re,ee,oe,Z=0,J,q=this.rcpScaleX,Y=this.rcpScaleY,te=4*(L-1),V=F.imageData,K=V.data,$=F.ctx.createImageData(U,N),se=$.data;for(le=0;le<N;le++)for(Ae=0;Ae<U;Ae++)for(ie=C(q*Ae),he=C(Y*le),R=q*Ae-ie,re=Y*le-he,J=4*(he*L+ie),ee=0;ee<4;ee++)z=K[J+ee],H=K[J+4+ee],X=K[J+te+ee],ne=K[J+te+4+ee],oe=z*(1-R)*(1-re)+H*R*(1-re)+X*re*(1-R)+ne*R*re,se[Z++]=oe;return $},hermiteFastResize:function(F,L,k,U,N){for(var z=this.rcpScaleX,H=this.rcpScaleY,X=I(z/2),ne=I(H/2),ie=F.imageData,he=ie.data,le=F.ctx.createImageData(U,N),Ae=le.data,R=0;R<N;R++)for(var re=0;re<U;re++){for(var ee=(re+R*U)*4,oe=0,Z=0,J=0,q=0,Y=0,te=0,V=0,K=(R+.5)*H,$=C(R*H);$<(R+1)*H;$++)for(var se=d(K-($+.5))/ne,pe=(re+.5)*z,ue=se*se,ye=C(re*z);ye<(re+1)*z;ye++){var we=d(pe-(ye+.5))/X,Ee=f(ue+we*we);Ee>1&&Ee<-1||(oe=2*Ee*Ee*Ee-3*Ee*Ee+1,oe>0&&(we=4*(ye+$*L),V+=oe*he[we+3],J+=oe,he[we+3]<255&&(oe=oe*he[we+3]/250),q+=oe*he[we],Y+=oe*he[we+1],te+=oe*he[we+2],Z+=oe))}Ae[ee]=q/Z,Ae[ee+1]=Y/Z,Ae[ee+2]=te/Z,Ae[ee+3]=V/J}return le},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),u.Image.filters.Resize.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Contrast=C(g.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(f){if(this.contrast!==0){var d=f.imageData,h,I,w=d.data,I=w.length,y=Math.floor(this.contrast*255),D=259*(y+255)/(255*(259-y));for(h=0;h<I;h+=4)w[h]=D*(w[h]-128)+128,w[h+1]=D*(w[h+1]-128)+128,w[h+2]=D*(w[h+2]-128)+128}},getUniformLocations:function(f,d){return{uContrast:f.getUniformLocation(d,"uContrast")}},sendUniformData:function(f,d){f.uniform1f(d.uContrast,this.contrast)}}),u.Image.filters.Contrast.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Saturation=C(g.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(f){if(this.saturation!==0){var d=f.imageData,h=d.data,w=h.length,I=-this.saturation,y,D;for(y=0;y<w;y+=4)D=Math.max(h[y],h[y+1],h[y+2]),h[y]+=D!==h[y]?(D-h[y])*I:0,h[y+1]+=D!==h[y+1]?(D-h[y+1])*I:0,h[y+2]+=D!==h[y+2]?(D-h[y+2])*I:0}},getUniformLocations:function(f,d){return{uSaturation:f.getUniformLocation(d,"uSaturation")}},sendUniformData:function(f,d){f.uniform1f(d.uSaturation,-this.saturation)}}),u.Image.filters.Saturation.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Vibrance=C(g.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(f){if(this.vibrance!==0){var d=f.imageData,h=d.data,w=h.length,I=-this.vibrance,y,D,F,L;for(y=0;y<w;y+=4)D=Math.max(h[y],h[y+1],h[y+2]),F=(h[y]+h[y+1]+h[y+2])/3,L=Math.abs(D-F)*2/255*I,h[y]+=D!==h[y]?(D-h[y])*L:0,h[y+1]+=D!==h[y+1]?(D-h[y+1])*L:0,h[y+2]+=D!==h[y+2]?(D-h[y+2])*L:0}},getUniformLocations:function(f,d){return{uVibrance:f.getUniformLocation(d,"uVibrance")}},sendUniformData:function(f,d){f.uniform1f(d.uVibrance,-this.vibrance)}}),u.Image.filters.Vibrance.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Blur=C(g.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(f){f.webgl?(this.aspectRatio=f.sourceWidth/f.sourceHeight,f.passes++,this._setupFrameBuffer(f),this.horizontal=!0,this.applyToWebGL(f),this._swapTextures(f),this._setupFrameBuffer(f),this.horizontal=!1,this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},applyTo2d:function(f){f.imageData=this.simpleBlur(f)},simpleBlur:function(f){var d=f.filterBackend.resources,h,w,I=f.imageData.width,y=f.imageData.height;d.blurLayer1||(d.blurLayer1=u.util.createCanvasElement(),d.blurLayer2=u.util.createCanvasElement()),h=d.blurLayer1,w=d.blurLayer2,(h.width!==I||h.height!==y)&&(w.width=h.width=I,w.height=h.height=y);var D=h.getContext("2d"),F=w.getContext("2d"),L=15,k,U,N,z,H=this.blur*.06*.5;for(D.putImageData(f.imageData,0,0),F.clearRect(0,0,I,y),z=-L;z<=L;z++)k=(Math.random()-.5)/4,U=z/L,N=H*U*I+k,F.globalAlpha=1-Math.abs(U),F.drawImage(h,N,k),D.drawImage(w,0,0),F.globalAlpha=1,F.clearRect(0,0,w.width,w.height);for(z=-L;z<=L;z++)k=(Math.random()-.5)/4,U=z/L,N=H*U*y+k,F.globalAlpha=1-Math.abs(U),F.drawImage(h,k,N),D.drawImage(w,0,0),F.globalAlpha=1,F.clearRect(0,0,w.width,w.height);f.ctx.drawImage(h,0,0);var X=f.ctx.getImageData(0,0,h.width,h.height);return D.globalAlpha=1,D.clearRect(0,0,h.width,h.height),X},getUniformLocations:function(f,d){return{delta:f.getUniformLocation(d,"uDelta")}},sendUniformData:function(f,d){var h=this.chooseRightDelta();f.uniform2fv(d.delta,h)},chooseRightDelta:function(){var f=1,d=[0,0],h;return this.horizontal?this.aspectRatio>1&&(f=1/this.aspectRatio):this.aspectRatio<1&&(f=this.aspectRatio),h=f*this.blur*.12,this.horizontal?d[0]=h:d[1]=h,d}}),g.Blur.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Gamma=C(g.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(f){this.gamma=[1,1,1],g.BaseFilter.prototype.initialize.call(this,f)},applyTo2d:function(f){var d=f.imageData,h=d.data,w=this.gamma,I=h.length,y=1/w[0],D=1/w[1],F=1/w[2],L;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),L=0,I=256;L<I;L++)this.rVals[L]=Math.pow(L/255,y)*255,this.gVals[L]=Math.pow(L/255,D)*255,this.bVals[L]=Math.pow(L/255,F)*255;for(L=0,I=h.length;L<I;L+=4)h[L]=this.rVals[h[L]],h[L+1]=this.gVals[h[L+1]],h[L+2]=this.bVals[h[L+2]]},getUniformLocations:function(f,d){return{uGamma:f.getUniformLocation(d,"uGamma")}},sendUniformData:function(f,d){f.uniform3fv(d.uGamma,this.gamma)}}),u.Image.filters.Gamma.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.Composed=C(g.BaseFilter,{type:"Composed",subFilters:[],initialize:function(f){this.callSuper("initialize",f),this.subFilters=this.subFilters.slice(0)},applyTo:function(f){f.passes+=this.subFilters.length-1,this.subFilters.forEach(function(d){d.applyTo(f)})},toObject:function(){return u.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(f){return f.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(f){return!f.isNeutralState()})}}),u.Image.filters.Composed.fromObject=function(f,d){var h=f.subFilters||[],w=h.map(function(y){return new u.Image.filters[y.type](y)}),I=new u.Image.filters.Composed({subFilters:w});return d&&d(I),I}}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.Image.filters,C=u.util.createClass;g.HueRotation=C(g.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var f=this.rotation*Math.PI,d=u.util.cos(f),h=u.util.sin(f),w=1/3,I=Math.sqrt(w)*h,y=1-d;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=d+y/3,this.matrix[1]=w*y-I,this.matrix[2]=w*y+I,this.matrix[5]=w*y+I,this.matrix[6]=d+w*y,this.matrix[7]=w*y-I,this.matrix[10]=w*y-I,this.matrix[11]=w*y+I,this.matrix[12]=d+w*y},isNeutralState:function(f){return this.calculateMatrix(),g.BaseFilter.prototype.isNeutralState.call(this,f)},applyTo:function(f){this.calculateMatrix(),g.BaseFilter.prototype.applyTo.call(this,f)}}),u.Image.filters.HueRotation.fromObject=u.Image.filters.BaseFilter.fromObject}(c),function(p){var u=p.fabric||(p.fabric={}),g=u.util.object.clone;if(u.Text){u.warn("fabric.Text is already defined");return}var C="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");u.Text=u.util.createClass(u.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:u.Object.prototype.stateProperties.concat(C),cacheProperties:u.Object.prototype.cacheProperties.concat(C),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(f,d){this.styles=d?d.styles||{}:{},this.text=f,this.__skipDimension=!0,this.callSuper("initialize",d),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var f=this.path;f&&(f.segmentsInfo=u.util.getPathSegmentsInfo(f.path))},getMeasuringContext:function(){return u._measuringContext||(u._measuringContext=this.canvas&&this.canvas.contextCache||u.util.createCanvasElement().getContext("2d")),u._measuringContext},_splitText:function(){var f=this._splitTextIntoLines(this.text);return this.textLines=f.lines,this._textLines=f.graphemeLines,this._unwrappedTextLines=f._unwrappedLines,this._text=f.graphemeText,f},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var f,d,h,w,I,y,D,F=0,L=this._textLines.length;F<L;F++)if(!(this.textAlign!=="justify"&&(F===L-1||this.isEndOfWrapping(F)))&&(w=0,I=this._textLines[F],d=this.getLineWidth(F),d<this.width&&(D=this.textLines[F].match(this._reSpacesAndTabs)))){h=D.length,f=(this.width-d)/h;for(var k=0,U=I.length;k<=U;k++)y=this.__charBounds[F][k],this._reSpaceAndTab.test(I[k])?(y.width+=f,y.kernedWidth+=f,y.left+=w,w+=f):y.left+=w}},isEndOfWrapping:function(f){return f===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var f=this.callSuper("_getCacheCanvasDimensions"),d=this.fontSize;return f.width+=d*f.zoomX,f.height+=d*f.zoomY,f},_render:function(f){var d=this.path;d&&!d.isNotVisible()&&d._render(f),this._setTextStyles(f),this._renderTextLinesBackground(f),this._renderTextDecoration(f,"underline"),this._renderText(f),this._renderTextDecoration(f,"overline"),this._renderTextDecoration(f,"linethrough")},_renderText:function(f){this.paintFirst==="stroke"?(this._renderTextStroke(f),this._renderTextFill(f)):(this._renderTextFill(f),this._renderTextStroke(f))},_setTextStyles:function(f,d,h){f.textBaseline="alphabetic",f.font=this._getFontDeclaration(d,h)},calcTextWidth:function(){for(var f=this.getLineWidth(0),d=1,h=this._textLines.length;d<h;d++){var w=this.getLineWidth(d);w>f&&(f=w)}return f},_renderTextLine:function(f,d,h,w,I,y){this._renderChars(f,d,h,w,I,y)},_renderTextLinesBackground:function(f){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var d,h,w=f.fillStyle,I,y,D=this._getLeftOffset(),F=this._getTopOffset(),L=0,k=0,U,N,z=this.path,H,X=0,ne=this._textLines.length;X<ne;X++){if(d=this.getHeightOfLine(X),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",X)){F+=d;continue}I=this._textLines[X],h=this._getLineLeftOffset(X),k=0,L=0,y=this.getValueOfPropertyAt(X,0,"textBackgroundColor");for(var ie=0,he=I.length;ie<he;ie++)U=this.__charBounds[X][ie],N=this.getValueOfPropertyAt(X,ie,"textBackgroundColor"),z?(f.save(),f.translate(U.renderLeft,U.renderTop),f.rotate(U.angle),f.fillStyle=N,N&&f.fillRect(-U.width/2,-d/this.lineHeight*(1-this._fontSizeFraction),U.width,d/this.lineHeight),f.restore()):N!==y?(H=D+h+L,this.direction==="rtl"&&(H=this.width-H-k),f.fillStyle=y,y&&f.fillRect(H,F,k,d/this.lineHeight),L=U.left,k=U.width,y=N):k+=U.kernedWidth;N&&!z&&(H=D+h+L,this.direction==="rtl"&&(H=this.width-H-k),f.fillStyle=N,f.fillRect(H,F,k,d/this.lineHeight)),F+=d}f.fillStyle=w,this._removeShadow(f)}},getFontCache:function(f){var d=f.fontFamily.toLowerCase();u.charWidthsCache[d]||(u.charWidthsCache[d]={});var h=u.charWidthsCache[d],w=f.fontStyle.toLowerCase()+"_"+(f.fontWeight+"").toLowerCase();return h[w]||(h[w]={}),h[w]},_measureChar:function(f,d,h,w){var I=this.getFontCache(d),y=this._getFontDeclaration(d),D=this._getFontDeclaration(w),F=h+f,L=y===D,k,U,N,z=d.fontSize/this.CACHE_FONT_SIZE,H;if(h&&I[h]!==void 0&&(N=I[h]),I[f]!==void 0&&(H=k=I[f]),L&&I[F]!==void 0&&(U=I[F],H=U-N),k===void 0||N===void 0||U===void 0){var X=this.getMeasuringContext();this._setTextStyles(X,d,!0)}return k===void 0&&(H=k=X.measureText(f).width,I[f]=k),N===void 0&&L&&h&&(N=X.measureText(h).width,I[h]=N),L&&U===void 0&&(U=X.measureText(F).width,I[F]=U,H=U-N),{width:k*z,kernedWidth:H*z}},getHeightOfChar:function(f,d){return this.getValueOfPropertyAt(f,d,"fontSize")},measureLine:function(f){var d=this._measureLine(f);return this.charSpacing!==0&&(d.width-=this._getWidthOfCharSpacing()),d.width<0&&(d.width=0),d},_measureLine:function(f){var d=0,h,w,I=this._textLines[f],y,D,F=0,L=new Array(I.length),k=0,U,N,z=this.path,H=this.pathSide==="right";for(this.__charBounds[f]=L,h=0;h<I.length;h++)w=I[h],D=this._getGraphemeBox(w,f,h,y),L[h]=D,d+=D.kernedWidth,y=w;if(L[h]={left:D?D.left+D.width:0,width:0,kernedWidth:0,height:this.fontSize},z){switch(N=z.segmentsInfo[z.segmentsInfo.length-1].length,U=u.util.getPointOnPath(z.path,0,z.segmentsInfo),U.x+=z.pathOffset.x,U.y+=z.pathOffset.y,this.textAlign){case"left":k=H?N-d:0;break;case"center":k=(N-d)/2;break;case"right":k=H?0:N-d;break}for(k+=this.pathStartOffset*(H?-1:1),h=H?I.length-1:0;H?h>=0:h<I.length;H?h--:h++)D=L[h],k>N?k%=N:k<0&&(k+=N),this._setGraphemeOnPath(k,D,U),k+=D.kernedWidth}return{width:d,numOfSpaces:F}},_setGraphemeOnPath:function(f,d,h){var w=f+d.kernedWidth/2,I=this.path,y=u.util.getPointOnPath(I.path,w,I.segmentsInfo);d.renderLeft=y.x-h.x,d.renderTop=y.y-h.y,d.angle=y.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(f,d,h,w,I){var y=this.getCompleteStyleDeclaration(d,h),D=w?this.getCompleteStyleDeclaration(d,h-1):{},F=this._measureChar(f,y,w,D),L=F.kernedWidth,k=F.width,U;this.charSpacing!==0&&(U=this._getWidthOfCharSpacing(),k+=U,L+=U);var N={width:k,left:0,height:y.fontSize,kernedWidth:L,deltaY:y.deltaY};if(h>0&&!I){var z=this.__charBounds[d][h-1];N.left=z.left+z.width+F.kernedWidth-F.width}return N},getHeightOfLine:function(f){if(this.__lineHeights[f])return this.__lineHeights[f];for(var d=this._textLines[f],h=this.getHeightOfChar(f,0),w=1,I=d.length;w<I;w++)h=Math.max(this.getHeightOfChar(f,w),h);return this.__lineHeights[f]=h*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var f,d=0,h=0,w=this._textLines.length;h<w;h++)f=this.getHeightOfLine(h),d+=h===w-1?f/this.lineHeight:f;return d},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(f,d){f.save();for(var h=0,w=this._getLeftOffset(),I=this._getTopOffset(),y=0,D=this._textLines.length;y<D;y++){var F=this.getHeightOfLine(y),L=F/this.lineHeight,k=this._getLineLeftOffset(y);this._renderTextLine(d,f,this._textLines[y],w+k,I+h+L,y),h+=F}f.restore()},_renderTextFill:function(f){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(f,"fillText")},_renderTextStroke:function(f){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this._setLineDash(f,this.strokeDashArray),f.beginPath(),this._renderTextCommon(f,"strokeText"),f.closePath(),f.restore())},_renderChars:function(f,d,h,w,I,y){var D=this.getHeightOfLine(y),F=this.textAlign.indexOf("justify")!==-1,L,k,U="",N,z=0,H,X=this.path,ne=!F&&this.charSpacing===0&&this.isEmptyStyles(y)&&!X,ie=this.direction==="ltr",he=this.direction==="ltr"?1:-1,le;if(d.save(),I-=D*this._fontSizeFraction/this.lineHeight,ne){d.canvas.setAttribute("dir",ie?"ltr":"rtl"),d.direction=ie?"ltr":"rtl",d.textAlign=ie?"left":"right",this._renderChar(f,d,y,0,h.join(""),w,I,D),d.restore();return}for(var Ae=0,R=h.length-1;Ae<=R;Ae++)H=Ae===R||this.charSpacing||X,U+=h[Ae],N=this.__charBounds[y][Ae],z===0?(w+=he*(N.kernedWidth-N.width),z+=N.width):z+=N.kernedWidth,F&&!H&&this._reSpaceAndTab.test(h[Ae])&&(H=!0),H||(L=L||this.getCompleteStyleDeclaration(y,Ae),k=this.getCompleteStyleDeclaration(y,Ae+1),H=this._hasStyleChanged(L,k)),H&&(X?(d.save(),d.translate(N.renderLeft,N.renderTop),d.rotate(N.angle),this._renderChar(f,d,y,Ae,U,-z/2,0,D),d.restore()):(le=w,d.canvas.setAttribute("dir",ie?"ltr":"rtl"),d.direction=ie?"ltr":"rtl",d.textAlign=ie?"left":"right",this._renderChar(f,d,y,Ae,U,le,I,D)),U="",L=k,w+=he*z,z=0);d.restore()},_applyPatternGradientTransformText:function(f){var d=u.util.createCanvasElement(),h,w=this.width+this.strokeWidth,I=this.height+this.strokeWidth;return d.width=w,d.height=I,h=d.getContext("2d"),h.beginPath(),h.moveTo(0,0),h.lineTo(w,0),h.lineTo(w,I),h.lineTo(0,I),h.closePath(),h.translate(w/2,I/2),h.fillStyle=f.toLive(h),this._applyPatternGradientTransform(h,f),h.fill(),h.createPattern(d,"no-repeat")},handleFiller:function(f,d,h){var w,I;return h.toLive?h.gradientUnits==="percentage"||h.gradientTransform||h.patternTransform?(w=-this.width/2,I=-this.height/2,f.translate(w,I),f[d]=this._applyPatternGradientTransformText(h),{offsetX:w,offsetY:I}):(f[d]=h.toLive(f,this),this._applyPatternGradientTransform(f,h)):(f[d]=h,{offsetX:0,offsetY:0})},_setStrokeStyles:function(f,d){return f.lineWidth=d.strokeWidth,f.lineCap=this.strokeLineCap,f.lineDashOffset=this.strokeDashOffset,f.lineJoin=this.strokeLineJoin,f.miterLimit=this.strokeMiterLimit,this.handleFiller(f,"strokeStyle",d.stroke)},_setFillStyles:function(f,d){return this.handleFiller(f,"fillStyle",d.fill)},_renderChar:function(f,d,h,w,I,y,D){var F=this._getStyleDeclaration(h,w),L=this.getCompleteStyleDeclaration(h,w),k=f==="fillText"&&L.fill,U=f==="strokeText"&&L.stroke&&L.strokeWidth,N,z;!U&&!k||(d.save(),k&&(N=this._setFillStyles(d,L)),U&&(z=this._setStrokeStyles(d,L)),d.font=this._getFontDeclaration(L),F&&F.textBackgroundColor&&this._removeShadow(d),F&&F.deltaY&&(D+=F.deltaY),k&&d.fillText(I,y-N.offsetX,D-N.offsetY),U&&d.strokeText(I,y-z.offsetX,D-z.offsetY),d.restore())},setSuperscript:function(f,d){return this._setScript(f,d,this.superscript)},setSubscript:function(f,d){return this._setScript(f,d,this.subscript)},_setScript:function(f,d,h){var w=this.get2DCursorLocation(f,!0),I=this.getValueOfPropertyAt(w.lineIndex,w.charIndex,"fontSize"),y=this.getValueOfPropertyAt(w.lineIndex,w.charIndex,"deltaY"),D={fontSize:I*h.size,deltaY:y+I*h.baseline};return this.setSelectionStyles(D,f,d),this},_hasStyleChanged:function(f,d){return f.fill!==d.fill||f.stroke!==d.stroke||f.strokeWidth!==d.strokeWidth||f.fontSize!==d.fontSize||f.fontFamily!==d.fontFamily||f.fontWeight!==d.fontWeight||f.fontStyle!==d.fontStyle||f.deltaY!==d.deltaY},_hasStyleChangedForSvg:function(f,d){return this._hasStyleChanged(f,d)||f.overline!==d.overline||f.underline!==d.underline||f.linethrough!==d.linethrough},_getLineLeftOffset:function(f){var d=this.getLineWidth(f),h=this.width-d,w=this.textAlign,I=this.direction,D,y=0,D=this.isEndOfWrapping(f);return w==="justify"||w==="justify-center"&&!D||w==="justify-right"&&!D||w==="justify-left"&&!D?0:(w==="center"&&(y=h/2),w==="right"&&(y=h),w==="justify-center"&&(y=h/2),w==="justify-right"&&(y=h),I==="rtl"&&(y-=h),y)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var f=this._forceClearCache;return f||(f=this.hasStateChanged("_dimensionAffectingProps")),f&&(this.dirty=!0,this._forceClearCache=!1),f},getLineWidth:function(f){if(this.__lineWidths[f])return this.__lineWidths[f];var d,h=this._textLines[f],w;return h===""?d=0:(w=this.measureLine(f),d=w.width),this.__lineWidths[f]=d,d},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(f,d,h){var w=this._getStyleDeclaration(f,d);return w&&typeof w[h]!="undefined"?w[h]:this[h]},_renderTextDecoration:function(f,d){if(!(!this[d]&&!this.styleHas(d))){for(var h,w,I,y,D,F,L,k,U=this._getLeftOffset(),N=this._getTopOffset(),z,H,X,ne,ie,he,le,Ae,R=this.path,re=this._getWidthOfCharSpacing(),ee=this.offsets[d],oe=0,Z=this._textLines.length;oe<Z;oe++){if(h=this.getHeightOfLine(oe),!this[d]&&!this.styleHas(d,oe)){N+=h;continue}L=this._textLines[oe],he=h/this.lineHeight,y=this._getLineLeftOffset(oe),H=0,X=0,k=this.getValueOfPropertyAt(oe,0,d),Ae=this.getValueOfPropertyAt(oe,0,"fill"),z=N+he*(1-this._fontSizeFraction),w=this.getHeightOfChar(oe,0),D=this.getValueOfPropertyAt(oe,0,"deltaY");for(var J=0,q=L.length;J<q;J++)if(ne=this.__charBounds[oe][J],ie=this.getValueOfPropertyAt(oe,J,d),le=this.getValueOfPropertyAt(oe,J,"fill"),I=this.getHeightOfChar(oe,J),F=this.getValueOfPropertyAt(oe,J,"deltaY"),R&&ie&&le)f.save(),f.fillStyle=Ae,f.translate(ne.renderLeft,ne.renderTop),f.rotate(ne.angle),f.fillRect(-ne.kernedWidth/2,ee*I+F,ne.kernedWidth,this.fontSize/15),f.restore();else if((ie!==k||le!==Ae||I!==w||F!==D)&&X>0){var Y=U+y+H;this.direction==="rtl"&&(Y=this.width-Y-X),k&&Ae&&(f.fillStyle=Ae,f.fillRect(Y,z+ee*w+D,X,this.fontSize/15)),H=ne.left,X=ne.width,k=ie,Ae=le,w=I,D=F}else X+=ne.kernedWidth;var Y=U+y+H;this.direction==="rtl"&&(Y=this.width-Y-X),f.fillStyle=le,ie&&le&&f.fillRect(Y,z+ee*w+D,X-re,this.fontSize/15),N+=h}this._removeShadow(f)}},_getFontDeclaration:function(f,d){var h=f||this,w=this.fontFamily,I=u.Text.genericFonts.indexOf(w.toLowerCase())>-1,y=w===void 0||w.indexOf("'")>-1||w.indexOf(",")>-1||w.indexOf('"')>-1||I?h.fontFamily:'"'+h.fontFamily+'"';return[u.isLikelyNode?h.fontWeight:h.fontStyle,u.isLikelyNode?h.fontStyle:h.fontWeight,d?this.CACHE_FONT_SIZE+"px":h.fontSize+"px",y].join(" ")},render:function(f){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",f))},_splitTextIntoLines:function(f){for(var d=f.split(this._reNewline),h=new Array(d.length),w=[`
`],I=[],y=0;y<d.length;y++)h[y]=u.util.string.graphemeSplit(d[y]),I=I.concat(h[y],w);return I.pop(),{_unwrappedLines:h,lines:d,graphemeText:I,graphemeLines:h}},toObject:function(f){var d=C.concat(f),h=this.callSuper("toObject",d);return h.styles=g(this.styles,!0),h.path&&(h.path=this.path.toObject()),h},set:function(f,d){this.callSuper("set",f,d);var h=!1,w=!1;if(typeof f=="object")for(var I in f)I==="path"&&this.setPathInfo(),h=h||this._dimensionAffectingProps.indexOf(I)!==-1,w=w||I==="path";else h=this._dimensionAffectingProps.indexOf(f)!==-1,w=f==="path";return w&&this.setPathInfo(),h&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),u.Text.ATTRIBUTE_NAMES=u.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),u.Text.DEFAULT_SVG_FONT_SIZE=16,u.Text.fromElement=function(f,d,h){if(!f)return d(null);var w=u.parseAttributes(f,u.Text.ATTRIBUTE_NAMES),I=w.textAnchor||"left";if(h=u.util.object.extend(h?g(h):{},w),h.top=h.top||0,h.left=h.left||0,w.textDecoration){var y=w.textDecoration;y.indexOf("underline")!==-1&&(h.underline=!0),y.indexOf("overline")!==-1&&(h.overline=!0),y.indexOf("line-through")!==-1&&(h.linethrough=!0),delete h.textDecoration}"dx"in w&&(h.left+=w.dx),"dy"in w&&(h.top+=w.dy),"fontSize"in h||(h.fontSize=u.Text.DEFAULT_SVG_FONT_SIZE);var D="";"textContent"in f?D=f.textContent:"firstChild"in f&&f.firstChild!==null&&"data"in f.firstChild&&f.firstChild.data!==null&&(D=f.firstChild.data),D=D.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var F=h.strokeWidth;h.strokeWidth=0;var L=new u.Text(D,h),k=L.getScaledHeight()/L.height,U=(L.height+L.strokeWidth)*L.lineHeight-L.height,N=U*k,z=L.getScaledHeight()+N,H=0;I==="center"&&(H=L.getScaledWidth()/2),I==="right"&&(H=L.getScaledWidth()),L.set({left:L.left-H,top:L.top-(z-L.fontSize*(.07+L._fontSizeFraction))/L.lineHeight,strokeWidth:typeof F!="undefined"?F:1}),d(L)},u.Text.fromObject=function(f,d){var h=g(f),w=f.path;return delete h.path,u.Object._fromObject("Text",h,function(I){w?u.Object._fromObject("Path",w,function(y){I.set("path",y),d(I)},"path"):d(I)},"text")},u.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],u.util.createAccessors&&u.util.createAccessors(u.Text)}(c),function(){A.util.object.extend(A.Text.prototype,{isEmptyStyles:function(p){if(!this.styles||typeof p!="undefined"&&!this.styles[p])return!0;var u=typeof p=="undefined"?this.styles:{line:this.styles[p]};for(var g in u)for(var C in u[g])for(var f in u[g][C])return!1;return!0},styleHas:function(p,u){if(!this.styles||!p||p===""||typeof u!="undefined"&&!this.styles[u])return!1;var g=typeof u=="undefined"?this.styles:{0:this.styles[u]};for(var C in g)for(var f in g[C])if(typeof g[C][f][p]!="undefined")return!0;return!1},cleanStyle:function(p){if(!this.styles||!p||p==="")return!1;var u=this.styles,g=0,C,f,d=!0,h=0,w;for(var I in u){C=0;for(var y in u[I]){var w=u[I][y],D=w.hasOwnProperty(p);g++,D?(f?w[p]!==f&&(d=!1):f=w[p],w[p]===this[p]&&delete w[p]):d=!1,Object.keys(w).length!==0?C++:delete u[I][y]}C===0&&delete u[I]}for(var F=0;F<this._textLines.length;F++)h+=this._textLines[F].length;d&&g===h&&(this[p]=f,this.removeStyle(p))},removeStyle:function(p){if(!(!this.styles||!p||p==="")){var u=this.styles,g,C,f;for(C in u){g=u[C];for(f in g)delete g[f][p],Object.keys(g[f]).length===0&&delete g[f];Object.keys(g).length===0&&delete u[C]}}},_extendStyles:function(p,u){var g=this.get2DCursorLocation(p);this._getLineStyle(g.lineIndex)||this._setLineStyle(g.lineIndex),this._getStyleDeclaration(g.lineIndex,g.charIndex)||this._setStyleDeclaration(g.lineIndex,g.charIndex,{}),A.util.object.extend(this._getStyleDeclaration(g.lineIndex,g.charIndex),u)},get2DCursorLocation:function(p,u){typeof p=="undefined"&&(p=this.selectionStart);for(var g=u?this._unwrappedTextLines:this._textLines,C=g.length,f=0;f<C;f++){if(p<=g[f].length)return{lineIndex:f,charIndex:p};p-=g[f].length+this.missingNewlineOffset(f)}return{lineIndex:f-1,charIndex:g[f-1].length<p?g[f-1].length:p}},getSelectionStyles:function(p,u,g){typeof p=="undefined"&&(p=this.selectionStart||0),typeof u=="undefined"&&(u=this.selectionEnd||p);for(var C=[],f=p;f<u;f++)C.push(this.getStyleAtPosition(f,g));return C},getStyleAtPosition:function(p,u){var g=this.get2DCursorLocation(p),C=u?this.getCompleteStyleDeclaration(g.lineIndex,g.charIndex):this._getStyleDeclaration(g.lineIndex,g.charIndex);return C||{}},setSelectionStyles:function(p,u,g){typeof u=="undefined"&&(u=this.selectionStart||0),typeof g=="undefined"&&(g=this.selectionEnd||u);for(var C=u;C<g;C++)this._extendStyles(C,p);return this._forceClearCache=!0,this},_getStyleDeclaration:function(p,u){var g=this.styles&&this.styles[p];return g?g[u]:null},getCompleteStyleDeclaration:function(p,u){for(var g=this._getStyleDeclaration(p,u)||{},C={},f,d=0;d<this._styleProperties.length;d++)f=this._styleProperties[d],C[f]=typeof g[f]=="undefined"?this[f]:g[f];return C},_setStyleDeclaration:function(p,u,g){this.styles[p][u]=g},_deleteStyleDeclaration:function(p,u){delete this.styles[p][u]},_getLineStyle:function(p){return!!this.styles[p]},_setLineStyle:function(p){this.styles[p]={}},_deleteLineStyle:function(p){delete this.styles[p]}})}(),function(){function p(u){u.textDecoration&&(u.textDecoration.indexOf("underline")>-1&&(u.underline=!0),u.textDecoration.indexOf("line-through")>-1&&(u.linethrough=!0),u.textDecoration.indexOf("overline")>-1&&(u.overline=!0),delete u.textDecoration)}A.IText=A.util.createClass(A.Text,A.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(u,g){this.callSuper("initialize",u,g),this.initBehavior()},setSelectionStart:function(u){u=Math.max(u,0),this._updateAndFire("selectionStart",u)},setSelectionEnd:function(u){u=Math.min(u,this.text.length),this._updateAndFire("selectionEnd",u)},_updateAndFire:function(u,g){this[u]!==g&&(this._fireSelectionChanged(),this[u]=g),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(u){this.clearContextTop(),this.callSuper("render",u),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(u){this.callSuper("_render",u)},clearContextTop:function(u){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var g=this.canvas.contextTop,C=this.canvas.viewportTransform;g.save(),g.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this.transform(g),this._clearTextArea(g),u||g.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this._getCursorBoundaries(),g=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(u,g):this.renderSelection(u,g),g.restore()}},_clearTextArea:function(u){var g=this.width+4,C=this.height+4;u.clearRect(-g/2,-C/2,g,C)},_getCursorBoundaries:function(u){typeof u=="undefined"&&(u=this.selectionStart);var g=this._getLeftOffset(),C=this._getTopOffset(),f=this._getCursorBoundariesOffsets(u);return{left:g,top:C,leftOffset:f.left,topOffset:f.top}},_getCursorBoundariesOffsets:function(u){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var g,C,f,d=0,h=0,w,I=this.get2DCursorLocation(u);f=I.charIndex,C=I.lineIndex;for(var y=0;y<C;y++)d+=this.getHeightOfLine(y);g=this._getLineLeftOffset(C);var D=this.__charBounds[C][f];return D&&(h=D.left),this.charSpacing!==0&&f===this._textLines[C].length&&(h-=this._getWidthOfCharSpacing()),w={top:d,left:g+(h>0?h:0)},this.direction==="rtl"&&(w.left*=-1),this.cursorOffsetCache=w,this.cursorOffsetCache},renderCursor:function(u,g){var C=this.get2DCursorLocation(),f=C.lineIndex,d=C.charIndex>0?C.charIndex-1:0,h=this.getValueOfPropertyAt(f,d,"fontSize"),w=this.scaleX*this.canvas.getZoom(),I=this.cursorWidth/w,y=u.topOffset,D=this.getValueOfPropertyAt(f,d,"deltaY");y+=(1-this._fontSizeFraction)*this.getHeightOfLine(f)/this.lineHeight-h*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(u,g),g.fillStyle=this.cursorColor||this.getValueOfPropertyAt(f,d,"fill"),g.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,g.fillRect(u.left+u.leftOffset-I/2,y+u.top+D,I,h)},renderSelection:function(u,g){for(var C=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,f=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,d=this.textAlign.indexOf("justify")!==-1,h=this.get2DCursorLocation(C),w=this.get2DCursorLocation(f),I=h.lineIndex,y=w.lineIndex,D=h.charIndex<0?0:h.charIndex,F=w.charIndex<0?0:w.charIndex,L=I;L<=y;L++){var k=this._getLineLeftOffset(L)||0,U=this.getHeightOfLine(L),N=0,z=0,H=0;if(L===I&&(z=this.__charBounds[I][D].left),L>=I&&L<y)H=d&&!this.isEndOfWrapping(L)?this.width:this.getLineWidth(L)||5;else if(L===y)if(F===0)H=this.__charBounds[y][F].left;else{var X=this._getWidthOfCharSpacing();H=this.__charBounds[y][F-1].left+this.__charBounds[y][F-1].width-X}N=U,(this.lineHeight<1||L===y&&this.lineHeight>1)&&(U/=this.lineHeight);var ne=u.left+k+z,ie=H-z,he=U,le=0;this.inCompositionMode?(g.fillStyle=this.compositionColor||"black",he=1,le=U):g.fillStyle=this.selectionColor,this.direction==="rtl"&&(ne=this.width-ne-ie),g.fillRect(ne,u.top+u.topOffset+le,ie,he),u.topOffset+=N}},getCurrentCharFontSize:function(){var u=this._getCurrentCharIndex();return this.getValueOfPropertyAt(u.l,u.c,"fontSize")},getCurrentCharColor:function(){var u=this._getCurrentCharIndex();return this.getValueOfPropertyAt(u.l,u.c,"fill")},_getCurrentCharIndex:function(){var u=this.get2DCursorLocation(this.selectionStart,!0),g=u.charIndex>0?u.charIndex-1:0;return{l:u.lineIndex,c:g}}}),A.IText.fromObject=function(u,g){if(p(u),u.styles)for(var C in u.styles)for(var f in u.styles[C])p(u.styles[C][f]);A.Object._fromObject("IText",u,g,"text")}}(),function(){var p=A.util.object.clone;A.util.object.extend(A.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var u=this;this.on("added",function(){var g=u.canvas;g&&(g._hasITextHandlers||(g._hasITextHandlers=!0,u._initCanvasHandlers(g)),g._iTextInstances=g._iTextInstances||[],g._iTextInstances.push(u))})},initRemovedHandler:function(){var u=this;this.on("removed",function(){var g=u.canvas;g&&(g._iTextInstances=g._iTextInstances||[],A.util.removeFromArray(g._iTextInstances,u),g._iTextInstances.length===0&&(g._hasITextHandlers=!1,u._removeCanvasHandlers(g)))})},_initCanvasHandlers:function(u){u._mouseUpITextHandler=function(){u._iTextInstances&&u._iTextInstances.forEach(function(g){g.__isMousedown=!1})},u.on("mouse:up",u._mouseUpITextHandler)},_removeCanvasHandlers:function(u){u.off("mouse:up",u._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(u,g,C,f){var d;return d={isAborted:!1,abort:function(){this.isAborted=!0}},u.animate("_currentCursorOpacity",g,{duration:C,onComplete:function(){d.isAborted||u[f]()},onChange:function(){u.canvas&&u.selectionStart===u.selectionEnd&&u.renderCursorOrSelection()},abort:function(){return d.isAborted}}),d},_onTickComplete:function(){var u=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){u._currentTickCompleteState=u._animateCursor(u,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(u){var g=this,C=u?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){g._tick()},C)},abortCursorAnimation:function(){var u=this._currentTickState||this._currentTickCompleteState,g=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,u&&g&&g.clearContext(g.contextTop||g.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(u){var g=0,C=u-1;if(this._reSpace.test(this._text[C]))for(;this._reSpace.test(this._text[C]);)g++,C--;for(;/\S/.test(this._text[C])&&C>-1;)g++,C--;return u-g},findWordBoundaryRight:function(u){var g=0,C=u;if(this._reSpace.test(this._text[C]))for(;this._reSpace.test(this._text[C]);)g++,C++;for(;/\S/.test(this._text[C])&&C<this._text.length;)g++,C++;return u+g},findLineBoundaryLeft:function(u){for(var g=0,C=u-1;!/\n/.test(this._text[C])&&C>-1;)g++,C--;return u-g},findLineBoundaryRight:function(u){for(var g=0,C=u;!/\n/.test(this._text[C])&&C<this._text.length;)g++,C++;return u+g},searchWordBoundary:function(u,g){for(var C=this._text,f=this._reSpace.test(C[u])?u-1:u,d=C[f],h=A.reNonWord;!h.test(d)&&f>0&&f<C.length;)f+=g,d=C[f];return h.test(d)&&(f+=g===1?0:1),f},selectWord:function(u){u=u||this.selectionStart;var g=this.searchWordBoundary(u,-1),C=this.searchWordBoundary(u,1);this.selectionStart=g,this.selectionEnd=C,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(u){u=u||this.selectionStart;var g=this.findLineBoundaryLeft(u),C=this.findLineBoundaryRight(u);return this.selectionStart=g,this.selectionEnd=C,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(u){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(u),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(u){u._iTextInstances&&u._iTextInstances.forEach(function(g){g.selected=!1,g.isEditing&&g.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(u){if(!(!this.__isMousedown||!this.isEditing)){var g=this.getSelectionStartFromPointer(u.e),C=this.selectionStart,f=this.selectionEnd;(g!==this.__selectionStartOnMouseDown||C===f)&&(C===g||f===g)||(g>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=g):(this.selectionStart=g,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==C||this.selectionEnd!==f)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(u,g,C){var f=C.slice(0,u),d=A.util.string.graphemeSplit(f).length;if(u===g)return{selectionStart:d,selectionEnd:d};var h=C.slice(u,g),w=A.util.string.graphemeSplit(h).length;return{selectionStart:d,selectionEnd:d+w}},fromGraphemeToStringSelection:function(u,g,C){var f=C.slice(0,u),d=f.join("").length;if(u===g)return{selectionStart:d,selectionEnd:d};var h=C.slice(u,g),w=h.join("").length;return{selectionStart:d,selectionEnd:d+w}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var u=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=u.selectionStart,this.hiddenTextarea.selectionEnd=u.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var u=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=u.selectionEnd,this.inCompositionMode||(this.selectionStart=u.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var u=this._calcTextareaPosition();this.hiddenTextarea.style.left=u.left,this.hiddenTextarea.style.top=u.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var u=this.inCompositionMode?this.compositionStart:this.selectionStart,g=this._getCursorBoundaries(u),C=this.get2DCursorLocation(u),f=C.lineIndex,d=C.charIndex,h=this.getValueOfPropertyAt(f,d,"fontSize")*this.lineHeight,w=g.leftOffset,I=this.calcTransformMatrix(),y={x:g.left+w,y:g.top+g.topOffset+h},D=this.canvas.getRetinaScaling(),F=this.canvas.upperCanvasEl,L=F.width/D,k=F.height/D,U=L-h,N=k-h,z=F.clientWidth/L,H=F.clientHeight/k;return y=A.util.transformPoint(y,I),y=A.util.transformPoint(y,this.canvas.viewportTransform),y.x*=z,y.y*=H,y.x<0&&(y.x=0),y.x>U&&(y.x=U),y.y<0&&(y.y=0),y.y>N&&(y.y=N),y.x+=this.canvas._offset.left,y.y+=this.canvas._offset.top,{left:y.x+"px",top:y.y+"px",fontSize:h+"px",charHeight:h}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var u=this._textBeforeEdit!==this.text,g=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,g&&(g.blur&&g.blur(),g.parentNode&&g.parentNode.removeChild(g)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),u&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),u&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var u in this.styles)this._textLines[u]||delete this.styles[u]},removeStyleFromTo:function(u,g){var C=this.get2DCursorLocation(u,!0),f=this.get2DCursorLocation(g,!0),d=C.lineIndex,h=C.charIndex,w=f.lineIndex,I=f.charIndex,y,D;if(d!==w){if(this.styles[d])for(y=h;y<this._unwrappedTextLines[d].length;y++)delete this.styles[d][y];if(this.styles[w])for(y=I;y<this._unwrappedTextLines[w].length;y++)D=this.styles[w][y],D&&(this.styles[d]||(this.styles[d]={}),this.styles[d][h+y-I]=D);for(y=d+1;y<=w;y++)delete this.styles[y];this.shiftLineStyles(w,d-w)}else if(this.styles[d]){D=this.styles[d];var F=I-h,L,k;for(y=h;y<I;y++)delete D[y];for(k in this.styles[d])L=parseInt(k,10),L>=I&&(D[L-F]=D[k],delete D[k])}},shiftLineStyles:function(u,g){var C=p(this.styles);for(var f in this.styles){var d=parseInt(f,10);d>u&&(this.styles[d+g]=C[d],C[d-g]||delete this.styles[d])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(u,g,C,f){var d,h={},w=!1,I=this._unwrappedTextLines[u].length===g;C||(C=1),this.shiftLineStyles(u,C),this.styles[u]&&(d=this.styles[u][g===0?g:g-1]);for(var y in this.styles[u]){var D=parseInt(y,10);D>=g&&(w=!0,h[D-g]=this.styles[u][y],I&&g===0||delete this.styles[u][y])}var F=!1;for(w&&!I&&(this.styles[u+C]=h,F=!0),F&&C--;C>0;)f&&f[C-1]?this.styles[u+C]={0:p(f[C-1])}:d?this.styles[u+C]={0:p(d)}:delete this.styles[u+C],C--;this._forceClearCache=!0},insertCharStyleObject:function(u,g,C,f){this.styles||(this.styles={});var d=this.styles[u],h=d?p(d):{};C||(C=1);for(var w in h){var I=parseInt(w,10);I>=g&&(d[I+C]=h[I],h[I-C]||delete d[I])}if(this._forceClearCache=!0,f){for(;C--;)!Object.keys(f[C]).length||(this.styles[u]||(this.styles[u]={}),this.styles[u][g+C]=p(f[C]));return}if(!!d)for(var y=d[g?g-1:1];y&&C--;)this.styles[u][g+C]=p(y)},insertNewStyleBlock:function(u,g,C){for(var f=this.get2DCursorLocation(g,!0),d=[0],h=0,w=0;w<u.length;w++)u[w]===`
`?(h++,d[h]=0):d[h]++;d[0]>0&&(this.insertCharStyleObject(f.lineIndex,f.charIndex,d[0],C),C=C&&C.slice(d[0]+1)),h&&this.insertNewlineStyleObject(f.lineIndex,f.charIndex+d[0],h);for(var w=1;w<h;w++)d[w]>0?this.insertCharStyleObject(f.lineIndex+w,0,d[w],C):C&&(this.styles[f.lineIndex+w][0]=C[0]),C=C&&C.slice(d[w]+1);d[w]>0&&this.insertCharStyleObject(f.lineIndex+w,0,d[w],C)},setSelectionStartEndWithShift:function(u,g,C){C<=u?(g===u?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=u),this.selectionStart=C):C>u&&C<g?this._selectionDirection==="right"?this.selectionEnd=C:this.selectionStart=C:(g===u?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=g),this.selectionEnd=C)},setSelectionInBoundaries:function(){var u=this.text.length;this.selectionStart>u?this.selectionStart=u:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>u?this.selectionEnd=u:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),A.util.object.extend(A.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(p){if(!!this.canvas){this.__newClickTime=+new Date;var u=p.pointer;this.isTripleClick(u)&&(this.fire("tripleclick",p),this._stopEvent(p.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=u,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(p){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===p.x&&this.__lastPointer.y===p.y},_stopEvent:function(p){p.preventDefault&&p.preventDefault(),p.stopPropagation&&p.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(p){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(p.e))},tripleClickHandler:function(p){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(p.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(p.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(p){if(this.__isMousedown=!1,!(!this.editable||this.group||p.transform&&p.transform.actionPerformed||p.e.button&&p.e.button!==1)){if(this.canvas){var u=this.canvas._activeObject;if(u&&u!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(p.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(p){var u=this.getSelectionStartFromPointer(p),g=this.selectionStart,C=this.selectionEnd;p.shiftKey?this.setSelectionStartEndWithShift(g,C,u):(this.selectionStart=u,this.selectionEnd=u),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(p){for(var u=this.getLocalPointer(p),g=0,C=0,f=0,d=0,h=0,w,I,y=0,D=this._textLines.length;y<D&&f<=u.y;y++)f+=this.getHeightOfLine(y)*this.scaleY,h=y,y>0&&(d+=this._textLines[y-1].length+this.missingNewlineOffset(y-1));w=this._getLineLeftOffset(h),C=w*this.scaleX,I=this._textLines[h],this.direction==="rtl"&&(u.x=this.width*this.scaleX-u.x+C);for(var F=0,L=I.length;F<L&&(g=C,C+=this.__charBounds[h][F].kernedWidth*this.scaleX,C<=u.x);F++)d++;return this._getNewSelectionStartFromOffset(u,g,C,d,L)},_getNewSelectionStartFromOffset:function(p,u,g,C,f){var d=p.x-u,h=g-p.x,w=h>d||h<0?0:1,I=C+w;return this.flipX&&(I=f-I),I>this._text.length&&(I=this._text.length),I}}),A.util.object.extend(A.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=A.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var p=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+p.top+"; left: "+p.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+p.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):A.document.body.appendChild(this.hiddenTextarea),A.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),A.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),A.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),A.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),A.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),A.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(A.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(p){if(!!this.isEditing){var u=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(p.keyCode in u)this[u[p.keyCode]](p);else if(p.keyCode in this.ctrlKeysMapDown&&(p.ctrlKey||p.metaKey))this[this.ctrlKeysMapDown[p.keyCode]](p);else return;p.stopImmediatePropagation(),p.preventDefault(),p.keyCode>=33&&p.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(p){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(p.keyCode in this.ctrlKeysMapUp&&(p.ctrlKey||p.metaKey))this[this.ctrlKeysMapUp[p.keyCode]](p);else return;p.stopImmediatePropagation(),p.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(p){var u=this.fromPaste;if(this.fromPaste=!1,p&&p.stopPropagation(),!!this.isEditing){var g=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,C=this._text.length,f=g.length,d,h,w=f-C,I=this.selectionStart,y=this.selectionEnd,D=I!==y,F,L,k;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var U=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),N=I>U.selectionStart;D?(d=this._text.slice(I,y),w+=y-I):f<C&&(N?d=this._text.slice(y+w,y):d=this._text.slice(I,I-w)),h=g.slice(U.selectionEnd-w,U.selectionEnd),d&&d.length&&(h.length&&(F=this.getSelectionStyles(I,I+1,!1),F=h.map(function(){return F[0]})),D?(L=I,k=y):N?(L=y-d.length,k=y):(L=y,k=y+d.length),this.removeStyleFromTo(L,k)),h.length&&(u&&h.join("")===A.copiedText&&!A.disableStyleCopyPaste&&(F=A.copiedTextStyle),this.insertNewStyleBlock(h,I,F)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(p){this.compositionStart=p.target.selectionStart,this.compositionEnd=p.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(A.copiedText=this.getSelectedText(),A.disableStyleCopyPaste?A.copiedTextStyle=null:A.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(p){return p&&p.clipboardData||A.window.clipboardData},_getWidthBeforeCursor:function(p,u){var g=this._getLineLeftOffset(p),C;return u>0&&(C=this.__charBounds[p][u-1],g+=C.left+C.width),g},getDownCursorOffset:function(p,u){var g=this._getSelectionForOffset(p,u),C=this.get2DCursorLocation(g),f=C.lineIndex;if(f===this._textLines.length-1||p.metaKey||p.keyCode===34)return this._text.length-g;var d=C.charIndex,h=this._getWidthBeforeCursor(f,d),w=this._getIndexOnLine(f+1,h),I=this._textLines[f].slice(d);return I.length+w+1+this.missingNewlineOffset(f)},_getSelectionForOffset:function(p,u){return p.shiftKey&&this.selectionStart!==this.selectionEnd&&u?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(p,u){var g=this._getSelectionForOffset(p,u),C=this.get2DCursorLocation(g),f=C.lineIndex;if(f===0||p.metaKey||p.keyCode===33)return-g;var d=C.charIndex,h=this._getWidthBeforeCursor(f,d),w=this._getIndexOnLine(f-1,h),I=this._textLines[f].slice(0,d),y=this.missingNewlineOffset(f-1);return-this._textLines[f-1].length+w-I.length+(1-y)},_getIndexOnLine:function(p,u){for(var g=this._textLines[p],C=this._getLineLeftOffset(p),f=C,d=0,h,w,I=0,y=g.length;I<y;I++)if(h=this.__charBounds[p][I].width,f+=h,f>u){w=!0;var D=f-h,F=f,L=Math.abs(D-u),k=Math.abs(F-u);d=k<L?I:I-1;break}return w||(d=g.length-1),d},moveCursorDown:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",p)},moveCursorUp:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",p)},_moveCursorUpOrDown:function(p,u){var g="get"+p+"CursorOffset",C=this[g](u,this._selectionDirection==="right");u.shiftKey?this.moveCursorWithShift(C):this.moveCursorWithoutShift(C),C!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(p){var u=this._selectionDirection==="left"?this.selectionStart+p:this.selectionEnd+p;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,u),p!==0},moveCursorWithoutShift:function(p){return p<0?(this.selectionStart+=p,this.selectionEnd=this.selectionStart):(this.selectionEnd+=p,this.selectionStart=this.selectionEnd),p!==0},moveCursorLeft:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",p)},_move:function(p,u,g){var C;if(p.altKey)C=this["findWordBoundary"+g](this[u]);else if(p.metaKey||p.keyCode===35||p.keyCode===36)C=this["findLineBoundary"+g](this[u]);else return this[u]+=g==="Left"?-1:1,!0;if(typeof C!==void 0&&this[u]!==C)return this[u]=C,!0},_moveLeft:function(p,u){return this._move(p,u,"Left")},_moveRight:function(p,u){return this._move(p,u,"Right")},moveCursorLeftWithoutShift:function(p){var u=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(u=this._moveLeft(p,"selectionStart")),this.selectionEnd=this.selectionStart,u},moveCursorLeftWithShift:function(p){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(p,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(p,"selectionStart")},moveCursorRight:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",p)},_moveCursorLeftOrRight:function(p,u){var g="moveCursor"+p+"With";this._currentCursorOpacity=1,u.shiftKey?g+="Shift":g+="outShift",this[g](u)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(p){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(p,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(p,"selectionEnd")},moveCursorRightWithoutShift:function(p){var u=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(u=this._moveRight(p,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,u},removeChars:function(p,u){typeof u=="undefined"&&(u=p+1),this.removeStyleFromTo(p,u),this._text.splice(p,u-p),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(p,u,g,C){typeof C=="undefined"&&(C=g),C>g&&this.removeStyleFromTo(g,C);var f=A.util.string.graphemeSplit(p);this.insertNewStyleBlock(f,g,u),this._text=[].concat(this._text.slice(0,g),f,this._text.slice(C)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var p=A.util.toFixed,u=/  +/g;A.util.object.extend(A.Text.prototype,{_toSVG:function(){var g=this._getSVGLeftTopOffsets(),C=this._getSVGTextAndBg(g.textTop,g.textLeft);return this._wrapSVGTextAndBg(C)},toSVG:function(g){return this._createBaseSVGMarkup(this._toSVG(),{reviver:g,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(g){var C=!0,f=this.getSvgTextDecoration(this);return[g.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",f?'text-decoration="'+f+'" ':"",'style="',this.getSvgStyles(C),'"',this.addPaintOrder()," >",g.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(g,C){var f=[],d=[],h=g,w;this._setSVGBg(d);for(var I=0,y=this._textLines.length;I<y;I++)w=this._getLineLeftOffset(I),(this.textBackgroundColor||this.styleHas("textBackgroundColor",I))&&this._setSVGTextLineBg(d,I,C+w,h),this._setSVGTextLineText(f,I,C+w,h),h+=this.getHeightOfLine(I);return{textSpans:f,textBgRects:d}},_createTextCharSpan:function(g,C,f,d){var h=g!==g.trim()||g.match(u),w=this.getSvgSpanStyles(C,h),I=w?'style="'+w+'"':"",y=C.deltaY,D="",F=A.Object.NUM_FRACTION_DIGITS;return y&&(D=' dy="'+p(y,F)+'" '),['<tspan x="',p(f,F),'" y="',p(d,F),'" ',D,I,">",A.util.string.escapeXml(g),"</tspan>"].join("")},_setSVGTextLineText:function(g,C,f,d){var h=this.getHeightOfLine(C),w=this.textAlign.indexOf("justify")!==-1,I,y,D="",F,L,k=0,U=this._textLines[C],N;d+=h*(1-this._fontSizeFraction)/this.lineHeight;for(var z=0,H=U.length-1;z<=H;z++)N=z===H||this.charSpacing,D+=U[z],F=this.__charBounds[C][z],k===0?(f+=F.kernedWidth-F.width,k+=F.width):k+=F.kernedWidth,w&&!N&&this._reSpaceAndTab.test(U[z])&&(N=!0),N||(I=I||this.getCompleteStyleDeclaration(C,z),y=this.getCompleteStyleDeclaration(C,z+1),N=this._hasStyleChangedForSvg(I,y)),N&&(L=this._getStyleDeclaration(C,z)||{},g.push(this._createTextCharSpan(D,L,f,d)),D="",I=y,f+=k,k=0)},_pushTextBgRect:function(g,C,f,d,h,w){var I=A.Object.NUM_FRACTION_DIGITS;g.push("		<rect ",this._getFillAttributes(C),' x="',p(f,I),'" y="',p(d,I),'" width="',p(h,I),'" height="',p(w,I),`"></rect>
`)},_setSVGTextLineBg:function(g,C,f,d){for(var h=this._textLines[C],w=this.getHeightOfLine(C)/this.lineHeight,I=0,y=0,D,F,L=this.getValueOfPropertyAt(C,0,"textBackgroundColor"),k=0,U=h.length;k<U;k++)D=this.__charBounds[C][k],F=this.getValueOfPropertyAt(C,k,"textBackgroundColor"),F!==L?(L&&this._pushTextBgRect(g,L,f+y,d,I,w),y=D.left,I=D.width,L=F):I+=D.kernedWidth;F&&this._pushTextBgRect(g,F,f+y,d,I,w)},_getFillAttributes:function(g){var C=g&&typeof g=="string"?new A.Color(g):"";return!C||!C.getSource()||C.getAlpha()===1?'fill="'+g+'"':'opacity="'+C.getAlpha()+'" fill="'+C.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(g){for(var C=0,f=0,d=0;d<g;d++)C+=this.getHeightOfLine(d);return f=this.getHeightOfLine(d),{lineTop:C,offset:(this._fontSizeMult-this._fontSizeFraction)*f/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(g){var C=A.Object.prototype.getSvgStyles.call(this,g);return C+" white-space: pre;"}})}(),function(p){var u=p.fabric||(p.fabric={});u.Textbox=u.util.createClass(u.IText,u.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:u.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(g){for(var C=0,f=0,d=0,h={},w=0;w<g.graphemeLines.length;w++)g.graphemeText[d]===`
`&&w>0?(f=0,d++,C++):!this.splitByGrapheme&&this._reSpaceAndTab.test(g.graphemeText[d])&&w>0&&(f++,d++),h[w]={line:C,offset:f},d+=g.graphemeLines[w].length,f+=g.graphemeLines[w].length;return h},styleHas:function(g,C){if(this._styleMap&&!this.isWrapping){var f=this._styleMap[C];f&&(C=f.line)}return u.Text.prototype.styleHas.call(this,g,C)},isEmptyStyles:function(g){if(!this.styles)return!0;var C=0,f=g+1,d,h,w=!1,I=this._styleMap[g],y=this._styleMap[g+1];I&&(g=I.line,C=I.offset),y&&(f=y.line,w=f===g,d=y.offset),h=typeof g=="undefined"?this.styles:{line:this.styles[g]};for(var D in h)for(var F in h[D])if(F>=C&&(!w||F<d))for(var L in h[D][F])return!1;return!0},_getStyleDeclaration:function(g,C){if(this._styleMap&&!this.isWrapping){var f=this._styleMap[g];if(!f)return null;g=f.line,C=f.offset+C}return this.callSuper("_getStyleDeclaration",g,C)},_setStyleDeclaration:function(g,C,f){var d=this._styleMap[g];g=d.line,C=d.offset+C,this.styles[g][C]=f},_deleteStyleDeclaration:function(g,C){var f=this._styleMap[g];g=f.line,C=f.offset+C,delete this.styles[g][C]},_getLineStyle:function(g){var C=this._styleMap[g];return!!this.styles[C.line]},_setLineStyle:function(g){var C=this._styleMap[g];this.styles[C.line]={}},_wrapText:function(g,C){var f=[],d;for(this.isWrapping=!0,d=0;d<g.length;d++)f=f.concat(this._wrapLine(g[d],d,C));return this.isWrapping=!1,f},_measureWord:function(g,C,f){var d=0,h,w=!0;f=f||0;for(var I=0,y=g.length;I<y;I++){var D=this._getGraphemeBox(g[I],C,I+f,h,w);d+=D.kernedWidth,h=g[I]}return d},_wrapLine:function(g,C,f,ne){var h=0,w=this.splitByGrapheme,I=[],y=[],D=w?u.util.string.graphemeSplit(g):g.split(this._wordJoiners),F="",L=0,k=w?"":" ",U=0,N=0,z=0,H=!0,X=this._getWidthOfCharSpacing(),ne=ne||0;D.length===0&&D.push([]),f-=ne;for(var ie=0;ie<D.length;ie++)F=w?D[ie]:u.util.string.graphemeSplit(D[ie]),U=this._measureWord(F,C,L),L+=F.length,h+=N+U-X,h>f&&!H?(I.push(y),y=[],h=U,H=!0):h+=X,!H&&!w&&y.push(k),y=y.concat(F),N=w?0:this._measureWord([k],C,L),L++,H=!1,U>z&&(z=U);return ie&&I.push(y),z+ne>this.dynamicMinWidth&&(this.dynamicMinWidth=z-X+ne),I},isEndOfWrapping:function(g){return!this._styleMap[g+1]||this._styleMap[g+1].line!==this._styleMap[g].line},missingNewlineOffset:function(g){return this.splitByGrapheme?this.isEndOfWrapping(g)?1:0:1},_splitTextIntoLines:function(g){for(var C=u.Text.prototype._splitTextIntoLines.call(this,g),f=this._wrapText(C.lines,this.width),d=new Array(f.length),h=0;h<f.length;h++)d[h]=f[h].join("");return C.lines=d,C.graphemeLines=f,C},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var g={};for(var C in this._styleMap)this._textLines[C]&&(g[this._styleMap[C].line]=1);for(var C in this.styles)g[C]||delete this.styles[C]},toObject:function(g){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(g))}}),u.Textbox.fromObject=function(g,C){return u.Object._fromObject("Textbox",g,C,"text")}}(c),function(){var p=A.controlsUtils,u=p.scaleSkewCursorStyleHandler,g=p.scaleCursorStyleHandler,C=p.scalingEqually,f=p.scalingYOrSkewingX,d=p.scalingXOrSkewingY,h=p.scaleOrSkewActionName,w=A.Object.prototype.controls;if(w.ml=new A.Control({x:-.5,y:0,cursorStyleHandler:u,actionHandler:d,getActionName:h}),w.mr=new A.Control({x:.5,y:0,cursorStyleHandler:u,actionHandler:d,getActionName:h}),w.mb=new A.Control({x:0,y:.5,cursorStyleHandler:u,actionHandler:f,getActionName:h}),w.mt=new A.Control({x:0,y:-.5,cursorStyleHandler:u,actionHandler:f,getActionName:h}),w.tl=new A.Control({x:-.5,y:-.5,cursorStyleHandler:g,actionHandler:C}),w.tr=new A.Control({x:.5,y:-.5,cursorStyleHandler:g,actionHandler:C}),w.bl=new A.Control({x:-.5,y:.5,cursorStyleHandler:g,actionHandler:C}),w.br=new A.Control({x:.5,y:.5,cursorStyleHandler:g,actionHandler:C}),w.mtr=new A.Control({x:0,y:-.5,actionHandler:p.rotationWithSnapping,cursorStyleHandler:p.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),A.Textbox){var I=A.Textbox.prototype.controls={};I.mtr=w.mtr,I.tr=w.tr,I.br=w.br,I.tl=w.tl,I.bl=w.bl,I.mt=w.mt,I.mb=w.mb,I.mr=new A.Control({x:.5,y:0,actionHandler:p.changeWidth,cursorStyleHandler:u,actionName:"resizing"}),I.ml=new A.Control({x:-.5,y:0,actionHandler:p.changeWidth,cursorStyleHandler:u,actionName:"resizing"})}}()},3053:function(o,c,s){var A=s(602);function v(B,x,M){var T,p;if(M=M||0,!A(x))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(x,B,M);for(p=x.length,T=M;M>=0&&T<p;T+=1)if(x[T]===B)return T;return-1}o.exports=v},8592:function(o,c,s){var A=s(602),v=s(6092),B=s(5573);function x(M,T,p){A(M)?v(M,T,p):B(M,T,p)}o.exports=x},6092:function(o){function c(s,A,v){var B=0,x=s.length;for(v=v||null;B<x&&A.call(v,s[B],B,s)!==!1;B+=1);}o.exports=c},5573:function(o){function c(s,A,v){var B;v=v||null;for(B in s)if(s.hasOwnProperty(B)&&A.call(v,s[B],B,s)===!1)break}o.exports=c},9052:function(o,c,s){var A=s(961),v=s(9886),B=s(2560),x=s(5393),M=s(602),T=s(5183),p=s(8592),u=/\s+/g;function g(){this.events=null,this.contexts=null}g.mixin=function(C){A(C.prototype,g.prototype)},g.prototype._getHandlerItem=function(C,f){var d={handler:C};return f&&(d.context=f),d},g.prototype._safeEvent=function(C){var f=this.events,d;return f||(f=this.events={}),C&&(d=f[C],d||(d=[],f[C]=d),f=d),f},g.prototype._safeContext=function(){var C=this.contexts;return C||(C=this.contexts=[]),C},g.prototype._indexOfContext=function(C){for(var f=this._safeContext(),d=0;f[d];){if(C===f[d][0])return d;d+=1}return-1},g.prototype._memorizeContext=function(C){var f,d;!v(C)||(f=this._safeContext(),d=this._indexOfContext(C),d>-1?f[d][1]+=1:f.push([C,1]))},g.prototype._forgetContext=function(C){var f,d;!v(C)||(f=this._safeContext(),d=this._indexOfContext(C),d>-1&&(f[d][1]-=1,f[d][1]<=0&&f.splice(d,1)))},g.prototype._bindEvent=function(C,f,d){var h=this._safeEvent(C);this._memorizeContext(d),h.push(this._getHandlerItem(f,d))},g.prototype.on=function(C,f,d){var h=this;B(C)?(C=C.split(u),p(C,function(w){h._bindEvent(w,f,d)})):x(C)&&(d=f,p(C,function(w,I){h.on(I,w,d)}))},g.prototype.once=function(C,f,d){var h=this;if(x(C)){d=f,p(C,function(I,y){h.once(y,I,d)});return}function w(){f.apply(d,arguments),h.off(C,w,d)}this.on(C,w,d)},g.prototype._spliceMatches=function(C,f){var d=0,h;if(!!M(C))for(h=C.length;d<h;d+=1)f(C[d])===!0&&(C.splice(d,1),h-=1,d-=1)},g.prototype._matchHandler=function(C){var f=this;return function(d){var h=C===d.handler;return h&&f._forgetContext(d.context),h}},g.prototype._matchContext=function(C){var f=this;return function(d){var h=C===d.context;return h&&f._forgetContext(d.context),h}},g.prototype._matchHandlerAndContext=function(C,f){var d=this;return function(h){var w=C===h.handler,I=f===h.context,y=w&&I;return y&&d._forgetContext(h.context),y}},g.prototype._offByEventName=function(C,f){var d=this,h=T(f),w=d._matchHandler(f);C=C.split(u),p(C,function(I){var y=d._safeEvent(I);h?d._spliceMatches(y,w):(p(y,function(D){d._forgetContext(D.context)}),d.events[I]=[])})},g.prototype._offByHandler=function(C){var f=this,d=this._matchHandler(C);p(this._safeEvent(),function(h){f._spliceMatches(h,d)})},g.prototype._offByObject=function(C,f){var d=this,h;this._indexOfContext(C)<0?p(C,function(w,I){d.off(I,w)}):B(f)?(h=this._matchContext(C),d._spliceMatches(this._safeEvent(f),h)):T(f)?(h=this._matchHandlerAndContext(f,C),p(this._safeEvent(),function(w){d._spliceMatches(w,h)})):(h=this._matchContext(C),p(this._safeEvent(),function(w){d._spliceMatches(w,h)}))},g.prototype.off=function(C,f){B(C)?this._offByEventName(C,f):arguments.length?T(C)?this._offByHandler(C):x(C)&&this._offByObject(C,f):(this.events={},this.contexts=[])},g.prototype.fire=function(C){this.invoke.apply(this,arguments)},g.prototype.invoke=function(C){var f,d,h,w;if(!this.hasListener(C))return!0;for(f=this._safeEvent(C),d=Array.prototype.slice.call(arguments,1),h=0;f[h];){if(w=f[h],w.handler.apply(w.context,d)===!1)return!1;h+=1}return!0},g.prototype.hasListener=function(C){return this.getListenerLength(C)>0},g.prototype.getListenerLength=function(C){var f=this._safeEvent(C);return f.length},o.exports=g},961:function(o){function c(s,A){var v=Object.prototype.hasOwnProperty,B,x,M,T;for(M=1,T=arguments.length;M<T;M+=1){B=arguments[M];for(x in B)v.call(B,x)&&(s[x]=B[x])}return s}o.exports=c},1610:function(o,c,s){var A=s(5695),v=s(3778);function B(x,M){for(var T=arguments,p=T[0],u=1,g=T.length;u<g;u+=1){if(A(p)||v(p))return;p=p[T[u]]}return p}o.exports=B},4564:function(o,c,s){var A=s(5573);function v(B,x){var M=document.createElement("img"),T="";return A(x,function(p,u){T+="&"+u+"="+p}),T=T.substring(1),M.src=B+"?"+T,M.style.display="none",document.body.appendChild(M),document.body.removeChild(M),M}o.exports=v},4729:function(o,c,s){var A=s(5695),v=s(4564),B=7*24*60*60*1e3;function x(T){var p=new Date().getTime();return p-T>B}function M(T,p){var u="https://www.google-analytics.com/collect",g=location.hostname,C="event",f="use",d="TOAST UI "+T+" for "+g+": Statistics",h=window.localStorage.getItem(d);!A(window.tui)&&window.tui.usageStatistics===!1||h&&!x(h)||(window.localStorage.setItem(d,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&v(u,{v:1,t:C,tid:p,cid:g,dp:g,dh:T,el:T,ec:f})},1e3))}o.exports=M},602:function(o){function c(s){return s instanceof Array}o.exports=c},9886:function(o,c,s){var A=s(5695),v=s(3778);function B(x){return!A(x)&&!v(x)}o.exports=B},5183:function(o){function c(s){return s instanceof Function}o.exports=c},3778:function(o){function c(s){return s===null}o.exports=c},5393:function(o){function c(s){return s===Object(s)}o.exports=c},2560:function(o){function c(s){return typeof s=="string"||s instanceof String}o.exports=c},5695:function(o){function c(s){return s===void 0}o.exports=c},4426:function(o,c,s){o.exports=s(4486)},9406:function(o,c,s){o.exports=s(4877)},789:function(o,c,s){o.exports=s(7178)},381:function(o,c,s){o.exports=s(5603)},7636:function(o,c,s){o.exports=s(1206)},1899:function(o,c,s){o.exports=s(6174)},899:function(o,c,s){o.exports=s(57)},8005:function(o,c,s){o.exports=s(4741)},6562:function(o,c,s){o.exports=s(8368)},9131:function(o,c,s){o.exports=s(3739)},4383:function(o,c,s){o.exports=s(172)},6065:function(o,c,s){o.exports=s(4963)},1734:function(o,c,s){o.exports=s(7820)},2461:function(o,c,s){o.exports=s(5636)},5214:function(o,c,s){o.exports=s(5059)},6397:function(o,c,s){o.exports=s(3969)},8189:function(o,c,s){o.exports=s(6618)},9146:function(o,c,s){o.exports=s(5279)},4496:function(o,c,s){o.exports=s(9562)},3972:function(o,c,s){o.exports=s(652)},7172:function(o,c,s){o.exports=s(2813)},1845:function(o,c,s){o.exports=s(8664)},662:function(o,c,s){o.exports=s(1457)},711:function(o,c,s){o.exports=s(2937)},6623:function(o,c,s){o.exports=s(9297)},7077:function(o,c,s){o.exports=s(8026)},9856:function(o,c,s){o.exports=s(2044)},4230:function(o,c,s){o.exports=s(2214)},184:function(o,c,s){o.exports=s(9256)},3742:function(o,c,s){o.exports=s(5659)},1801:function(o){var c={rect:1,circle:2,triangle:1},s={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function A(u){var g=u.originX,C=u.originY,f=g.substring(0,1)+C.substring(0,1);u.startPoint=u.origins[f]}function v(u,g,C){var f=u.x,d=u.y,h=g.x,w=g.y,I=C*Math.PI/180,y=(h-f)*Math.cos(I)-(w-d)*Math.sin(I)+f,D=(h-f)*Math.sin(I)+(w-d)*Math.cos(I)+d;return{originX:f>y?"right":"left",originY:d>D?"bottom":"top"}}function B(u){return u.originX==="center"&&u.originY==="center"}function x(u,g){var C=g.getPointByOrigin("center","center"),f=-g.angle,d=v(C,u,f),h=d.originX,w=d.originY,I=g.getPointByOrigin(h,w),y=g.left-(C.x-I.x),D=g.top-(C.y-I.y);g.set({originX:h,originY:w,left:y,top:D}),g.setCoords()}function M(u,g){var C=g.startPoint,f=-g.angle,d=v(C,u,f),h=d.originX,w=d.originY;g.setPositionByOrigin(C,h,w),g.setCoords()}function T(u){var g=u.type,C=u.scaleX,f=u.scaleY,d=s[g],h=u[d.w]*C,w=u[d.h]*f;if(u.isRegular){var I=Math.max(C,f);h=u[d.w]*I,w=u[d.h]*I}var y={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};y[d.w]=h,y[d.h]=w,u.set(y)}function p(u,g){var C=g.type,f=g.strokeWidth,d=g.startPoint,h=c[C],w=s[C],I=g.type==="triangle",y={},D=Math.abs(d.x-u.x)/h,F=Math.abs(d.y-u.y)/h;D>f&&(D-=f/h),F>f&&(F-=f/h),g.isRegular&&(D=F=Math.max(D,F),I&&(F=Math.sqrt(3)/2*D)),y[w.w]=D,y[w.h]=F,g.set(y)}o.exports={setOrigins:function(g){var C=g.getPointByOrigin("left","top"),f=g.getPointByOrigin("right","top"),d=g.getPointByOrigin("right","bottom"),h=g.getPointByOrigin("left","bottom");g.origins={lt:C,rt:f,rb:d,lb:h}},resize:function(g,C,f){B(g)&&(x(C,g),A(g)),f?T(g):p(C,g),M(C,g)},adjustOriginToCenter:function(g){var C=g.getPointByOrigin("center","center"),f=g.originX,d=g.originY,h=g.getPointByOrigin(f,d),w=g.left+(C.x-h.x),I=g.top+(C.y-h.y);g.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:w,top:I}),g.setCoords()}}},2221:function(o,c,s){s(5454),s(9173);var A=s(7545);o.exports=A.Array.from},5078:function(o,c,s){s(8118);var A=s(7545);o.exports=A.Array.isArray},6135:function(o,c,s){s(9106);var A=s(5607);o.exports=A("Array").concat},9510:function(o,c,s){s(1710);var A=s(5607);o.exports=A("Array").fill},3971:function(o,c,s){s(3436);var A=s(5607);o.exports=A("Array").filter},98:function(o,c,s){s(9823);var A=s(5607);o.exports=A("Array").forEach},2089:function(o,c,s){s(2276);var A=s(5607);o.exports=A("Array").indexOf},6209:function(o,c,s){s(3838);var A=s(5607);o.exports=A("Array").map},2671:function(o,c,s){s(5818);var A=s(5607);o.exports=A("Array").slice},1375:function(o,c,s){s(2178);var A=s(5607);o.exports=A("Array").splice},3528:function(o,c,s){s(665);var A=s(5607);o.exports=A("Function").bind},5739:function(o,c,s){s(8939),s(5454);var A=s(8703);o.exports=A},278:function(o,c,s){var A=s(3528),v=Function.prototype;o.exports=function(B){var x=B.bind;return B===v||B instanceof Function&&x===v.bind?A:x}},1484:function(o,c,s){var A=s(6135),v=Array.prototype;o.exports=function(B){var x=B.concat;return B===v||B instanceof Array&&x===v.concat?A:x}},7731:function(o,c,s){var A=s(9510),v=Array.prototype;o.exports=function(B){var x=B.fill;return B===v||B instanceof Array&&x===v.fill?A:x}},3669:function(o,c,s){var A=s(3971),v=Array.prototype;o.exports=function(B){var x=B.filter;return B===v||B instanceof Array&&x===v.filter?A:x}},2604:function(o,c,s){var A=s(2089),v=Array.prototype;o.exports=function(B){var x=B.indexOf;return B===v||B instanceof Array&&x===v.indexOf?A:x}},263:function(o,c,s){var A=s(6209),v=Array.prototype;o.exports=function(B){var x=B.map;return B===v||B instanceof Array&&x===v.map?A:x}},7663:function(o,c,s){var A=s(2671),v=Array.prototype;o.exports=function(B){var x=B.slice;return B===v||B instanceof Array&&x===v.slice?A:x}},5063:function(o,c,s){var A=s(1375),v=Array.prototype;o.exports=function(B){var x=B.splice;return B===v||B instanceof Array&&x===v.splice?A:x}},6813:function(o,c,s){var A=s(3842),v=String.prototype;o.exports=function(B){var x=B.trim;return typeof B=="string"||B===v||B instanceof String&&x===v.trim?A:x}},6285:function(o,c,s){s(2666);var A=s(7545);o.exports=A.Number.parseInt},3213:function(o,c,s){s(3113);var A=s(7545),v=A.Object;o.exports=function(x,M){return v.create(x,M)}},3512:function(o,c,s){s(297);var A=s(7545),v=A.Object,B=o.exports=function(M,T,p){return v.defineProperty(M,T,p)};v.defineProperty.sham&&(B.sham=!0)},8168:function(o,c,s){s(9234);var A=s(7545);o.exports=A.Object.getPrototypeOf},8651:function(o,c,s){s(2647);var A=s(7545);o.exports=A.Object.keys},3083:function(o,c,s){s(3222);var A=s(7545);o.exports=A.Object.setPrototypeOf},2987:function(o,c,s){s(4859);var A=s(7545);o.exports=A.parseFloat},2239:function(o,c,s){s(5706);var A=s(7545);o.exports=A.parseInt},3154:function(o,c,s){s(4242),s(8939),s(6663),s(9021),s(7884),s(8885),s(1868),s(5454);var A=s(7545);o.exports=A.Promise},6577:function(o,c,s){s(5397);var A=s(7545);o.exports=A.Reflect.construct},3842:function(o,c,s){s(957);var A=s(5607);o.exports=A("String").trim},5008:function(o,c,s){s(9106),s(6663),s(6187),s(9781),s(492),s(6681),s(9594),s(3665),s(9017),s(1250),s(9786),s(503),s(6565),s(9322),s(3610),s(6886),s(3514),s(8671),s(8556),s(1367);var A=s(7545);o.exports=A.Symbol},994:function(o,c,s){s(8939),s(6663),s(5454),s(3665);var A=s(9207);o.exports=A.f("iterator")},2813:function(o,c,s){var A=s(3822);o.exports=A},8664:function(o,c,s){var A=s(1434);o.exports=A},1457:function(o,c,s){var A=s(7710);o.exports=A},2937:function(o,c,s){var A=s(4741);o.exports=A},9297:function(o,c,s){var A=s(4963);o.exports=A},8026:function(o,c,s){var A=s(7820);o.exports=A},2044:function(o,c,s){var A=s(8980);o.exports=A},2214:function(o,c,s){var A=s(6672);o.exports=A},9256:function(o,c,s){var A=s(2285);s(177),s(9031),s(6658),s(1875),s(8658),s(4592),s(6680),o.exports=A},5659:function(o,c,s){var A=s(8535);o.exports=A},6235:function(o,c,s){var A=s(6447),v=s(9288);o.exports=function(B){if(A(B))return B;throw TypeError(v(B)+" is not a function")}},1404:function(o,c,s){var A=s(2091),v=s(9288);o.exports=function(B){if(A(B))return B;throw TypeError(v(B)+" is not a constructor")}},7757:function(o,c,s){var A=s(6447);o.exports=function(v){if(typeof v=="object"||A(v))return v;throw TypeError("Can't set "+String(v)+" as a prototype")}},7423:function(o){o.exports=function(){}},6961:function(o){o.exports=function(c,s,A){if(c instanceof s)return c;throw TypeError("Incorrect "+(A?A+" ":"")+"invocation")}},1138:function(o,c,s){var A=s(5744);o.exports=function(v){if(A(v))return v;throw TypeError(String(v)+" is not an object")}},2724:function(o,c,s){var A=s(1795),v=s(7739),B=s(4104);o.exports=function(M){for(var T=A(this),p=B(T),u=arguments.length,g=v(u>1?arguments[1]:void 0,p),C=u>2?arguments[2]:void 0,f=C===void 0?p:v(C,p);f>g;)T[g++]=M;return T}},7397:function(o,c,s){var A=s(454).forEach,v=s(424),B=v("forEach");o.exports=B?[].forEach:function(M){return A(this,M,arguments.length>1?arguments[1]:void 0)}},841:function(o,c,s){var A=s(8043),v=s(1795),B=s(1635),x=s(6109),M=s(2091),T=s(4104),p=s(9361),u=s(1669),g=s(8703);o.exports=function(f){var d=v(f),h=M(this),w=arguments.length,I=w>1?arguments[1]:void 0,y=I!==void 0;y&&(I=A(I,w>2?arguments[2]:void 0,2));var D=g(d),F=0,L,k,U,N,z,H;if(D&&!(this==Array&&x(D)))for(N=u(d,D),z=N.next,k=h?new this:[];!(U=z.call(N)).done;F++)H=y?B(N,I,[U.value,F],!0):U.value,p(k,F,H);else for(L=T(d),k=h?new this(L):Array(L);L>F;F++)H=y?I(d[F],F):d[F],p(k,F,H);return k.length=F,k}},8180:function(o,c,s){var A=s(101),v=s(7739),B=s(4104),x=function(M){return function(T,p,u){var g=A(T),C=B(g),f=v(u,C),d;if(M&&p!=p){for(;C>f;)if(d=g[f++],d!=d)return!0}else for(;C>f;f++)if((M||f in g)&&g[f]===p)return M||f||0;return!M&&-1}};o.exports={includes:x(!0),indexOf:x(!1)}},454:function(o,c,s){var A=s(8043),v=s(2202),B=s(1795),x=s(4104),M=s(1321),T=[].push,p=function(u){var g=u==1,C=u==2,f=u==3,d=u==4,h=u==6,w=u==7,I=u==5||h;return function(y,D,F,L){for(var k=B(y),U=v(k),N=A(D,F,3),z=x(U),H=0,X=L||M,ne=g?X(y,z):C||w?X(y,0):void 0,ie,he;z>H;H++)if((I||H in U)&&(ie=U[H],he=N(ie,H,k),u))if(g)ne[H]=he;else if(he)switch(u){case 3:return!0;case 5:return ie;case 6:return H;case 2:T.call(ne,ie)}else switch(u){case 4:return!1;case 7:T.call(ne,ie)}return h?-1:f||d?d:ne}};o.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6),filterReject:p(7)}},242:function(o,c,s){var A=s(6192),v=s(8182),B=s(4218),x=v("species");o.exports=function(M){return B>=51||!A(function(){var T=[],p=T.constructor={};return p[x]=function(){return{foo:1}},T[M](Boolean).foo!==1})}},424:function(o,c,s){var A=s(6192);o.exports=function(v,B){var x=[][v];return!!x&&A(function(){x.call(null,B||function(){throw 1},1)})}},3712:function(o,c,s){var A=s(4770),v=s(2091),B=s(5744),x=s(8182),M=x("species");o.exports=function(T){var p;return A(T)&&(p=T.constructor,v(p)&&(p===Array||A(p.prototype))?p=void 0:B(p)&&(p=p[M],p===null&&(p=void 0))),p===void 0?Array:p}},1321:function(o,c,s){var A=s(3712);o.exports=function(v,B){return new(A(v))(B===0?0:B)}},1635:function(o,c,s){var A=s(1138),v=s(6639);o.exports=function(B,x,M,T){try{return T?x(A(M)[0],M[1]):x(M)}catch(p){v(B,"throw",p)}}},9770:function(o,c,s){var A=s(8182),v=A("iterator"),B=!1;try{var x=0,M={next:function(){return{done:!!x++}},return:function(){B=!0}};M[v]=function(){return this},Array.from(M,function(){throw 2})}catch{}o.exports=function(T,p){if(!p&&!B)return!1;var u=!1;try{var g={};g[v]=function(){return{next:function(){return{done:u=!0}}}},T(g)}catch{}return u}},9272:function(o){var c={}.toString;o.exports=function(s){return c.call(s).slice(8,-1)}},4696:function(o,c,s){var A=s(3471),v=s(6447),B=s(9272),x=s(8182),M=x("toStringTag"),T=B(function(){return arguments}())=="Arguments",p=function(u,g){try{return u[g]}catch{}};o.exports=A?B:function(u){var g,C,f;return u===void 0?"Undefined":u===null?"Null":typeof(C=p(g=Object(u),M))=="string"?C:T?B(g):(f=B(g))=="Object"&&v(g.callee)?"Arguments":f}},4635:function(o,c,s){var A=s(6192);o.exports=!A(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},5148:function(o,c,s){var A=s(4413).IteratorPrototype,v=s(2853),B=s(774),x=s(1284),M=s(7771),T=function(){return this};o.exports=function(p,u,g){var C=u+" Iterator";return p.prototype=v(A,{next:B(1,g)}),x(p,C,!1,!0),M[C]=T,p}},8711:function(o,c,s){var A=s(69),v=s(2760),B=s(774);o.exports=A?function(x,M,T){return v.f(x,M,B(1,T))}:function(x,M,T){return x[M]=T,x}},774:function(o){o.exports=function(c,s){return{enumerable:!(c&1),configurable:!(c&2),writable:!(c&4),value:s}}},9361:function(o,c,s){var A=s(77),v=s(2760),B=s(774);o.exports=function(x,M,T){var p=A(M);p in x?v.f(x,p,B(0,T)):x[p]=T}},7218:function(o,c,s){var A=s(3085),v=s(5546),B=s(2282),x=s(6447),M=s(5148),T=s(9341),p=s(4469),u=s(1284),g=s(8711),C=s(9482),f=s(8182),d=s(7771),h=s(4413),w=B.PROPER,I=B.CONFIGURABLE,y=h.IteratorPrototype,D=h.BUGGY_SAFARI_ITERATORS,F=f("iterator"),L="keys",k="values",U="entries",N=function(){return this};o.exports=function(z,H,X,ne,ie,he,le){M(X,H,ne);var Ae=function(V){if(V===ie&&Z)return Z;if(!D&&V in ee)return ee[V];switch(V){case L:return function(){return new X(this,V)};case k:return function(){return new X(this,V)};case U:return function(){return new X(this,V)}}return function(){return new X(this)}},R=H+" Iterator",re=!1,ee=z.prototype,oe=ee[F]||ee["@@iterator"]||ie&&ee[ie],Z=!D&&oe||Ae(ie),J=H=="Array"&&ee.entries||oe,q,Y,te;if(J&&(q=T(J.call(new z)),q!==Object.prototype&&q.next&&(!v&&T(q)!==y&&(p?p(q,y):x(q[F])||C(q,F,N)),u(q,R,!0,!0),v&&(d[R]=N))),w&&ie==k&&oe&&oe.name!==k&&(!v&&I?g(ee,"name",k):(re=!0,Z=function(){return oe.call(this)})),ie)if(Y={values:Ae(k),keys:he?Z:Ae(L),entries:Ae(U)},le)for(te in Y)(D||re||!(te in ee))&&C(ee,te,Y[te]);else A({target:H,proto:!0,forced:D||re},Y);return(!v||le)&&ee[F]!==Z&&C(ee,F,Z,{name:ie}),d[H]=Z,Y}},1488:function(o,c,s){var A=s(7545),v=s(4500),B=s(9207),x=s(2760).f;o.exports=function(M){var T=A.Symbol||(A.Symbol={});v(T,M)||x(T,M,{value:B.f(M)})}},69:function(o,c,s){var A=s(6192);o.exports=!A(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},7449:function(o,c,s){var A=s(8576),v=s(5744),B=A.document,x=v(B)&&v(B.createElement);o.exports=function(M){return x?B.createElement(M):{}}},7365:function(o){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(o){o.exports=typeof window=="object"},9347:function(o,c,s){var A=s(8989),v=s(8576);o.exports=/ipad|iphone|ipod/i.test(A)&&v.Pebble!==void 0},9536:function(o,c,s){var A=s(8989);o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(A)},224:function(o,c,s){var A=s(9272),v=s(8576);o.exports=A(v.process)=="process"},5914:function(o,c,s){var A=s(8989);o.exports=/web0s(?!.*chrome)/i.test(A)},8989:function(o,c,s){var A=s(150);o.exports=A("navigator","userAgent")||""},4218:function(o,c,s){var A=s(8576),v=s(8989),B=A.process,x=A.Deno,M=B&&B.versions||x&&x.version,T=M&&M.v8,p,u;T?(p=T.split("."),u=p[0]<4?1:p[0]+p[1]):v&&(p=v.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=v.match(/Chrome\/(\d+)/),p&&(u=p[1]))),o.exports=u&&+u},5607:function(o,c,s){var A=s(7545);o.exports=function(v){return A[v+"Prototype"]}},2952:function(o){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(o,c,s){var A=s(8576),v=s(6447),B=s(5141).f,x=s(9245),M=s(7545),T=s(8043),p=s(8711),u=s(4500),g=function(C){var f=function(d,h,w){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(d);case 2:return new C(d,h)}return new C(d,h,w)}return C.apply(this,arguments)};return f.prototype=C.prototype,f};o.exports=function(C,f){var d=C.target,h=C.global,w=C.stat,I=C.proto,y=h?A:w?A[d]:(A[d]||{}).prototype,D=h?M:M[d]||p(M,d,{})[d],F=D.prototype,L,k,U,N,z,H,X,ne,ie;for(N in f)L=x(h?N:d+(w?".":"#")+N,C.forced),k=!L&&y&&u(y,N),H=D[N],k&&(C.noTargetGet?(ie=B(y,N),X=ie&&ie.value):X=y[N]),z=k&&X?X:f[N],!(k&&typeof H==typeof z)&&(C.bind&&k?ne=T(z,A):C.wrap&&k?ne=g(z):I&&v(z)?ne=T(Function.call,z):ne=z,(C.sham||z&&z.sham||H&&H.sham)&&p(ne,"sham",!0),p(D,N,ne),I&&(U=d+"Prototype",u(M,U)||p(M,U,{}),p(M[U],N,z),C.real&&F&&!F[N]&&p(F,N,z)))}},6192:function(o){o.exports=function(c){try{return!!c()}catch{return!0}}},8043:function(o,c,s){var A=s(6235);o.exports=function(v,B,x){if(A(v),B===void 0)return v;switch(x){case 0:return function(){return v.call(B)};case 1:return function(M){return v.call(B,M)};case 2:return function(M,T){return v.call(B,M,T)};case 3:return function(M,T,p){return v.call(B,M,T,p)}}return function(){return v.apply(B,arguments)}}},6782:function(o,c,s){var A=s(6235),v=s(5744),B=[].slice,x={},M=function(T,p,u){if(!(p in x)){for(var g=[],C=0;C<p;C++)g[C]="a["+C+"]";x[p]=Function("C,a","return new C("+g.join(",")+")")}return x[p](T,u)};o.exports=Function.bind||function(p){var u=A(this),g=B.call(arguments,1),C=function(){var d=g.concat(B.call(arguments));return this instanceof C?M(u,d.length,d):u.apply(p,d)};return v(u.prototype)&&(C.prototype=u.prototype),C}},2282:function(o,c,s){var A=s(69),v=s(4500),B=Function.prototype,x=A&&Object.getOwnPropertyDescriptor,M=v(B,"name"),T=M&&function(){}.name==="something",p=M&&(!A||A&&x(B,"name").configurable);o.exports={EXISTS:M,PROPER:T,CONFIGURABLE:p}},150:function(o,c,s){var A=s(7545),v=s(8576),B=s(6447),x=function(M){return B(M)?M:void 0};o.exports=function(M,T){return arguments.length<2?x(A[M])||x(v[M]):A[M]&&A[M][T]||v[M]&&v[M][T]}},8703:function(o,c,s){var A=s(4696),v=s(5037),B=s(7771),x=s(8182),M=x("iterator");o.exports=function(T){if(T!=null)return v(T,M)||v(T,"@@iterator")||B[A(T)]}},1669:function(o,c,s){var A=s(6235),v=s(1138),B=s(8703);o.exports=function(x,M){var T=arguments.length<2?B(x):M;if(A(T))return v(T.call(x));throw TypeError(String(x)+" is not iterable")}},5037:function(o,c,s){var A=s(6235);o.exports=function(v,B){var x=v[B];return x==null?void 0:A(x)}},8576:function(o,c,s){var A=function(v){return v&&v.Math==Math&&v};o.exports=A(typeof globalThis=="object"&&globalThis)||A(typeof window=="object"&&window)||A(typeof self=="object"&&self)||A(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},4500:function(o,c,s){var A=s(1795),v={}.hasOwnProperty;o.exports=Object.hasOwn||function(x,M){return v.call(A(x),M)}},4535:function(o){o.exports={}},3681:function(o,c,s){var A=s(8576);o.exports=function(v,B){var x=A.console;x&&x.error&&(arguments.length===1?x.error(v):x.error(v,B))}},7403:function(o,c,s){var A=s(150);o.exports=A("document","documentElement")},188:function(o,c,s){var A=s(69),v=s(6192),B=s(7449);o.exports=!A&&!v(function(){return Object.defineProperty(B("div"),"a",{get:function(){return 7}}).a!=7})},2202:function(o,c,s){var A=s(6192),v=s(9272),B="".split;o.exports=A(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return v(x)=="String"?B.call(x,""):Object(x)}:Object},9516:function(o,c,s){var A=s(6447),v=s(6434),B=Function.toString;A(v.inspectSource)||(v.inspectSource=function(x){return B.call(x)}),o.exports=v.inspectSource},273:function(o,c,s){var A=s(5744),v=s(8711);o.exports=function(B,x){A(x)&&"cause"in x&&v(B,"cause",B.cause)}},3326:function(o,c,s){var A=s(8921),v=s(8576),B=s(5744),x=s(8711),M=s(4500),T=s(6434),p=s(9766),u=s(4535),g="Object already initialized",C=v.WeakMap,f,d,h,w=function(U){return h(U)?d(U):f(U,{})},I=function(U){return function(N){var z;if(!B(N)||(z=d(N)).type!==U)throw TypeError("Incompatible receiver, "+U+" required");return z}};if(A||T.state){var y=T.state||(T.state=new C),D=y.get,F=y.has,L=y.set;f=function(U,N){if(F.call(y,U))throw new TypeError(g);return N.facade=U,L.call(y,U,N),N},d=function(U){return D.call(y,U)||{}},h=function(U){return F.call(y,U)}}else{var k=p("state");u[k]=!0,f=function(U,N){if(M(U,k))throw new TypeError(g);return N.facade=U,x(U,k,N),N},d=function(U){return M(U,k)?U[k]:{}},h=function(U){return M(U,k)}}o.exports={set:f,get:d,has:h,enforce:w,getterFor:I}},6109:function(o,c,s){var A=s(8182),v=s(7771),B=A("iterator"),x=Array.prototype;o.exports=function(M){return M!==void 0&&(v.Array===M||x[B]===M)}},4770:function(o,c,s){var A=s(9272);o.exports=Array.isArray||function(B){return A(B)=="Array"}},6447:function(o){o.exports=function(c){return typeof c=="function"}},2091:function(o,c,s){var A=s(6192),v=s(6447),B=s(4696),x=s(150),M=s(9516),T=[],p=x("Reflect","construct"),u=/^\s*(?:class|function)\b/,g=u.exec,C=!u.exec(function(){}),f=function(h){if(!v(h))return!1;try{return p(Object,T,h),!0}catch{return!1}},d=function(h){if(!v(h))return!1;switch(B(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return C||!!g.call(u,M(h))};o.exports=!p||A(function(){var h;return f(f.call)||!f(Object)||!f(function(){h=!0})||h})?d:f},9245:function(o,c,s){var A=s(6192),v=s(6447),B=/#|\.prototype\./,x=function(g,C){var f=T[M(g)];return f==u?!0:f==p?!1:v(C)?A(C):!!C},M=x.normalize=function(g){return String(g).replace(B,".").toLowerCase()},T=x.data={},p=x.NATIVE="N",u=x.POLYFILL="P";o.exports=x},5744:function(o,c,s){var A=s(6447);o.exports=function(v){return typeof v=="object"?v!==null:A(v)}},5546:function(o){o.exports=!0},3236:function(o,c,s){var A=s(6447),v=s(150),B=s(615);o.exports=B?function(x){return typeof x=="symbol"}:function(x){var M=v("Symbol");return A(M)&&Object(x)instanceof M}},3442:function(o,c,s){var A=s(1138),v=s(6109),B=s(4104),x=s(8043),M=s(1669),T=s(8703),p=s(6639),u=function(g,C){this.stopped=g,this.result=C};o.exports=function(g,C,f){var d=f&&f.that,h=!!(f&&f.AS_ENTRIES),w=!!(f&&f.IS_ITERATOR),I=!!(f&&f.INTERRUPTED),y=x(C,d,1+h+I),D,F,L,k,U,N,z,H=function(ne){return D&&p(D,"normal",ne),new u(!0,ne)},X=function(ne){return h?(A(ne),I?y(ne[0],ne[1],H):y(ne[0],ne[1])):I?y(ne,H):y(ne)};if(w)D=g;else{if(F=T(g),!F)throw TypeError(String(g)+" is not iterable");if(v(F)){for(L=0,k=B(g);k>L;L++)if(U=X(g[L]),U&&U instanceof u)return U;return new u(!1)}D=M(g,F)}for(N=D.next;!(z=N.call(D)).done;){try{U=X(z.value)}catch(ne){p(D,"throw",ne)}if(typeof U=="object"&&U&&U instanceof u)return U}return new u(!1)}},6639:function(o,c,s){var A=s(1138),v=s(5037);o.exports=function(B,x,M){var T,p;A(B);try{if(T=v(B,"return"),!T){if(x==="throw")throw M;return M}T=T.call(B)}catch(u){p=!0,T=u}if(x==="throw")throw M;if(p)throw T;return A(T),M}},4413:function(o,c,s){var A=s(6192),v=s(6447),B=s(2853),x=s(9341),M=s(9482),T=s(8182),p=s(5546),u=T("iterator"),g=!1,C,f,d;[].keys&&(d=[].keys(),"next"in d?(f=x(x(d)),f!==Object.prototype&&(C=f)):g=!0);var h=C==null||A(function(){var w={};return C[u].call(w)!==w});h?C={}:p&&(C=B(C)),v(C[u])||M(C,u,function(){return this}),o.exports={IteratorPrototype:C,BUGGY_SAFARI_ITERATORS:g}},7771:function(o){o.exports={}},4104:function(o,c,s){var A=s(8445);o.exports=function(v){return A(v.length)}},2950:function(o,c,s){var A=s(8576),v=s(5141).f,B=s(7160).set,x=s(9536),M=s(9347),T=s(5914),p=s(224),u=A.MutationObserver||A.WebKitMutationObserver,g=A.document,C=A.process,f=A.Promise,d=v(A,"queueMicrotask"),h=d&&d.value,w,I,y,D,F,L,k,U;h||(w=function(){var N,z;for(p&&(N=C.domain)&&N.exit();I;){z=I.fn,I=I.next;try{z()}catch(H){throw I?D():y=void 0,H}}y=void 0,N&&N.enter()},!x&&!p&&!T&&u&&g?(F=!0,L=g.createTextNode(""),new u(w).observe(L,{characterData:!0}),D=function(){L.data=F=!F}):!M&&f&&f.resolve?(k=f.resolve(void 0),k.constructor=f,U=k.then,D=function(){U.call(k,w)}):p?D=function(){C.nextTick(w)}:D=function(){B.call(A,w)}),o.exports=h||function(N){var z={fn:N,next:void 0};y&&(y.next=z),I||(I=z,D()),y=z}},4471:function(o,c,s){var A=s(8576);o.exports=A.Promise},3045:function(o,c,s){var A=s(4218),v=s(6192);o.exports=!!Object.getOwnPropertySymbols&&!v(function(){var B=Symbol();return!String(B)||!(Object(B)instanceof Symbol)||!Symbol.sham&&A&&A<41})},4551:function(o,c,s){var A=s(6192),v=s(8182),B=s(5546),x=v("iterator");o.exports=!A(function(){var M=new URL("b?a=1&b=2&c=3","http://a"),T=M.searchParams,p="";return M.pathname="c%20d",T.forEach(function(u,g){T.delete("b"),p+=g+u}),B&&!M.toJSON||!T.sort||M.href!=="http://a/c%20d?a=1&c=3"||T.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!T[x]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||p!=="a1c3"||new URL("http://x",void 0).host!=="x"})},8921:function(o,c,s){var A=s(8576),v=s(6447),B=s(9516),x=A.WeakMap;o.exports=v(x)&&/native code/.test(B(x))},9438:function(o,c,s){var A=s(6235),v=function(B){var x,M;this.promise=new B(function(T,p){if(x!==void 0||M!==void 0)throw TypeError("Bad Promise constructor");x=T,M=p}),this.resolve=A(x),this.reject=A(M)};o.exports.f=function(B){return new v(B)}},15:function(o,c,s){var A=s(8576),v=s(6192),B=s(4845),x=s(4277).trim,M=s(1450),T=A.parseFloat,p=A.Symbol,u=p&&p.iterator,g=1/T(M+"-0")!==-1/0||u&&!v(function(){T(Object(u))});o.exports=g?function(f){var d=x(B(f)),h=T(d);return h===0&&d.charAt(0)=="-"?-0:h}:T},2558:function(o,c,s){var A=s(8576),v=s(6192),B=s(4845),x=s(4277).trim,M=s(1450),T=A.parseInt,p=A.Symbol,u=p&&p.iterator,g=/^[+-]?0[Xx]/,C=T(M+"08")!==8||T(M+"0x16")!==22||u&&!v(function(){T(Object(u))});o.exports=C?function(d,h){var w=x(B(d));return T(w,h>>>0||(g.test(w)?16:10))}:T},2503:function(o,c,s){var A=s(69),v=s(6192),B=s(7653),x=s(4750),M=s(6007),T=s(1795),p=s(2202),u=Object.assign,g=Object.defineProperty;o.exports=!u||v(function(){if(A&&u({b:1},u(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var C={},f={},d=Symbol(),h="abcdefghijklmnopqrst";return C[d]=7,h.split("").forEach(function(w){f[w]=w}),u({},C)[d]!=7||B(u({},f)).join("")!=h})?function(f,d){for(var h=T(f),w=arguments.length,I=1,y=x.f,D=M.f;w>I;)for(var F=p(arguments[I++]),L=y?B(F).concat(y(F)):B(F),k=L.length,U=0,N;k>U;)N=L[U++],(!A||D.call(F,N))&&(h[N]=F[N]);return h}:u},2853:function(o,c,s){var A=s(1138),v=s(1187),B=s(2952),x=s(4535),M=s(7403),T=s(7449),p=s(9766),u=">",g="<",C="prototype",f="script",d=p("IE_PROTO"),h=function(){},w=function(L){return g+f+u+L+g+"/"+f+u},I=function(L){L.write(w("")),L.close();var k=L.parentWindow.Object;return L=null,k},y=function(){var L=T("iframe"),k="java"+f+":",U;return L.style.display="none",M.appendChild(L),L.src=String(k),U=L.contentWindow.document,U.open(),U.write(w("document.F=Object")),U.close(),U.F},D,F=function(){try{D=new ActiveXObject("htmlfile")}catch{}F=typeof document!="undefined"?document.domain&&D?I(D):y():I(D);for(var L=B.length;L--;)delete F[C][B[L]];return F()};x[d]=!0,o.exports=Object.create||function(k,U){var N;return k!==null?(h[C]=A(k),N=new h,h[C]=null,N[d]=k):N=F(),U===void 0?N:v(N,U)}},1187:function(o,c,s){var A=s(69),v=s(2760),B=s(1138),x=s(7653);o.exports=A?Object.defineProperties:function(T,p){B(T);for(var u=x(p),g=u.length,C=0,f;g>C;)v.f(T,f=u[C++],p[f]);return T}},2760:function(o,c,s){var A=s(69),v=s(188),B=s(1138),x=s(77),M=Object.defineProperty;c.f=A?M:function(p,u,g){if(B(p),u=x(u),B(g),v)try{return M(p,u,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(p[u]=g.value),p}},5141:function(o,c,s){var A=s(69),v=s(6007),B=s(774),x=s(101),M=s(77),T=s(4500),p=s(188),u=Object.getOwnPropertyDescriptor;c.f=A?u:function(C,f){if(C=x(C),f=M(f),p)try{return u(C,f)}catch{}if(T(C,f))return B(!v.f.call(C,f),C[f])}},4052:function(o,c,s){var A=s(101),v=s(2092).f,B={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],M=function(T){try{return v(T)}catch{return x.slice()}};o.exports.f=function(p){return x&&B.call(p)=="[object Window]"?M(p):v(A(p))}},2092:function(o,c,s){var A=s(7934),v=s(2952),B=v.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(M){return A(M,B)}},4750:function(o,c){c.f=Object.getOwnPropertySymbols},9341:function(o,c,s){var A=s(4500),v=s(6447),B=s(1795),x=s(9766),M=s(4635),T=x("IE_PROTO"),p=Object.prototype;o.exports=M?Object.getPrototypeOf:function(u){var g=B(u);if(A(g,T))return g[T];var C=g.constructor;return v(C)&&g instanceof C?C.prototype:g instanceof Object?p:null}},7934:function(o,c,s){var A=s(4500),v=s(101),B=s(8180).indexOf,x=s(4535);o.exports=function(M,T){var p=v(M),u=0,g=[],C;for(C in p)!A(x,C)&&A(p,C)&&g.push(C);for(;T.length>u;)A(p,C=T[u++])&&(~B(g,C)||g.push(C));return g}},7653:function(o,c,s){var A=s(7934),v=s(2952);o.exports=Object.keys||function(x){return A(x,v)}},6007:function(o,c){var s={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,v=A&&!s.call({1:2},1);c.f=v?function(x){var M=A(this,x);return!!M&&M.enumerable}:s},4469:function(o,c,s){var A=s(1138),v=s(7757);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var B=!1,x={},M;try{M=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,M.call(x,[]),B=x instanceof Array}catch{}return function(p,u){return A(p),v(u),B?M.call(p,u):p.__proto__=u,p}}():void 0)},158:function(o,c,s){var A=s(3471),v=s(4696);o.exports=A?{}.toString:function(){return"[object "+v(this)+"]"}},380:function(o,c,s){var A=s(6447),v=s(5744);o.exports=function(B,x){var M,T;if(x==="string"&&A(M=B.toString)&&!v(T=M.call(B))||A(M=B.valueOf)&&!v(T=M.call(B))||x!=="string"&&A(M=B.toString)&&!v(T=M.call(B)))return T;throw TypeError("Can't convert object to primitive value")}},7545:function(o){o.exports={}},892:function(o){o.exports=function(c){try{return{error:!1,value:c()}}catch(s){return{error:!0,value:s}}}},9126:function(o,c,s){var A=s(1138),v=s(5744),B=s(9438);o.exports=function(x,M){if(A(x),v(M)&&M.constructor===x)return M;var T=B.f(x),p=T.resolve;return p(M),T.promise}},533:function(o,c,s){var A=s(9482);o.exports=function(v,B,x){for(var M in B)x&&x.unsafe&&v[M]?v[M]=B[M]:A(v,M,B[M],x);return v}},9482:function(o,c,s){var A=s(8711);o.exports=function(v,B,x,M){M&&M.enumerable?v[B]=x:A(v,B,x)}},3209:function(o){o.exports=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}},7613:function(o,c,s){var A=s(8576);o.exports=function(v,B){try{Object.defineProperty(A,v,{value:B,configurable:!0,writable:!0})}catch{A[v]=B}return B}},3656:function(o,c,s){var A=s(150),v=s(2760),B=s(8182),x=s(69),M=B("species");o.exports=function(T){var p=A(T),u=v.f;x&&p&&!p[M]&&u(p,M,{configurable:!0,get:function(){return this}})}},1284:function(o,c,s){var A=s(3471),v=s(2760).f,B=s(8711),x=s(4500),M=s(158),T=s(8182),p=T("toStringTag");o.exports=function(u,g,C,f){if(u){var d=C?u:u.prototype;x(d,p)||v(d,p,{configurable:!0,value:g}),f&&!A&&B(d,"toString",M)}}},9766:function(o,c,s){var A=s(8717),v=s(2759),B=A("keys");o.exports=function(x){return B[x]||(B[x]=v(x))}},6434:function(o,c,s){var A=s(8576),v=s(7613),B="__core-js_shared__",x=A[B]||v(B,{});o.exports=x},8717:function(o,c,s){var A=s(5546),v=s(6434);(o.exports=function(B,x){return v[B]||(v[B]=x!==void 0?x:{})})("versions",[]).push({version:"3.18.2",mode:A?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(o,c,s){var A=s(1138),v=s(1404),B=s(8182),x=B("species");o.exports=function(M,T){var p=A(M).constructor,u;return p===void 0||(u=A(p)[x])==null?T:v(u)}},863:function(o,c,s){var A=s(1941),v=s(4845),B=s(3209),x=function(M){return function(T,p){var u=v(B(T)),g=A(p),C=u.length,f,d;return g<0||g>=C?M?"":void 0:(f=u.charCodeAt(g),f<55296||f>56319||g+1===C||(d=u.charCodeAt(g+1))<56320||d>57343?M?u.charAt(g):f:M?u.slice(g,g+2):(f-55296<<10)+(d-56320)+65536)}};o.exports={codeAt:x(!1),charAt:x(!0)}},7977:function(o){var c=2147483647,s=36,A=1,v=26,B=38,x=700,M=72,T=128,p="-",u=/[^\0-\u007E]/,g=/[.\u3002\uFF0E\uFF61]/g,C="Overflow: input needs wider integers to process",f=s-A,d=Math.floor,h=String.fromCharCode,w=function(F){for(var L=[],k=0,U=F.length;k<U;){var N=F.charCodeAt(k++);if(N>=55296&&N<=56319&&k<U){var z=F.charCodeAt(k++);(z&64512)==56320?L.push(((N&1023)<<10)+(z&1023)+65536):(L.push(N),k--)}else L.push(N)}return L},I=function(F){return F+22+75*(F<26)},y=function(F,L,k){var U=0;for(F=k?d(F/x):F>>1,F+=d(F/L);F>f*v>>1;U+=s)F=d(F/f);return d(U+(f+1)*F/(F+B))},D=function(F){var L=[];F=w(F);var k=F.length,U=T,N=0,z=M,H,X;for(H=0;H<F.length;H++)X=F[H],X<128&&L.push(h(X));var ne=L.length,ie=ne;for(ne&&L.push(p);ie<k;){var he=c;for(H=0;H<F.length;H++)X=F[H],X>=U&&X<he&&(he=X);var le=ie+1;if(he-U>d((c-N)/le))throw RangeError(C);for(N+=(he-U)*le,U=he,H=0;H<F.length;H++){if(X=F[H],X<U&&++N>c)throw RangeError(C);if(X==U){for(var Ae=N,R=s;;R+=s){var re=R<=z?A:R>=z+v?v:R-z;if(Ae<re)break;var ee=Ae-re,oe=s-re;L.push(h(I(re+ee%oe))),Ae=d(ee/oe)}L.push(h(I(Ae))),z=y(N,le,ie==ne),N=0,++ie}}++N,++U}return L.join("")};o.exports=function(F){var L=[],k=F.toLowerCase().replace(g,".").split("."),U,N;for(U=0;U<k.length;U++)N=k[U],L.push(u.test(N)?"xn--"+D(N):N);return L.join(".")}},6815:function(o,c,s){var A=s(2282).PROPER,v=s(6192),B=s(1450),x="\u200B\x85\u180E";o.exports=function(M){return v(function(){return!!B[M]()||x[M]()!==x||A&&B[M].name!==M})}},4277:function(o,c,s){var A=s(3209),v=s(4845),B=s(1450),x="["+B+"]",M=RegExp("^"+x+x+"*"),T=RegExp(x+x+"*$"),p=function(u){return function(g){var C=v(A(g));return u&1&&(C=C.replace(M,"")),u&2&&(C=C.replace(T,"")),C}};o.exports={start:p(1),end:p(2),trim:p(3)}},7160:function(o,c,s){var A=s(8576),v=s(6447),B=s(6192),x=s(8043),M=s(7403),T=s(7449),p=s(9536),u=s(224),g=A.setImmediate,C=A.clearImmediate,f=A.process,d=A.MessageChannel,h=A.Dispatch,w=0,I={},y="onreadystatechange",D,F,L,k;try{D=A.location}catch{}var U=function(X){if(I.hasOwnProperty(X)){var ne=I[X];delete I[X],ne()}},N=function(X){return function(){U(X)}},z=function(X){U(X.data)},H=function(X){A.postMessage(String(X),D.protocol+"//"+D.host)};(!g||!C)&&(g=function(ne){for(var ie=[],he=arguments.length,le=1;he>le;)ie.push(arguments[le++]);return I[++w]=function(){(v(ne)?ne:Function(ne)).apply(void 0,ie)},F(w),w},C=function(ne){delete I[ne]},u?F=function(X){f.nextTick(N(X))}:h&&h.now?F=function(X){h.now(N(X))}:d&&!p?(L=new d,k=L.port2,L.port1.onmessage=z,F=x(k.postMessage,k,1)):A.addEventListener&&v(A.postMessage)&&!A.importScripts&&D&&D.protocol!=="file:"&&!B(H)?(F=H,A.addEventListener("message",z,!1)):y in T("script")?F=function(X){M.appendChild(T("script"))[y]=function(){M.removeChild(this),U(X)}}:F=function(X){setTimeout(N(X),0)}),o.exports={set:g,clear:C}},7739:function(o,c,s){var A=s(1941),v=Math.max,B=Math.min;o.exports=function(x,M){var T=A(x);return T<0?v(T+M,0):B(T,M)}},101:function(o,c,s){var A=s(2202),v=s(3209);o.exports=function(B){return A(v(B))}},1941:function(o){var c=Math.ceil,s=Math.floor;o.exports=function(A){var v=+A;return v!==v||v===0?0:(v>0?s:c)(v)}},8445:function(o,c,s){var A=s(1941),v=Math.min;o.exports=function(B){return B>0?v(A(B),9007199254740991):0}},1795:function(o,c,s){var A=s(3209);o.exports=function(v){return Object(A(v))}},7888:function(o,c,s){var A=s(5744),v=s(3236),B=s(5037),x=s(380),M=s(8182),T=M("toPrimitive");o.exports=function(p,u){if(!A(p)||v(p))return p;var g=B(p,T),C;if(g){if(u===void 0&&(u="default"),C=g.call(p,u),!A(C)||v(C))return C;throw TypeError("Can't convert object to primitive value")}return u===void 0&&(u="number"),x(p,u)}},77:function(o,c,s){var A=s(7888),v=s(3236);o.exports=function(B){var x=A(B,"string");return v(x)?x:String(x)}},3471:function(o,c,s){var A=s(8182),v=A("toStringTag"),B={};B[v]="z",o.exports=String(B)==="[object z]"},4845:function(o,c,s){var A=s(4696);o.exports=function(v){if(A(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(v)}},9288:function(o){o.exports=function(c){try{return String(c)}catch{return"Object"}}},2759:function(o){var c=0,s=Math.random();o.exports=function(A){return"Symbol("+String(A===void 0?"":A)+")_"+(++c+s).toString(36)}},615:function(o,c,s){var A=s(3045);o.exports=A&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},9207:function(o,c,s){var A=s(8182);c.f=A},8182:function(o,c,s){var A=s(8576),v=s(8717),B=s(4500),x=s(2759),M=s(3045),T=s(615),p=v("wks"),u=A.Symbol,g=T?u:u&&u.withoutSetter||x;o.exports=function(C){return(!B(p,C)||!(M||typeof p[C]=="string"))&&(M&&B(u,C)?p[C]=u[C]:p[C]=g("Symbol."+C)),p[C]}},1450:function(o){o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},4242:function(o,c,s){var A=s(3085),v=s(9341),B=s(4469),x=s(2853),M=s(8711),T=s(774),p=s(273),u=s(3442),g=s(4845),C=function(d,h){var w=this,I=arguments.length>2?arguments[2]:void 0;if(!(w instanceof C))return new C(d,h,I);B&&(w=B(new Error(void 0),v(w))),h!==void 0&&M(w,"message",g(h)),p(w,I);var y=[];return u(d,y.push,{that:y}),M(w,"errors",y),w};C.prototype=x(Error.prototype,{constructor:T(5,C),message:T(5,""),name:T(5,"AggregateError")}),A({global:!0},{AggregateError:C})},9106:function(o,c,s){var A=s(3085),v=s(6192),B=s(4770),x=s(5744),M=s(1795),T=s(4104),p=s(9361),u=s(1321),g=s(242),C=s(8182),f=s(4218),d=C("isConcatSpreadable"),h=9007199254740991,w="Maximum allowed index exceeded",I=f>=51||!v(function(){var L=[];return L[d]=!1,L.concat()[0]!==L}),y=g("concat"),D=function(L){if(!x(L))return!1;var k=L[d];return k!==void 0?!!k:B(L)},F=!I||!y;A({target:"Array",proto:!0,forced:F},{concat:function(k){var U=M(this),N=u(U,0),z=0,H,X,ne,ie,he;for(H=-1,ne=arguments.length;H<ne;H++)if(he=H===-1?U:arguments[H],D(he)){if(ie=T(he),z+ie>h)throw TypeError(w);for(X=0;X<ie;X++,z++)X in he&&p(N,z,he[X])}else{if(z>=h)throw TypeError(w);p(N,z++,he)}return N.length=z,N}})},1710:function(o,c,s){var A=s(3085),v=s(2724),B=s(7423);A({target:"Array",proto:!0},{fill:v}),B("fill")},3436:function(o,c,s){var A=s(3085),v=s(454).filter,B=s(242),x=B("filter");A({target:"Array",proto:!0,forced:!x},{filter:function(T){return v(this,T,arguments.length>1?arguments[1]:void 0)}})},9823:function(o,c,s){var A=s(3085),v=s(7397);A({target:"Array",proto:!0,forced:[].forEach!=v},{forEach:v})},9173:function(o,c,s){var A=s(3085),v=s(841),B=s(9770),x=!B(function(M){Array.from(M)});A({target:"Array",stat:!0,forced:x},{from:v})},2276:function(o,c,s){var A=s(3085),v=s(8180).indexOf,B=s(424),x=[].indexOf,M=!!x&&1/[1].indexOf(1,-0)<0,T=B("indexOf");A({target:"Array",proto:!0,forced:M||!T},{indexOf:function(u){return M?x.apply(this,arguments)||0:v(this,u,arguments.length>1?arguments[1]:void 0)}})},8118:function(o,c,s){var A=s(3085),v=s(4770);A({target:"Array",stat:!0},{isArray:v})},8939:function(o,c,s){var A=s(101),v=s(7423),B=s(7771),x=s(3326),M=s(7218),T="Array Iterator",p=x.set,u=x.getterFor(T);o.exports=M(Array,"Array",function(g,C){p(this,{type:T,target:A(g),index:0,kind:C})},function(){var g=u(this),C=g.target,f=g.kind,d=g.index++;return!C||d>=C.length?(g.target=void 0,{value:void 0,done:!0}):f=="keys"?{value:d,done:!1}:f=="values"?{value:C[d],done:!1}:{value:[d,C[d]],done:!1}},"values"),B.Arguments=B.Array,v("keys"),v("values"),v("entries")},3838:function(o,c,s){var A=s(3085),v=s(454).map,B=s(242),x=B("map");A({target:"Array",proto:!0,forced:!x},{map:function(T){return v(this,T,arguments.length>1?arguments[1]:void 0)}})},5818:function(o,c,s){var A=s(3085),v=s(4770),B=s(2091),x=s(5744),M=s(7739),T=s(4104),p=s(101),u=s(9361),g=s(8182),C=s(242),f=C("slice"),d=g("species"),h=[].slice,w=Math.max;A({target:"Array",proto:!0,forced:!f},{slice:function(y,D){var F=p(this),L=T(F),k=M(y,L),U=M(D===void 0?L:D,L),N,z,H;if(v(F)&&(N=F.constructor,B(N)&&(N===Array||v(N.prototype))?N=void 0:x(N)&&(N=N[d],N===null&&(N=void 0)),N===Array||N===void 0))return h.call(F,k,U);for(z=new(N===void 0?Array:N)(w(U-k,0)),H=0;k<U;k++,H++)k in F&&u(z,H,F[k]);return z.length=H,z}})},2178:function(o,c,s){var A=s(3085),v=s(7739),B=s(1941),x=s(4104),M=s(1795),T=s(1321),p=s(9361),u=s(242),g=u("splice"),C=Math.max,f=Math.min,d=9007199254740991,h="Maximum allowed length exceeded";A({target:"Array",proto:!0,forced:!g},{splice:function(I,y){var D=M(this),F=x(D),L=v(I,F),k=arguments.length,U,N,z,H,X,ne;if(k===0?U=N=0:k===1?(U=0,N=F-L):(U=k-2,N=f(C(B(y),0),F-L)),F+U-N>d)throw TypeError(h);for(z=T(D,N),H=0;H<N;H++)X=L+H,X in D&&p(z,H,D[X]);if(z.length=N,U<N){for(H=L;H<F-N;H++)X=H+N,ne=H+U,X in D?D[ne]=D[X]:delete D[ne];for(H=F;H>F-N+U;H--)delete D[H-1]}else if(U>N)for(H=F-N;H>L;H--)X=H+N-1,ne=H+U-1,X in D?D[ne]=D[X]:delete D[ne];for(H=0;H<U;H++)D[H+L]=arguments[H+2];return D.length=F-N+U,z}})},665:function(o,c,s){var A=s(3085),v=s(6782);A({target:"Function",proto:!0},{bind:v})},8671:function(o,c,s){var A=s(8576),v=s(1284);v(A.JSON,"JSON",!0)},8556:function(){},2666:function(o,c,s){var A=s(3085),v=s(2558);A({target:"Number",stat:!0,forced:Number.parseInt!=v},{parseInt:v})},3113:function(o,c,s){var A=s(3085),v=s(69),B=s(2853);A({target:"Object",stat:!0,sham:!v},{create:B})},297:function(o,c,s){var A=s(3085),v=s(69),B=s(2760);A({target:"Object",stat:!0,forced:!v,sham:!v},{defineProperty:B.f})},9234:function(o,c,s){var A=s(3085),v=s(6192),B=s(1795),x=s(9341),M=s(4635),T=v(function(){x(1)});A({target:"Object",stat:!0,forced:T,sham:!M},{getPrototypeOf:function(u){return x(B(u))}})},2647:function(o,c,s){var A=s(3085),v=s(1795),B=s(7653),x=s(6192),M=x(function(){B(1)});A({target:"Object",stat:!0,forced:M},{keys:function(p){return B(v(p))}})},3222:function(o,c,s){var A=s(3085),v=s(4469);A({target:"Object",stat:!0},{setPrototypeOf:v})},6663:function(){},4859:function(o,c,s){var A=s(3085),v=s(15);A({global:!0,forced:parseFloat!=v},{parseFloat:v})},5706:function(o,c,s){var A=s(3085),v=s(2558);A({global:!0,forced:parseInt!=v},{parseInt:v})},7884:function(o,c,s){var A=s(3085),v=s(6235),B=s(9438),x=s(892),M=s(3442);A({target:"Promise",stat:!0},{allSettled:function(p){var u=this,g=B.f(u),C=g.resolve,f=g.reject,d=x(function(){var h=v(u.resolve),w=[],I=0,y=1;M(p,function(D){var F=I++,L=!1;w.push(void 0),y++,h.call(u,D).then(function(k){L||(L=!0,w[F]={status:"fulfilled",value:k},--y||C(w))},function(k){L||(L=!0,w[F]={status:"rejected",reason:k},--y||C(w))})}),--y||C(w)});return d.error&&f(d.value),g.promise}})},8885:function(o,c,s){var A=s(3085),v=s(6235),B=s(150),x=s(9438),M=s(892),T=s(3442),p="No one promise resolved";A({target:"Promise",stat:!0},{any:function(g){var C=this,f=x.f(C),d=f.resolve,h=f.reject,w=M(function(){var I=v(C.resolve),y=[],D=0,F=1,L=!1;T(g,function(k){var U=D++,N=!1;y.push(void 0),F++,I.call(C,k).then(function(z){N||L||(L=!0,d(z))},function(z){N||L||(N=!0,y[U]=z,--F||h(new(B("AggregateError"))(y,p)))})}),--F||h(new(B("AggregateError"))(y,p))});return w.error&&h(w.value),f.promise}})},1868:function(o,c,s){var A=s(3085),v=s(5546),B=s(4471),x=s(6192),M=s(150),T=s(6447),p=s(4743),u=s(9126),g=s(9482),C=!!B&&x(function(){B.prototype.finally.call({then:function(){}},function(){})});if(A({target:"Promise",proto:!0,real:!0,forced:C},{finally:function(d){var h=p(this,M("Promise")),w=T(d);return this.then(w?function(I){return u(h,d()).then(function(){return I})}:d,w?function(I){return u(h,d()).then(function(){throw I})}:d)}}),!v&&T(B)){var f=M("Promise").prototype.finally;B.prototype.finally!==f&&g(B.prototype,"finally",f,{unsafe:!0})}},9021:function(o,c,s){var A=s(3085),v=s(5546),B=s(8576),x=s(150),M=s(4471),T=s(9482),p=s(533),u=s(4469),g=s(1284),C=s(3656),f=s(6235),d=s(6447),h=s(5744),w=s(6961),I=s(9516),y=s(3442),D=s(9770),F=s(4743),L=s(7160).set,k=s(2950),U=s(9126),N=s(3681),z=s(9438),H=s(892),X=s(3326),ne=s(9245),ie=s(8182),he=s(2957),le=s(224),Ae=s(4218),R=ie("species"),re="Promise",ee=X.get,oe=X.set,Z=X.getterFor(re),J=M&&M.prototype,q=M,Y=J,te=B.TypeError,V=B.document,K=B.process,$=z.f,se=$,pe=!!(V&&V.createEvent&&B.dispatchEvent),ue=d(B.PromiseRejectionEvent),ye="unhandledrejection",we="rejectionhandled",Ee=0,me=1,fe=2,de=1,ve=2,Ce=!1,xe,De,Re,je,Ie=ne(re,function(){var Fe=I(q),Oe=Fe!==String(q);if(!Oe&&Ae===66||v&&!Y.finally)return!0;if(Ae>=51&&/native code/.test(Fe))return!1;var ze=new q(function(Qe){Qe(1)}),Ke=function(Qe){Qe(function(){},function(){})},Je=ze.constructor={};return Je[R]=Ke,Ce=ze.then(function(){})instanceof Ke,Ce?!Oe&&he&&!ue:!0}),Ge=Ie||!D(function(Fe){q.all(Fe).catch(function(){})}),Xe=function(Fe){var Oe;return h(Fe)&&d(Oe=Fe.then)?Oe:!1},rt=function(Fe,Oe){if(!Fe.notified){Fe.notified=!0;var ze=Fe.reactions;k(function(){for(var Ke=Fe.value,Je=Fe.state==me,Qe=0;ze.length>Qe;){var an=ze[Qe++],un=Je?an.ok:an.fail,et=an.resolve,Te=an.reject,zt=an.domain,St,Tt,Vn;try{un?(Je||(Fe.rejection===ve&&ft(Fe),Fe.rejection=de),un===!0?St=Ke:(zt&&zt.enter(),St=un(Ke),zt&&(zt.exit(),Vn=!0)),St===an.promise?Te(te("Promise-chain cycle")):(Tt=Xe(St))?Tt.call(St,et,Te):et(St)):Te(Ke)}catch(Nn){zt&&!Vn&&zt.exit(),Te(Nn)}}Fe.reactions=[],Fe.notified=!1,Oe&&!Fe.rejection&&Ct(Fe)})}},vt=function(Fe,Oe,ze){var Ke,Je;pe?(Ke=V.createEvent("Event"),Ke.promise=Oe,Ke.reason=ze,Ke.initEvent(Fe,!1,!0),B.dispatchEvent(Ke)):Ke={promise:Oe,reason:ze},!ue&&(Je=B["on"+Fe])?Je(Ke):Fe===ye&&N("Unhandled promise rejection",ze)},Ct=function(Fe){L.call(B,function(){var Oe=Fe.facade,ze=Fe.value,Ke=Dt(Fe),Je;if(Ke&&(Je=H(function(){le?K.emit("unhandledRejection",ze,Oe):vt(ye,Oe,ze)}),Fe.rejection=le||Dt(Fe)?ve:de,Je.error))throw Je.value})},Dt=function(Fe){return Fe.rejection!==de&&!Fe.parent},ft=function(Fe){L.call(B,function(){var Oe=Fe.facade;le?K.emit("rejectionHandled",Oe):vt(we,Oe,Fe.value)})},_t=function(Fe,Oe,ze){return function(Ke){Fe(Oe,Ke,ze)}},Xt=function(Fe,Oe,ze){Fe.done||(Fe.done=!0,ze&&(Fe=ze),Fe.value=Oe,Fe.state=fe,rt(Fe,!0))},Ht=function(Fe,Oe,ze){if(!Fe.done){Fe.done=!0,ze&&(Fe=ze);try{if(Fe.facade===Oe)throw te("Promise can't be resolved itself");var Ke=Xe(Oe);Ke?k(function(){var Je={done:!1};try{Ke.call(Oe,_t(Ht,Je,Fe),_t(Xt,Je,Fe))}catch(Qe){Xt(Je,Qe,Fe)}}):(Fe.value=Oe,Fe.state=me,rt(Fe,!1))}catch(Je){Xt({done:!1},Je,Fe)}}};if(Ie&&(q=function(Oe){w(this,q,re),f(Oe),xe.call(this);var ze=ee(this);try{Oe(_t(Ht,ze),_t(Xt,ze))}catch(Ke){Xt(ze,Ke)}},Y=q.prototype,xe=function(Oe){oe(this,{type:re,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ee,value:void 0})},xe.prototype=p(Y,{then:function(Oe,ze){var Ke=Z(this),Je=$(F(this,q));return Je.ok=d(Oe)?Oe:!0,Je.fail=d(ze)&&ze,Je.domain=le?K.domain:void 0,Ke.parent=!0,Ke.reactions.push(Je),Ke.state!=Ee&&rt(Ke,!1),Je.promise},catch:function(Fe){return this.then(void 0,Fe)}}),De=function(){var Fe=new xe,Oe=ee(Fe);this.promise=Fe,this.resolve=_t(Ht,Oe),this.reject=_t(Xt,Oe)},z.f=$=function(Fe){return Fe===q||Fe===Re?new De(Fe):se(Fe)},!v&&d(M)&&J!==Object.prototype)){je=J.then,Ce||(T(J,"then",function(Oe,ze){var Ke=this;return new q(function(Je,Qe){je.call(Ke,Je,Qe)}).then(Oe,ze)},{unsafe:!0}),T(J,"catch",Y.catch,{unsafe:!0}));try{delete J.constructor}catch{}u&&u(J,Y)}A({global:!0,wrap:!0,forced:Ie},{Promise:q}),g(q,re,!1,!0),C(re),Re=x(re),A({target:re,stat:!0,forced:Ie},{reject:function(Oe){var ze=$(this);return ze.reject.call(void 0,Oe),ze.promise}}),A({target:re,stat:!0,forced:v||Ie},{resolve:function(Oe){return U(v&&this===Re?q:this,Oe)}}),A({target:re,stat:!0,forced:Ge},{all:function(Oe){var ze=this,Ke=$(ze),Je=Ke.resolve,Qe=Ke.reject,an=H(function(){var un=f(ze.resolve),et=[],Te=0,zt=1;y(Oe,function(St){var Tt=Te++,Vn=!1;et.push(void 0),zt++,un.call(ze,St).then(function(Nn){Vn||(Vn=!0,et[Tt]=Nn,--zt||Je(et))},Qe)}),--zt||Je(et)});return an.error&&Qe(an.value),Ke.promise},race:function(Oe){var ze=this,Ke=$(ze),Je=Ke.reject,Qe=H(function(){var an=f(ze.resolve);y(Oe,function(un){an.call(ze,un).then(Ke.resolve,Je)})});return Qe.error&&Je(Qe.value),Ke.promise}})},5397:function(o,c,s){var A=s(3085),v=s(150),B=s(1404),x=s(1138),M=s(5744),T=s(2853),p=s(6782),u=s(6192),g=v("Reflect","construct"),C=u(function(){function h(){}return!(g(function(){},[],h)instanceof h)}),f=!u(function(){g(function(){})}),d=C||f;A({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(w,I){B(w),x(I);var y=arguments.length<3?w:B(arguments[2]);if(f&&!C)return g(w,I,y);if(w==y){switch(I.length){case 0:return new w;case 1:return new w(I[0]);case 2:return new w(I[0],I[1]);case 3:return new w(I[0],I[1],I[2]);case 4:return new w(I[0],I[1],I[2],I[3])}var D=[null];return D.push.apply(D,I),new(p.apply(w,D))}var F=y.prototype,L=T(M(F)?F:Object.prototype),k=Function.apply.call(w,L,I);return M(k)?k:L}})},1367:function(){},5454:function(o,c,s){var A=s(863).charAt,v=s(4845),B=s(3326),x=s(7218),M="String Iterator",T=B.set,p=B.getterFor(M);x(String,"String",function(u){T(this,{type:M,string:v(u),index:0})},function(){var g=p(this),C=g.string,f=g.index,d;return f>=C.length?{value:void 0,done:!0}:(d=A(C,f),g.index+=d.length,{value:d,done:!1})})},957:function(o,c,s){var A=s(3085),v=s(4277).trim,B=s(6815);A({target:"String",proto:!0,forced:B("trim")},{trim:function(){return v(this)}})},9781:function(o,c,s){var A=s(1488);A("asyncIterator")},492:function(){},6681:function(o,c,s){var A=s(1488);A("hasInstance")},9594:function(o,c,s){var A=s(1488);A("isConcatSpreadable")},3665:function(o,c,s){var A=s(1488);A("iterator")},6187:function(o,c,s){var A=s(3085),v=s(8576),B=s(150),x=s(5546),M=s(69),T=s(3045),p=s(6192),u=s(4500),g=s(4770),C=s(6447),f=s(5744),d=s(3236),h=s(1138),w=s(1795),I=s(101),y=s(77),D=s(4845),F=s(774),L=s(2853),k=s(7653),U=s(2092),N=s(4052),z=s(4750),H=s(5141),X=s(2760),ne=s(6007),ie=s(9482),he=s(8717),le=s(9766),Ae=s(4535),R=s(2759),re=s(8182),ee=s(9207),oe=s(1488),Z=s(1284),J=s(3326),q=s(454).forEach,Y=le("hidden"),te="Symbol",V="prototype",K=re("toPrimitive"),$=J.set,se=J.getterFor(te),pe=Object[V],ue=v.Symbol,ye=B("JSON","stringify"),we=H.f,Ee=X.f,me=N.f,fe=ne.f,de=he("symbols"),ve=he("op-symbols"),Ce=he("string-to-symbol-registry"),xe=he("symbol-to-string-registry"),De=he("wks"),Re=v.QObject,je=!Re||!Re[V]||!Re[V].findChild,Ie=M&&p(function(){return L(Ee({},"a",{get:function(){return Ee(this,"a",{value:7}).a}})).a!=7})?function(Fe,Oe,ze){var Ke=we(pe,Oe);Ke&&delete pe[Oe],Ee(Fe,Oe,ze),Ke&&Fe!==pe&&Ee(pe,Oe,Ke)}:Ee,Ge=function(Fe,Oe){var ze=de[Fe]=L(ue[V]);return $(ze,{type:te,tag:Fe,description:Oe}),M||(ze.description=Oe),ze},Xe=function(Oe,ze,Ke){Oe===pe&&Xe(ve,ze,Ke),h(Oe);var Je=y(ze);return h(Ke),u(de,Je)?(Ke.enumerable?(u(Oe,Y)&&Oe[Y][Je]&&(Oe[Y][Je]=!1),Ke=L(Ke,{enumerable:F(0,!1)})):(u(Oe,Y)||Ee(Oe,Y,F(1,{})),Oe[Y][Je]=!0),Ie(Oe,Je,Ke)):Ee(Oe,Je,Ke)},rt=function(Oe,ze){h(Oe);var Ke=I(ze),Je=k(Ke).concat(_t(Ke));return q(Je,function(Qe){(!M||Ct.call(Ke,Qe))&&Xe(Oe,Qe,Ke[Qe])}),Oe},vt=function(Oe,ze){return ze===void 0?L(Oe):rt(L(Oe),ze)},Ct=function(Oe){var ze=y(Oe),Ke=fe.call(this,ze);return this===pe&&u(de,ze)&&!u(ve,ze)?!1:Ke||!u(this,ze)||!u(de,ze)||u(this,Y)&&this[Y][ze]?Ke:!0},Dt=function(Oe,ze){var Ke=I(Oe),Je=y(ze);if(!(Ke===pe&&u(de,Je)&&!u(ve,Je))){var Qe=we(Ke,Je);return Qe&&u(de,Je)&&!(u(Ke,Y)&&Ke[Y][Je])&&(Qe.enumerable=!0),Qe}},ft=function(Oe){var ze=me(I(Oe)),Ke=[];return q(ze,function(Je){!u(de,Je)&&!u(Ae,Je)&&Ke.push(Je)}),Ke},_t=function(Oe){var ze=Oe===pe,Ke=me(ze?ve:I(Oe)),Je=[];return q(Ke,function(Qe){u(de,Qe)&&(!ze||u(pe,Qe))&&Je.push(de[Qe])}),Je};if(T||(ue=function(){if(this instanceof ue)throw TypeError("Symbol is not a constructor");var Oe=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),ze=R(Oe),Ke=function(Je){this===pe&&Ke.call(ve,Je),u(this,Y)&&u(this[Y],ze)&&(this[Y][ze]=!1),Ie(this,ze,F(1,Je))};return M&&je&&Ie(pe,ze,{configurable:!0,set:Ke}),Ge(ze,Oe)},ie(ue[V],"toString",function(){return se(this).tag}),ie(ue,"withoutSetter",function(Fe){return Ge(R(Fe),Fe)}),ne.f=Ct,X.f=Xe,H.f=Dt,U.f=N.f=ft,z.f=_t,ee.f=function(Fe){return Ge(re(Fe),Fe)},M&&(Ee(ue[V],"description",{configurable:!0,get:function(){return se(this).description}}),x||ie(pe,"propertyIsEnumerable",Ct,{unsafe:!0}))),A({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:ue}),q(k(De),function(Fe){oe(Fe)}),A({target:te,stat:!0,forced:!T},{for:function(Fe){var Oe=D(Fe);if(u(Ce,Oe))return Ce[Oe];var ze=ue(Oe);return Ce[Oe]=ze,xe[ze]=Oe,ze},keyFor:function(Oe){if(!d(Oe))throw TypeError(Oe+" is not a symbol");if(u(xe,Oe))return xe[Oe]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),A({target:"Object",stat:!0,forced:!T,sham:!M},{create:vt,defineProperty:Xe,defineProperties:rt,getOwnPropertyDescriptor:Dt}),A({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:ft,getOwnPropertySymbols:_t}),A({target:"Object",stat:!0,forced:p(function(){z.f(1)})},{getOwnPropertySymbols:function(Oe){return z.f(w(Oe))}}),ye){var Xt=!T||p(function(){var Fe=ue();return ye([Fe])!="[null]"||ye({a:Fe})!="{}"||ye(Object(Fe))!="{}"});A({target:"JSON",stat:!0,forced:Xt},{stringify:function(Oe,ze,Ke){for(var Je=[Oe],Qe=1,an;arguments.length>Qe;)Je.push(arguments[Qe++]);if(an=ze,!(!f(ze)&&Oe===void 0||d(Oe)))return g(ze)||(ze=function(un,et){if(C(an)&&(et=an.call(this,un,et)),!d(et))return et}),Je[1]=ze,ye.apply(null,Je)}})}if(!ue[V][K]){var Ht=ue[V].valueOf;ie(ue[V],K,function(){return Ht.apply(this,arguments)})}Z(ue,te),Ae[Y]=!0},1250:function(o,c,s){var A=s(1488);A("matchAll")},9017:function(o,c,s){var A=s(1488);A("match")},9786:function(o,c,s){var A=s(1488);A("replace")},503:function(o,c,s){var A=s(1488);A("search")},6565:function(o,c,s){var A=s(1488);A("species")},9322:function(o,c,s){var A=s(1488);A("split")},3610:function(o,c,s){var A=s(1488);A("toPrimitive")},6886:function(o,c,s){var A=s(1488);A("toStringTag")},3514:function(o,c,s){var A=s(1488);A("unscopables")},177:function(o,c,s){var A=s(1488);A("asyncDispose")},9031:function(o,c,s){var A=s(1488);A("dispose")},6658:function(o,c,s){var A=s(1488);A("matcher")},1875:function(o,c,s){var A=s(1488);A("metadata")},8658:function(o,c,s){var A=s(1488);A("observable")},4592:function(o,c,s){var A=s(1488);A("patternMatch")},6680:function(o,c,s){var A=s(1488);A("replaceAll")},162:function(o,c,s){s(8939);var A=s(7365),v=s(8576),B=s(4696),x=s(8711),M=s(7771),T=s(8182),p=T("toStringTag");for(var u in A){var g=v[u],C=g&&g.prototype;C&&B(C)!==p&&x(C,p,u),M[u]=M.Array}},2906:function(o,c,s){var A=s(3085),v=s(8576),B=s(6447),x=s(8989),M=[].slice,T=/MSIE .\./.test(x),p=function(u){return function(g,C){var f=arguments.length>2,d=f?M.call(arguments,2):void 0;return u(f?function(){(B(g)?g:Function(g)).apply(this,d)}:g,C)}};A({global:!0,bind:!0,forced:T},{setTimeout:p(v.setTimeout),setInterval:p(v.setInterval)})},9336:function(o,c,s){s(8939);var A=s(3085),v=s(150),B=s(4551),x=s(9482),M=s(533),T=s(1284),p=s(5148),u=s(3326),g=s(6961),C=s(6447),f=s(4500),d=s(8043),h=s(4696),w=s(1138),I=s(5744),y=s(4845),D=s(2853),F=s(774),L=s(1669),k=s(8703),U=s(8182),N=v("fetch"),z=v("Request"),H=z&&z.prototype,X=v("Headers"),ne=U("iterator"),ie="URLSearchParams",he=ie+"Iterator",le=u.set,Ae=u.getterFor(ie),R=u.getterFor(he),re=/\+/g,ee=Array(4),oe=function(me){return ee[me-1]||(ee[me-1]=RegExp("((?:%[\\da-f]{2}){"+me+"})","gi"))},Z=function(me){try{return decodeURIComponent(me)}catch{return me}},J=function(me){var fe=me.replace(re," "),de=4;try{return decodeURIComponent(fe)}catch{for(;de;)fe=fe.replace(oe(de--),Z);return fe}},q=/[!'()~]|%20/g,Y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},te=function(me){return Y[me]},V=function(me){return encodeURIComponent(me).replace(q,te)},K=function(me,fe){if(fe)for(var de=fe.split("&"),ve=0,Ce,xe;ve<de.length;)Ce=de[ve++],Ce.length&&(xe=Ce.split("="),me.push({key:J(xe.shift()),value:J(xe.join("="))}))},$=function(me){this.entries.length=0,K(this.entries,me)},se=function(me,fe){if(me<fe)throw TypeError("Not enough arguments")},pe=p(function(fe,de){le(this,{type:he,iterator:L(Ae(fe).entries),kind:de})},"Iterator",function(){var fe=R(this),de=fe.kind,ve=fe.iterator.next(),Ce=ve.value;return ve.done||(ve.value=de==="keys"?Ce.key:de==="values"?Ce.value:[Ce.key,Ce.value]),ve}),ue=function(){g(this,ue,ie);var fe=arguments.length>0?arguments[0]:void 0,de=this,ve=[],Ce,xe,De,Re,je,Ie,Ge,Xe,rt;if(le(de,{type:ie,entries:ve,updateURL:function(){},updateSearchParams:$}),fe!==void 0)if(I(fe))if(Ce=k(fe),Ce)for(xe=L(fe,Ce),De=xe.next;!(Re=De.call(xe)).done;){if(je=L(w(Re.value)),Ie=je.next,(Ge=Ie.call(je)).done||(Xe=Ie.call(je)).done||!Ie.call(je).done)throw TypeError("Expected sequence with length 2");ve.push({key:y(Ge.value),value:y(Xe.value)})}else for(rt in fe)f(fe,rt)&&ve.push({key:rt,value:y(fe[rt])});else K(ve,typeof fe=="string"?fe.charAt(0)==="?"?fe.slice(1):fe:y(fe))},ye=ue.prototype;if(M(ye,{append:function(fe,de){se(arguments.length,2);var ve=Ae(this);ve.entries.push({key:y(fe),value:y(de)}),ve.updateURL()},delete:function(me){se(arguments.length,1);for(var fe=Ae(this),de=fe.entries,ve=y(me),Ce=0;Ce<de.length;)de[Ce].key===ve?de.splice(Ce,1):Ce++;fe.updateURL()},get:function(fe){se(arguments.length,1);for(var de=Ae(this).entries,ve=y(fe),Ce=0;Ce<de.length;Ce++)if(de[Ce].key===ve)return de[Ce].value;return null},getAll:function(fe){se(arguments.length,1);for(var de=Ae(this).entries,ve=y(fe),Ce=[],xe=0;xe<de.length;xe++)de[xe].key===ve&&Ce.push(de[xe].value);return Ce},has:function(fe){se(arguments.length,1);for(var de=Ae(this).entries,ve=y(fe),Ce=0;Ce<de.length;)if(de[Ce++].key===ve)return!0;return!1},set:function(fe,de){se(arguments.length,1);for(var ve=Ae(this),Ce=ve.entries,xe=!1,De=y(fe),Re=y(de),je=0,Ie;je<Ce.length;je++)Ie=Ce[je],Ie.key===De&&(xe?Ce.splice(je--,1):(xe=!0,Ie.value=Re));xe||Ce.push({key:De,value:Re}),ve.updateURL()},sort:function(){var fe=Ae(this),de=fe.entries,ve=de.slice(),Ce,xe,De;for(de.length=0,De=0;De<ve.length;De++){for(Ce=ve[De],xe=0;xe<De;xe++)if(de[xe].key>Ce.key){de.splice(xe,0,Ce);break}xe===De&&de.push(Ce)}fe.updateURL()},forEach:function(fe){for(var de=Ae(this).entries,ve=d(fe,arguments.length>1?arguments[1]:void 0,3),Ce=0,xe;Ce<de.length;)xe=de[Ce++],ve(xe.value,xe.key,this)},keys:function(){return new pe(this,"keys")},values:function(){return new pe(this,"values")},entries:function(){return new pe(this,"entries")}},{enumerable:!0}),x(ye,ne,ye.entries,{name:"entries"}),x(ye,"toString",function(){for(var fe=Ae(this).entries,de=[],ve=0,Ce;ve<fe.length;)Ce=fe[ve++],de.push(V(Ce.key)+"="+V(Ce.value));return de.join("&")},{enumerable:!0}),T(ue,ie),A({global:!0,forced:!B},{URLSearchParams:ue}),!B&&C(X)){var we=function(me){if(I(me)){var fe=me.body,de;if(h(fe)===ie)return de=me.headers?new X(me.headers):new X,de.has("content-type")||de.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(me,{body:F(0,String(fe)),headers:F(0,de)})}return me};if(C(N)&&A({global:!0,enumerable:!0,forced:!0},{fetch:function(fe){return N(fe,arguments.length>1?we(arguments[1]):{})}}),C(z)){var Ee=function(fe){return g(this,Ee,"Request"),new z(fe,arguments.length>1?we(arguments[1]):{})};H.constructor=Ee,Ee.prototype=H,A({global:!0,forced:!0},{Request:Ee})}}o.exports={URLSearchParams:ue,getState:Ae}},4948:function(o,c,s){s(5454);var A=s(3085),v=s(69),B=s(4551),x=s(8576),M=s(1187),T=s(9482),p=s(6961),u=s(4500),g=s(2503),C=s(841),f=s(863).codeAt,d=s(7977),h=s(4845),w=s(1284),I=s(9336),y=s(3326),D=x.URL,F=I.URLSearchParams,L=I.getState,k=y.set,U=y.getterFor("URL"),N=Math.floor,z=Math.pow,H="Invalid authority",X="Invalid scheme",ne="Invalid host",ie="Invalid port",he=/[A-Za-z]/,le=/[\d+-.A-Za-z]/,Ae=/\d/,R=/^0x/i,re=/^[0-7]+$/,ee=/^\d+$/,oe=/^[\dA-Fa-f]+$/,Z=/[\0\t\n\r #%/:<>?@[\\\]^|]/,J=/[\0\t\n\r #/:<>?@[\\\]^|]/,q=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,Y=/[\t\n\r]/g,te,V=function(ge,Le){var ke,He,We;if(Le.charAt(0)=="["){if(Le.charAt(Le.length-1)!="]"||(ke=$(Le.slice(1,-1)),!ke))return ne;ge.host=ke}else if(de(ge)){if(Le=d(Le),Z.test(Le)||(ke=K(Le),ke===null))return ne;ge.host=ke}else{if(J.test(Le))return ne;for(ke="",He=C(Le),We=0;We<He.length;We++)ke+=me(He[We],ue);ge.host=ke}},K=function(ge){var Le=ge.split("."),ke,He,We,At,it,Lt,It;if(Le.length&&Le[Le.length-1]==""&&Le.pop(),ke=Le.length,ke>4)return ge;for(He=[],We=0;We<ke;We++){if(At=Le[We],At=="")return ge;if(it=10,At.length>1&&At.charAt(0)=="0"&&(it=R.test(At)?16:8,At=At.slice(it==8?1:2)),At==="")Lt=0;else{if(!(it==10?ee:it==8?re:oe).test(At))return ge;Lt=parseInt(At,it)}He.push(Lt)}for(We=0;We<ke;We++)if(Lt=He[We],We==ke-1){if(Lt>=z(256,5-ke))return null}else if(Lt>255)return null;for(It=He.pop(),We=0;We<He.length;We++)It+=He[We]*z(256,3-We);return It},$=function(ge){var Le=[0,0,0,0,0,0,0,0],ke=0,He=null,We=0,At,it,Lt,It,sn,On,Ve,Cn=function(){return ge.charAt(We)};if(Cn()==":"){if(ge.charAt(1)!=":")return;We+=2,ke++,He=ke}for(;Cn();){if(ke==8)return;if(Cn()==":"){if(He!==null)return;We++,ke++,He=ke;continue}for(At=it=0;it<4&&oe.test(Cn());)At=At*16+parseInt(Cn(),16),We++,it++;if(Cn()=="."){if(it==0||(We-=it,ke>6))return;for(Lt=0;Cn();){if(It=null,Lt>0)if(Cn()=="."&&Lt<4)We++;else return;if(!Ae.test(Cn()))return;for(;Ae.test(Cn());){if(sn=parseInt(Cn(),10),It===null)It=sn;else{if(It==0)return;It=It*10+sn}if(It>255)return;We++}Le[ke]=Le[ke]*256+It,Lt++,(Lt==2||Lt==4)&&ke++}if(Lt!=4)return;break}else if(Cn()==":"){if(We++,!Cn())return}else if(Cn())return;Le[ke++]=At}if(He!==null)for(On=ke-He,ke=7;ke!=0&&On>0;)Ve=Le[ke],Le[ke--]=Le[He+On-1],Le[He+--On]=Ve;else if(ke!=8)return;return Le},se=function(ge){for(var Le=null,ke=1,He=null,We=0,At=0;At<8;At++)ge[At]!==0?(We>ke&&(Le=He,ke=We),He=null,We=0):(He===null&&(He=At),++We);return We>ke&&(Le=He,ke=We),Le},pe=function(ge){var Le,ke,He,We;if(typeof ge=="number"){for(Le=[],ke=0;ke<4;ke++)Le.unshift(ge%256),ge=N(ge/256);return Le.join(".")}else if(typeof ge=="object"){for(Le="",He=se(ge),ke=0;ke<8;ke++)We&&ge[ke]===0||(We&&(We=!1),He===ke?(Le+=ke?":":"::",We=!0):(Le+=ge[ke].toString(16),ke<7&&(Le+=":")));return"["+Le+"]"}return ge},ue={},ye=g({},ue,{" ":1,'"':1,"<":1,">":1,"`":1}),we=g({},ye,{"#":1,"?":1,"{":1,"}":1}),Ee=g({},we,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),me=function(ge,Le){var ke=f(ge,0);return ke>32&&ke<127&&!u(Le,ge)?ge:encodeURIComponent(ge)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(ge){return u(fe,ge.scheme)},ve=function(ge){return ge.username!=""||ge.password!=""},Ce=function(ge){return!ge.host||ge.cannotBeABaseURL||ge.scheme=="file"},xe=function(ge,Le){var ke;return ge.length==2&&he.test(ge.charAt(0))&&((ke=ge.charAt(1))==":"||!Le&&ke=="|")},De=function(ge){var Le;return ge.length>1&&xe(ge.slice(0,2))&&(ge.length==2||(Le=ge.charAt(2))==="/"||Le==="\\"||Le==="?"||Le==="#")},Re=function(ge){var Le=ge.path,ke=Le.length;ke&&(ge.scheme!="file"||ke!=1||!xe(Le[0],!0))&&Le.pop()},je=function(ge){return ge==="."||ge.toLowerCase()==="%2e"},Ie=function(ge){return ge=ge.toLowerCase(),ge===".."||ge==="%2e."||ge===".%2e"||ge==="%2e%2e"},Ge={},Xe={},rt={},vt={},Ct={},Dt={},ft={},_t={},Xt={},Ht={},Fe={},Oe={},ze={},Ke={},Je={},Qe={},an={},un={},et={},Te={},zt={},St=function(ge,Le,ke,He){var We=ke||Ge,At=0,it="",Lt=!1,It=!1,sn=!1,On,Ve,Cn,Or;for(ke||(ge.scheme="",ge.username="",ge.password="",ge.host=null,ge.port=null,ge.path=[],ge.query=null,ge.fragment=null,ge.cannotBeABaseURL=!1,Le=Le.replace(q,"")),Le=Le.replace(Y,""),On=C(Le);At<=On.length;){switch(Ve=On[At],We){case Ge:if(Ve&&he.test(Ve))it+=Ve.toLowerCase(),We=Xe;else{if(ke)return X;We=rt;continue}break;case Xe:if(Ve&&(le.test(Ve)||Ve=="+"||Ve=="-"||Ve=="."))it+=Ve.toLowerCase();else if(Ve==":"){if(ke&&(de(ge)!=u(fe,it)||it=="file"&&(ve(ge)||ge.port!==null)||ge.scheme=="file"&&!ge.host))return;if(ge.scheme=it,ke){de(ge)&&fe[ge.scheme]==ge.port&&(ge.port=null);return}it="",ge.scheme=="file"?We=Ke:de(ge)&&He&&He.scheme==ge.scheme?We=vt:de(ge)?We=_t:On[At+1]=="/"?(We=Ct,At++):(ge.cannotBeABaseURL=!0,ge.path.push(""),We=et)}else{if(ke)return X;it="",We=rt,At=0;continue}break;case rt:if(!He||He.cannotBeABaseURL&&Ve!="#")return X;if(He.cannotBeABaseURL&&Ve=="#"){ge.scheme=He.scheme,ge.path=He.path.slice(),ge.query=He.query,ge.fragment="",ge.cannotBeABaseURL=!0,We=zt;break}We=He.scheme=="file"?Ke:Dt;continue;case vt:if(Ve=="/"&&On[At+1]=="/")We=Xt,At++;else{We=Dt;continue}break;case Ct:if(Ve=="/"){We=Ht;break}else{We=un;continue}case Dt:if(ge.scheme=He.scheme,Ve==te)ge.username=He.username,ge.password=He.password,ge.host=He.host,ge.port=He.port,ge.path=He.path.slice(),ge.query=He.query;else if(Ve=="/"||Ve=="\\"&&de(ge))We=ft;else if(Ve=="?")ge.username=He.username,ge.password=He.password,ge.host=He.host,ge.port=He.port,ge.path=He.path.slice(),ge.query="",We=Te;else if(Ve=="#")ge.username=He.username,ge.password=He.password,ge.host=He.host,ge.port=He.port,ge.path=He.path.slice(),ge.query=He.query,ge.fragment="",We=zt;else{ge.username=He.username,ge.password=He.password,ge.host=He.host,ge.port=He.port,ge.path=He.path.slice(),ge.path.pop(),We=un;continue}break;case ft:if(de(ge)&&(Ve=="/"||Ve=="\\"))We=Xt;else if(Ve=="/")We=Ht;else{ge.username=He.username,ge.password=He.password,ge.host=He.host,ge.port=He.port,We=un;continue}break;case _t:if(We=Xt,Ve!="/"||it.charAt(At+1)!="/")continue;At++;break;case Xt:if(Ve!="/"&&Ve!="\\"){We=Ht;continue}break;case Ht:if(Ve=="@"){Lt&&(it="%40"+it),Lt=!0,Cn=C(it);for(var rA=0;rA<Cn.length;rA++){var Hc=Cn[rA];if(Hc==":"&&!sn){sn=!0;continue}var jc=me(Hc,Ee);sn?ge.password+=jc:ge.username+=jc}it=""}else if(Ve==te||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&de(ge)){if(Lt&&it=="")return H;At-=C(it).length+1,it="",We=Fe}else it+=Ve;break;case Fe:case Oe:if(ke&&ge.scheme=="file"){We=Qe;continue}else if(Ve==":"&&!It){if(it=="")return ne;if(Or=V(ge,it),Or)return Or;if(it="",We=ze,ke==Oe)return}else if(Ve==te||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&de(ge)){if(de(ge)&&it=="")return ne;if(ke&&it==""&&(ve(ge)||ge.port!==null))return;if(Or=V(ge,it),Or)return Or;if(it="",We=an,ke)return;continue}else Ve=="["?It=!0:Ve=="]"&&(It=!1),it+=Ve;break;case ze:if(Ae.test(Ve))it+=Ve;else if(Ve==te||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&de(ge)||ke){if(it!=""){var Rn=parseInt(it,10);if(Rn>65535)return ie;ge.port=de(ge)&&Rn===fe[ge.scheme]?null:Rn,it=""}if(ke)return;We=an;continue}else return ie;break;case Ke:if(ge.scheme="file",Ve=="/"||Ve=="\\")We=Je;else if(He&&He.scheme=="file")if(Ve==te)ge.host=He.host,ge.path=He.path.slice(),ge.query=He.query;else if(Ve=="?")ge.host=He.host,ge.path=He.path.slice(),ge.query="",We=Te;else if(Ve=="#")ge.host=He.host,ge.path=He.path.slice(),ge.query=He.query,ge.fragment="",We=zt;else{De(On.slice(At).join(""))||(ge.host=He.host,ge.path=He.path.slice(),Re(ge)),We=un;continue}else{We=un;continue}break;case Je:if(Ve=="/"||Ve=="\\"){We=Qe;break}He&&He.scheme=="file"&&!De(On.slice(At).join(""))&&(xe(He.path[0],!0)?ge.path.push(He.path[0]):ge.host=He.host),We=un;continue;case Qe:if(Ve==te||Ve=="/"||Ve=="\\"||Ve=="?"||Ve=="#"){if(!ke&&xe(it))We=un;else if(it==""){if(ge.host="",ke)return;We=an}else{if(Or=V(ge,it),Or)return Or;if(ge.host=="localhost"&&(ge.host=""),ke)return;it="",We=an}continue}else it+=Ve;break;case an:if(de(ge)){if(We=un,Ve!="/"&&Ve!="\\")continue}else if(!ke&&Ve=="?")ge.query="",We=Te;else if(!ke&&Ve=="#")ge.fragment="",We=zt;else if(Ve!=te&&(We=un,Ve!="/"))continue;break;case un:if(Ve==te||Ve=="/"||Ve=="\\"&&de(ge)||!ke&&(Ve=="?"||Ve=="#")){if(Ie(it)?(Re(ge),Ve!="/"&&!(Ve=="\\"&&de(ge))&&ge.path.push("")):je(it)?Ve!="/"&&!(Ve=="\\"&&de(ge))&&ge.path.push(""):(ge.scheme=="file"&&!ge.path.length&&xe(it)&&(ge.host&&(ge.host=""),it=it.charAt(0)+":"),ge.path.push(it)),it="",ge.scheme=="file"&&(Ve==te||Ve=="?"||Ve=="#"))for(;ge.path.length>1&&ge.path[0]==="";)ge.path.shift();Ve=="?"?(ge.query="",We=Te):Ve=="#"&&(ge.fragment="",We=zt)}else it+=me(Ve,we);break;case et:Ve=="?"?(ge.query="",We=Te):Ve=="#"?(ge.fragment="",We=zt):Ve!=te&&(ge.path[0]+=me(Ve,ue));break;case Te:!ke&&Ve=="#"?(ge.fragment="",We=zt):Ve!=te&&(Ve=="'"&&de(ge)?ge.query+="%27":Ve=="#"?ge.query+="%23":ge.query+=me(Ve,ue));break;case zt:Ve!=te&&(ge.fragment+=me(Ve,ye));break}At++}},Tt=function(Le){var ke=p(this,Tt,"URL"),He=arguments.length>1?arguments[1]:void 0,We=h(Le),At=k(ke,{type:"URL"}),it,Lt;if(He!==void 0){if(He instanceof Tt)it=U(He);else if(Lt=St(it={},h(He)),Lt)throw TypeError(Lt)}if(Lt=St(At,We,null,it),Lt)throw TypeError(Lt);var It=At.searchParams=new F,sn=L(It);sn.updateSearchParams(At.query),sn.updateURL=function(){At.query=String(It)||null},v||(ke.href=Nn.call(ke),ke.origin=en.call(ke),ke.protocol=Tr.call(ke),ke.username=Ut.call(ke),ke.password=Lc.call(ke),ke.host=Pc.call(ke),ke.hostname=Nc.call(ke),ke.port=tA.call(ke),ke.pathname=Rc.call(ke),ke.search=Xr.call(ke),ke.searchParams=da.call(ke),ke.hash=li.call(ke))},Vn=Tt.prototype,Nn=function(){var ge=U(this),Le=ge.scheme,ke=ge.username,He=ge.password,We=ge.host,At=ge.port,it=ge.path,Lt=ge.query,It=ge.fragment,sn=Le+":";return We!==null?(sn+="//",ve(ge)&&(sn+=ke+(He?":"+He:"")+"@"),sn+=pe(We),At!==null&&(sn+=":"+At)):Le=="file"&&(sn+="//"),sn+=ge.cannotBeABaseURL?it[0]:it.length?"/"+it.join("/"):"",Lt!==null&&(sn+="?"+Lt),It!==null&&(sn+="#"+It),sn},en=function(){var ge=U(this),Le=ge.scheme,ke=ge.port;if(Le=="blob")try{return new Tt(Le.path[0]).origin}catch{return"null"}return Le=="file"||!de(ge)?"null":Le+"://"+pe(ge.host)+(ke!==null?":"+ke:"")},Tr=function(){return U(this).scheme+":"},Ut=function(){return U(this).username},Lc=function(){return U(this).password},Pc=function(){var ge=U(this),Le=ge.host,ke=ge.port;return Le===null?"":ke===null?pe(Le):pe(Le)+":"+ke},Nc=function(){var ge=U(this).host;return ge===null?"":pe(ge)},tA=function(){var ge=U(this).port;return ge===null?"":String(ge)},Rc=function(){var ge=U(this),Le=ge.path;return ge.cannotBeABaseURL?Le[0]:Le.length?"/"+Le.join("/"):""},Xr=function(){var ge=U(this).query;return ge?"?"+ge:""},da=function(){return U(this).searchParams},li=function(){var ge=U(this).fragment;return ge?"#"+ge:""},$n=function(ge,Le){return{get:ge,set:Le,configurable:!0,enumerable:!0}};if(v&&M(Vn,{href:$n(Nn,function(ge){var Le=U(this),ke=h(ge),He=St(Le,ke);if(He)throw TypeError(He);L(Le.searchParams).updateSearchParams(Le.query)}),origin:$n(en),protocol:$n(Tr,function(ge){var Le=U(this);St(Le,h(ge)+":",Ge)}),username:$n(Ut,function(ge){var Le=U(this),ke=C(h(ge));if(!Ce(Le)){Le.username="";for(var He=0;He<ke.length;He++)Le.username+=me(ke[He],Ee)}}),password:$n(Lc,function(ge){var Le=U(this),ke=C(h(ge));if(!Ce(Le)){Le.password="";for(var He=0;He<ke.length;He++)Le.password+=me(ke[He],Ee)}}),host:$n(Pc,function(ge){var Le=U(this);Le.cannotBeABaseURL||St(Le,h(ge),Fe)}),hostname:$n(Nc,function(ge){var Le=U(this);Le.cannotBeABaseURL||St(Le,h(ge),Oe)}),port:$n(tA,function(ge){var Le=U(this);Ce(Le)||(ge=h(ge),ge==""?Le.port=null:St(Le,ge,ze))}),pathname:$n(Rc,function(ge){var Le=U(this);Le.cannotBeABaseURL||(Le.path=[],St(Le,h(ge),an))}),search:$n(Xr,function(ge){var Le=U(this);ge=h(ge),ge==""?Le.query=null:(ge.charAt(0)=="?"&&(ge=ge.slice(1)),Le.query="",St(Le,ge,Te)),L(Le.searchParams).updateSearchParams(Le.query)}),searchParams:$n(da),hash:$n(li,function(ge){var Le=U(this);if(ge=h(ge),ge==""){Le.fragment=null;return}ge.charAt(0)=="#"&&(ge=ge.slice(1)),Le.fragment="",St(Le,ge,zt)})}),T(Vn,"toJSON",function(){return Nn.call(this)},{enumerable:!0}),T(Vn,"toString",function(){return Nn.call(this)},{enumerable:!0}),D){var nA=D.createObjectURL,Qc=D.revokeObjectURL;nA&&T(Tt,"createObjectURL",function(Le){return nA.apply(D,arguments)}),Qc&&T(Tt,"revokeObjectURL",function(Le){return Qc.apply(D,arguments)})}w(Tt,"URL"),A({global:!0,forced:!B,sham:!v},{URL:Tt})},9801:function(){},3822:function(o,c,s){var A=s(2221);o.exports=A},1434:function(o,c,s){var A=s(5078);o.exports=A},6899:function(o,c,s){var A=s(98);o.exports=A},7710:function(o,c,s){var A=s(5739);s(162),o.exports=A},4486:function(o,c,s){var A=s(278);o.exports=A},4877:function(o,c,s){var A=s(1484);o.exports=A},7178:function(o,c,s){var A=s(7731);o.exports=A},5603:function(o,c,s){var A=s(3669);o.exports=A},1206:function(o,c,s){s(162);var A=s(6899),v=s(4696),B=Array.prototype,x={DOMTokenList:!0,NodeList:!0};o.exports=function(M){var T=M.forEach;return M===B||M instanceof Array&&T===B.forEach||x.hasOwnProperty(v(M))?A:T}},6174:function(o,c,s){var A=s(2604);o.exports=A},57:function(o,c,s){var A=s(263);o.exports=A},4741:function(o,c,s){var A=s(7663);o.exports=A},8368:function(o,c,s){var A=s(5063);o.exports=A},3739:function(o,c,s){var A=s(6813);o.exports=A},172:function(o,c,s){var A=s(6285);o.exports=A},4963:function(o,c,s){var A=s(3213);o.exports=A},7820:function(o,c,s){var A=s(3512);o.exports=A},8980:function(o,c,s){var A=s(8168);o.exports=A},5636:function(o,c,s){var A=s(8651);o.exports=A},6672:function(o,c,s){var A=s(3083);o.exports=A},5059:function(o,c,s){var A=s(2987);o.exports=A},3969:function(o,c,s){var A=s(2239);o.exports=A},6618:function(o,c,s){var A=s(3154);s(162),o.exports=A},5279:function(o,c,s){var A=s(6577);o.exports=A},9562:function(o,c,s){s(2906);var A=s(7545);o.exports=A.setTimeout},2285:function(o,c,s){var A=s(5008);s(162),o.exports=A},8535:function(o,c,s){var A=s(994);s(162),o.exports=A},652:function(o,c,s){var A=s(5668);o.exports=A},5668:function(o,c,s){s(4948),s(9801),s(9336);var A=s(7545);o.exports=A.URL},2534:function(o){o.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(o){o.exports=n},4960:function(){},6759:function(){},6272:function(){}},i={};function a(o){var c=i[o];if(c!==void 0)return c.exports;var s=i[o]={exports:{}};return r[o](s,s.exports,a),s.exports}(function(){a.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(c,{a:c}),c}})(),function(){a.d=function(o,c){for(var s in c)a.o(c,s)&&!a.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:c[s]})}}(),function(){a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){a.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)}}();var l={};return function(){a.d(l,{default:function(){return MY}});var o=a(9131),c=a.n(o),s=a(1899),A=a.n(s),v=a(6562),B=a.n(v),x=a(1734),M=a.n(x),T=a(8005),p=a.n(T),u=a(6065),g=a.n(u),C=a(4496),f=a.n(C);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(j){var O=this;do{if(Element.prototype.matches.call(O,j))return O;O=O.parentElement||O.parentNode}while(O!==null&&O.nodeType===1);return null});/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(j){if("Element"in j){var O="classList",E="prototype",_=j.Element[E],b=Object,S=c()(String[E])||function(){return this.replace(/^\s+|\s+$/g,"")},P=A()(Array[E])||function(be){for(var Se=0,_e=this.length;Se<_e;Se++)if(Se in this&&this[Se]===be)return Se;return-1},Q=function(Se,_e){this.name=Se,this.code=DOMException[Se],this.message=_e},W=function(Se,_e){if(_e==="")throw new Q("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(_e))throw new Q("INVALID_CHARACTER_ERR","The token must not contain space characters.");return P.call(Se,_e)},G=function(Se){for(var _e=S.call(Se.getAttribute("class")||""),Me=_e?_e.split(/\s+/):[],Pe=0,at=Me.length;Pe<at;Pe++)this.push(Me[Pe]);this._updateClassName=function(){Se.setAttribute("class",this.toString())}},ae=G[E]=[],ce=function(){return new G(this)};if(Q[E]=Error[E],ae.item=function(be){return this[be]||null},ae.contains=function(be){return~W(this,be+"")},ae.add=function(){var be=arguments,Se=0,_e=be.length,Me,Pe=!1;do Me=be[Se]+"",~W(this,Me)||(this.push(Me),Pe=!0);while(++Se<_e);Pe&&this._updateClassName()},ae.remove=function(){var be=arguments,Se=0,_e=be.length,Me,Pe=!1,at;do for(Me=be[Se]+"",at=W(this,Me);~at;){var st;B()(st=this).call(st,at,1),Pe=!0,at=W(this,Me)}while(++Se<_e);Pe&&this._updateClassName()},ae.toggle=function(be,Se){var _e=this.contains(be),Me=_e?Se!==!0&&"remove":Se!==!1&&"add";return Me&&this[Me](be),Se===!0||Se===!1?Se:!_e},ae.replace=function(be,Se){var _e=W(be+"");if(~_e){var Me;B()(Me=this).call(Me,_e,1,Se),this._updateClassName()}},ae.toString=function(){return this.join(" ")},M()){var Be={get:ce,enumerable:!0,configurable:!0};try{M()(_,O,Be)}catch(be){(be.number===void 0||be.number===-2146823252)&&(Be.enumerable=!1,M()(_,O,Be))}}else b[E].__defineGetter__&&_.__defineGetter__(O,ce)}}(self),function(){var j=document.createElement("_");if(j.classList.add("c1","c2"),!j.classList.contains("c2")){var O=function(b){var S=DOMTokenList.prototype[b];DOMTokenList.prototype[b]=function(P){var Q,W=arguments.length;for(Q=0;Q<W;Q++)P=arguments[Q],S.call(this,P)}};O("add"),O("remove")}if(j.classList.toggle("c3",!1),j.classList.contains("c3")){var E=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(_,b){return 1 in arguments&&!this.contains(_)==!b?b:E.call(this,_)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(_,b){var S=this.toString().split(" "),P=A()(S).call(S,_+"");~P&&(S=p()(S).call(S,P),this.remove.apply(this,S),this.add(b),this.add.apply(this,p()(S).call(S,1)))}),j=null}());/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */(function(){if(typeof window!="undefined"&&window.addEventListener){var j=g()(null),O,E,_=function(){clearTimeout(E),E=f()(O,100)},b=function(){},S=function(){var ae;window.addEventListener("resize",_,!1),window.addEventListener("orientationchange",_,!1),window.MutationObserver?(ae=new MutationObserver(_),ae.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),b=function(){try{ae.disconnect(),window.removeEventListener("resize",_,!1),window.removeEventListener("orientationchange",_,!1)}catch{}}):(document.documentElement.addEventListener("DOMSubtreeModified",_,!1),b=function(){document.documentElement.removeEventListener("DOMSubtreeModified",_,!1),window.removeEventListener("resize",_,!1),window.removeEventListener("orientationchange",_,!1)})},P=function(ae){function ce(_e){var Me;return _e.protocol!==void 0?Me=_e:(Me=document.createElement("a"),Me.href=_e),Me.protocol.replace(/:/g,"")+Me.host}var Be,be,Se;return window.XMLHttpRequest&&(Be=new XMLHttpRequest,be=ce(location),Se=ce(ae),Be.withCredentials===void 0&&Se!==""&&Se!==be?Be=XDomainRequest||void 0:Be=XMLHttpRequest),Be},Q="http://www.w3.org/1999/xlink";O=function(){var ae,ce,Be,be,Se,_e=0,Me,Pe,at,st,ut;function Ye(){_e-=1,_e===0&&(b(),S())}function Ot(fn){return function(){j[fn.base]!==!0&&(fn.useEl.setAttributeNS(Q,"xlink:href","#"+fn.hash),fn.useEl.hasAttribute("href")&&fn.useEl.setAttribute("href","#"+fn.hash))}}function Fn(fn){return function(){var Fr=document.body,Qi=document.createElement("x"),er;fn.onload=null,Qi.innerHTML=fn.responseText,er=Qi.getElementsByTagName("svg")[0],er&&(er.setAttribute("aria-hidden","true"),er.style.position="absolute",er.style.width=0,er.style.height=0,er.style.overflow="hidden",Fr.insertBefore(er,Fr.firstChild)),Ye()}}function qn(fn){return function(){fn.onerror=null,fn.ontimeout=null,Ye()}}for(b(),st=document.getElementsByTagName("use"),Se=0;Se<st.length;Se+=1){try{ce=st[Se].getBoundingClientRect()}catch{ce=!1}be=st[Se].getAttribute("href")||st[Se].getAttributeNS(Q,"href")||st[Se].getAttribute("xlink:href"),be&&be.split?at=be.split("#"):at=["",""],ae=at[0],Be=at[1],Me=ce&&ce.left===0&&ce.right===0&&ce.top===0&&ce.bottom===0,ce&&ce.width===0&&ce.height===0&&!Me?(st[Se].hasAttribute("href")&&st[Se].setAttributeNS(Q,"xlink:href",be),ae.length&&(ut=j[ae],ut!==!0&&f()(Ot({useEl:st[Se],base:ae,hash:Be}),0),ut===void 0&&(Pe=P(ae),Pe!==void 0&&(ut=new Pe,j[ae]=ut,ut.onload=Fn(ut),ut.onerror=qn(ut),ut.ontimeout=qn(ut),ut.open("GET",ae),ut.send(),_e+=1)))):Me?ae.length&&j[ae]&&f()(Ot({useEl:st[Se],base:ae,hash:Be}),0):j[ae]===void 0?j[ae]=!0:j[ae].onload&&(j[ae].abort(),delete j[ae].onload,j[ae]=!0)}st="",_e+=1,Ye()};var W;W=function(){window.removeEventListener("load",W,!1),E=f()(O,0)},document.readyState!=="complete"?window.addEventListener("load",W,!1):W()}})();var d=a(1845);function h(j,O){(O==null||O>j.length)&&(O=j.length);for(var E=0,_=new Array(O);E<O;E++)_[E]=j[E];return _}function w(j){if(d(j))return h(j)}var I=a(184),y=a(662),D=a(7172);function F(j){if(typeof I!="undefined"&&y(j)!=null||j["@@iterator"]!=null)return D(j)}var L=a(711);function k(j,O){var E;if(!!j){if(typeof j=="string")return h(j,O);var _=L(E=Object.prototype.toString.call(j)).call(E,8,-1);if(_==="Object"&&j.constructor&&(_=j.constructor.name),_==="Map"||_==="Set")return D(j);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return h(j,O)}}function U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(j){return w(j)||F(j)||k(j)||U()}var z=a(7077);function H(j,O,E){return O in j?z(j,O,{value:E,enumerable:!0,configurable:!0,writable:!0}):j[O]=E,j}function X(j,O){if(!(j instanceof O))throw new TypeError("Cannot call a class as a function")}function ne(j,O){for(var E=0;E<O.length;E++){var _=O[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),z(j,_.key,_)}}function ie(j,O,E){return O&&ne(j.prototype,O),E&&ne(j,E),j}var he=a(4426),le=a.n(he),Ae=a(9406),R=a.n(Ae),re=a(8189),ee=a.n(re),oe=a(3972),Z=a.n(oe),J=a(2777),q=a(961),Y=a.n(q),te=a(5695),V=a.n(te),K=a(8592),$=a.n(K),se=a(9052),pe=a.n(se),ue=a(2560),ye=a.n(ue),we=a(2461),Ee=a.n(we);function me(j){if(d(j))return j}function fe(j,O){var E=j==null?null:typeof I!="undefined"&&y(j)||j["@@iterator"];if(E!=null){var _=[],b=!0,S=!1,P,Q;try{for(E=E.call(j);!(b=(P=E.next()).done)&&(_.push(P.value),!(O&&_.length===O));b=!0);}catch(W){S=!0,Q=W}finally{try{!b&&E.return!=null&&E.return()}finally{if(S)throw Q}}return _}}function de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(j,O){return me(j)||fe(j,O)||k(j,O)||de()}var Ce=a(6397),xe=a.n(Ce),De=a(7636),Re=a.n(De),je=a(789),Ie=a.n(je),Ge=a(4729),Xe=a.n(Ge),rt=a(1610),vt=a.n(rt),Ct=a(3053),Dt=a.n(Ct),ft,_t=["zoomIn","zoomOut","hand"],Xt=["history","undo","redo","reset"],Ht=["delete","deleteAll"],Fe=R()(ft=[]).call(ft,_t,Xt,Ht),Oe={FILTER:"filter",COLOR:"color"},ze=["rect","circle","triangle"],Ke={CROPZONE:"cropzone"},Je={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},Qe=it("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),an={lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1},un={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},et={CLEAR_OBJECTS:"clearObjects",LOAD_IMAGE:"loadImage",FLIP_IMAGE:"flip",ROTATE_IMAGE:"rotate",ADD_OBJECT:"addObject",REMOVE_OBJECT:"removeObject",APPLY_FILTER:"applyFilter",REMOVE_FILTER:"removeFilter",ADD_ICON:"addIcon",CHANGE_ICON_COLOR:"changeIconColor",ADD_SHAPE:"addShape",CHANGE_SHAPE:"changeShape",ADD_TEXT:"addText",CHANGE_TEXT:"changeText",CHANGE_TEXT_STYLE:"changeTextStyle",ADD_IMAGE_OBJECT:"addImageObject",RESIZE_CANVAS_DIMENSION:"resizeCanvasDimension",SET_OBJECT_PROPERTIES:"setObjectProperties",SET_OBJECT_POSITION:"setObjectPosition",CHANGE_SELECTION:"changeSelection",RESIZE_IMAGE:"resize"},Te={OBJECT_ACTIVATED:"objectActivated",OBJECT_MOVED:"objectMoved",OBJECT_SCALED:"objectScaled",OBJECT_CREATED:"objectCreated",OBJECT_ROTATED:"objectRotated",OBJECT_ADDED:"objectAdded",OBJECT_MODIFIED:"objectModified",TEXT_EDITING:"textEditing",TEXT_CHANGED:"textChanged",ICON_CREATE_RESIZE:"iconCreateResize",ICON_CREATE_END:"iconCreateEnd",ADD_TEXT:"addText",ADD_OBJECT:"addObject",ADD_OBJECT_AFTER:"addObjectAfter",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",REDO_STACK_CHANGED:"redoStackChanged",UNDO_STACK_CHANGED:"undoStackChanged",SELECTION_CLEARED:"selectionCleared",SELECTION_CREATED:"selectionCreated",EXECUTE_COMMAND:"executeCommand",AFTER_UNDO:"afterUndo",AFTER_REDO:"afterRedo",ZOOM_CHANGED:"zoomChanged",HAND_STARTED:"handStarted",HAND_STOPPED:"handStopped",KEY_DOWN:"keydown",KEY_UP:"keyup",INPUT_BOX_EDITING_STARTED:"inputBoxEditingStarted",INPUT_BOX_EDITING_STOPPED:"inputBoxEditingStopped",FOCUS:"focus",BLUR:"blur",IMAGE_RESIZED:"imageResized"},zt={COLOR_PICKER_INPUT_BOX:".tui-colorpicker-palette-hex"},St={LOAD_IMAGE:"Load",LOAD_MASK_IMAGE:"Mask",ADD_MASK_IMAGE:"Mask",ADD_IMAGE_OBJECT:"Mask",CROP:"Crop",RESIZE:"Resize",APPLY_FILTER:"Filter",REMOVE_FILTER:"Filter",CHANGE_SHAPE:"Shape",CHANGE_ICON_COLOR:"Icon",ADD_TEXT:"Text",CHANGE_TEXT_STYLE:"Text",REMOVE_OBJECT:"Delete",CLEAR_OBJECTS:"Delete"},Tt=it("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),Vn={TEXT:"text",CROP:"crop",RESIZE:"resize",SHAPE:"shape",ZOOM:"zoom"},Nn={DEFAULT:"normal",ZOOM:"zoom",HAND:"hand"},en={Z:90,Y:89,C:67,V:86,SHIFT:16,BACKSPACE:8,DEL:46,ARROW_DOWN:40,ARROW_UP:38,SPACE:32,DIGIT_0:48,DIGIT_9:57},Tr={SELECTION_STYLE:{borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1}},Ut={addedObject:"The object is already added.",flip:"The flipX and flipY setting values are not changed.",invalidDrawingMode:"This operation is not supported in the drawing mode.",invalidParameters:"Invalid parameters.",isLock:"The executing command state is locked.",loadImage:"The background image is empty.",loadingImageFailed:"Invalid image loaded.",noActiveObject:"There is no active object.",noObject:"The object is not in canvas.",redo:"The promise of redo command is reject.",rotation:"The current angle is same the old angle.",undo:"The promise of undo command is reject.",unsupportedOperation:"Unsupported operation.",unsupportedType:"Unsupported object type."},Lc={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},Pc={realTimeEvent:!0,min:-360,max:360,value:0},Nc={min:5,max:30,value:12},tA={realTimeEvent:!0,min:2,max:300,value:3},Rc={realTimeEvent:!0,min:10,max:100,value:50},Xr={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},da={LEFT:0,TOP:0,WIDTH:.5,HEIGHT:.5},li={realTimeEvent:!0,min:32,max:4088,value:800},$n=2,nA="tui-image-editor-",Qc=Math.min,ge=Math.max,Le=!1,ke=0;function He(j){return j.__fe_id||(ke+=1,j.__fe_id=ke),j.__fe_id}function We(j){return typeof j=="function"}function At(j,O,E){if(O>E){var _=[E,O];O=_[0],E=_[1]}return ge(O,Qc(j,E))}function it(){for(var j={},O=arguments.length,E=new Array(O),_=0;_<O;_++)E[_]=arguments[_];return $()(E,function(b){j[b]=b}),j}function Lt(j,O){var E={},_=O.length,b=0,S;for(b=0;b<_;b+=1)S=O[b],E[S]=j[S];return E}function It(j){return xe()(j,10)}function sn(j){return j.replace(/-([a-z])/g,function(O,E){return E.toUpperCase()})}function On(){return!!(window.File&&window.FileList&&window.FileReader)}function Ve(j,O){var E,_,b;if(j.length===4){var S;j=R()(S="".concat(j)).call(S,p()(j).call(j,1,4))}var P=xe()(p()(j).call(j,1,3),16),Q=xe()(p()(j).call(j,3,5),16),W=xe()(p()(j).call(j,5,7),16),G=O||1;return R()(E=R()(_=R()(b="rgba(".concat(P,", ")).call(b,Q,", ")).call(_,W,", ")).call(E,G,")")}function Cn(){Le||(Le=!0,Xe()("image-editor","UA-129999381-1"))}function Or(j,O){var E=document.getElementsByTagName("head"),_=ve(E,1),b=_[0],S=document.createElement("link"),P=encodeURIComponent(j);O&&(S.id=O),S.setAttribute("rel","stylesheet"),S.setAttribute("type","text/css"),S.setAttribute("href","data:text/css;charset=UTF-8,".concat(P)),b.appendChild(S)}function rA(j){return function(O){return j.querySelector(O)}}function Hc(j){var O=/data:(image\/.+);base64,/,E="",_,b,S;_=j.replace(O,function(Q,W){return E=W,""}),_=atob(_);var P=_.length;for(b=new Uint8Array(P),S=0;S<P;S+=1)b[S]=_.charCodeAt(S);return new Blob([b],{type:E})}function jc(j){return Number(j.toFixed($n))}function Rn(j){$()(j,function(O,E){j[E]=null})}function zc(){var j,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(O.charAt(0)==="."){var _;return R()(_=".".concat(nA).concat(E)).call(_,p()(O).call(O,1))}return R()(j="".concat(nA).concat(E)).call(j,O)}function AV(j,O){var E=O.originX,_=O.originY,b=j.getPointByOrigin(E,_),S=b.x,P=b.y;j.set({left:S,top:P,originX:E,originY:_}),j.setCoords()}function lV(j){var O,E={};return Re()(O=Ee()(j)).call(O,function(_){E[j[_]]=_}),E}function vg(j,O){j.customProps=j.customProps||{},Y()(j.customProps,O)}function iA(j,O){var E={};return ye()(O)&&(O=[O]),$()(O,function(_){E[_]=j.customProps[_]}),E}function cV(j){return j.charAt(0).toUpperCase()+p()(j).call(j,1)}function Vc(j,O){return A()(j).call(j,O)>=0}function GB(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vt()(j,"type")||Oe.COLOR}function mg(j){var O=Ie()(j),E=O===void 0?{}:O;return E.source?Oe.FILTER:Oe.COLOR}function WB(j){return Dt()(j.get("type"),ze)>=0}function yg(j){if(Vc(ze,j))return"Shape";switch(j){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return YB(j)}}function uV(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=O.useAlpha,_=E===void 0?!0:E,b=O.mode,S=Je.VINTAGE,P=Je.REMOVE_COLOR,Q=Je.BLEND_COLOR,W=Je.SEPIA2,G=Je.COLOR_FILTER,ae=Je.REMOVE_WHITE,ce=Je.BLEND,Be;switch(j){case S:Be=W;break;case P:Be=_?G:ae;break;case Q:Be=b==="add"?ce:b;break;default:Be=j}return YB(Be)}function fV(j){var O=et.LOAD_IMAGE;return typeof j=="string"?O===j:O===j.name}function hV(j){var O,E,_=et.FLIP_IMAGE,b=et.ROTATE_IMAGE,S=et.ADD_TEXT,P=et.APPLY_FILTER,Q=et.REMOVE_FILTER,W=et.CHANGE_SHAPE,G=et.CHANGE_ICON_COLOR,ae=et.CHANGE_TEXT_STYLE,ce=et.CLEAR_OBJECTS,Be=et.ADD_IMAGE_OBJECT,be=et.REMOVE_OBJECT,Se=et.RESIZE_IMAGE,_e=j.name,Me=j.args,Pe;switch(_e){case _:Pe={name:_e,detail:Me[1]==="reset"?Me[1]:p()(O=Me[1]).call(O,4)};break;case b:Pe={name:_e,detail:Me[2]};break;case P:Pe={name:St.APPLY_FILTER,detail:uV(Me[1],Me[2])};break;case Q:Pe={name:St.REMOVE_FILTER,detail:"Remove"};break;case W:Pe={name:St.CHANGE_SHAPE,detail:"Change"};break;case G:Pe={name:St.CHANGE_ICON_COLOR,detail:"Change"};break;case ae:Pe={name:St.CHANGE_TEXT_STYLE,detail:"Change"};break;case be:Pe={name:St.REMOVE_OBJECT,detail:Me[2]};break;case ce:Pe={name:St.CLEAR_OBJECTS,detail:"All"};break;case Be:Pe={name:St.ADD_IMAGE_OBJECT,detail:"Add"};break;case S:Pe={name:St.ADD_TEXT};break;case Se:Pe={name:St.RESIZE,detail:R()(E="".concat(~~Me[1].width,"x")).call(E,~~Me[1].height)};break;default:Pe={name:_e};break}return Me[1]==="mask"&&(Pe={name:St.LOAD_MASK_IMAGE,detail:"Apply"}),Pe}function dV(j){return j==="top"?"bottom":j==="left"?"right":j==="right"?"left":"top"}function YB(j){return j.replace(/[a-z]/,function(O){return O.toUpperCase()})}function gV(j){var O=j.left,E=j.top,_=j.width,b=j.height,S=da.LEFT,P=da.TOP,Q=da.WIDTH,W=da.HEIGHT;return O===S&&E===P&&_===Q&&b===W}var pV=it("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),XB={UN_IMPLEMENTATION:"Should implement a method: ",NO_COMPONENT_NAME:"Should set a component name"},vV={UN_IMPLEMENTATION:function(O){return XB.UN_IMPLEMENTATION+O},NO_COMPONENT_NAME:function(){return XB.NO_COMPONENT_NAME}},Gc={types:Y()({},pV),create:function(O){O=O.toLowerCase();for(var E=vV[O],_=arguments.length,b=new Array(_>1?_-1:0),S=1;S<_;S++)b[S-1]=arguments[S];return E.apply(void 0,b)}},KB=Gc.create,ZB=Gc.types,mV=function(){function j(O,E){X(this,j),this.name=O.name,this.args=E,this.execute=O.execute,this.undo=O.undo,this.executeCallback=O.executeCallback||null,this.undoCallback=O.undoCallback||null,this.undoData={}}return ie(j,[{key:"execute",value:function(){throw new Error(KB(ZB.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(KB(ZB.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return Ee()(this.undoData).length>0}},{key:"setUndoData",value:function(E,_,b){return _&&(E=_),b?_||(_=E):(Y()(this.undoData,E),_=null),_}},{key:"setExecuteCallback",value:function(E){return this.executeCallback=E,this}},{key:"setUndoCallback",value:function(E){return this.undoCallback=E,this}}]),j}(),yV=mV,JB={};function CV(j){var O=JB[j];if(O){for(var E=arguments.length,_=new Array(E>1?E-1:0),b=1;b<E;b++)_[b-1]=arguments[b];return new yV(O,_)}return null}function wV(j){JB[j.name]=j}var tn={create:CV,register:wV},$B=function(){function j(){X(this,j),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return ie(j,[{key:"_invokeExecution",value:function(E){var _=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.lock();var S=E.args;return S||(S=[]),E.execute.apply(E,N(S)).then(function(P){return _._isSilent||(_.pushUndoStack(E),_.fire(b?Te.AFTER_REDO:Te.EXECUTE_COMMAND,E)),_.unlock(),We(E.executeCallback)&&E.executeCallback(P),P}).catch(function(P){return _.unlock(),ee().reject(P)})}},{key:"_invokeUndo",value:function(E){var _=this;this.lock();var b=E.args;return b||(b=[]),E.undo.apply(E,N(b)).then(function(S){return _.pushRedoStack(E),_.fire(Te.AFTER_UNDO,E),_.unlock(),We(E.undoCallback)&&E.undoCallback(S),S}).catch(function(S){return _.unlock(),ee().reject(S)})}},{key:"_fireRedoStackChanged",value:function(){this.fire(Te.REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(Te.UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var E=this;this._isSilent=!0;for(var _=arguments.length,b=new Array(_),S=0;S<_;S++)b[S]=arguments[S];return this.execute.apply(this,R()(b).call(b,[this._isSilent])).then(function(){E._isSilent=!1})}},{key:"execute",value:function(){var E=this;if(this._isLocked)return ee().reject(Ut.isLock);for(var _=arguments.length,b=new Array(_),S=0;S<_;S++)b[S]=arguments[S];var P=b[0];return ye()(P)&&(P=tn.create.apply(tn,b)),this._invokeExecution(P).then(function(Q){return E.clearRedoStack(),Q})}},{key:"undo",value:function(){var E=this._undoStack.pop(),_,b="";if(E&&this._isLocked&&(this.pushUndoStack(E,!0),E=null),E)this.isEmptyUndoStack()&&this._fireUndoStackChanged(),_=this._invokeUndo(E);else{if(b=Ut.undo,this._isLocked){var S;b=R()(S="".concat(b," Because ")).call(S,Ut.isLock)}_=ee().reject(b)}return _}},{key:"redo",value:function(){var E=this._redoStack.pop(),_,b="";if(E&&this._isLocked&&(this.pushRedoStack(E,!0),E=null),E)this.isEmptyRedoStack()&&this._fireRedoStackChanged(),_=this._invokeExecution(E,!0);else{if(b=Ut.redo,this._isLocked){var S;b=R()(S="".concat(b," Because ")).call(S,Ut.isLock)}_=ee().reject(b)}return _}},{key:"pushUndoStack",value:function(E,_){this._undoStack.push(E),_||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(E,_){this._redoStack.push(E),_||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return this._redoStack.length===0}},{key:"isEmptyUndoStack",value:function(){return this._undoStack.length===0}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),j}();pe().mixin($B);var BV=$B,bV=a(5214),Pi=a.n(bV),EV=function(j){var O,E,_,b,S,P,Q,W=j.locale,G=j.biImage,ae=j.commonStyle,ce=j.headerStyle,Be=j.loadButtonStyle,be=j.downloadButtonStyle,Se=j.submenuStyle;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=R()(Q=`
    <div class="tui-image-editor-main-container" style="`.concat(ae,`">
        <div class="tui-image-editor-header" style="`)).call(Q,ce,`">
            <div class="tui-image-editor-header-logo">
                <img src="`)).call(P,G,`" />
            </div>
            <div class="tui-image-editor-header-buttons">
                <div style="`)).call(S,Be,`">
                    `)).call(b,W.localize("Load"),`
                    <input type="file" class="tui-image-editor-load-btn" />
                </div>
                <button class="tui-image-editor-download-btn" style="`)).call(_,be,`">
                    `)).call(E,W.localize("Download"),`
                </button>
            </div>
        </div>
        <div class="tui-image-editor-main">
            <div class="tui-image-editor-submenu">
                <div class="tui-image-editor-submenu-style" style="`)).call(O,Se,`"></div>
            </div>
            <div class="tui-image-editor-wrap">
                <div class="tui-image-editor-size-wrap">
                    <div class="tui-image-editor-align-wrap">
                        <div class="tui-image-editor"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
`)},_V=function(j){var O,E,_,b,S,P=j.locale,Q=j.biImage,W=j.loadButtonStyle,G=j.downloadButtonStyle,ae=j.menuBarPosition;return R()(O=R()(E=R()(_=R()(b=R()(S=`
    <ul class="tui-image-editor-help-menu `.concat(dV(ae),`"></ul>
    <div class="tui-image-editor-controls">
        <div class="tui-image-editor-controls-logo">
            <img src="`)).call(S,Q,`" />
        </div>
        <ul class="tui-image-editor-menu"></ul>

        <div class="tui-image-editor-controls-buttons">
            <div style="`)).call(b,W,`">
                `)).call(_,P.localize("Load"),`
                <input type="file" class="tui-image-editor-load-btn" />
            </div>
            <button class="tui-image-editor-download-btn" style="`)).call(E,G,`">
                `)).call(O,P.localize("Download"),`
            </button>
        </div>
    </div>
`)},SV=a(899),Kr=a.n(SV),IV=function(j){var O,E,_,b,S,P,Q,W,G,ae,ce,Be,be,Se,_e,Me,Pe,at,st,ut,Ye,Ot,Fn,qn,fn,Fr,Qi,er,lA,qc=j.subMenuLabelActive,eu=j.subMenuLabelNormal,tu=j.subMenuRangeTitle,nu=j.submenuPartitionVertical,ru=j.submenuPartitionHorizontal,iu=j.submenuCheckbox,au=j.submenuRangePointer,ou=j.submenuRangeValue,su=j.submenuColorpickerTitle,Au=j.submenuColorpickerButton,lu=j.submenuRangeBar,cu=j.submenuRangeSubbar,uu=j.submenuDisabledRangePointer,fu=j.submenuDisabledRangeBar,hu=j.submenuDisabledRangeSubbar,du=j.submenuIconSize,gu=j.menuIconSize,pu=j.biSize,kr=j.menuIconStyle,ga=j.submenuIconStyle;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=R()(Q=R()(W=R()(G=R()(ae=R()(ce=R()(Be=R()(be=R()(Se=R()(_e=R()(Me=R()(Pe=R()(at=R()(st=R()(ut=R()(Ye=R()(Ot=R()(Fn=R()(qn=R()(fn=R()(Fr=R()(Qi=R()(er=R()(lA=`
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,
    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,
    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,
    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,
    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,
    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,
    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,
    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-draw-line-select-button.line .tui-image-editor-button.line label,
    .tie-draw-line-select-button.free .tui-image-editor-button.free label,
    .tie-flip-button.flipX .tui-image-editor-button.flipX label,
    .tie-flip-button.flipY .tui-image-editor-button.flipY label,
    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,
    .tie-crop-button .tui-image-editor-button.apply.active label,
    .tie-crop-preset-button .tui-image-editor-button.preset.active label,
    .tie-resize-button .tui-image-editor-button.apply.active label,
    .tie-resize-preset-button .tui-image-editor-button.preset.active label,
    .tie-shape-button.rect .tui-image-editor-button.rect label,
    .tie-shape-button.circle .tui-image-editor-button.circle label,
    .tie-shape-button.triangle .tui-image-editor-button.triangle label,
    .tie-text-effect-button .tui-image-editor-button.active label,
    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,
    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,
    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,
    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,
    .tui-image-editor-container .tui-image-editor-checkbox label > span {
        `.concat(qc,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {
        `)).call(lA,eu,`
    }
    .tui-image-editor-container .tui-image-editor-range-wrap label > span {
        `)).call(er,tu,`
    }
    .tui-image-editor-container .tui-image-editor-partition > div {
        `)).call(Qi,nu,`
    }
    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,
    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {
        `)).call(Fr,ru,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {
        `)).call(fn,iu,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {
        border: 0;
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {
        `)).call(qn,au,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-bar {
        `)).call(Fn,lu,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {
        `)).call(Ot,cu,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {
        `)).call(Ye,uu,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {
        `)).call(ut,hu,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {
        `)).call(st,fu,`
    }
    .tui-image-editor-container .tui-image-editor-range-value {
        `)).call(at,ou,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {
        `)).call(Pe,su,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {
        `)).call(Me,Au,`
    }
    .tui-image-editor-container .svg_ic-menu {
        `)).call(_e,gu,`
    }
    .tui-image-editor-container .svg_ic-submenu {
        `)).call(Se,du,`
    }
    .tui-image-editor-container .tui-image-editor-controls-logo > img,
    .tui-image-editor-container .tui-image-editor-header-logo > img {
        `)).call(be,pu,`
    }
    .tui-image-editor-menu use.normal.use-default,
    .tui-image-editor-help-menu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(Be,kr.normal.color,`;
        stroke: `)).call(ce,kr.normal.color,`;
    }
    .tui-image-editor-menu use.active.use-default,
    .tui-image-editor-help-menu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(ae,kr.active.color,`;
        stroke: `)).call(G,kr.active.color,`;
    }
    .tui-image-editor-menu use.hover.use-default,
    .tui-image-editor-help-menu use.hover.use-default {
        fill-rule: evenodd;
        fill: `)).call(W,kr.hover.color,`;
        stroke: `)).call(Q,kr.hover.color,`;
    }
    .tui-image-editor-menu use.disabled.use-default,
    .tui-image-editor-help-menu use.disabled.use-default {
        fill-rule: evenodd;
        fill: `)).call(P,kr.disabled.color,`;
        stroke: `)).call(S,kr.disabled.color,`;
    }
    .tui-image-editor-submenu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(b,ga.normal.color,`;
        stroke: `)).call(_,ga.normal.color,`;
    }
    .tui-image-editor-submenu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(E,ga.active.color,`;
        stroke: `)).call(O,ga.active.color,`;
    }
`)},xV={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},MV=a(2534),DV=function(){function j(O){X(this,j),this.styles=this._changeToObject(Y()({},xV,O)),Or(this._styleMaker()),this._loadDefaultSvgIcon()}return ie(j,[{key:"getStyle",value:function(E){var _=null,b=E.replace(/\..+$/,""),S=this.styles[E];switch(E){case"common.bi":_=this.styles[E].image;break;case"menu.icon":_={active:this.styles["".concat(b,".activeIcon")],normal:this.styles["".concat(b,".normalIcon")],hover:this.styles["".concat(b,".hoverIcon")],disabled:this.styles["".concat(b,".disabledIcon")]};break;case"submenu.icon":_={active:this.styles["".concat(b,".activeIcon")],normal:this.styles["".concat(b,".normalIcon")]};break;case"submenu.label":_={active:this._makeCssText(this.styles["".concat(b,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(b,".normalLabel")])};break;case"submenu.partition":_={vertical:this._makeCssText(Y()({},S,{borderLeft:"1px solid ".concat(S.color)})),horizontal:this._makeCssText(Y()({},S,{borderBottom:"1px solid ".concat(S.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":S.backgroundColor=S.color,_=this._makeCssText(S);break;default:_=this._makeCssText(S);break}return _}},{key:"_styleMaker",value:function(){var E=this.getStyle("submenu.label"),_=this.getStyle("submenu.partition");return IV({subMenuLabelActive:E.active,subMenuLabelNormal:E.normal,submenuPartitionVertical:_.vertical,submenuPartitionHorizontal:_.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(E){var _={};return $()(E,function(b,S){var P=S.match(/^(.+)\.([a-z]+)$/i),Q=ve(P,3),W=Q[1],G=Q[2];_[W]||(_[W]={}),_[W][G]=b}),_}},{key:"_makeCssText",value:function(E){var _=this,b=[];return $()(E,function(S,P){var Q,W;A()(Q=["backgroundImage"]).call(Q,P)>-1&&S!=="none"&&(S="url(".concat(S,")")),b.push(R()(W="".concat(_._toUnderScore(P),": ")).call(W,S))}),b.join(";")}},{key:"_toUnderScore",value:function(E){return E.replace(/([A-Z])/g,function(_,b){return"-".concat(b.toLowerCase())})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var E=new DOMParser,_=MV.replace(/data:image\/svg\+xml;base64,/,""),b=E.parseFromString(atob(_),"text/xml");document.body.appendChild(b.documentElement)}}},{key:"_makeIconClassName",value:function(E,_){var b=_?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),S=b[E],P=S.path,Q=S.name;return P&&Q?E:"".concat(E," use-default")}},{key:"_makeSvgIconPrefix",value:function(E,_){var b,S=_?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),P=S[E],Q=P.path,W=P.name;return Q&&W?R()(b="".concat(Q,"#")).call(b,W,"-"):"#"}},{key:"_makeSvgItem",value:function(E,_,b){var S=this;return Kr()(E).call(E,function(P){var Q,W,G=S._makeSvgIconPrefix(P,b),ae=S._toUnderScore(_),ce=S._makeIconClassName(P,b);return R()(Q=R()(W='<use xlink:href="'.concat(G,"ic-")).call(W,ae,'" class="')).call(Q,ce,'"/>')}).join("")}},{key:"makeMenSvgIconSet",value:function(E,_){var b,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return R()(b='<svg class="svg_ic-'.concat(S?"submenu":"menu",'">')).call(b,this._makeSvgItem(E,_,S),"</svg>")}}]),j}(),TV=DV,OV=a(9146),Ue=a.n(OV),FV=a(6623),qB=a(4230);function Cg(j,O){return Cg=qB||function(_,b){return _.__proto__=b,_},Cg(j,O)}function Pt(j,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=FV(O&&O.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),O&&Cg(j,O)}var kV=a(3742);function Wc(j){return typeof I=="function"&&typeof kV=="symbol"?Wc=function(E){return typeof E}:Wc=function(E){return E&&typeof I=="function"&&E.constructor===I&&E!==I.prototype?"symbol":typeof E},Wc(j)}function xt(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function Nt(j,O){if(O&&(Wc(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(j)}var eb=a(9856);function ot(j){return ot=qB?eb:function(E){return E.__proto__||eb(E)},ot(j)}var UV=a(6092),aA=a.n(UV),LV=a(4858),PV=a.n(LV),NV=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],tb=function(){function j(O,E){var _=E.defaultColor,b=_===void 0?"#7e7e7e":_,S=E.toggleDirection,P=S===void 0?"up":S,Q=E.usageStatistics;X(this,j),this.colorpickerElement=O,this.usageStatistics=Q,this._show=!1,this._colorpickerElement=O,this._toggleDirection=P,this._makePickerButtonElement(b),this._makePickerLayerElement(O,O.getAttribute("title")),this._color=b,this.picker=PV().create({container:this.pickerElement,preset:NV,color:b,usageStatistics:this.usageStatistics}),this._addEvent()}return ie(j,[{key:"destroy",value:function(){var E=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",$()(this,function(_,b){E[b]=null})}},{key:"color",get:function(){return this._color},set:function(E){this._color=E,this._changeColorElement(E)}},{key:"_changeColorElement",value:function(E){E?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=E):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(E){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",E?this.colorElement.style.backgroundColor=E:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(E,_){var b=document.createElement("label"),S=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",b.innerHTML=_,S.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(S),E.appendChild(this.pickerControl),E.appendChild(this.colorElement),E.appendChild(b)}},{key:"_addEvent",value:function(){var E=this,_;this.picker.on("selectColor",function(b){E._changeColorElement(b.color),E._color=b.color,E.fire("change",b.color)}),this.eventHandler={pickerToggle:le()(_=this._pickerToggleEventHandler).call(_,this),pickerHide:function(){return E.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(E){var _=E.target,b=_&&this._isElementInColorPickerControl(_);(!b||b&&this._isPaletteButton(_))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),E.stopPropagation()}},{key:"_isPaletteButton",value:function(E){return E.className==="tui-colorpicker-palette-button"}},{key:"_isElementInColorPickerControl",value:function(E){for(var _=E;_!==document.body&&_;){if(_===this.pickerControl)return!0;_=_.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var E=this.pickerControl.style,_=this._colorpickerElement.clientWidth/2+2,b=this.pickerControl.offsetWidth/2-_,S=(this.pickerControl.offsetHeight+10)*-1;this._toggleDirection==="down"&&(S=30),E.top="".concat(S,"px"),E.left="-".concat(b,"px")}}]),j}();pe().mixin(tb);var Ni=tb,RV=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,nb=function(){function j(O){var E,_,b,S,P,Q,W,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X(this,j),this._value=G.value||0,this.rangeElement=O.slider,this.rangeInputElement=O.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=G.min||0,this._max=G.max||100,this._useDecimal=G.useDecimal,this._absMax=this._min*-1+this._max,this.realTimeEvent=G.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:le()(E=this._startChangingSlide).call(E,this),stopChangingSlide:le()(_=this._stopChangingSlide).call(_,this),changeSlide:le()(b=this._changeSlide).call(b,this),changeSlideFinally:le()(S=this._changeSlideFinally).call(S,this),changeInput:le()(P=this._changeInput).call(P,this),changeInputFinally:le()(Q=this._changeValueWithInput).call(Q,this,!0),changeInputWithArrow:le()(W=this._changeValueWithInputKeyEvent).call(W,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=G.value,this.trigger("change")}return ie(j,[{key:"destroy",value:function(){var E=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",$()(this,function(_,b){E[b]=null})}},{key:"max",get:function(){return this._max},set:function(E){this._max=E,this._absMax=this._min*-1+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(E){this._min=E,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(E){E=this._useDecimal?E:It(E);var _=E-this._min,b=_*this.rangeWidth/this._absMax;this.rangeWidth<b&&(b=this.rangeWidth),this.pointer.style.left="".concat(b,"px"),this.subbar.style.right="".concat(this.rangeWidth-b,"px"),this._value=E,this.rangeInputElement&&(this.rangeInputElement.value=E)}},{key:"trigger",value:function(E){this.fire(E,this._value)}},{key:"_getRangeWidth",value:function(){var E=function(b){return It(window.getComputedStyle(b,null).width)};return E(this.rangeElement)-E(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(E){var _,b=E.keyCode,S=E.target;if(!(A()(_=[en.ARROW_UP,en.ARROW_DOWN]).call(_,b)<0)){var P=Number(S.value);P=this._valueUpDownForKeyEvent(P,b);var Q=P<this._min||P>this._max;if(!Q){var W=At(P,this._min,this.max);this.value=W,this.fire("change",W,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(E,_){var b=this._useDecimal?.1:1;return _===en.ARROW_UP?E+=b:_===en.ARROW_DOWN&&(E-=b),E}},{key:"_changeInput",value:function(E){var _=this;clearTimeout(this._userInputTimer);var b=E.keyCode;if(b<en.DIGIT_0||b>en.DIGIT_9){E.preventDefault();return}this._userInputTimer=f()(function(){_._inputSetValue(E.target.value)},350)}},{key:"_inputSetValue",value:function(E){var _=this._useDecimal?Number(E):It(E);_=At(_,this._min,this.max),this.value=_,this.fire("change",_,!0)}},{key:"_changeValueWithInput",value:function(E,_){var b,S=_.keyCode,P=_.target;if(!(A()(b=[en.ARROW_UP,en.ARROW_DOWN]).call(b,S)>=0)){var Q=this._filterForInputText(P.value),W=!Q||isNaN(Q);P.value=Q,W||this._inputSetValue(Q)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(E){var _=E.screenX,b=_-this.firstPosition,S=this.firstLeft+b;S=S>this.rangeWidth?this.rangeWidth:S,S=S<0?0:S,this.pointer.style.left="".concat(S,"px"),this.subbar.style.right="".concat(this.rangeWidth-S,"px");var P=S/this.rangeWidth,Q=this._absMax*P+this._min,W=this._useDecimal?Q:It(Q),G=this.value!==W;G&&(this.value=W,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(E){if(E.stopPropagation(),E.target.className==="tui-image-editor-range"){var _=E.offsetX,b=_/this.rangeWidth,S=this._absMax*b+this._min;this.pointer.style.left="".concat(b*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-b)*this.rangeWidth,"px"),this.value=S,this.fire("change",S,!0)}}},{key:"_startChangingSlide",value:function(E){this.firstPosition=E.screenX,this.firstLeft=It(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(E){return E.replace(RV,"$1$2$3")}}]),j}();pe().mixin(nb);var yr=nb,rb=function(){function j(O,E){var _=E.locale,b=E.name,S=E.makeSvgIcon,P=E.menuBarPosition,Q=E.templateHtml,W=E.usageStatistics;X(this,j),this.subMenuElement=O,this.menuBarPosition=P,this.toggleDirection=P==="top"?"down":"up",this.colorPickerControls=[],this.usageStatistics=W,this.eventHandler={},this._makeSubMenuElement({locale:_,name:b,makeSvgIcon:S,templateHtml:Q})}return ie(j,[{key:"selector",value:function(E){return this.subMenuElement.querySelector(E)}},{key:"colorPickerChangeShow",value:function(E){var _;Re()(_=this.colorPickerControls).call(_,function(b){E!==b&&b.hide()})}},{key:"getButtonType",value:function(E,_){return E.className.match(RegExp("(".concat(_.join("|"),")")))[0]}},{key:"changeClass",value:function(E,_,b){E.classList.remove(_),E.classList.add(b)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(E){var _=E.locale,b=E.name,S=E.iconStyle,P=E.makeSvgIcon,Q=E.templateHtml,W=document.createElement("div");W.className="tui-image-editor-menu-".concat(b),W.innerHTML=Q({locale:_,iconStyle:S,makeSvgIcon:P}),this.subMenuElement.appendChild(W)}},{key:"_onStartEditingInputBox",value:function(){this.fire(Te.INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire(Te.INPUT_BOX_EDITING_STOPPED)}}]),j}();pe().mixin(rb);var Zr=rb,QV=function(j){var O,E,_,b,S,P,Q,W,G=j.locale,ae=j.makeSvgIcon;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=R()(Q=R()(W=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-shape-button">
            <div class="tui-image-editor-button rect">
                <div>
                    `.concat(ae(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(W,G.localize("Rectangle"),` </label>
            </div>
            <div class="tui-image-editor-button circle">
                <div>
                    `)).call(Q,ae(["normal","active"],"shape-circle",!0),`
                </div>
                <label> `)).call(P,G.localize("Circle"),` </label>
            </div>
            <div class="tui-image-editor-button triangle">
                <div>
                    `)).call(S,ae(["normal","active"],"shape-triangle",!0),`
                </div>
                <label> `)).call(b,G.localize("Triangle"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-shape-color-button">
            <div class="tie-color-fill" title="`)).call(_,G.localize("Fill"),`"></div>
            <div class="tie-color-stroke" title="`)).call(E,G.localize("Stroke"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(O,G.localize("Stroke"),`</label>
            <div class="tie-stroke-range"></div>
            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function HV(j){var O=jV();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function jV(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var zV={stroke:"#ffbb3b",fill:"",strokeWidth:3},VV=function(j){Pt(E,j);var O=HV(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"shape",makeSvgIcon:Q,menuBarPosition:W,templateHtml:QV,usageStatistics:G}),S.type=null,S.options=zV,S._els={shapeSelectButton:S.selector(".tie-shape-button"),shapeColorButton:S.selector(".tie-shape-color-button"),strokeRange:new yr({slider:S.selector(".tie-stroke-range"),input:S.selector(".tie-stroke-range-value")},tA),fillColorpicker:new Ni(S.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:S.toggleDirection,usageStatistics:S.usageStatistics}),strokeColorpicker:new Ni(S.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:S.toggleDirection,usageStatistics:S.usageStatistics})},S.colorPickerControls.push(S._els.fillColorpicker),S.colorPickerControls.push(S._els.strokeColorpicker),S.colorPickerInputBoxes=[],S.colorPickerInputBoxes.push(S._els.fillColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),S.colorPickerInputBoxes.push(S._els.strokeColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Rn(this)}},{key:"addEvent",value:function(b){var S,P,Q,W,G,ae,ce=this;this.eventHandler.shapeTypeSelected=le()(S=this._changeShapeHandler).call(S,this),this.actions=b,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",le()(P=this._changeStrokeRangeHandler).call(P,this)),this._els.fillColorpicker.on("change",le()(Q=this._changeFillColorHandler).call(Q,this)),this._els.strokeColorpicker.on("change",le()(W=this._changeStrokeColorHandler).call(W,this)),this._els.fillColorpicker.on("changeShow",le()(G=this.colorPickerChangeShow).call(G,this)),this._els.strokeColorpicker.on("changeShow",le()(ae=this.colorPickerChangeShow).call(ae,this)),aA()(this.colorPickerInputBoxes,function(Be){var be,Se;Be.addEventListener(Te.FOCUS,le()(be=ce._onStartEditingInputBox).call(be,ce)),Be.addEventListener(Te.BLUR,le()(Se=ce._onStopEditingInputBox).call(Se,ce))},this)}},{key:"_removeEvent",value:function(){var b=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),aA()(this.colorPickerInputBoxes,function(S){var P,Q;S.removeEventListener(Te.FOCUS,le()(P=b._onStartEditingInputBox).call(P,b)),S.removeEventListener(Te.BLUR,le()(Q=b._onStopEditingInputBox).call(Q,b))},this)}},{key:"setShapeStatus",value:function(b){var S=b.strokeWidth,P=b.strokeColor,Q=b.fillColor;this._els.strokeRange.value=S,this._els.strokeColorpicker.color=P,this._els.fillColorpicker.color=Q,this.options.stroke=P,this.options.fill=Q,this.options.strokeWidth=S,this.actions.setDrawingShape(this.type,{strokeWidth:S})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(b){var S=b;S<=0&&(S=tA.max),this._els.strokeRange.max=S}},{key:"setStrokeValue",value:function(b){this._els.strokeRange.value=b,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(b){var S=b.target.closest(".tui-image-editor-button");if(S){this.actions.stopDrawingMode(),this.actions.discardSelection();var P=this.getButtonType(S,["circle","triangle","rect"]);if(this.type===P){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=P,b.currentTarget.classList.add(P),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(b,S){this.options.strokeWidth=It(b),this.actions.changeShape({strokeWidth:b},!S),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(b){b=b||"transparent",this.options.fill=b,this.actions.changeShape({fill:b})}},{key:"_changeStrokeColorHandler",value:function(b){b=b||"transparent",this.options.stroke=b,this.actions.changeShape({stroke:b})}}]),E}(Zr),GV=VV,WV=function(j){var O,E,_,b,S,P,Q,W,G,ae,ce,Be,be,Se,_e,Me,Pe,at=j.locale,st=j.makeSvgIcon;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=R()(Q=R()(W=R()(G=R()(ae=R()(ce=R()(Be=R()(be=R()(Se=R()(_e=R()(Me=R()(Pe=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-crop-preset-button">
            <div class="tui-image-editor-button preset preset-none active">
                <div>
                    `.concat(st(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(Pe,at.localize("Custom"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-square">
                <div>
                    `)).call(Me,st(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(_e,at.localize("Square"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-3-2">
                <div>
                    `)).call(Se,st(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(be,at.localize("3:2"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-4-3">
                <div>
                    `)).call(Be,st(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(ce,at.localize("4:3"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-5-4">
                <div>
                    `)).call(ae,st(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(G,at.localize("5:4"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-7-5">
                <div>
                    `)).call(W,st(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(Q,at.localize("7:5"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-16-9">
                <div>
                    `)).call(P,st(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(S,at.localize("16:9"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline">
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-crop-button action">
            <div class="tui-image-editor-button apply">
                `)).call(b,st(["normal","active"],"apply"),`
                <label>
                    `)).call(_,at.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(E,st(["normal","active"],"cancel"),`
                <label>
                    `)).call(O,at.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function YV(j){var O=XV();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function XV(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var KV=function(j){Pt(E,j);var O=YV(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"crop",makeSvgIcon:Q,menuBarPosition:W,templateHtml:WV,usageStatistics:G}),S.status="active",S._els={apply:S.selector(".tie-crop-button .apply"),cancel:S.selector(".tie-crop-button .cancel"),preset:S.selector(".tie-crop-preset-button")},S.defaultPresetButton=S._els.preset.querySelector(".preset-none"),S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),Rn(this)}},{key:"addEvent",value:function(b){var S,P,Q,W=le()(S=this._applyEventHandler).call(S,this),G=le()(P=this._cancelEventHandler).call(P,this),ae=le()(Q=this._cropzonePresetEventHandler).call(Q,this);this.eventHandler={apply:W,cancel:G,cropzonePreset:ae},this.actions=b,this._els.apply.addEventListener("click",W),this._els.cancel.addEventListener("click",G),this._els.preset.addEventListener("click",ae)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(b){var S=b.target.closest(".tui-image-editor-button.preset");if(S){var P=S.className.match(/preset-[^\s]+/),Q=ve(P,1),W=Q[0];this._setPresetButtonActive(S),this.actions.preset(W)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(b){b?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.defaultPresetButton;$()(this._els.preset.querySelectorAll(".preset"),function(S){S.classList.remove("active")}),b&&b.classList.add("active")}}]),E}(Zr),ZV=KV,JV=function(j){var O,E,_,b,S,P,Q=j.locale,W=j.makeSvgIcon;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-range-wrap tui-image-editor-newline">
                <label class="range">`.concat(Q.localize("Width"),`&nbsp;</label>
                <div class="tie-width-range"></div>
                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
                <div class="tui-image-editor-partition tui-image-editor-newline"></div>
                <label class="range">`)).call(P,Q.localize("Height"),`</label>
                <div class="tie-height-range"></div>
                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-lock-aspect-ratio">
                        <span>`)).call(S,Q.localize("Lock Aspect Ratio"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tie-resize-button action">
            <div class="tui-image-editor-button apply">
                `)).call(b,W(["normal","active"],"apply"),`
                <label>
                    `)).call(_,Q.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(E,W(["normal","active"],"cancel"),`
                <label>
                    `)).call(O,Q.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function $V(j){var O=qV();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function qV(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var eG=function(j){Pt(E,j);var O=$V(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"resize",makeSvgIcon:Q,menuBarPosition:W,templateHtml:JV,usageStatistics:G}),S.status="active",S._lockState=!1,S._originalDimensions=null,S._els={widthRange:new yr({slider:S.selector(".tie-width-range"),input:S.selector(".tie-width-range-value")},li),heightRange:new yr({slider:S.selector(".tie-height-range"),input:S.selector(".tie-height-range-value")},li),lockAspectRatio:S.selector(".tie-lock-aspect-ratio"),apply:S.selector(".tie-resize-button .apply"),cancel:S.selector(".tie-resize-button .cancel")},S}return ie(E,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var b=this.actions.getCurrentDimensions();this._originalDimensions=b,this.setWidthValue(b.width),this.setHeightValue(b.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(b){this._els.widthRange.min=this.calcMinValue(b.minWidth),this._els.heightRange.min=this.calcMinValue(b.minHeight),this._els.widthRange.max=this.calcMaxValue(b.maxWidth),this._els.heightRange.max=this.calcMaxValue(b.maxHeight)}},{key:"calcMaxValue",value:function(b){return b<=0&&(b=li.max),b}},{key:"calcMinValue",value:function(b){return b<=0&&(b=li.min),b}},{key:"setWidthValue",value:function(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.widthRange.value=b,S&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.heightRange.value=b,S&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Rn(this)}},{key:"addEvent",value:function(b){var S,P,Q,W,G;this._els.widthRange.on("change",le()(S=this._changeWidthRangeHandler).call(S,this)),this._els.heightRange.on("change",le()(P=this._changeHeightRangeHandler).call(P,this)),this._els.lockAspectRatio.addEventListener("change",le()(Q=this._changeLockAspectRatio).call(Q,this));var ae=le()(W=this._applyEventHandler).call(W,this),ce=le()(G=this._cancelEventHandler).call(G,this);this.eventHandler={apply:ae,cancel:ce},this.actions=b,this._els.apply.addEventListener("click",ae),this._els.cancel.addEventListener("click",ce)}},{key:"_changeWidthRangeHandler",value:function(b){this.actions.preview("width",It(b),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(b){this.actions.preview("height",It(b),this._lockState)}},{key:"_changeLockAspectRatio",value:function(b){this._lockState=b.target.checked,this.actions.lockAspectRatio(this._lockState,li.min,li.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(b){b?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),E}(Zr),tG=eG,nG=function(j){var O,E,_,b,S,P=j.locale,Q=j.makeSvgIcon;return R()(O=R()(E=R()(_=R()(b=R()(S=`
    <ul class="tie-flip-button tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button flipX">
                <div>
                    `.concat(Q(["normal","active"],"flip-x",!0),`
                </div>
                <label>
                    `)).call(S,P.localize("Flip X"),`
                </label>
            </div>
            <div class="tui-image-editor-button flipY">
                <div>
                    `)).call(b,Q(["normal","active"],"flip-y",!0),`
                </div>
                <label>
                    `)).call(_,P.localize("Flip Y"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tui-image-editor-button resetFlip">
                <div>
                    `)).call(E,Q(["normal","active"],"flip-reset",!0),`
                </div>
                <label>
                    `)).call(O,P.localize("Reset"),`
                </label>
            </div>
        </li>
    </ul>
`)};function rG(j){var O=iG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function iG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var aG=function(j){Pt(E,j);var O=rG(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"flip",makeSvgIcon:Q,menuBarPosition:W,templateHtml:nG,usageStatistics:G}),S.flipStatus=!1,S._els={flipButton:S.selector(".tie-flip-button")},S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),Rn(this)}},{key:"addEvent",value:function(b){var S;this.eventHandler.changeFlip=le()(S=this._changeFlip).call(S,this),this._actions=b,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(b){var S=this,P=b.target.closest(".tui-image-editor-button");if(P){var Q=this.getButtonType(P,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&Q==="resetFlip")return;this._actions.flip(Q).then(function(W){var G=S._els.flipButton.classList;S.flipStatus=!1,G.remove("resetFlip"),$()(["flipX","flipY"],function(ae){G.remove(ae),W[ae]&&(G.add(ae),G.add("resetFlip"),S.flipStatus=!0)})})}}}]),E}(Zr),oG=aG,sG=function(j){var O,E,_=j.locale,b=j.makeSvgIcon;return R()(O=R()(E=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-rotate-button">
            <div class="tui-image-editor-button clockwise">
                <div>
                    `.concat(b(["normal","active"],"rotate-clockwise",!0),`
                </div>
                <label> 30 </label>
            </div>
            <div class="tui-image-editor-button counterclockwise">
                <div>
                    `)).call(E,b(["normal","active"],"rotate-counterclockwise",!0),`
                </div>
                <label> -30 </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(O,_.localize("Range"),`</label>
            <div class="tie-rotate-range"></div>
            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function AG(j){var O=lG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function lG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var cG=30,uG=-30,fG=function(j){Pt(E,j);var O=AG(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"rotate",makeSvgIcon:Q,menuBarPosition:W,templateHtml:sG,usageStatistics:G}),S._value=0,S._els={rotateButton:S.selector(".tie-rotate-button"),rotateRange:new yr({slider:S.selector(".tie-rotate-range"),input:S.selector(".tie-rotate-range-value")},Pc)},S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Rn(this)}},{key:"setRangeBarAngle",value:function(b,S){var P=S;b==="rotate"&&(P=xe()(this._els.rotateRange.value,10)+S),this._setRangeBarRatio(P)}},{key:"_setRangeBarRatio",value:function(b){this._els.rotateRange.value=b}},{key:"addEvent",value:function(b){var S,P;this.eventHandler.rotationAngleChanged=le()(S=this._changeRotateForButton).call(S,this),this.actions=b,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",le()(P=this._changeRotateForRange).call(P,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(b,S){var P=It(b);this.actions.setAngle(P,!S),this._value=P}},{key:"_changeRotateForButton",value:function(b){var S=b.target.closest(".tui-image-editor-button"),P=this._els.rotateRange.value;if(S){var Q=this.getButtonType(S,["counterclockwise","clockwise"]),W={clockwise:cG,counterclockwise:uG}[Q],G=xe()(P,10)+W,ae=G>=-360&&G<=360;ae&&this.actions.rotate(W)}}}]),E}(Zr),hG=fG,dG=function(j){var O,E,_,b,S,P,Q,W,G,ae,ce,Be,be,Se=j.locale,_e=j.makeSvgIcon;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=R()(Q=R()(W=R()(G=R()(ae=R()(ce=R()(Be=R()(be=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-text-effect-button">
            <div class="tui-image-editor-button bold">
                <div>
                    `.concat(_e(["normal","active"],"text-bold",!0),`
                </div>
                <label> `)).call(be,Se.localize("Bold"),` </label>
            </div>
            <div class="tui-image-editor-button italic">
                <div>
                    `)).call(Be,_e(["normal","active"],"text-italic",!0),`
                </div>
                <label> `)).call(ce,Se.localize("Italic"),` </label>
            </div>
            <div class="tui-image-editor-button underline">
                <div>
                    `)).call(ae,_e(["normal","active"],"text-underline",!0),`
                </div>
                <label> `)).call(G,Se.localize("Underline"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-text-align-button">
            <div class="tui-image-editor-button left">
                <div>
                    `)).call(W,_e(["normal","active"],"text-align-left",!0),`
                </div>
                <label> `)).call(Q,Se.localize("Left"),` </label>
            </div>
            <div class="tui-image-editor-button center">
                <div>
                    `)).call(P,_e(["normal","active"],"text-align-center",!0),`
                </div>
                <label> `)).call(S,Se.localize("Center"),` </label>
            </div>
            <div class="tui-image-editor-button right">
                <div>
                    `)).call(b,_e(["normal","active"],"text-align-right",!0),`
                </div>
                <label> `)).call(_,Se.localize("Right"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-text-color" title="`)).call(E,Se.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(O,Se.localize("Text size"),`</label>
            <div class="tie-text-range"></div>
            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function gG(j){var O=pG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function pG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var vG=function(j){Pt(E,j);var O=gG(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"text",makeSvgIcon:Q,menuBarPosition:W,templateHtml:dG,usageStatistics:G}),S.effect={bold:!1,italic:!1,underline:!1},S.align="tie-text-align-left",S._els={textEffectButton:S.selector(".tie-text-effect-button"),textAlignButton:S.selector(".tie-text-align-button"),textColorpicker:new Ni(S.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:S.toggleDirection,usageStatistics:S.usageStatistics}),textRange:new yr({slider:S.selector(".tie-text-range"),input:S.selector(".tie-text-range-value")},Rc)},S.colorPickerInputBox=S._els.textColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX),S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Rn(this)}},{key:"addEvent",value:function(b){var S,P,Q,W,G,ae,ce=le()(S=this._setTextEffectHandler).call(S,this),Be=le()(P=this._setTextAlignHandler).call(P,this);this.eventHandler={setTextEffect:ce,setTextAlign:Be},this.actions=b,this._els.textEffectButton.addEventListener("click",ce),this._els.textAlignButton.addEventListener("click",Be),this._els.textRange.on("change",le()(Q=this._changeTextRnageHandler).call(Q,this)),this._els.textColorpicker.on("change",le()(W=this._changeColorHandler).call(W,this)),this.colorPickerInputBox.addEventListener(Te.FOCUS,le()(G=this._onStartEditingInputBox).call(G,this)),this.colorPickerInputBox.addEventListener(Te.BLUR,le()(ae=this._onStopEditingInputBox).call(ae,this))}},{key:"_removeEvent",value:function(){var b,S,P=this.eventHandler,Q=P.setTextEffect,W=P.setTextAlign;this._els.textEffectButton.removeEventListener("click",Q),this._els.textAlignButton.removeEventListener("click",W),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(Te.FOCUS,le()(b=this._onStartEditingInputBox).call(b,this)),this.colorPickerInputBox.removeEventListener(Te.BLUR,le()(S=this._onStopEditingInputBox).call(S,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(b){this._els.textColorpicker.color=b}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(b){this._els.textRange.value=b}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=Ie()(b),P=b.fontSize,Q=b.fontStyle,W=b.fontWeight,G=b.textDecoration,ae=b.textAlign;this.textColor=S,this.fontSize=P,this.setEffectState("italic",Q),this.setEffectState("bold",W),this.setEffectState("underline",G),this.setAlignState("tie-text-align-".concat(ae))}},{key:"setEffectState",value:function(b,S){var P=S==="italic"||S==="bold"||S==="underline",Q=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(b));this.effect[b]=P,Q.classList[P?"add":"remove"]("active")}},{key:"setAlignState",value:function(b){var S=this._els.textAlignButton;S.classList.remove(this.align),S.classList.add(b),this.align=b}},{key:"_setTextEffectHandler",value:function(b){var S=b.target.closest(".tui-image-editor-button");if(S){var P=S.className.match(/(bold|italic|underline)/),Q=ve(P,1),W=Q[0],G={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[W];this.effect[W]=!this.effect[W],S.classList.toggle("active"),this.actions.changeTextStyle(G)}}},{key:"_setTextAlignHandler",value:function(b){var S=b.target.closest(".tui-image-editor-button");if(S){var P=this.getButtonType(S,["left","center","right"]),Q="tie-text-align-".concat(P);b.currentTarget.classList.remove(this.align),this.align!==Q&&b.currentTarget.classList.add(Q),this.actions.changeTextStyle({textAlign:P}),this.align=Q}}},{key:"_changeTextRnageHandler",value:function(b,S){this.actions.changeTextStyle({fontSize:b},!S)}},{key:"_changeColorHandler",value:function(b){b=b||"transparent",this.actions.changeTextStyle({fill:b})}}]),E}(Zr),mG=vG,yG=function(j){var O,E,_,b=j.locale,S=j.makeSvgIcon;return R()(O=R()(E=R()(_=`
    <ul class="tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button">
                <div>
                    <input type="file" accept="image/*" class="tie-mask-image-file">
                    `.concat(S(["normal","active"],"mask-load",!0),`
                </div>
                <label> `)).call(_,b.localize("Load Mask Image"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">
            <div class="tui-image-editor-button apply">
                `)).call(E,S(["normal","active"],"apply"),`
                <label>
                    `)).call(O,b.localize("Apply"),`
                </label>
            </div>
        </li>
    </ul>
`)};function CG(j){var O=wG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function wG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var BG=function(j){Pt(E,j);var O=CG(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"mask",makeSvgIcon:Q,menuBarPosition:W,templateHtml:yG,usageStatistics:G}),S._els={applyButton:S.selector(".tie-mask-apply"),maskImageButton:S.selector(".tie-mask-image-file")},S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),Rn(this)}},{key:"addEvent",value:function(b){var S,P,Q=le()(S=this._loadMaskFile).call(S,this),W=le()(P=this._applyMask).call(P,this);this.eventHandler={loadMaskFile:Q,applyMask:W},this.actions=b,this._els.maskImageButton.addEventListener("change",Q),this._els.applyButton.addEventListener("click",W)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(b){var S;On()||alert("This browser does not support file-api");var P=ve(b.target.files,1),Q=P[0];Q&&(S=Z().createObjectURL(Q),this.actions.loadImageFromURL(S,Q),this._els.applyButton.classList.add("active"))}}]),E}(Zr),bG=BG,EG=function(j){var O,E,_,b,S,P,Q,W,G,ae,ce,Be,be,Se,_e,Me,Pe,at,st,ut,Ye=j.locale,Ot=j.makeSvgIcon;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=R()(Q=R()(W=R()(G=R()(ae=R()(ce=R()(Be=R()(be=R()(Se=R()(_e=R()(Me=R()(Pe=R()(at=R()(st=R()(ut=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" data-icontype="icon-arrow">
                <div>
                    `.concat(Ot(["normal","active"],"icon-arrow",!0),`
                </div>
                <label>
                    `)).call(ut,Ye.localize("Arrow"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">
                <div>
                    `)).call(st,Ot(["normal","active"],"icon-arrow-2",!0),`
                </div>
                <label>
                    `)).call(at,Ye.localize("Arrow-2"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">
                <div>
                    `)).call(Pe,Ot(["normal","active"],"icon-arrow-3",!0),`
                </div>
                <label>
                    `)).call(Me,Ye.localize("Arrow-3"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star">
                <div>
                    `)).call(_e,Ot(["normal","active"],"icon-star",!0),`
                </div>
                <label>
                    `)).call(Se,Ye.localize("Star-1"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star-2">
                <div>
                    `)).call(be,Ot(["normal","active"],"icon-star-2",!0),`
                </div>
                <label>
                    `)).call(Be,Ye.localize("Star-2"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-polygon">
                <div>
                    `)).call(ce,Ot(["normal","active"],"icon-polygon",!0),`
                </div>
                <label>
                    `)).call(ae,Ye.localize("Polygon"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-location">
                <div>
                    `)).call(G,Ot(["normal","active"],"icon-location",!0),`
                </div>
                <label>
                    `)).call(W,Ye.localize("Location"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-heart">
                <div>
                    `)).call(Q,Ot(["normal","active"],"icon-heart",!0),`
                </div>
                <label>
                    `)).call(P,Ye.localize("Heart"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-bubble">
                <div>
                    `)).call(S,Ot(["normal","active"],"icon-bubble",!0),`
                </div>
                <label>
                    `)).call(b,Ye.localize("Bubble"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" style="margin:0">
                <div>
                    <input type="file" accept="image/*" class="tie-icon-image-file">
                    `)).call(_,Ot(["normal","active"],"icon-load",!0),`
                </div>
                <label>
                    `)).call(E,Ye.localize("Custom icon"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-icon-color" title="`)).call(O,Ye.localize("Color"),`"></div>
        </li>
    </ul>
`)};function _G(j){var O=SG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function SG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var IG=function(j){Pt(E,j);var O=_G(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"icon",makeSvgIcon:Q,menuBarPosition:W,templateHtml:EG,usageStatistics:G}),S.iconType=null,S._iconMap={},S._els={registerIconButton:S.selector(".tie-icon-image-file"),addIconButton:S.selector(".tie-icon-add-button"),iconColorpicker:new Ni(S.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:S.toggleDirection,usageStatistics:S.usageStatistics})},S.colorPickerInputBox=S._els.iconColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX),S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Rn(this)}},{key:"addEvent",value:function(b){var S,P,Q,W,G,ae=le()(S=this._registerIconHandler).call(S,this),ce=le()(P=this._addIconHandler).call(P,this);this.eventHandler={registerIcon:ae,addIcon:ce},this.actions=b,this._els.iconColorpicker.on("change",le()(Q=this._changeColorHandler).call(Q,this)),this._els.registerIconButton.addEventListener("change",ae),this._els.addIconButton.addEventListener("click",ce),this.colorPickerInputBox.addEventListener(Te.FOCUS,le()(W=this._onStartEditingInputBox).call(W,this)),this.colorPickerInputBox.addEventListener(Te.BLUR,le()(G=this._onStopEditingInputBox).call(G,this))}},{key:"_removeEvent",value:function(){var b,S;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(Te.FOCUS,le()(b=this._onStartEditingInputBox).call(b,this)),this.colorPickerInputBox.removeEventListener(Te.BLUR,le()(S=this._onStopEditingInputBox).call(S,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var b=this;$()(Lc,function(S,P){b.actions.registerDefaultIcons(P,S)})}},{key:"setIconPickerColor",value:function(b){this._els.iconColorpicker.color=b}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(b){b=b||"transparent",this.actions.changeColor(b)}},{key:"_addIconHandler",value:function(b){var S=b.target.closest(".tui-image-editor-button");if(S){var P=S.getAttribute("data-icontype"),Q=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(P),this.iconType===P?this.changeStandbyMode():(this.actions.addIcon(P,Q),this.iconType=P)}}},{key:"_registerIconHandler",value:function(b){var S;On||alert("This browser does not support file-api");var P=ve(b.target.files,1),Q=P[0];Q&&(S=Z().createObjectURL(Q),this.actions.registerCustomIcon(S,Q))}}]),E}(Zr),xG=IG,MG=function(j){var O,E,_,b,S,P=j.locale,Q=j.makeSvgIcon;return R()(O=R()(E=R()(_=R()(b=R()(S=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-draw-line-select-button">
            <div class="tui-image-editor-button free">
                <div>
                    `.concat(Q(["normal","active"],"draw-free",!0),`
                </div>
                <label>
                    `)).call(S,P.localize("Free"),`
                </label>
            </div>
            <div class="tui-image-editor-button line">
                <div>
                    `)).call(b,Q(["normal","active"],"draw-line",!0),`
                </div>
                <label>
                    `)).call(_,P.localize("Straight"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-draw-color" title="`)).call(E,P.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(O,P.localize("Range"),`</label>
            <div class="tie-draw-range"></div>
            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function DG(j){var O=TG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function TG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var OG=.7,FG=function(j){Pt(E,j);var O=DG(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon,W=b.menuBarPosition,G=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"draw",makeSvgIcon:Q,menuBarPosition:W,templateHtml:MG,usageStatistics:G}),S._els={lineSelectButton:S.selector(".tie-draw-line-select-button"),drawColorPicker:new Ni(S.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:S.toggleDirection,usageStatistics:S.usageStatistics}),drawRange:new yr({slider:S.selector(".tie-draw-range"),input:S.selector(".tie-draw-range-value")},Nc)},S.type=null,S.color=S._els.drawColorPicker.color,S.width=S._els.drawRange.value,S.colorPickerInputBox=S._els.drawColorPicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX),S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Rn(this)}},{key:"addEvent",value:function(b){var S,P,Q,W,G;this.eventHandler.changeDrawType=le()(S=this._changeDrawType).call(S,this),this.actions=b,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",le()(P=this._changeDrawColor).call(P,this)),this._els.drawRange.on("change",le()(Q=this._changeDrawRange).call(Q,this)),this.colorPickerInputBox.addEventListener(Te.FOCUS,le()(W=this._onStartEditingInputBox).call(W,this)),this.colorPickerInputBox.addEventListener(Te.BLUR,le()(G=this._onStopEditingInputBox).call(G,this))}},{key:"_removeEvent",value:function(){var b,S;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(Te.FOCUS,le()(b=this._onStartEditingInputBox).call(b,this)),this.colorPickerInputBox.removeEventListener(Te.BLUR,le()(S=this._onStopEditingInputBox).call(S,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:Ve(this.color,OG)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(b){var S=b.target.closest(".tui-image-editor-button");if(S){var P=this.getButtonType(S,["free","line"]);if(this.actions.discardSelection(),this.type===P){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=P,this._els.lineSelectButton.classList.add(P),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(b){this.color=b||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(b){this.width=b,this.type?this.setDrawMode():this.changeStartMode()}}]),E}(Zr),kG=FG,UG=a(9886),ib=a.n(UG),LG=function(j){var O,E,_,b,S,P,Q,W,G,ae,ce,Be,be,Se,_e,Me,Pe=j.locale;return R()(O=R()(E=R()(_=R()(b=R()(S=R()(P=R()(Q=R()(W=R()(G=R()(ae=R()(ce=R()(Be=R()(be=R()(Se=R()(_e=R()(Me=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap fixed-width">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-grayscale">
                        <span>`.concat(Pe.localize("Grayscale"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-invert">
                        <span>`)).call(Me,Pe.localize("Invert"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sepia">
                        <span>`)).call(_e,Pe.localize("Sepia"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-vintage">
                        <span>`)).call(Se,Pe.localize("Sepia2"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blur">
                        <span>`)).call(be,Pe.localize("Blur"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sharpen">
                        <span>`)).call(Be,Pe.localize("Sharpen"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-emboss">
                        <span>`)).call(ce,Pe.localize("Emboss"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">
                <div class="tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-remove-white">
                            <span>`)).call(ae,Pe.localize("Remove White"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(G,Pe.localize("Distance"),`</label>
                    <div class="tie-removewhite-distance-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-brightness">
                        <span>`)).call(W,Pe.localize("Brightness"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-brightness-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-noise">
                        <span>`)).call(Q,Pe.localize("Noise"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-noise-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-pixelate">
                        <span>`)).call(P,Pe.localize("Pixelate"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-pixelate-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-color-filter">
                            <span>`)).call(S,Pe.localize("Color Filter"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(b,Pe.localize("Threshold"),`</label>
                    <div class="tie-colorfilter-threshold-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="filter-color-item">
                <div class="tie-filter-tint-color" title="`)).call(_,Pe.localize("Tint"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-tint">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-multiply-color" title="`)).call(E,Pe.localize("Multiply"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-multiply">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-blend-color" title="`)).call(O,Pe.localize("Blend"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blend">
                        <span></span>
                    </label>
                </div>
            </div>
        </li>
    </ul>
`)};function PG(j){var O=NG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function NG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var ab="130px",RG=["add","diff","subtract","multiply","screen","lighten","darken"],ob=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],QG={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},sb=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Ab=["filterBlendColor","filterMultiplyColor","filterTintColor"],HG=function(j){Pt(E,j);var O=PG(E);function E(_,b){var S,P=b.locale,Q=b.menuBarPosition,W=b.usageStatistics;return X(this,E),S=O.call(this,_,{locale:P,name:"filter",menuBarPosition:Q,templateHtml:LG,usageStatistics:W}),S.selectBoxShow=!1,S.checkedMap={},S._makeControlElement(),S}return ie(E,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Rn(this)}},{key:"_removeEvent",value:function(){var b=this,S;$()(ob,function(P){var Q=b.selector(".tie-".concat(P)),W=sn(P);Q.removeEventListener("change",b.eventHandler[W])}),$()(R()(S=[]).call(S,sb,Ab),function(P){b._els[P].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),aA()(this.colorPickerInputBoxes,function(P){var Q,W;P.removeEventListener(Te.FOCUS,le()(Q=b._onStartEditingInputBox).call(Q,b)),P.removeEventListener(Te.BLUR,le()(W=b._onStopEditingInputBox).call(W,b))},this)}},{key:"_destroyToolInstance",value:function(){var b,S=this;$()(R()(b=[]).call(b,sb,Ab),function(P){S._els[P].destroy()})}},{key:"addEvent",value:function(b){var S=this,P,Q,W,G=b.applyFilter,ae=function(be){var Se;return le()(Se=S._changeFilterState).call(Se,S,G,be)},ce=function(be){return function(Se,_e){return S._changeFilterState(G,be,_e)}};this.eventHandler={changeBlendFilter:ae("blend"),blandTypeClick:function(be){return be.stopPropagation()}},$()(ob,function(Be){var be=S.selector(".tie-".concat(Be)),Se=sn(Be);S.checkedMap[Se]=be,S.eventHandler[Se]=ae(Se),be.addEventListener("change",S.eventHandler[Se])}),this._els.removewhiteDistanceRange.on("change",ce("removeWhite")),this._els.colorfilterThresholdRange.on("change",ce("colorFilter")),this._els.pixelateRange.on("change",ce("pixelate")),this._els.noiseRange.on("change",ce("noise")),this._els.brightnessRange.on("change",ce("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",ae("multiply")),this._els.filterTintColor.on("change",ae("tint")),this._els.tintOpacity.on("change",ce("tint")),this._els.filterMultiplyColor.on("changeShow",le()(P=this.colorPickerChangeShow).call(P,this)),this._els.filterTintColor.on("changeShow",le()(Q=this.colorPickerChangeShow).call(Q,this)),this._els.filterBlendColor.on("changeShow",le()(W=this.colorPickerChangeShow).call(W,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),aA()(this.colorPickerInputBoxes,function(Be){var be,Se;Be.addEventListener(Te.FOCUS,le()(be=S._onStartEditingInputBox).call(be,S)),Be.addEventListener(Te.BLUR,le()(Se=S._onStopEditingInputBox).call(Se,S))},this)}},{key:"setFilterState",value:function(b){var S=b.type,P=b.options,Q=b.action,W=this._getFilterNameFromOptions(S,P),G=Q==="remove";G||this._setFilterState(W,P),this.checkedMap[W].checked=!G}},{key:"initFilterCheckBoxState",value:function(){$()(this.checkedMap,function(b){b.checked=!1},this)}},{key:"_setFilterState",value:function(b,S){b==="colorFilter"?this._els.colorfilterThresholdRange.value=S.distance:b==="removeWhite"?this._els.removewhiteDistanceRange.value=S.distance:b==="pixelate"?this._els.pixelateRange.value=S.blocksize:b==="brightness"?this._els.brightnessRange.value=S.brightness:b==="noise"?this._els.noiseRange.value=S.noise:b==="tint"?(this._els.tintOpacity.value=S.alpha,this._els.filterTintColor.color=S.color):b==="blend"?this._els.filterBlendColor.color=S.color:b==="multiply"&&(this._els.filterMultiplyColor.color=S.color)}},{key:"_getFilterNameFromOptions",value:function(b,S){var P=b;return b==="removeColor"?P=ib()(S.useAlpha)?"removeWhite":"colorFilter":b==="blendColor"&&(P={add:"blend",multiply:"multiply",tint:"tint"}[S.mode]),P}},{key:"_changeFilterState",value:function(b,S){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Q=this.checkedMap[S].checked,W=QG[S],G=this.checkedMap[S].closest(".tui-image-editor-checkbox-group");G&&(Q?G.classList.remove("tui-image-editor-disabled"):G.classList.add("tui-image-editor-disabled")),b(Q,W,this._getFilterOption(S),!P)}},{key:"_getFilterOption",value:function(b){var S={};switch(b){case"removeWhite":S.color="#FFFFFF",S.useAlpha=!1,S.distance=Pi()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":S.color="#FFFFFF",S.distance=Pi()(this._els.colorfilterThresholdRange.value);break;case"pixelate":S.blocksize=It(this._els.pixelateRange.value);break;case"noise":S.noise=It(this._els.noiseRange.value);break;case"brightness":S.brightness=Pi()(this._els.brightnessRange.value);break;case"blend":S.mode="add",S.color=this._els.filterBlendColor.color,S.mode=this._els.blendType.value;break;case"multiply":S.mode="multiply",S.color=this._els.filterMultiplyColor.color;break;case"tint":S.mode="tint",S.color=this._els.filterTintColor.color,S.alpha=this._els.tintOpacity.value;break;case"blur":S.blur=this._els.blurRange.value;break}return S}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new yr({slider:this.selector(".tie-removewhite-distance-range")},Xr.removewhiteDistanceRange),brightnessRange:new yr({slider:this.selector(".tie-brightness-range")},Xr.brightnessRange),noiseRange:new yr({slider:this.selector(".tie-noise-range")},Xr.noiseRange),pixelateRange:new yr({slider:this.selector(".tie-pixelate-range")},Xr.pixelateRange),colorfilterThresholdRange:new yr({slider:this.selector(".tie-colorfilter-threshold-range")},Xr.colorfilterThresholdRange),filterTintColor:new Ni(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new Ni(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new Ni(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:Xr.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(b){var S=document.createElement("div"),P=document.createElement("label"),Q=document.createElement("div");return Q.id="tie-filter-tint-opacity",P.innerHTML="Opacity",S.appendChild(P),S.appendChild(Q),b.appendChild(S),b.style.height=ab,new yr({slider:Q},Xr.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(b){var S=document.createElement("div"),P=document.createElement("select"),Q=document.createElement("ul");return S.className="tui-image-editor-selectlist-wrap",Q.className="tui-image-editor-selectlist",S.appendChild(P),S.appendChild(Q),this._makeSelectOptionList(P),b.appendChild(S),b.style.height=ab,this._drawSelectOptionList(P,Q),this._pickerWithSelectboxForAddEvent(P,Q),P}},{key:"_drawSelectOptionList",value:function(b,S){var P=b.querySelectorAll("option");$()(P,function(Q){var W=document.createElement("li");W.innerHTML=Q.innerHTML,W.setAttribute("data-item",Q.value),S.appendChild(W)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(b,S){var P=this;S.addEventListener("click",function(Q){var W=Q.target.getAttribute("data-item"),G=document.createEvent("HTMLEvents");b.querySelector('[value="'.concat(W,'"]')).selected=!0,G.initEvent("change",!0,!0),b.dispatchEvent(G),P.selectBoxShow=!1,S.style.display="none"}),b.addEventListener("mousedown",function(Q){Q.preventDefault(),P.selectBoxShow=!P.selectBoxShow,S.style.display=P.selectBoxShow?"block":"none",S.setAttribute("data-selectitem",b.value),S.querySelector("[data-item='".concat(b.value,"']")).classList.add("active")})}},{key:"_makeSelectOptionList",value:function(b){$()(RG,function(S){var P=document.createElement("option");P.setAttribute("value",S),P.innerHTML=S.replace(/^[a-z]/,function(Q){return Q.toUpperCase()}),b.appendChild(P)})}}]),E}(Zr),jG=HG,zG=a(4383),VG=a.n(zG),GG=function(){function j(O,E){var _=E.name;X(this,j),this.name=_,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),O.appendChild(this.panelElement)}return ie(j,[{key:"_makePanelElement",value:function(){var E=document.createElement("div");return E.className="tie-panel-".concat(this.name),E}},{key:"_makeListElement",value:function(){var E=document.createElement("ol");return E.className="".concat(this.name,"-list"),E}},{key:"makeListItemElement",value:function(E){var _=document.createElement("li");return _.innerHTML=E,_.className="".concat(this.name,"-item"),_.setAttribute("data-index",this.items.length),_}},{key:"pushListItemElement",value:function(E){this.listElement.appendChild(E),this.listElement.scrollTop+=E.offsetHeight,this.items.push(E)}},{key:"deleteListItemElement",value:function(E,_){for(var b=this.items,S=E;S<_;S+=1)this.listElement.removeChild(b[S]);B()(b).call(b,E,_-E+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(E,_){this.items[E]&&this.items[E].classList.add(_)}},{key:"removeClass",value:function(E,_){this.items[E]&&this.items[E].classList.remove(_)}},{key:"toggleClass",value:function(E,_){this.items[E]&&this.items[E].classList.toggle(_)}}]),j}(),WG=GG,YG=function(j){var O,E,_,b=j.locale,S=j.makeSvgIcon,P=j.name,Q=j.detail;return R()(O=R()(E=R()(_=`
    <div class="tui-image-editor-history-item history">
        <div class="history-item-icon">
            `.concat(S(["normal","active"],"history-".concat(P.toLowerCase()),!0),`
        </div>
        <span>
            `)).call(_,b.localize(P),`
            `)).call(E,Q?"(".concat(b.localize(Q),")"):"",`
        </span>
        <div class="history-item-checkbox">
            `)).call(O,S(["normal"],"history-check",!0),`
        </div>
    </div>
`)};function XG(j){var O=KG();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function KG(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var ZG="history-item",lb="selected-item",cb="disabled-item",JG=function(j){Pt(E,j);var O=XG(E);function E(_,b){var S,P=b.locale,Q=b.makeSvgIcon;return X(this,E),S=O.call(this,_,{name:"history"}),_.classList.add("enabled"),S.locale=P,S.makeSvgIcon=Q,S._eventHandler={},S._historyIndex=S.getListLength(),S}return ie(E,[{key:"add",value:function(b){var S=b.name,P=b.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var Q=YG({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:S,detail:P}),W=this.makeListItemElement(Q);this.pushListItemElement(W),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var b=this;this._eventHandler.history=function(S){return b._clickHistoryItem(S)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(b){var S=b.target,P=S.closest(".".concat(ZG));if(!!P){var Q=VG()(P.getAttribute("data-index"),10);if(Q!==this._historyIndex){var W=Math.abs(Q-this._historyIndex);Q<this._historyIndex?this._actions.undo(W):this._actions.redo(W)}}}},{key:"_selectItem",value:function(b){for(var S=0;S<this.getListLength();S+=1)this.removeClass(S,lb),this.removeClass(S,cb),S>b&&this.addClass(S,cb);this.addClass(b,lb)}},{key:"destroy",value:function(){this.removeEvent(),Rn(this)}},{key:"addEvent",value:function(b){this._actions=b,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),E}(WG),$G=JG,qG=function(){function j(O){X(this,j),this._locale=O}return ie(j,[{key:"localize",value:function(E){return this._locale[E]||E}}]),j}(),e8=qG,t8={Shape:GV,Crop:ZV,Resize:tG,Flip:oG,Rotate:hG,Text:mG,Mask:bG,Icon:xG,Draw:kG,Filter:jG},n8="1300",ub="history",r8="tie-panel-history",oA="on",sA={ZOOM_IN:"zoomIn",HAND:"hand"},fb=function(){function j(O,E,_){X(this,j),this.options=this._initializeOption(E),this._actions=_,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new e8(this.options.locale),this.theme=new TV(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(O),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return ie(j,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Rn(this)}},{key:"setUiDefaultSelectionStyle",value:function(E){return Y()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},E)}},{key:"resizeEditor",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=E.uiSize,b=E.imageSize,S=b===void 0?this.imageSize:b;S!==this.imageSize&&(this.imageSize=S),_&&this._setUiSize(_);var P=this._getCanvasMaxDimension(),Q=P.width,W=P.height,G=this._editorElement.style,ae=this.options.menuBarPosition;G.height="".concat(W,"px"),G.width="".concat(Q,"px"),this._setEditorPosition(ae),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var ce=this._selectedElement.classList;ae==="top"&&this._selectedElement.offsetWidth<n8?ce.add("tui-image-editor-top-optimization"):ce.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(E){var _=this._buttonElements[E].classList;_.toggle(oA),E===sA.ZOOM_IN?this._buttonElements[sA.HAND].classList.remove(oA):this._buttonElements[sA.ZOOM_IN].classList.remove(oA)}},{key:"offZoomInButtonStatus",value:function(){var E=this._buttonElements[sA.ZOOM_IN].classList;E.remove(oA)}},{key:"changeHandButtonStatus",value:function(E){var _=this._buttonElements[sA.HAND].classList;_[E?"add":"remove"](oA)}},{key:"changeHelpButtonEnabled",value:function(E,_){var b=this._buttonElements[E].classList;b[_?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(E){return Y()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},E)}},{key:"_setUiSize",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.uiSize,_=this._selectedElement.style;_.width=E.width,_.height=E.height}},{key:"_makeSubMenu",value:function(){var E=this;$()(this.options.menu,function(_){var b,S=t8[_.replace(/^[a-z]/,function(P){return P.toUpperCase()})];E._makeMenuElement(_),E._buttonElements[_]=E._menuBarElement.querySelector(".tie-btn-".concat(_)),E[_]=new S(E._subMenuElement,{locale:E._locale,makeSvgIcon:le()(b=E.theme.makeMenSvgIconSet).call(b,E.theme),menuBarPosition:E.options.menuBarPosition,usageStatistics:E.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){var E,_,b;this.on(Te.EXECUTE_COMMAND,le()(E=this._addHistory).call(E,this)),this.on(Te.AFTER_UNDO,le()(_=this._selectPrevHistory).call(_,this)),this.on(Te.AFTER_REDO,le()(b=this._selectNextHistory).call(b,this))}},{key:"_attachZoomEvent",value:function(){var E=this;this.on(Te.HAND_STARTED,function(){E.offZoomInButtonStatus(),E.changeHandButtonStatus(!0)}),this.on(Te.HAND_STOPPED,function(){return E.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(E){var _,b;E.nodeType?b=E:b=document.querySelector(E);var S=rA(b);b.classList.add("tui-image-editor-container"),b.innerHTML=_V({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+EV({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=b,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=S(".tui-image-editor-main"),this._editorElementWrap=S(".tui-image-editor-wrap"),this._editorElement=S(".tui-image-editor"),this._helpMenuBarElement=S(".tui-image-editor-help-menu"),this._menuBarElement=S(".tui-image-editor-menu"),this._subMenuElement=S(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new $G(this._buttonElements[ub],{locale:this._locale,makeSvgIcon:le()(_=this.theme.makeMenSvgIconSet).call(_,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var E=this;$()(_t,function(_){E.changeHelpButtonEnabled(_,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){var E;return R()(E=[]).call(E,N(_t),[""],N(Xt),[""],N(Ht))}},{key:"_addHelpMenus",value:function(){var E=this,_=this._makeHelpMenuWithPartition();$()(_,function(b){b?(E._makeMenuElement(b,["normal","disabled","hover"],"help"),E._buttonElements[b]=E._helpMenuBarElement.querySelector(".tie-btn-".concat(b))):E._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var E=document.createElement("li"),_=document.createElement("div");E.className=zc("item"),_.className=zc("icpartition"),E.appendChild(_),this._helpMenuBarElement.appendChild(E)}},{key:"_makeMenuElement",value:function(E){var _,b,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["normal","active","hover"],P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal",Q=document.createElement("li"),W=this.theme.makeMenSvgIconSet(S,E);this._addTooltipAttribute(Q,E),Q.className=R()(_=R()(b="tie-btn-".concat(E," ")).call(b,zc("item")," ")).call(_,P),Q.innerHTML=W,P==="normal"?this._menuBarElement.appendChild(Q):this._helpMenuBarElement.appendChild(Q)}},{key:"_addHelpActionEvent",value:function(){var E=this;$()(Fe,function(_){E.eventHandler[_]=function(b){return E._actions.main[_](b)},E._buttonElements[_].addEventListener("click",E.eventHandler[_])})}},{key:"_removeHelpActionEvent",value:function(){var E=this;$()(Fe,function(_){E._buttonElements[_].removeEventListener("click",E.eventHandler[_])})}},{key:"_addHistory",value:function(E){if(!fV(E)){var _=typeof E=="string"?{name:E}:hV(E);this._historyMenu.add(_)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(E){var _=E.target,b=_.closest(".".concat(r8));if(!b){var S=this._buttonElements[ub].classList;S.toggle("opened")}}},{key:"_addTooltipAttribute",value:function(E,_){E.setAttribute("tooltip-content",this._locale.localize(_.replace(/^[a-z]/g,function(b){return b.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var E=this;this.eventHandler.download=function(){return E._actions.main.download()},$()(this._buttonElements.download,function(_){_.addEventListener("click",E.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var E=this;$()(this._buttonElements.download,function(_){_.removeEventListener("click",E.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var E=this;this.eventHandler.loadImage=function(_){return E._actions.main.load(_.target.files[0])},$()(this._buttonElements.load,function(_){_.addEventListener("change",E.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var E=this;$()(this._buttonElements.load,function(_){_.removeEventListener("change",E.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(E){var _=this;this.eventHandler[E]=function(){return _.changeMenu(E)},this._buttonElements[E].addEventListener("click",this.eventHandler[E])}},{key:"_addSubMenuEvent",value:function(E){var _=this;this[E].addEvent(this._actions[E]),this[E].on(Te.INPUT_BOX_EDITING_STARTED,function(){return _.fire(Te.INPUT_BOX_EDITING_STARTED)}),this[E].on(Te.INPUT_BOX_EDITING_STOPPED,function(){return _.fire(Te.INPUT_BOX_EDITING_STOPPED)})}},{key:"_addMenuEvent",value:function(){var E=this;$()(this.options.menu,function(_){E._addMainMenuEvent(_),E._addSubMenuEvent(_)})}},{key:"_removeMainMenuEvent",value:function(){var E=this;$()(this.options.menu,function(_){E._buttonElements[_].removeEventListener("click",E.eventHandler[_]),E[_].off(Te.INPUT_BOX_EDITING_STARTED),E[_].off(Te.INPUT_BOX_EDITING_STOPPED)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var E=this;$()(this.options.menu,function(_){E[_].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var E=this,_=this._getLoadImage();_.path&&this._actions.main.initLoadImage(_.path,_.name).then(function(){E.activeMenuEvent()}),this._addLoadEvent();var b=document.createElement("div");b.className=zc("grid-visual");var S=`<table>
           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>
           <tr><td></td><td></td><td></td></tr>
           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>
         </table>`;b.innerHTML=S,this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(b)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(E){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(E,_,b),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(E,_,b){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),b&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===E&&_?this.submenu=null:(this._buttonElements[E].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(E)),this.submenu=E,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var E=document.createEvent("MouseEvents");E.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(E)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var E=this._editorContainerElement.style,_=E.maxWidth,b=E.maxHeight,S=Pi()(_),P=Pi()(b);return{width:S,height:P}}},{key:"_setEditorPosition",value:function(E){var _=this._getCanvasMaxDimension(),b=_.width,S=_.height,P=this._editorElement.style,Q=0,W=0;this.submenu&&(E==="bottom"?S>this._editorElementWrap.scrollHeight-150?Q=(S-this._editorElementWrap.scrollHeight)/2:Q=150/2*-1:E==="top"?S>this._editorElementWrap.offsetHeight-150?Q=150/2-(S-(this._editorElementWrap.offsetHeight-150))/2:Q=150/2:E==="left"?b>this._editorElementWrap.offsetWidth-248?W=248/2-(b-(this._editorElementWrap.offsetWidth-248))/2:W=248/2:E==="right"&&(b>this._editorElementWrap.scrollWidth-248?W=(b-this._editorElementWrap.scrollWidth)/2:W=248/2*-1)),P.top="".concat(Q,"px"),P.left="".concat(W,"px")}}]),j}();pe().mixin(fb);var i8=fb,a8=a(381),mo=a.n(a8),hb=function(){function j(){X(this,j),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return ie(j,[{key:"imageToSVG",value:function(E,_,b){var S=this;b=this.checkoptions(b),this.loadImage(E,function(P){_(S.imagedataToSVG(S.getImgdata(P),b))},b)}},{key:"imagedataToSVG",value:function(E,_){_=this.checkoptions(_);var b=this.imagedataToTracedata(E,_);return this.getsvgstring(b,_)}},{key:"imageToTracedata",value:function(E,_,b){var S=this;b=this.checkoptions(b),this.loadImage(E,function(P){_(S.imagedataToTracedata(S.getImgdata(P),b))},b)}},{key:"imagedataToTracedata",value:function(E,_){_=this.checkoptions(_);var b=this.colorquantization(E,_),S;if(_.layering===0){S={layers:[],palette:b.palette,width:b.array[0].length-2,height:b.array.length-2};for(var P=0;P<b.palette.length;P+=1){var Q=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(b,P),_.pathomit),_),_.ltres,_.qtres);S.layers.push(Q)}}else{var W=this.layering(b);_.layercontainerid&&this.drawLayers(W,this.specpalette,_.scale,_.layercontainerid);var G=this.batchpathscan(W,_.pathomit),ae=this.batchinternodes(G,_);S={layers:this.batchtracelayers(ae,_.ltres,_.qtres),palette:b.palette,width:E.width,height:E.height}}return S}},{key:"checkoptions",value:function(E){E=E||{},typeof E=="string"&&(E=E.toLowerCase(),this.optionpresets[E]?E=this.optionpresets[E]:E={});for(var _=Ee()(this.optionpresets.default),b=0;b<_.length;b+=1)E.hasOwnProperty(_[b])||(E[_[b]]=this.optionpresets.default[_[b]]);return E}},{key:"colorquantization",value:function(E,_){var b=[],S=0,P,Q,W,G=[],ae=E.width*E.height,ce,Be,be,Se,_e;for(Be=0;Be<E.height+2;Be+=1)for(b[Be]=[],ce=0;ce<E.width+2;ce+=1)b[Be][ce]=-1;for(_.pal?_e=_.pal:_.colorsampling===0?_e=this.generatepalette(_.numberofcolors):_.colorsampling===1?_e=this.samplepalette(_.numberofcolors,E):_e=this.samplepalette2(_.numberofcolors,E),_.blurradius>0&&(E=this.blur(E,_.blurradius,_.blurdelta)),Se=0;Se<_.colorquantcycles;Se+=1){if(Se>0)for(be=0;be<_e.length;be+=1)G[be].n>0&&(_e[be]={r:Math.floor(G[be].r/G[be].n),g:Math.floor(G[be].g/G[be].n),b:Math.floor(G[be].b/G[be].n),a:Math.floor(G[be].a/G[be].n)}),G[be].n/ae<_.mincolorratio&&Se<_.colorquantcycles-1&&(_e[be]={r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)});for(ce=0;ce<_e.length;ce+=1)G[ce]={r:0,g:0,b:0,a:0,n:0};for(Be=0;Be<E.height;Be+=1)for(ce=0;ce<E.width;ce+=1){for(S=(Be*E.width+ce)*4,W=0,Q=1024,be=0;be<_e.length;be+=1)P=Math.abs(_e[be].r-E.data[S])+Math.abs(_e[be].g-E.data[S+1])+Math.abs(_e[be].b-E.data[S+2])+Math.abs(_e[be].a-E.data[S+3]),P<Q&&(Q=P,W=be);G[W].r+=E.data[S],G[W].g+=E.data[S+1],G[W].b+=E.data[S+2],G[W].a+=E.data[S+3],G[W].n+=1,b[Be+1][ce+1]=W}}return{array:b,palette:_e}}},{key:"samplepalette",value:function(E,_){for(var b,S=[],P=0;P<E;P+=1)b=Math.floor(Math.random()*_.data.length/4)*4,S.push({r:_.data[b],g:_.data[b+1],b:_.data[b+2],a:_.data[b+3]});return S}},{key:"samplepalette2",value:function(E,_){for(var b,S=[],P=Math.ceil(Math.sqrt(E)),Q=Math.ceil(E/P),W=_.width/(P+1),G=_.height/(Q+1),ae=0;ae<Q;ae+=1)for(var ce=0;ce<P&&S.length!==E;ce+=1)b=Math.floor((ae+1)*G*_.width+(ce+1)*W)*4,S.push({r:_.data[b],g:_.data[b+1],b:_.data[b+2],a:_.data[b+3]});return S}},{key:"generatepalette",value:function(E){var _=[],b,S,P;if(E<8)for(var Q=Math.floor(255/(E-1)),W=0;W<E;W+=1)_.push({r:W*Q,g:W*Q,b:W*Q,a:255});else{var G=Math.floor(Math.pow(E,.3333333333333333)),ae=Math.floor(255/(G-1)),ce=E-G*G*G;for(b=0;b<G;b+=1)for(S=0;S<G;S+=1)for(P=0;P<G;P+=1)_.push({r:b*ae,g:S*ae,b:P*ae,a:255});for(b=0;b<ce;b+=1)_.push({r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)})}return _}},{key:"layering",value:function(E){var _=[],b=0,S=E.array.length,P=E.array[0].length,Q,W,G,ae,ce,Be,be,Se,_e,Me,Pe;for(Pe=0;Pe<E.palette.length;Pe+=1)for(_[Pe]=[],Me=0;Me<S;Me+=1)for(_[Pe][Me]=[],_e=0;_e<P;_e+=1)_[Pe][Me][_e]=0;for(Me=1;Me<S-1;Me+=1)for(_e=1;_e<P-1;_e+=1)b=E.array[Me][_e],Q=E.array[Me-1][_e-1]===b?1:0,W=E.array[Me-1][_e]===b?1:0,G=E.array[Me-1][_e+1]===b?1:0,ae=E.array[Me][_e-1]===b?1:0,ce=E.array[Me][_e+1]===b?1:0,Be=E.array[Me+1][_e-1]===b?1:0,be=E.array[Me+1][_e]===b?1:0,Se=E.array[Me+1][_e+1]===b?1:0,_[b][Me+1][_e+1]=1+ce*2+Se*4+be*8,ae||(_[b][Me+1][_e]=0+2+be*4+Be*8),W||(_[b][Me][_e+1]=0+G*2+ce*4+8),Q||(_[b][Me][_e]=0+W*2+4+ae*8);return _}},{key:"layeringstep",value:function(E,_){var b=[],S=E.array.length,P=E.array[0].length,Q,W;for(W=0;W<S;W+=1)for(b[W]=[],Q=0;Q<P;Q+=1)b[W][Q]=0;for(W=1;W<S;W+=1)for(Q=1;Q<P;Q+=1)b[W][Q]=(E.array[W-1][Q-1]===_?1:0)+(E.array[W-1][Q]===_?2:0)+(E.array[W][Q-1]===_?8:0)+(E.array[W][Q]===_?4:0);return b}},{key:"pathscan",value:function(E,_){for(var b=[],S=0,P=0,Q=0,W=0,G=E[0].length,ae=E.length,ce=0,Be=!0,be=!1,Se,_e=0;_e<ae;_e+=1)for(var Me=0;Me<G;Me+=1)if(E[_e][Me]===4||E[_e][Me]===11)for(Q=Me,W=_e,b[S]={},b[S].points=[],b[S].boundingbox=[Q,W,Q,W],b[S].holechildren=[],Be=!1,P=0,be=E[_e][Me]===11,ce=1;!Be;){if(b[S].points[P]={},b[S].points[P].x=Q-1,b[S].points[P].y=W-1,b[S].points[P].t=E[W][Q],Q-1<b[S].boundingbox[0]&&(b[S].boundingbox[0]=Q-1),Q-1>b[S].boundingbox[2]&&(b[S].boundingbox[2]=Q-1),W-1<b[S].boundingbox[1]&&(b[S].boundingbox[1]=W-1),W-1>b[S].boundingbox[3]&&(b[S].boundingbox[3]=W-1),Se=this.pathscan_combined_lookup[E[W][Q]][ce],E[W][Q]=Se[0],ce=Se[1],Q+=Se[2],W+=Se[3],Q-1===b[S].points[0].x&&W-1===b[S].points[0].y)if(Be=!0,b[S].points.length<_)b.pop();else{if(b[S].isholepath=!!be,be){for(var Pe=0,at=[-1,-1,G+1,ae+1],st=0;st<S;st++)!b[st].isholepath&&this.boundingboxincludes(b[st].boundingbox,b[S].boundingbox)&&this.boundingboxincludes(at,b[st].boundingbox)&&(Pe=st,at=b[st].boundingbox);b[Pe].holechildren.push(S)}S+=1}P+=1}return b}},{key:"boundingboxincludes",value:function(E,_){return E[0]<_[0]&&E[1]<_[1]&&E[2]>_[2]&&E[3]>_[3]}},{key:"batchpathscan",value:function(E,_){var b=[];for(var S in E)!E.hasOwnProperty(S)||(b[S]=this.pathscan(E[S],_));return b}},{key:"internodes",value:function(E,_){var b=[],S=0,P=0,Q=0,W=0,G=0,ae,ce;for(ae=0;ae<E.length;ae+=1)for(b[ae]={},b[ae].points=[],b[ae].boundingbox=E[ae].boundingbox,b[ae].holechildren=E[ae].holechildren,b[ae].isholepath=E[ae].isholepath,S=E[ae].points.length,ce=0;ce<S;ce+=1)P=(ce+1)%S,Q=(ce+2)%S,W=(ce-1+S)%S,G=(ce-2+S)%S,_.rightangleenhance&&this.testrightangle(E[ae],G,W,ce,P,Q)&&(b[ae].points.length>0&&(b[ae].points[b[ae].points.length-1].linesegment=this.getdirection(b[ae].points[b[ae].points.length-1].x,b[ae].points[b[ae].points.length-1].y,E[ae].points[ce].x,E[ae].points[ce].y)),b[ae].points.push({x:E[ae].points[ce].x,y:E[ae].points[ce].y,linesegment:this.getdirection(E[ae].points[ce].x,E[ae].points[ce].y,(E[ae].points[ce].x+E[ae].points[P].x)/2,(E[ae].points[ce].y+E[ae].points[P].y)/2)})),b[ae].points.push({x:(E[ae].points[ce].x+E[ae].points[P].x)/2,y:(E[ae].points[ce].y+E[ae].points[P].y)/2,linesegment:this.getdirection((E[ae].points[ce].x+E[ae].points[P].x)/2,(E[ae].points[ce].y+E[ae].points[P].y)/2,(E[ae].points[P].x+E[ae].points[Q].x)/2,(E[ae].points[P].y+E[ae].points[Q].y)/2)});return b}},{key:"testrightangle",value:function(E,_,b,S,P,Q){return E.points[S].x===E.points[_].x&&E.points[S].x===E.points[b].x&&E.points[S].y===E.points[P].y&&E.points[S].y===E.points[Q].y||E.points[S].y===E.points[_].y&&E.points[S].y===E.points[b].y&&E.points[S].x===E.points[P].x&&E.points[S].x===E.points[Q].x}},{key:"getdirection",value:function(E,_,b,S){var P=8;return E<b?_<S?P=1:_>S?P=7:P=0:E>b?_<S?P=3:_>S?P=5:P=4:_<S?P=2:_>S?P=6:P=8,P}},{key:"batchinternodes",value:function(E,_){var b=[];for(var S in E)!E.hasOwnProperty(S)||(b[S]=this.internodes(E[S],_));return b}},{key:"tracepath",value:function(E,_,b){var S=0,P,Q,W,G={};for(G.segments=[],G.boundingbox=E.boundingbox,G.holechildren=E.holechildren,G.isholepath=E.isholepath;S<E.points.length;){var ae;for(P=E.points[S].linesegment,Q=-1,W=S+1;(E.points[W].linesegment===P||E.points[W].linesegment===Q||Q===-1)&&W<E.points.length-1;)E.points[W].linesegment!==P&&Q===-1&&(Q=E.points[W].linesegment),W+=1;W===E.points.length-1&&(W=0),G.segments=R()(ae=G.segments).call(ae,this.fitseq(E,_,b,S,W)),W>0?S=W:S=E.points.length}return G}},{key:"fitseq",value:function(E,_,b,S,P){var Q;if(P>E.points.length||P<0)return[];var W=S,G=0,ae=!0,ce,Be,be,Se=P-S;Se<0&&(Se+=E.points.length);for(var _e=(E.points[P].x-E.points[S].x)/Se,Me=(E.points[P].y-E.points[S].y)/Se,Pe=(S+1)%E.points.length,at;Pe!=P;)at=Pe-S,at<0&&(at+=E.points.length),ce=E.points[S].x+_e*at,Be=E.points[S].y+Me*at,be=(E.points[Pe].x-ce)*(E.points[Pe].x-ce)+(E.points[Pe].y-Be)*(E.points[Pe].y-Be),be>_&&(ae=!1),be>G&&(W=Pe,G=be),Pe=(Pe+1)%E.points.length;if(ae)return[{type:"L",x1:E.points[S].x,y1:E.points[S].y,x2:E.points[P].x,y2:E.points[P].y}];var st=W;ae=!0,G=0;var ut=(st-S)/Se,Ye=(1-ut)*(1-ut),Ot=2*(1-ut)*ut,Fn=ut*ut,qn=(Ye*E.points[S].x+Fn*E.points[P].x-E.points[st].x)/-Ot,fn=(Ye*E.points[S].y+Fn*E.points[P].y-E.points[st].y)/-Ot;for(Pe=S+1;Pe!=P;)ut=(Pe-S)/Se,Ye=(1-ut)*(1-ut),Ot=2*(1-ut)*ut,Fn=ut*ut,ce=Ye*E.points[S].x+Ot*qn+Fn*E.points[P].x,Be=Ye*E.points[S].y+Ot*fn+Fn*E.points[P].y,be=(E.points[Pe].x-ce)*(E.points[Pe].x-ce)+(E.points[Pe].y-Be)*(E.points[Pe].y-Be),be>b&&(ae=!1),be>G&&(W=Pe,G=be),Pe=(Pe+1)%E.points.length;if(ae)return[{type:"Q",x1:E.points[S].x,y1:E.points[S].y,x2:qn,y2:fn,x3:E.points[P].x,y3:E.points[P].y}];var Fr=st;return R()(Q=this.fitseq(E,_,b,S,Fr)).call(Q,this.fitseq(E,_,b,Fr,P))}},{key:"batchtracepaths",value:function(E,_,b){var S=[];for(var P in E)!E.hasOwnProperty(P)||S.push(this.tracepath(E[P],_,b));return S}},{key:"batchtracelayers",value:function(E,_,b){var S=[];for(var P in E)!E.hasOwnProperty(P)||(S[P]=this.batchtracepaths(E[P],_,b));return S}},{key:"roundtodec",value:function(E,_){return Number(E.toFixed(_))}},{key:"svgpathstring",value:function(E,_,b,S){var P,Q,W=E.layers[_],G=W[b],ae="",ce;if(S.linefilter&&G.segments.length<3)return ae;if(ae=R()(P="<path ".concat(S.desc?R()(Q='desc="l '.concat(_," p ")).call(Q,b,'" '):"")).call(P,this.tosvgcolorstr(E.palette[_],S),'d="'),S.roundcoords===-1){var Be;for(ae+=R()(Be="M ".concat(G.segments[0].x1*S.scale," ")).call(Be,G.segments[0].y1*S.scale," "),ce=0;ce<G.segments.length;ce++){var be,Se;if(ae+=R()(be=R()(Se="".concat(G.segments[ce].type," ")).call(Se,G.segments[ce].x2*S.scale," ")).call(be,G.segments[ce].y2*S.scale," "),G.segments[ce].hasOwnProperty("x3")){var _e;ae+=R()(_e="".concat(G.segments[ce].x3*S.scale," ")).call(_e,G.segments[ce].y3*S.scale," ")}}ae+="Z "}else{var Me;for(ae+=R()(Me="M ".concat(this.roundtodec(G.segments[0].x1*S.scale,S.roundcoords)," ")).call(Me,this.roundtodec(G.segments[0].y1*S.scale,S.roundcoords)," "),ce=0;ce<G.segments.length;ce++){var Pe,at;if(ae+=R()(Pe=R()(at="".concat(G.segments[ce].type," ")).call(at,this.roundtodec(G.segments[ce].x2*S.scale,S.roundcoords)," ")).call(Pe,this.roundtodec(G.segments[ce].y2*S.scale,S.roundcoords)," "),G.segments[ce].hasOwnProperty("x3")){var st;ae+=R()(st="".concat(this.roundtodec(G.segments[ce].x3*S.scale,S.roundcoords)," ")).call(st,this.roundtodec(G.segments[ce].y3*S.scale,S.roundcoords)," ")}}ae+="Z "}for(var ut=0;ut<G.holechildren.length;ut++){var Ye=W[G.holechildren[ut]];if(S.roundcoords===-1){if(Ye.segments[Ye.segments.length-1].hasOwnProperty("x3")){var Ot;ae+=R()(Ot="M ".concat(Ye.segments[Ye.segments.length-1].x3*S.scale," ")).call(Ot,Ye.segments[Ye.segments.length-1].y3*S.scale," ")}else{var Fn;ae+=R()(Fn="M ".concat(Ye.segments[Ye.segments.length-1].x2*S.scale," ")).call(Fn,Ye.segments[Ye.segments.length-1].y2*S.scale," ")}for(ce=Ye.segments.length-1;ce>=0;ce--){var qn;if(ae+="".concat(Ye.segments[ce].type," "),Ye.segments[ce].hasOwnProperty("x3")){var fn;ae+=R()(fn="".concat(Ye.segments[ce].x2*S.scale," ")).call(fn,Ye.segments[ce].y2*S.scale," ")}ae+=R()(qn="".concat(Ye.segments[ce].x1*S.scale," ")).call(qn,Ye.segments[ce].y1*S.scale," ")}}else{if(Ye.segments[Ye.segments.length-1].hasOwnProperty("x3")){var Fr;ae+=R()(Fr="M ".concat(this.roundtodec(Ye.segments[Ye.segments.length-1].x3*S.scale)," ")).call(Fr,this.roundtodec(Ye.segments[Ye.segments.length-1].y3*S.scale)," ")}else{var Qi;ae+=R()(Qi="M ".concat(this.roundtodec(Ye.segments[Ye.segments.length-1].x2*S.scale)," ")).call(Qi,this.roundtodec(Ye.segments[Ye.segments.length-1].y2*S.scale)," ")}for(ce=Ye.segments.length-1;ce>=0;ce--){var er;if(ae+="".concat(Ye.segments[ce].type," "),Ye.segments[ce].hasOwnProperty("x3")){var lA;ae+=R()(lA="".concat(this.roundtodec(Ye.segments[ce].x2*S.scale)," ")).call(lA,this.roundtodec(Ye.segments[ce].y2*S.scale)," ")}ae+=R()(er="".concat(this.roundtodec(Ye.segments[ce].x1*S.scale)," ")).call(er,this.roundtodec(Ye.segments[ce].y1*S.scale)," ")}}ae+="Z "}if(ae+='" />',S.lcpr||S.qcpr){for(ce=0;ce<G.segments.length;ce++){if(G.segments[ce].hasOwnProperty("x3")&&S.qcpr){var qc,eu,tu,nu,ru,iu,au,ou,su,Au,lu,cu,uu,fu;ae+=R()(qc=R()(eu=R()(tu='<circle cx="'.concat(G.segments[ce].x2*S.scale,'" cy="')).call(tu,G.segments[ce].y2*S.scale,'" r="')).call(eu,S.qcpr,'" fill="cyan" stroke-width="')).call(qc,S.qcpr*.2,'" stroke="black" />'),ae+=R()(nu=R()(ru=R()(iu='<circle cx="'.concat(G.segments[ce].x3*S.scale,'" cy="')).call(iu,G.segments[ce].y3*S.scale,'" r="')).call(ru,S.qcpr,'" fill="white" stroke-width="')).call(nu,S.qcpr*.2,'" stroke="black" />'),ae+=R()(au=R()(ou=R()(su=R()(Au='<line x1="'.concat(G.segments[ce].x1*S.scale,'" y1="')).call(Au,G.segments[ce].y1*S.scale,'" x2="')).call(su,G.segments[ce].x2*S.scale,'" y2="')).call(ou,G.segments[ce].y2*S.scale,'" stroke-width="')).call(au,S.qcpr*.2,'" stroke="cyan" />'),ae+=R()(lu=R()(cu=R()(uu=R()(fu='<line x1="'.concat(G.segments[ce].x2*S.scale,'" y1="')).call(fu,G.segments[ce].y2*S.scale,'" x2="')).call(uu,G.segments[ce].x3*S.scale,'" y2="')).call(cu,G.segments[ce].y3*S.scale,'" stroke-width="')).call(lu,S.qcpr*.2,'" stroke="cyan" />')}if(!G.segments[ce].hasOwnProperty("x3")&&S.lcpr){var hu,du,gu;ae+=R()(hu=R()(du=R()(gu='<circle cx="'.concat(G.segments[ce].x2*S.scale,'" cy="')).call(gu,G.segments[ce].y2*S.scale,'" r="')).call(du,S.lcpr,'" fill="white" stroke-width="')).call(hu,S.lcpr*.2,'" stroke="black" />')}}for(var ut=0;ut<G.holechildren.length;ut++){var Ye=W[G.holechildren[ut]];for(ce=0;ce<Ye.segments.length;ce++){if(Ye.segments[ce].hasOwnProperty("x3")&&S.qcpr){var pu,kr,ga,Jb,$b,qb,eE,tE,nE,rE,iE,aE,oE,sE;ae+=R()(pu=R()(kr=R()(ga='<circle cx="'.concat(Ye.segments[ce].x2*S.scale,'" cy="')).call(ga,Ye.segments[ce].y2*S.scale,'" r="')).call(kr,S.qcpr,'" fill="cyan" stroke-width="')).call(pu,S.qcpr*.2,'" stroke="black" />'),ae+=R()(Jb=R()($b=R()(qb='<circle cx="'.concat(Ye.segments[ce].x3*S.scale,'" cy="')).call(qb,Ye.segments[ce].y3*S.scale,'" r="')).call($b,S.qcpr,'" fill="white" stroke-width="')).call(Jb,S.qcpr*.2,'" stroke="black" />'),ae+=R()(eE=R()(tE=R()(nE=R()(rE='<line x1="'.concat(Ye.segments[ce].x1*S.scale,'" y1="')).call(rE,Ye.segments[ce].y1*S.scale,'" x2="')).call(nE,Ye.segments[ce].x2*S.scale,'" y2="')).call(tE,Ye.segments[ce].y2*S.scale,'" stroke-width="')).call(eE,S.qcpr*.2,'" stroke="cyan" />'),ae+=R()(iE=R()(aE=R()(oE=R()(sE='<line x1="'.concat(Ye.segments[ce].x2*S.scale,'" y1="')).call(sE,Ye.segments[ce].y2*S.scale,'" x2="')).call(oE,Ye.segments[ce].x3*S.scale,'" y2="')).call(aE,Ye.segments[ce].y3*S.scale,'" stroke-width="')).call(iE,S.qcpr*.2,'" stroke="cyan" />')}if(!Ye.segments[ce].hasOwnProperty("x3")&&S.lcpr){var AE,lE,cE;ae+=R()(AE=R()(lE=R()(cE='<circle cx="'.concat(Ye.segments[ce].x2*S.scale,'" cy="')).call(cE,Ye.segments[ce].y2*S.scale,'" r="')).call(lE,S.lcpr,'" fill="white" stroke-width="')).call(AE,S.lcpr*.2,'" stroke="black" />')}}}}return ae}},{key:"getsvgstring",value:function(E,_){var b,S,P;_=this.checkoptions(_);for(var Q=E.width*_.scale,W=E.height*_.scale,G=R()(b="<svg ".concat(_.viewbox?R()(S='viewBox="0 0 '.concat(Q," ")).call(S,W,'" '):R()(P='width="'.concat(Q,'" height="')).call(P,W,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(b,this.versionnumber,'" >'),ae=0;ae<E.layers.length;ae+=1)for(var ce=0;ce<E.layers[ae].length;ce+=1)E.layers[ae][ce].isholepath||(G+=this.svgpathstring(E,ae,ce,_));return G+="</svg>",G}},{key:"compareNumbers",value:function(E,_){return E-_}},{key:"torgbastr",value:function(E){var _,b,S;return R()(_=R()(b=R()(S="rgba(".concat(E.r,",")).call(S,E.g,",")).call(b,E.b,",")).call(_,E.a,")")}},{key:"tosvgcolorstr",value:function(E,_){var b,S,P,Q,W,G,ae;return R()(b=R()(S=R()(P=R()(Q=R()(W=R()(G=R()(ae='fill="rgb('.concat(E.r,",")).call(ae,E.g,",")).call(G,E.b,')" stroke="rgb(')).call(W,E.r,",")).call(Q,E.g,",")).call(P,E.b,')" stroke-width="')).call(S,_.strokewidth,'" opacity="')).call(b,E.a/255,'" ')}},{key:"appendSVGString",value:function(E,_){var b;_?(b=document.getElementById(_),b||(b=document.createElement("div"),b.id=_,document.body.appendChild(b))):(b=document.createElement("div"),document.body.appendChild(b)),b.innerHTML+=E}},{key:"blur",value:function(E,_,b){var S,P,Q,W,G,ae,ce,Be,be,Se,_e={width:E.width,height:E.height,data:[]};if(_=Math.floor(_),_<1)return E;_>5&&(_=5),b=Math.abs(b),b>1024&&(b=1024);var Me=this.gks[_-1];for(P=0;P<E.height;P++)for(S=0;S<E.width;S++){for(ae=0,ce=0,Be=0,be=0,Se=0,Q=-_;Q<_+1;Q++)S+Q>0&&S+Q<E.width&&(G=(P*E.width+S+Q)*4,ae+=E.data[G]*Me[Q+_],ce+=E.data[G+1]*Me[Q+_],Be+=E.data[G+2]*Me[Q+_],be+=E.data[G+3]*Me[Q+_],Se+=Me[Q+_]);G=(P*E.width+S)*4,_e.data[G]=Math.floor(ae/Se),_e.data[G+1]=Math.floor(ce/Se),_e.data[G+2]=Math.floor(Be/Se),_e.data[G+3]=Math.floor(be/Se)}var Pe=new Uint8ClampedArray(_e.data);for(P=0;P<E.height;P++)for(S=0;S<E.width;S++){for(ae=0,ce=0,Be=0,be=0,Se=0,Q=-_;Q<_+1;Q++)P+Q>0&&P+Q<E.height&&(G=((P+Q)*E.width+S)*4,ae+=Pe[G]*Me[Q+_],ce+=Pe[G+1]*Me[Q+_],Be+=Pe[G+2]*Me[Q+_],be+=Pe[G+3]*Me[Q+_],Se+=Me[Q+_]);G=(P*E.width+S)*4,_e.data[G]=Math.floor(ae/Se),_e.data[G+1]=Math.floor(ce/Se),_e.data[G+2]=Math.floor(Be/Se),_e.data[G+3]=Math.floor(be/Se)}for(P=0;P<E.height;P++)for(S=0;S<E.width;S++)G=(P*E.width+S)*4,W=Math.abs(_e.data[G]-E.data[G])+Math.abs(_e.data[G+1]-E.data[G+1])+Math.abs(_e.data[G+2]-E.data[G+2])+Math.abs(_e.data[G+3]-E.data[G+3]),W>b&&(_e.data[G]=E.data[G],_e.data[G+1]=E.data[G+1],_e.data[G+2]=E.data[G+2],_e.data[G+3]=E.data[G+3]);return _e}},{key:"loadImage",value:function(E,_,b){var S=new Image;b&&b.corsenabled&&(S.crossOrigin="Anonymous"),S.src=E,S.onload=function(){var P=document.createElement("canvas");P.width=S.width,P.height=S.height;var Q=P.getContext("2d");Q.drawImage(S,0,0),_(P)}}},{key:"getImgdata",value:function(E){var _=E.getContext("2d");return _.getImageData(0,0,E.width,E.height)}},{key:"drawLayers",value:function(E,_,b,S){b=b||1;var P,Q,W,G,ae,ce;S?(ce=document.getElementById(S),ce||(ce=document.createElement("div"),ce.id=S,document.body.appendChild(ce))):(ce=document.createElement("div"),document.body.appendChild(ce));for(ae in E)if(!!E.hasOwnProperty(ae)){P=E[ae][0].length,Q=E[ae].length;var Be=document.createElement("canvas");Be.width=P*b,Be.height=Q*b;var be=Be.getContext("2d");for(G=0;G<Q;G+=1)for(W=0;W<P;W+=1)be.fillStyle=this.torgbastr(_[E[ae][G][W]%_.length]),be.fillRect(W*b,G*b,b,b);ce.appendChild(Be)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),j}(),o8={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var O=this,E=function(){O.ui.submenu==="crop"&&(O.stopDrawingMode(),O.ui.changeMenu("crop"))},_=function(ae){O.ui.submenu==="rotate"&&O.ui.rotate.setRangeBarAngle("setAngle",ae)},b=function(ae){O.ui.submenu==="filter"&&mo()(O.ui).setFilterState(ae)},S=function(ae){return _(ae),b(ae),ae},P=function(){var ae=O._graphics.getZoomMode();O.stopDrawingMode(),ae!==Nn.ZOOM?(O.startDrawingMode(Tt.ZOOM),O._graphics.startZoomInMode()):O._graphics.endZoomInMode()},Q=function(){var ae=O._graphics.getZoomMode();O.stopDrawingMode(),ae!==Nn.HAND?(O.startDrawingMode(Tt.ZOOM),O._graphics.startHandMode()):O._graphics.endHandMode()},W=function(){mo()(O.ui)&&mo()(O.ui).initFilterCheckBoxState()};return Y()({initLoadImage:function(ae,ce){return O.loadImageFromURL(ae,ce).then(function(Be){E(),O.ui.initializeImgUrl=ae,O.ui.resizeEditor({imageSize:Be}),O.clearUndoStack(),O._invoker.fire(Te.EXECUTE_COMMAND,St.LOAD_IMAGE)})},undo:function(){O.isEmptyUndoStack()||(E(),O.deactivateAll(),O.undo().then(S))},redo:function(){O.isEmptyRedoStack()||(E(),O.deactivateAll(),O.redo().then(S))},reset:function(){E(),O.loadImageFromURL(O.ui.initializeImgUrl,"resetImage").then(function(ae){E(),W(),O.ui.resizeEditor({imageSize:ae}),O.clearUndoStack(),O._initHistory()})},delete:function(){O.ui.changeHelpButtonEnabled("delete",!1),E(),O.removeActiveObject(),O.activeObjectId=null},deleteAll:function(){E(),O.clearObjects(),O.ui.changeHelpButtonEnabled("delete",!1),O.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(ae){On()||alert("This browser does not support file-api"),O.ui.initializeImgUrl=Z().createObjectURL(ae),O.loadImageFromFile(ae).then(function(ce){E(),W(),O.clearUndoStack(),O.ui.activeMenuEvent(),O.ui.resizeEditor({imageSize:ce}),O._clearHistory(),O._invoker.fire(Te.EXECUTE_COMMAND,St.LOAD_IMAGE)}).catch(function(ce){return ee().reject(ce)})},download:function(){var ae=O.toDataURL(),ce=O.getImageName(),Be,be,Se;On()&&window.saveAs?(Be=Hc(ae),be=Be.type.split("/")[1],ce.split(".").pop()!==be&&(ce+=".".concat(be)),saveAs(Be,ce)):(Se=window.open(),Se.document.body.innerHTML="<img src='".concat(ae,"'>"))},history:function(ae){O.ui.toggleHistoryMenu(ae)},zoomIn:function(){O.ui.toggleZoomButtonStatus("zoomIn"),O.deactivateAll(),P()},zoomOut:function(){O._graphics.zoomOut()},hand:function(){O.ui.offZoomInButtonStatus(),O.ui.toggleZoomButtonStatus("hand"),O.deactivateAll(),Q()}},this._commonAction())},_iconAction:function(){var O=this;return Y()({changeColor:function(_){O.activeObjectId&&O.changeIconColor(O.activeObjectId,_)},addIcon:function(_,b){O.startDrawingMode("ICON"),O.setDrawingIcon(_,b)},cancelAddIcon:function(){O.ui.icon.clearIconType(),O.changeSelectableAll(!0),O.changeCursor("default"),O.stopDrawingMode()},registerDefaultIcons:function(_,b){var S={};S[_]=b,O.registerIcons(S)},registerCustomIcon:function(_,b){var S=new hb;S.imageToSVG(_,function(P){var Q=P.match(/path[^>]*d="([^"]*)"/),W=ve(Q,2),G=W[1],ae={};ae[b.name]=G,O.registerIcons(ae),O.addIcon(b.name,{left:100,top:100})},hb.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var O=this;return Y()({setDrawMode:function(_,b){O.stopDrawingMode(),_==="free"?O.startDrawingMode("FREE_DRAWING",b):O.startDrawingMode("LINE_DRAWING",b)},setColor:function(_){O.setBrush({color:_})}},this._commonAction())},_maskAction:function(){var O=this;return Y()({loadImageFromURL:function(_,b){return O.loadImageFromURL(O.toDataURL(),"FilterImage").then(function(){O.addImageObject(_).then(function(){Z().revokeObjectURL(b)}),O._invoker.fire(Te.EXECUTE_COMMAND,St.LOAD_MASK_IMAGE)})},applyFilter:function(){O.applyFilter("mask",{maskObjId:O.activeObjectId})}},this._commonAction())},_textAction:function(){var O=this;return Y()({changeTextStyle:function(_,b){O.activeObjectId&&O.changeTextStyle(O.activeObjectId,_,b)}},this._commonAction())},_rotateAction:function(){var O=this;return Y()({rotate:function(_,b){O.rotate(_,b),O.ui.resizeEditor(),O.ui.rotate.setRangeBarAngle("rotate",_)},setAngle:function(_,b){O.setAngle(_,b),O.ui.resizeEditor(),O.ui.rotate.setRangeBarAngle("setAngle",_)}},this._commonAction())},_shapeAction:function(){var O=this;return Y()({changeShape:function(_,b){O.activeObjectId&&O.changeShape(O.activeObjectId,_,b)},setDrawingShape:function(_){O.setDrawingShape(_)}},this._commonAction())},_cropAction:function(){var O=this;return Y()({crop:function(){var _=O.getCropzoneRect();_&&!gV(_)&&O.crop(_).then(function(){O.stopDrawingMode(),O.ui.resizeEditor(),O.ui.changeMenu("crop"),O._invoker.fire(Te.EXECUTE_COMMAND,St.CROP)}).catch(function(b){return ee().reject(b)})},cancel:function(){O.stopDrawingMode(),O.ui.changeMenu("crop")},preset:function(_){switch(_){case"preset-square":O.setCropzoneRect(1/1);break;case"preset-3-2":O.setCropzoneRect(3/2);break;case"preset-4-3":O.setCropzoneRect(4/3);break;case"preset-5-4":O.setCropzoneRect(5/4);break;case"preset-7-5":O.setCropzoneRect(7/5);break;case"preset-16-9":O.setCropzoneRect(16/9);break;default:O.setCropzoneRect(),O.ui.crop.changeApplyButtonStatus(!1);break}}},this._commonAction())},_resizeAction:function(){var O=this;return Y()({getCurrentDimensions:function(){return O._graphics.getCurrentDimensions()},preview:function(_,b,S){var P=O._graphics.getCurrentDimensions(),Q=function(){return P.width/P.height},W={};switch(_){case"width":W.width=b,S?W.height=b/Q():W.height=P.height;break;case"height":W.height=b,S?W.width=b*Q():W.width=P.width;break;default:W=P}O._graphics.resize(W).then(function(){O.ui.resizeEditor()}),S&&(O.ui.resize.setWidthValue(W.width),O.ui.resize.setHeightValue(W.height))},lockAspectRatio:function(_,b,S){var P=O._graphics.getCurrentDimensions(),Q=P.width,W=P.height,G=Q/W;if(_)if(Q>W){var ae=S/G,ce=b*G;O.ui.resize.setLimit({minWidth:ce>b?ce:b,minHeight:b,maxWidth:S,maxHeight:ae<S?ae:S})}else{var Be=S*G,be=b/G;O.ui.resize.setLimit({minWidth:b,minHeight:be>b?be:b,maxWidth:Be<S?Be:S,maxHeight:S})}else O.ui.resize.setLimit({minWidth:b,minHeight:b,maxWidth:S,maxHeight:S})},resize:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;_||(_=O._graphics.getCurrentDimensions()),O.resize(_).then(function(){O._graphics.setOriginalDimensions(_),O.stopDrawingMode(),O.ui.resizeEditor(),O.ui.changeMenu("resize")}).catch(function(b){return ee().reject(b)})},reset:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,b=O._graphics.getOriginalDimensions();O.ui.resize.setWidthValue(b.width,!0),O.ui.resize.setHeightValue(b.height,!0),O._graphics.resize(b).then(function(){_||(O.stopDrawingMode(),O.ui.resizeEditor(),O.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var O=this;return Y()({flip:function(_){return O[_]()}},this._commonAction())},_filterAction:function(){var O=this;return Y()({applyFilter:function(_,b,S,P){_?O.applyFilter(b,S,P):O.hasFilter(b)&&O.removeFilter(b)}},this._commonAction())},setReAction:function(){var O=this;this.on({undoStackChanged:function(_){_?(O.ui.changeHelpButtonEnabled("undo",!0),O.ui.changeHelpButtonEnabled("reset",!0)):(O.ui.changeHelpButtonEnabled("undo",!1),O.ui.changeHelpButtonEnabled("reset",!1)),O.ui.resizeEditor()},redoStackChanged:function(_){_?O.ui.changeHelpButtonEnabled("redo",!0):O.ui.changeHelpButtonEnabled("redo",!1),O.ui.resizeEditor()},objectActivated:function(_){var b,S;O.activeObjectId=_.id,O.ui.changeHelpButtonEnabled("delete",!0),O.ui.changeHelpButtonEnabled("deleteAll",!0),_.type==="cropzone"?O.ui.crop.changeApplyButtonStatus(!0):A()(b=["rect","circle","triangle"]).call(b,_.type)>-1?(O.stopDrawingMode(),O.ui.submenu!=="shape"&&O.ui.changeMenu("shape",!1,!1),O.ui.shape.setShapeStatus({strokeColor:_.stroke,strokeWidth:_.strokeWidth,fillColor:Ie()(_)}),O.ui.shape.setMaxStrokeValue(Math.min(_.width,_.height))):_.type==="path"||_.type==="line"?O.ui.submenu!=="draw"&&(O.ui.changeMenu("draw",!1,!1),O.ui.draw.changeStandbyMode()):A()(S=["i-text","text"]).call(S,_.type)>-1?(O.ui.submenu!=="text"&&O.ui.changeMenu("text",!1,!1),O.ui.text.setTextStyleStateOnAction(_)):_.type==="icon"&&(O.stopDrawingMode(),O.ui.submenu!=="icon"&&O.ui.changeMenu("icon",!1,!1),O.ui.icon.setIconPickerColor(Ie()(_)))},addText:function(_){var b=O.ui.text,S=b.textColor,P=b.fontSize,Q=b.fontStyle,W=b.fontWeight,G=b.underline,ae="Noto Sans";O.addText("Double Click",{position:_.originPosition,styles:{fill:S,fontSize:P,fontFamily:ae,fontStyle:Q,fontWeight:W,underline:G}}).then(function(){O.changeCursor("default")})},addObjectAfter:function(_){var b;_.type==="icon"?O.ui.icon.changeStandbyMode():A()(b=["rect","circle","triangle"]).call(b,_.type)>-1&&(O.ui.shape.setMaxStrokeValue(Math.min(_.width,_.height)),O.ui.shape.changeStandbyMode())},objectScaled:function(_){var b,S;if(A()(b=["i-text","text"]).call(b,_.type)>-1)O.ui.text.fontSize=It(_.fontSize);else if(A()(S=["rect","circle","triangle"]).call(S,_.type)>=0){var P=_.width,Q=_.height,W=O.ui.shape.getStrokeValue();P<W&&O.ui.shape.setStrokeValue(P),Q<W&&O.ui.shape.setStrokeValue(Q)}},selectionCleared:function(){O.activeObjectId=null,O.ui.submenu==="text"?O.changeCursor("text"):Vc(["draw","crop","resize"],O.ui.submenu)||O.stopDrawingMode()}})},_historyAction:function(){var O=this;return{undo:function(_){return O.undo(_)},redo:function(_){return O.redo(_)}}},_commonAction:function(){var O=this,E,_,b,S,P=Tt.TEXT,Q=Tt.CROPPER,W=Tt.SHAPE,G=Tt.ZOOM,ae=Tt.RESIZE;return{modeChange:function(Be){switch(Be){case Vn.TEXT:O._changeActivateMode(P);break;case Vn.CROP:O.startDrawingMode(Q);break;case Vn.SHAPE:O._changeActivateMode(W),O.setDrawingShape(O.ui.shape.type,O.ui.shape.options);break;case Vn.ZOOM:O.startDrawingMode(G);break;case Vn.RESIZE:O.startDrawingMode(ae);break}},deactivateAll:le()(E=this.deactivateAll).call(E,this),changeSelectableAll:le()(_=this.changeSelectableAll).call(_,this),discardSelection:le()(b=this.discardSelection).call(b,this),stopDrawingMode:le()(S=this.stopDrawingMode).call(S,this)}},mixin:function(O){Y()(O.prototype,this)}},s8=a(602),db=a.n(s8),A8=a(5573),Yc=a.n(A8),l8=function(){function j(O,E){X(this,j),this.name=O,this.graphics=E}return ie(j,[{key:"fire",value:function(){for(var E=this.graphics,_=arguments.length,b=new Array(_),S=0;S<_;S++)b[S]=arguments[S];return this.graphics.fire.apply(E,b)}},{key:"setCanvasImage",value:function(E,_){this.graphics.setCanvasImage(E,_)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(E,_){this.graphics.setImageProperties(E,_)}},{key:"setCanvasCssDimension",value:function(E){this.graphics.setCanvasCssDimension(E)}},{key:"setCanvasBackstoreDimension",value:function(E){this.graphics.setCanvasBackstoreDimension(E)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),j}(),Cr=l8;function c8(j){var O=u8();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function u8(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var f8={padding:0,crossOrigin:"Anonymous"},h8=function(j){Pt(E,j);var O=c8(E);function E(_){return X(this,E),O.call(this,Qe.IMAGE_LOADER,_)}return ie(E,[{key:"load",value:function(b,S){var P=this,Q;if(!b&&!S){var W=this.getCanvas();W.backgroundImage=null,W.renderAll(),Q=new(ee())(function(G){P.setCanvasImage("",null),G()})}else Q=this._setBackgroundImage(S).then(function(G){return P.setCanvasImage(b,G),P.adjustCanvasDimension(),G});return Q}},{key:"_setBackgroundImage",value:function(b){var S=this;return b?new(ee())(function(P,Q){var W=S.getCanvas();W.setBackgroundImage(b,function(){var G=W.backgroundImage;G&&G.getElement()?P(G):Q(Ut.loadingImageFailed)},f8)}):ee().reject(Ut.loadImage)}}]),E}(Cr),d8=h8,g8="tl",p8="tr",v8="mt",m8="ml",y8="mr",C8="mb",w8="bl",B8="br",gb=[g8,p8,v8,m8,y8,C8,w8,B8],wg=function(){};function b8(j){return A()(gb).call(gb,j)>=0}function Xc(j,O){return j>O?"width":"height"}var E8=J.fabric.util.createClass(J.fabric.Rect,{initialize:function(O,E,_){E=Y()(E,_),E.type="cropzone",this.callSuper("initialize",E),this._addEventHandler(),this.canvas=O,this.options=E},canvasEventDelegation:function(O){var E,_="unregistered",b=this.canvasEventTrigger[O]!==wg;return b?_="registered":A()(E=[Te.OBJECT_MOVED,Te.OBJECT_SCALED]).call(E,O)<0&&(_="none"),_},canvasEventRegister:function(O,E){this.canvasEventTrigger[O]=E},_addEventHandler:function(){var O,E,_,b,S;this.canvasEventTrigger=(O={},H(O,Te.OBJECT_MOVED,wg),H(O,Te.OBJECT_SCALED,wg),O),this.on({moving:le()(E=this._onMoving).call(E,this),scaling:le()(_=this._onScaling).call(_,this)}),J.fabric.util.addListener(document,"keydown",le()(b=this._onKeyDown).call(b,this)),J.fabric.util.addListener(document,"keyup",le()(S=this._onKeyUp).call(S,this))},_renderCropzone:function(O){var E=7,_=7,b=this.flipX?-1:1,S=this.flipY?-1:1,P=b/this.scaleX,Q=S/this.scaleY;O.scale(P,Q),this._fillOuterRect(O,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(O),this._strokeBorder(O,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(O,"rgb(0, 0, 0)",{lineDashWidth:E}),this._strokeBorder(O,"rgb(255, 255, 255)",{lineDashWidth:E,lineDashOffset:_})),O.scale(1/P,1/Q)},_render:function(O){this.callSuper("_render",O),this._renderCropzone(O)},_fillOuterRect:function(O,E){var _=this._getCoordinates(),b=_.x,S=_.y;O.save(),O.fillStyle=E,O.beginPath(),O.moveTo(b[0]-1,S[0]-1),O.lineTo(b[3]+1,S[0]-1),O.lineTo(b[3]+1,S[3]+1),O.lineTo(b[0]-1,S[3]+1),O.lineTo(b[0]-1,S[0]-1),O.closePath(),O.moveTo(b[1],S[1]),O.lineTo(b[1],S[2]),O.lineTo(b[2],S[2]),O.lineTo(b[2],S[1]),O.lineTo(b[1],S[1]),O.closePath(),Ie()(O).call(O),O.restore()},_fillInnerRect:function(O){var E=this._getCoordinates(),_=E.x,b=E.y,S=this._caculateInnerPosition(_,(_[2]-_[1])/3),P=this._caculateInnerPosition(b,(b[2]-b[1])/3);O.save(),O.strokeStyle="rgba(255, 255, 255, 0.7)",O.lineWidth=this.options.lineWidth,O.beginPath(),O.moveTo(S[0],P[1]),O.lineTo(S[3],P[1]),O.moveTo(S[0],P[2]),O.lineTo(S[3],P[2]),O.moveTo(S[1],P[0]),O.lineTo(S[1],P[3]),O.moveTo(S[2],P[0]),O.lineTo(S[2],P[3]),O.stroke(),O.closePath(),O.restore()},_caculateInnerPosition:function(O,E){var _=[];return _[0]=O[1],_[1]=O[1]+E,_[2]=O[1]+E*2,_[3]=O[2],_},_getCoordinates:function(){var O,E,_=this.canvas,b=this.width,S=this.height,P=this.left,Q=this.top,W=b/2,G=S/2,ae=_.getHeight(),ce=_.getWidth();return{x:Kr()(O=[-(W+P),-W,W,W+(ce-P-b)]).call(O,Math.ceil),y:Kr()(E=[-(G+Q),-G,G,G+(ae-Q-S)]).call(E,Math.ceil)}},_strokeBorder:function(O,E,_){var b=_.lineDashWidth,S=_.lineDashOffset,P=_.lineWidth,Q=this.width/2,W=this.height/2;O.save(),O.strokeStyle=E,O.setLineDash&&O.setLineDash([b,b]),S&&(O.lineDashOffset=S),P&&(O.lineWidth=P),O.beginPath(),O.moveTo(-Q,-W),O.lineTo(Q,-W),O.lineTo(Q,W),O.lineTo(-Q,W),O.lineTo(-Q,-W),O.stroke(),O.restore()},_onMoving:function(){var O=this.height,E=this.width,_=this.left,b=this.top,S=this.canvas.getWidth()-E,P=this.canvas.getHeight()-O;this.left=At(_,0,S),this.top=At(b,0,P),this.canvasEventTrigger[Te.OBJECT_MOVED](this)},_onScaling:function(O){var E=O.transform.corner,_=this.canvas.getPointer(O.e),b=this._calcScalingSizeFromPointer(_,E);this.scale(1).set(b),this.canvasEventTrigger[Te.OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(O,E){var _=b8(E);return _&&this._resizeCropZone(O,E)},adjustRatioCropzoneSize:function(O){var E=O.width,_=O.height,b=O.leftMaker,S=O.topMaker,P=O.maxWidth,Q=O.maxHeight,W=O.scaleTo;if(E=P?At(E,1,P):E,_=Q?At(_,1,Q):_,!this.presetRatio)return this._withShiftKey&&(E>_?_=E:_>E&&(E=_)),{width:E,height:_,left:b(E),top:S(_)};W==="width"?_=E/this.presetRatio:E=_*this.presetRatio;var G=Math.min(P/E,Q/_);if(G<=1){var ae,ce=Kr()(ae=[E,_]).call(ae,function(be){return be*G}),Be=ve(ce,2);E=Be[0],_=Be[1]}return{width:E,height:_,left:b(E),top:S(_)}},_getCropzoneRectInfo:function(){var O=this.canvas,E=O.width,_=O.height,b=this.getBoundingRect(!1,!0),S=b.top,P=b.left,Q=b.width,W=b.height;return{rectTop:S,rectLeft:P,rectWidth:Q,rectHeight:W,rectRight:P+Q,rectBottom:S+W,canvasWidth:E,canvasHeight:_}},_resizeCropZone:function(O,E){var _=O.x,b=O.y,S=this._getCropzoneRectInfo(),P=S.rectWidth,Q=S.rectHeight,W=S.rectTop,G=S.rectLeft,ae=S.rectBottom,ce=S.rectRight,Be=S.canvasWidth,be=S.canvasHeight,Se={tl:{width:ce-_,height:ae-b,leftMaker:function(Me){return ce-Me},topMaker:function(Me){return ae-Me},maxWidth:ce,maxHeight:ae,scaleTo:Xc(G-_,W-b)},tr:{width:_-G,height:ae-b,leftMaker:function(){return G},topMaker:function(Me){return ae-Me},maxWidth:Be-G,maxHeight:ae,scaleTo:Xc(_-ce,W-b)},mt:{width:P,height:ae-b,leftMaker:function(){return G},topMaker:function(Me){return ae-Me},maxWidth:Be-G,maxHeight:ae,scaleTo:"height"},ml:{width:ce-_,height:Q,leftMaker:function(Me){return ce-Me},topMaker:function(){return W},maxWidth:ce,maxHeight:be-W,scaleTo:"width"},mr:{width:_-G,height:Q,leftMaker:function(){return G},topMaker:function(){return W},maxWidth:Be-G,maxHeight:be-W,scaleTo:"width"},mb:{width:P,height:b-W,leftMaker:function(){return G},topMaker:function(){return W},maxWidth:Be-G,maxHeight:be-W,scaleTo:"height"},bl:{width:ce-_,height:b-W,leftMaker:function(Me){return ce-Me},topMaker:function(){return W},maxWidth:ce,maxHeight:be-W,scaleTo:Xc(G-_,b-ae)},br:{width:_-G,height:b-W,leftMaker:function(){return G},topMaker:function(){return W},maxWidth:Be-G,maxHeight:be-W,scaleTo:Xc(_-ce,b-ae)}};return this.adjustRatioCropzoneSize(Se[E])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(O){var E=O.keyCode;E===en.SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(O){var E=O.keyCode;E===en.SHIFT&&(this._withShiftKey=!1)}}),_8=E8;function S8(j){var O=I8();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function I8(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var x8=10,M8={presetRatio:null,top:-10,left:-10,height:1,width:1},D8=function(j){Pt(E,j);var O=S8(E);function E(_){var b,S,P,Q,W,G;return X(this,E),G=O.call(this,Qe.CROPPER,_),G._cropzone=null,G._startX=null,G._startY=null,G._withShiftKey=!1,G._listeners={keydown:le()(b=G._onKeyDown).call(b,xt(G)),keyup:le()(S=G._onKeyUp).call(S,xt(G)),mousedown:le()(P=G._onFabricMouseDown).call(P,xt(G)),mousemove:le()(Q=G._onFabricMouseMove).call(Q,xt(G)),mouseup:le()(W=G._onFabricMouseUp).call(W,xt(G))},G}return ie(E,[{key:"start",value:function(){if(!this._cropzone){var b=this.getCanvas();b.forEachObject(function(S){S.evented=!1}),this._cropzone=new _8(b,Y()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},un,this.graphics.cropSelectionStyle)),b.discardActiveObject(),b.add(this._cropzone),b.on("mouse:down",this._listeners.mousedown),b.selection=!1,b.defaultCursor="crosshair",J.fabric.util.addListener(document,"keydown",this._listeners.keydown),J.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var b=this.getCanvas(),S=this._cropzone;!S||(b.remove(S),b.selection=!0,b.defaultCursor="default",b.off("mouse:down",this._listeners.mousedown),b.forEachObject(function(P){P.evented=!0}),this._cropzone=null,J.fabric.util.removeListener(document,"keydown",this._listeners.keydown),J.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(b){this._cropzone&&this._cropzone.set({visible:b})}},{key:"_onFabricMouseDown",value:function(b){var S=this.getCanvas();if(!b.target){S.selection=!1;var P=S.getPointer(b.e);this._startX=P.x,this._startY=P.y,S.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(b){var S=this.getCanvas(),P=S.getPointer(b.e),Q=P.x,W=P.y,G=this._cropzone;Math.abs(Q-this._startX)+Math.abs(W-this._startY)>x8&&(S.remove(G),G.set(this._calcRectDimensionFromPoint(Q,W,G.presetRatio)),S.add(G),S.setActiveObject(G))}},{key:"_calcRectDimensionFromPoint",value:function(b,S){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Q=this.getCanvas(),W=Q.getWidth(),G=Q.getHeight(),ae=this._startX,ce=this._startY,Be=At(b,0,ae),be=At(S,0,ce),Se=At(b,ae,W)-Be,_e=At(S,ce,G)-be;return this._withShiftKey&&!P?(Se>_e?_e=Se:_e>Se&&(Se=_e),ae>=b&&(Be=ae-Se),ce>=S&&(be=ce-_e)):P&&(_e=Se/P,ae>=b&&(Be=At(ae-Se,0,W)),ce>=S&&(be=At(ce-_e,0,G)),be+_e>G&&(_e=G-be,Se=_e*P,ae>=b&&(Be=At(ae-Se,0,W)),ce>=S&&(be=At(ce-_e,0,G)))),{left:Be,top:be,width:Se,height:_e}}},{key:"_onFabricMouseUp",value:function(){var b=this._cropzone,S=this._listeners,P=this.getCanvas();P.setActiveObject(b),P.off({"mouse:move":S.mousemove,"mouse:up":S.mouseup})}},{key:"getCroppedImageData",value:function(b){var S=this.getCanvas(),P=S.contains(this._cropzone);if(!b)return null;P&&S.remove(this._cropzone);var Q={imageName:this.getImageName(),url:S.toDataURL(b)};return P&&S.add(this._cropzone),Q}},{key:"getCropzoneRect",value:function(){var b=this._cropzone;return b.isValid()?{left:b.left,top:b.top,width:b.width,height:b.height}:null}},{key:"setCropzoneRect",value:function(b){var S=this.getCanvas(),P=this._cropzone;S.discardActiveObject(),S.selection=!1,S.remove(P),P.set(b?this._getPresetPropertiesForCropSize(b):M8),S.add(P),S.selection=!0,b&&S.setActiveObject(P)}},{key:"_getPresetPropertiesForCropSize",value:function(b){var S,P,Q=this.getCanvas(),W=Q.getWidth(),G=Q.getHeight(),ae=W>=G?W:G,ce=function(Ye,Ot){return Ye>Ot?Ot/Ye:1},Be=ae*b,be=ae,Se=ce(Be,W),_e=Kr()(S=[Be,be]).call(S,function(ut){return ut*Se}),Me=ve(_e,2);Be=Me[0],be=Me[1];var Pe=ce(be,G),at=Kr()(P=[Be,be]).call(P,function(ut){return jc(ut*Pe)}),st=ve(at,2);return Be=st[0],be=st[1],{presetRatio:b,top:(G-be)/2,left:(W-Be)/2,width:Be,height:be}}},{key:"_onKeyDown",value:function(b){b.keyCode===en.SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(b){b.keyCode===en.SHIFT&&(this._withShiftKey=!1)}}]),E}(Cr),T8=D8;function O8(j){var O=F8();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function F8(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var k8=function(j){Pt(E,j);var O=O8(E);function E(_){return X(this,E),O.call(this,Qe.FLIP,_)}return ie(E,[{key:"getCurrentSetting",value:function(){var b=this.getCanvasImage();return{flipX:b.flipX,flipY:b.flipY}}},{key:"set",value:function(b){var S=this.getCurrentSetting(),P=S.flipX!==b.flipX,Q=S.flipY!==b.flipY;return!P&&!Q?ee().reject(Ut.flip):(Y()(S,b),this.setImageProperties(S,!0),this._invertAngle(P,Q),this._flipObjects(P,Q),ee().resolve({flipX:S.flipX,flipY:S.flipY,angle:this.getCanvasImage().angle}))}},{key:"_invertAngle",value:function(b,S){var P=this.getCanvasImage(),Q=P.angle;b&&(Q*=-1),S&&(Q*=-1),P.rotate(Pi()(Q)).setCoords()}},{key:"_flipObjects",value:function(b,S){var P=this.getCanvas();b&&P.forEachObject(function(Q){Q.set({angle:Pi()(Q.angle*-1),flipX:!Q.flipX,left:P.width-Q.left}).setCoords()}),S&&P.forEachObject(function(Q){Q.set({angle:Pi()(Q.angle*-1),flipY:!Q.flipY,top:P.height-Q.top}).setCoords()}),P.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var b=this.getCurrentSetting();return this.set({flipX:!b.flipX,flipY:b.flipY})}},{key:"flipY",value:function(){var b=this.getCurrentSetting();return this.set({flipX:b.flipX,flipY:!b.flipY})}}]),E}(Cr),U8=k8;function L8(j){var O=P8();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function P8(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var N8=function(j){Pt(E,j);var O=L8(E);function E(_){return X(this,E),O.call(this,Qe.ROTATION,_)}return ie(E,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(b){var S=this.getCurrentAngle()%360;b%=360;var P=this.getCanvasImage(),Q=P.getCenterPoint();P.set({angle:b}).setCoords(),this.adjustCanvasDimension();var W=P.getCenterPoint();return this._rotateForEachObject(Q,W,b-S),ee().resolve(b)}},{key:"_rotateForEachObject",value:function(b,S,P){var Q=this.getCanvas(),W={x:b.x-S.x,y:b.y-S.y};Q.forEachObject(function(G){var ae=G.getCenterPoint(),ce=J.fabric.util.degreesToRadians(P),Be=J.fabric.util.rotatePoint(ae,b,ce);G.set({left:Be.x-W.x,top:Be.y-W.y,angle:(G.angle+P)%360}),G.setCoords()}),Q.renderAll()}},{key:"rotate",value:function(b){var S=this.getCurrentAngle();return this.setAngle(S+b)}}]),E}(Cr),R8=N8;function Q8(j){var O=H8();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function H8(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var j8=function(j){Pt(E,j);var O=Q8(E);function E(_){var b;return X(this,E),b=O.call(this,Qe.FREE_DRAWING,_),b.width=12,b.oColor=new J.fabric.Color("rgba(0, 0, 0, 0.5)"),b}return ie(E,[{key:"start",value:function(b){var S=this.getCanvas();S.isDrawingMode=!0,this.setBrush(b)}},{key:"setBrush",value:function(b){var S=this.getCanvas().freeDrawingBrush;b=b||{},this.width=b.width||this.width,b.color&&(this.oColor=new J.fabric.Color(b.color)),S.width=this.width,S.color=this.oColor.toRgba()}},{key:"end",value:function(){var b=this.getCanvas();b.isDrawingMode=!1}}]),E}(Cr),z8=j8,pb=30,V8=2.7,G8=1.7,vb=180,W8=J.fabric.util.createClass(J.fabric.Line,{type:"line",initialize:function(O){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.callSuper("initialize",O,E),this.arrowType=E.arrowType},_render:function(O){var E=this.calcLinePoints(),_=E.x1,b=E.y1,S=E.x2,P=E.y2,Q={fromX:_,fromY:b,toX:S,toY:P};this.ctx=O,O.lineWidth=this.strokeWidth,this._renderBasicLinePath(Q),this._drawDecoratorPath(Q),this._renderStroke(O)},_renderBasicLinePath:function(O){var E=O.fromX,_=O.fromY,b=O.toX,S=O.toY;this.ctx.beginPath(),this.ctx.moveTo(E,_),this.ctx.lineTo(b,S)},_drawDecoratorPath:function(O){this._drawDecoratorPathType("head",O),this._drawDecoratorPathType("tail",O)},_drawDecoratorPathType:function(O,E){switch(this.arrowType[O]){case"triangle":this._drawTrianglePath(O,E);break;case"chevron":this._drawChevronPath(O,E);break}},_drawTrianglePath:function(O,E){var _=this.ctx.lineWidth*G8;this._drawChevronPath(O,E,_),this.ctx.closePath()},_drawChevronPath:function(O,E,_){var b=this,S=E.fromX,P=E.fromY,Q=E.toX,W=E.toY,G=this.ctx;_||(_=this.ctx.lineWidth*V8);var ae=O==="head"?[S,P]:[Q,W],ce=ve(ae,2),Be=ce[0],be=ce[1],Se=O==="head"?[Q,W]:[S,P],_e=ve(Se,2),Me=_e[0],Pe=_e[1],at=Math.atan2(Pe-be,Me-Be)*vb/Math.PI,st=function(Ye){return b.getRotatePosition(_,Ye,{x:Be,y:be})};G.moveTo.apply(G,N(st(at+pb))),G.lineTo(Be,be),G.lineTo.apply(G,N(st(at-pb)))},getRotatePosition:function(O,E,_){var b=E*Math.PI/vb,S=_.x,P=_.y;return[O*Math.cos(b)+S,O*Math.sin(b)+P]}}),Y8=W8;function X8(j){var O=K8();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function K8(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var Z8=function(j){Pt(E,j);var O=X8(E);function E(_){var b,S,P,Q;return X(this,E),Q=O.call(this,Qe.LINE,_),Q._width=12,Q._oColor=new J.fabric.Color("rgba(0, 0, 0, 0.5)"),Q._listeners={mousedown:le()(b=Q._onFabricMouseDown).call(b,xt(Q)),mousemove:le()(S=Q._onFabricMouseMove).call(S,xt(Q)),mouseup:le()(P=Q._onFabricMouseUp).call(P,xt(Q))},Q}return ie(E,[{key:"setHeadOption",value:function(b){var S=b.arrowType,P=S===void 0?{head:null,tail:null}:S;this._arrowType=P}},{key:"start",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=this.getCanvas();S.defaultCursor="crosshair",S.selection=!1,this.setHeadOption(b),this.setBrush(b),S.forEachObject(function(P){P.set({evented:!1})}),S.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(b){var S=this.getCanvas().freeDrawingBrush;b=b||{},this._width=b.width||this._width,b.color&&(this._oColor=new J.fabric.Color(b.color)),S.width=this._width,S.color=this._oColor.toRgba()}},{key:"end",value:function(){var b=this.getCanvas();b.defaultCursor="default",b.selection=!0,b.forEachObject(function(S){S.set({evented:!0})}),b.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(b){var S=this.getCanvas(),P=S.getPointer(b.e),Q=P.x,W=P.y,G=[Q,W,Q,W];this._line=new Y8(G,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(Tr.SELECTION_STYLE),S.add(this._line),S.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(Te.ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(b){var S=this.getCanvas(),P=S.getPointer(b.e);this._line.set({x2:P.x,y2:P.y}),this._line.setCoords(),S.renderAll()}},{key:"_onFabricMouseUp",value:function(){var b=this.getCanvas();this.fire(Te.OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,b.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var b=this.graphics.createObjectProperties(this._line),S=this._line,P=S.x1,Q=S.x2,W=S.y1,G=S.y2;return Y()({},b,{startPosition:{x:P,y:W},endPosition:{x:Q,y:G}})}}]),E}(Cr),J8=Z8;function $8(j){var O=q8();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function q8(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var e6={fill:"#000000",left:0,top:0},t6={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},n6=500,r6=function(j){Pt(E,j);var O=$8(E);function E(_){var b,S,P,Q,W,G;return X(this,E),G=O.call(this,Qe.TEXT,_),G._defaultStyles=e6,G._isSelected=!1,G._selectedObj={},G._editingObj={},G._listeners={mousedown:le()(b=G._onFabricMouseDown).call(b,xt(G)),select:le()(S=G._onFabricSelect).call(S,xt(G)),selectClear:le()(P=G._onFabricSelectClear).call(P,xt(G)),scaling:le()(Q=G._onFabricScaling).call(Q,xt(G)),textChanged:le()(W=G._onFabricTextChanged).call(W,xt(G))},G._textarea=null,G._ratio=1,G._lastClickTime=new Date().getTime(),G._editingObjInfos={},G.isPrevEditing=!1,G}return ie(E,[{key:"start",value:function(){var b=this,S=this.getCanvas();S.selection=!1,S.defaultCursor="text",S.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),S.forEachObject(function(P){P.type==="i-text"&&b.adjustOriginPosition(P,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var b=this,S=this.getCanvas();S.selection=!0,S.defaultCursor="default",S.forEachObject(function(P){P.type==="i-text"&&(P.text===""?S.remove(P):b.adjustOriginPosition(P,"end"))}),S.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(b,S){var P="center",Q="center";S==="start"&&(P="left",Q="top");var W=b.getPointByOrigin(P,Q),G=W.x,ae=W.y;b.set({left:G,top:ae,originX:P,originY:Q}),b.setCoords()}},{key:"add",value:function(b,S){var P=this;return new(ee())(function(Q){var W,G=P.getCanvas(),ae=null,ce=Tr.SELECTION_STYLE,Be=P._defaultStyles;P._setInitPos(S.position),S.styles&&(Be=Y()(Be,S.styles)),ib()(S.autofocus)||(S.autofocus=!0),ae=new J.fabric.IText(b,Be),ce=Y()({},ce,{originX:"left",originY:"top"}),ae.set(ce),ae.on({mouseup:le()(W=P._onFabricMouseUp).call(W,P)}),G.add(ae),S.autofocus&&(ae.enterEditing(),ae.selectAll()),G.getActiveObject()||G.setActiveObject(ae),P.isPrevEditing=!0,Q(P.graphics.createObjectProperties(ae))})}},{key:"change",value:function(b,S){var P=this;return new(ee())(function(Q){b.set("text",S),P.getCanvas().renderAll(),Q()})}},{key:"setStyle",value:function(b,S){var P=this;return new(ee())(function(Q){$()(S,function(W,G){b[G]===W&&G!=="fontSize"&&(S[G]=t6[G]||"")},P),"textDecoration"in S&&Y()(S,P._getTextDecorationAdaptObject(S.textDecoration)),b.set(S),P.getCanvas().renderAll(),Q()})}},{key:"getText",value:function(b){return b.text}},{key:"setSelectedInfo",value:function(b,S){this._selectedObj=b,this._isSelected=S}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var b=this.getCanvasElement(),S=xe()(b.style.maxWidth,10),P=b.width;this._ratio=P/S}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(b){return{underline:b==="underline",linethrough:b==="line-through",overline:b==="overline"}}},{key:"_setInitPos",value:function(b){b=b||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=b.x,this._defaultStyles.top=b.y}},{key:"_onInput",value:function(){var b=this.getCanvasRatio(),S=this._editingObj,P=this._textarea.style;P.width="".concat(Math.ceil(S.width/b),"px"),P.height="".concat(Math.ceil(S.height/b),"px")}},{key:"_onKeyDown",value:function(){var b=this,S=this.getCanvasRatio(),P=this._editingObj,Q=this._textarea.style;f()(function(){P.text(b._textarea.value),Q.width="".concat(Math.ceil(P.width/S),"px"),Q.height="".concat(Math.ceil(P.height/S),"px")},0)}},{key:"_onBlur",value:function(){var b=this.getCanvasRatio(),S=this._editingObj,P=this._editingObjInfos,Q=this._textarea.value,W=S.width/b-P.width/b,G=S.height/b-P.height/b;if(b===1&&(W/=2,G/=2),this._textarea.style.display="none",S.set({left:P.left+W,top:P.top+G}),Q.length){this.getCanvas().add(S);var ae={id:He(S),type:S.type,text:Q};this.fire(Te.TEXT_CHANGED,ae)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(b){var S=b.target;S.fontSize=S.fontSize*S.scaleY,S.scaleX=1,S.scaleY=1}},{key:"_onFabricTextChanged",value:function(b){this.fire(Te.TEXT_CHANGED,b.target)}},{key:"_onFabricSelectClear",value:function(b){var S=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(b.target,!1),S&&S.text===""&&this.getCanvas().remove(S)}},{key:"_onFabricSelect",value:function(b){this.isPrevEditing=!0,this.setSelectedInfo(b.target,!0)}},{key:"_onFabricMouseDown",value:function(b){var S=b.target;if(!(S&&!S.isType("text"))){if(this.isPrevEditing){this.isPrevEditing=!1;return}this._fireAddText(b)}}},{key:"_fireAddText",value:function(b){var S=b.target,P=b.e||{},Q=this.getCanvas().getPointer(P);S||this.fire(Te.ADD_TEXT,{originPosition:{x:Q.x,y:Q.y},clientPosition:{x:P.clientX||0,y:P.clientY||0}})}},{key:"_onFabricMouseUp",value:function(b){var S=b.target,P=new Date().getTime();this._isDoubleClick(P)&&!S.isEditing&&S.enterEditing(),S.isEditing&&this.fire(Te.TEXT_EDITING),this._lastClickTime=P}},{key:"_isDoubleClick",value:function(b){return b-this._lastClickTime<n6}}]),E}(Cr),i6=r6;function a6(j){var O=o6();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function o6(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var s6={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},A6=function(j){Pt(E,j);var O=a6(E);function E(_){var b,S,P,Q;return X(this,E),Q=O.call(this,Qe.ICON,_),Q._oColor="#000000",Q._pathMap=s6,Q._type=null,Q._iconColor=null,Q._handlers={mousedown:le()(b=Q._onFabricMouseDown).call(b,xt(Q)),mousemove:le()(S=Q._onFabricMouseMove).call(S,xt(Q)),mouseup:le()(P=Q._onFabricMouseUp).call(P,xt(Q))},Q}return ie(E,[{key:"setStates",value:function(b,S){this._type=b,this._iconColor=S}},{key:"start",value:function(){var b=this.getCanvas();b.selection=!1,b.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var b=this.getCanvas();b.selection=!0,b.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(b,S){var P=this;return new(ee())(function(Q,W){var G=P.getCanvas(),ae=P._pathMap[b],ce=Tr.SELECTION_STYLE,Be=ae?P._createIcon(ae):null;P._icon=Be,Be||W(Ut.invalidParameters),Be.set(Y()({type:"icon",fill:P._oColor},ce,S,P.graphics.controlStyle)),G.add(Be).setActiveObject(Be),Q(P.graphics.createObjectProperties(Be))})}},{key:"registerPaths",value:function(b){var S=this;$()(b,function(P,Q){S._pathMap[Q]=P},this)}},{key:"setColor",value:function(b,S){this._oColor=b,S&&S.get("type")==="icon"&&(S.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(b){return Ie()(b)}},{key:"_createIcon",value:function(b){return new J.fabric.Path(b)}},{key:"_onFabricMouseDown",value:function(b){var S=this,P=this.getCanvas();this._startPoint=P.getPointer(b.e);var Q=this._startPoint,W=Q.x,G=Q.y;this.add(this._type,{left:W,top:G,fill:this._iconColor}).then(function(){S.fire(Te.ADD_OBJECT,S.graphics.createObjectProperties(S._icon)),P.on("mouse:move",S._handlers.mousemove),P.on("mouse:up",S._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(b){var S=this.getCanvas();if(!!this._icon){var P=S.getPointer(b.e),Q=(P.x-this._startPoint.x)/this._icon.width,W=(P.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(Q*2),scaleY:Math.abs(W*2)}),this._icon.setCoords(),S.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var b=this.getCanvas();this.fire(Te.OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,b.off("mouse:down",this._handlers.mousedown),b.off("mouse:move",this._handlers.mousemove),b.off("mouse:up",this._handlers.mouseup)}}]),E}(Cr),l6=A6,c6=J.fabric.util.createClass(J.fabric.Image.filters.BlendImage,{applyTo:function(O){if(!!this.mask){var E=O.canvasEl,_=E.width,b=E.height,S=this._createCanvasOfMask(_,b),P=E.getContext("2d"),Q=S.getContext("2d"),W=P.getImageData(0,0,_,b);this._drawMask(Q,E,P),this._mapData(Q,W,_,b),O.imageData=W}},_createCanvasOfMask:function(O,E){var _=J.fabric.util.createCanvasElement();return _.width=O,_.height=E,_},_drawMask:function(O){var E=this.mask,_=E.getElement(),b=E.angle,S=E.left,P=E.scaleX,Q=E.scaleY,W=E.top;O.save(),O.translate(S,W),O.rotate(b*Math.PI/180),O.scale(P,Q),O.drawImage(_,-_.width/2,-_.height/2),O.restore()},_mapData:function(O,E,_,b){for(var S=E.data,P=E.height,Q=E.width,W=S,G=Q*P*4,ae=O.getImageData(0,0,_,b).data,ce=0;ce<G;ce+=4)W[ce+3]=ae[ce]}}),u6=c6,f6=J.fabric.util.createClass(J.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),h6=f6,d6=J.fabric.util.createClass(J.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),g6=d6,p6=J.fabric.util.createClass(J.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(O){O||(O={}),this.color=O.color||"#FFFFFF",this.threshold=O.threshold||45,this.x=O.x||null,this.y=O.y||null},applyTo:function(O){var E=O.canvasEl,_=E.getContext("2d"),b=_.getImageData(0,0,E.width,E.height),S=b.data,P=this.threshold,Q=J.fabric.Color.sourceFromHex(this.color),W,G;for(this.x&&this.y&&(Q=this._getColor(b,this.x,this.y)),W=0,G=S.length;W<G;W+=4)this._isOutsideThreshold(S[W],Q[0],P)||this._isOutsideThreshold(S[W+1],Q[1],P)||this._isOutsideThreshold(S[W+2],Q[2],P)||(S[W]=S[W+1]=S[W+2]=S[W+3]=0);_.putImageData(b,0,0)},_isOutsideThreshold:function(O,E,_){var b=O-E;return Math.abs(b)>_},_getColor:function(O,E,_){var b=[0,0,0,0],S=O.data,P=O.width,Q=4,W=(P*_+E)*Q;return b[0]=S[W],b[1]=S[W+1],b[2]=S[W+2],b[3]=S[W+3],b}}),v6=p6;function m6(j){var O=y6();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function y6(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var Kc=J.fabric.Image.filters;Kc.Mask=u6,Kc.Sharpen=h6,Kc.Emboss=g6,Kc.ColorFilter=v6;var C6=function(j){Pt(E,j);var O=m6(E);function E(_){return X(this,E),O.call(this,Qe.FILTER,_)}return ie(E,[{key:"add",value:function(b,S){var P=this;return new(ee())(function(Q,W){var G=P._getSourceImage(),ae=P.getCanvas(),ce=P._getFilter(G,b);ce||(ce=P._createFilter(G,b,S)),ce||W(Ut.invalidParameters),P._changeFilterValues(ce,S),P._apply(G,function(){ae.renderAll(),Q({type:b,action:"add",options:S})})})}},{key:"remove",value:function(b){var S=this;return new(ee())(function(P,Q){var W=S._getSourceImage(),G=S.getCanvas(),ae=S.getOptions(b);W.filters.length||Q(Ut.unsupportedOperation),S._removeFilter(W,b),S._apply(W,function(){G.renderAll(),P({type:b,action:"remove",options:ae})})})}},{key:"hasFilter",value:function(b){return!!this._getFilter(this._getSourceImage(),b)}},{key:"getOptions",value:function(b){var S=this._getSourceImage(),P=this._getFilter(S,b);return P?Y()({},P.options):null}},{key:"_changeFilterValues",value:function(b,S){$()(S,function(P,Q){V()(b[Q])||(b[Q]=P)}),$()(b.options,function(P,Q){V()(S[Q])||(b.options[Q]=S[Q])})}},{key:"_apply",value:function(b,S){b.filters.push();var P=b.applyFilters();P&&S()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(b,S,P){var Q,W=this._getFabricFilterType(S),G=J.fabric.Image.filters[W];return G&&(Q=new G(P),Q.options=P,b.filters.push(Q)),Q}},{key:"_getFilter",value:function(b,S){var P=null;if(b){var Q=this._getFabricFilterType(S),W=b.filters.length,G,ae;for(ae=0;ae<W;ae+=1)if(G=b.filters[ae],G.type===Q){P=G;break}}return P}},{key:"_removeFilter",value:function(b,S){var P,Q=this._getFabricFilterType(S);b.filters=mo()(P=b.filters).call(P,function(W){return W.type!==Q})}},{key:"_getFabricFilterType",value:function(b){return b.charAt(0).toUpperCase()+p()(b).call(b,1)}}]),E}(Cr),w6=C6,B6=a(1801),ci=a.n(B6),mb={pixelate:"blocksize",blur:"blur"},Bg={x:"width",y:"height"},b6=lV(mb),AA=null;function Zc(j){var O=iA(j,"patternSourceCanvas"),E=O.patternSourceCanvas,_=E.getObjects(),b=ve(_,1),S=b[0];return S}function E6(j){var O=j.angle,E=j.flipX,_=j.flipY,b=Zc(j),S=L6(j),P=S.right,Q=S.bottom,W=S.width,G=S.height,ae=(W-j.width)/2,ce=(G-j.height)/2,Be=j.left-j.width/2-ae,be=j.top-j.height/2-ce,Se=W/2-ae,_e=G/2-ce,Me=Math.max(W,G)+Math.max(ae,ce),Pe=_6({shapeObj:j,left:Se,top:_e,width:W,height:G,cropX:Be,cropY:be,flipX:E,flipY:_,right:P,bottom:Q}),at=ve(Pe,4);Se=at[0],_e=at[1],W=at[2],G=at[3],b.set({angle:E===_?-O:O,left:Se,top:_e,width:W,height:G,cropX:Be,cropY:be,flipX:E,flipY:_}),vg(b,{fillImageMaxSize:Me})}function bg(j){var O;return Kr()(O=j.filters).call(O,function(E){var _=Ee()(E),b=ve(_,1),S=b[0];return H({},b6[S],E[S])})}function _6(j){var O=j.shapeObj,E=j.left,_=j.top,b=j.width,S=j.height,P=j.cropX,Q=j.cropY,W=j.flipX,G=j.flipY,ae=j.right,ce=j.bottom,Be=function(ut,Ye,Ot,Fn){return D6({type:ut,outDistance:Ye,shapeObj:O,flipX:W,flipY:G,left:Ot,top:Fn})},be=b,Se=S,_e=I6(Be,{left:E,top:_,width:b,height:S,cropX:P,cropY:Q}),Me=ve(_e,4);E=Me[0],_=Me[1],b=Me[2],S=Me[3];var Pe=S6(Be,{left:E,top:_,insideCanvasRealImageWidth:b,insideCanvasRealImageHeight:S,right:ae,bottom:ce,cropX:P,cropY:Q,originalWidth:be,originalHeight:Se}),at=ve(Pe,4);return E=at[0],_=at[1],b=at[2],S=at[3],[E,_,b,S]}function S6(j,O){var E=O.left,_=O.top,b=O.insideCanvasRealImageWidth,S=O.insideCanvasRealImageHeight,P=O.right,Q=O.bottom,W=O.cropX,G=O.cropY,ae=O.originalWidth,ce=O.originalHeight,Be=b,be=S,Se=AA,_e=Se.width,Me=Se.height;P>_e&&W>0&&(Be=ae-Math.abs(P-_e)),Q>Me&&G>0&&(be=ce-Math.abs(Q-Me));var Pe={x:(b-Be)/2,y:(S-be)/2};return $()(["x","y"],function(at){var st=Pe[at];if(st>0){var ut=j(at,st,E,_),Ye=ve(ut,2);E=Ye[0],_=Ye[1]}}),[E,_,Be,be]}function I6(j,O){var E=O.left,_=O.top,b=O.width,S=O.height,P=O.cropX,Q=O.cropY,W={width:b,height:S};return $()(["x","y"],function(G){var ae=G==="x"?P:Q,ce=W[Bg[G]],Be=AA[Bg[G]];if(ce>Be){var be=(ce-Be)/2;W[Bg[G]]=Be;var Se=j(G,be,E,_),_e=ve(Se,2);E=_e[0],_=_e[1]}if(ae<0){var Me=j(G,ae,E,_),Pe=ve(Me,2);E=Pe[0],_=Pe[1]}}),[E,_,W.width,W.height]}function yb(j,O,E){var _=Cb(j),b=Bb(_,j.angle,O);E.add(b);var S={fill:new J.fabric.Pattern({source:E.getElement(),repeat:"no-repeat"})};return vg(S,{patternSourceCanvas:E}),S}function x6(j){var O=j.getObjects(),E=ve(O,1),_=E[0],b=iA(_,"fillImageMaxSize"),S=b.fillImageMaxSize;S=Math.max(1,S),j.setDimensions({width:S,height:S}),j.renderAll()}function M6(j,O){var E=iA(j,"patternSourceCanvas"),_=E.patternSourceCanvas,b=_.getObjects(),S=ve(b,1),P=S[0],Q=bg(P);_.remove(P);var W=Cb(O,!0),G=Bb(W,O.angle,Q);_.add(G)}function Cb(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!AA||O)&&(AA=j.toCanvasElement()),AA}function D6(j){var O=j.type,E=j.shapeObj,_=j.outDistance,b=j.left,S=j.top,P=j.flipX,Q=j.flipY,W=wb(E),G=[[1,2],[0,3],[0,3],[1,2]],ae=O6(O,W,G),ce=F6(O,W,ae),Be=ae.startPointIndex,be=T6({outDistance:_,startPointIndex:Be,flipX:P,flipY:Q,reatAngles:ce});return[b+be.left,S+be.top]}function T6(j){var O=j.outDistance,E=j.startPointIndex,_=j.flipX,b=j.flipY,S=j.reatAngles,P=O*Math.cos(S[0]*Math.PI/180),Q=O*Math.cos(S[1]*Math.PI/180),W=E===2||E===3,G={top:W?P:Q,left:W?Q:P};return k6(E,_,b)&&(G.left=G.left*-1),U6(E,_,b)&&(G.top=G.top*-1),G}function O6(j,O,E){var _=0,b=0;$()(O,function(W,G){W[j]<_&&(_=W[j],b=G)});var S=ve(E[b],2),P=S[0],Q=S[1];return{startPointIndex:b,endPointIndex1:P,endPointIndex2:Q}}function F6(j,O,E){var _,b=E.startPointIndex,S=E.endPointIndex1,P=E.endPointIndex2,Q=j==="x"?180:270;return Kr()(_=[S,P]).call(_,function(W){var G=O[b],ae=O[W],ce=G.y-ae.y,Be=G.x-ae.x;return Math.atan2(ce,Be)*180/Math.PI-Q})}function k6(j,O,E){return(!O&&E||!O&&!E)&&j===0||(O&&E||O&&!E)&&j===1||(!O&&!E||!O&&E)&&j===2||(O&&!E||O&&E)&&j===3}function U6(j,O,E){return(O&&!E||!O&&!E)&&j===0||(!O&&!E||O&&!E)&&j===1||(O&&E||!O&&E)&&j===2||(!O&&E||O&&E)&&j===3}function wb(j){return[j.getPointByOrigin("left","top"),j.getPointByOrigin("right","top"),j.getPointByOrigin("left","bottom"),j.getPointByOrigin("right","bottom")]}function L6(j){var O=wb(j),E=ve(O,4),_=E[0],b=_.x,S=_.y,P=E[1],Q=P.x,W=P.y,G=E[2],ae=G.x,ce=G.y,Be=E[3],be=Be.x,Se=Be.y,_e=Math.min(b,Q,ae,be),Me=Math.min(S,W,ce,Se),Pe=Math.max(b,Q,ae,be),at=Math.max(S,W,ce,Se);return{left:_e,top:Me,right:Pe,bottom:at,width:Pe-_e,height:at-Me}}function Bb(j,O,E){var _,b=new J.fabric.Image(j);return $()(Y().apply(void 0,R()(_=[{}]).call(_,N(E))),function(S,P){var Q=cV(P),W=new J.fabric.Image.filters[Q](H({},mb[P],S));b.filters.push(W)}),b.applyFilters(),vg(b,{originalAngle:O,fillImageMaxSize:Math.max(b.width,b.height)}),ci().adjustOriginToCenter(b),b}function P6(j){var O=N6();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function N6(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var bb=Y()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},an),R6="rect",Q6=20,H6=20;function Eb(j,O,E){var _=Ie()(j),b=GB(Ie()(j)),S=_;_.color&&(S=_.color);var P=null;if(b==="filter"){var Q=E();P=yb(O,mo()(_),Q)}else P={fill:S};return Y()({},j,P)}var j6=function(j){Pt(E,j);var O=P6(E);function E(_){var b,S,P,Q,W,G;return X(this,E),G=O.call(this,Qe.SHAPE,_),G._shapeObj=null,G._type=R6,G._options=Y()({},bb),G._isSelected=!1,G._startPoint={},G._withShiftKey=!1,G._handlers={mousedown:le()(b=G._onFabricMouseDown).call(b,xt(G)),mousemove:le()(S=G._onFabricMouseMove).call(S,xt(G)),mouseup:le()(P=G._onFabricMouseUp).call(P,xt(G)),keydown:le()(Q=G._onKeyDown).call(Q,xt(G)),keyup:le()(W=G._onKeyUp).call(W,xt(G))},G}return ie(E,[{key:"start",value:function(){var b=this.getCanvas();this._isSelected=!1,b.defaultCursor="crosshair",b.selection=!1,b.uniformScaling=!0,b.on({"mouse:down":this._handlers.mousedown}),J.fabric.util.addListener(document,"keydown",this._handlers.keydown),J.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var b=this.getCanvas();this._isSelected=!1,b.defaultCursor="default",b.selection=!0,b.uniformScaling=!1,b.off({"mouse:down":this._handlers.mousedown}),J.fabric.util.removeListener(document,"keydown",this._handlers.keydown),J.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(b,S){this._type=b,S&&(this._options=Y()(this._options,S))}},{key:"add",value:function(b,S){var P=this;return new(ee())(function(Q){var W=P.getCanvas(),G=P._extendOptions(S),ae=P._createInstance(b,G),ce=P.graphics.createObjectProperties(ae);P._bindEventOnShape(ae),W.add(ae).setActiveObject(ae),P._resetPositionFillFilter(ae),Q(ce)})}},{key:"change",value:function(b,S){var P=this;return new(ee())(function(Q,W){WB(b)||W(Ut.unsupportedType);var G=GB(Ie()(S))==="filter",ae=P.graphics,ce=ae.canvasImage,Be=ae.createStaticCanvas;b.set(G?Eb(S,ce,Be):S),G&&P._resetPositionFillFilter(b),P.getCanvas().renderAll(),Q()})}},{key:"makeFillPropertyForUserEvent",value:function(b){var S=mg(b),P={};if(S===Oe.FILTER){var Q=Zc(b),W=bg(Q);P.type=S,P.filter=W}else P.type=Oe.COLOR,P.color=Ie()(b)||"transparent";return P}},{key:"processForCopiedObject",value:function(b,S){if(this._bindEventOnShape(b),mg(b)==="filter"){var P=Zc(S),Q=bg(P),W=this.graphics.createStaticCanvas();b.set(yb(this.graphics.canvasImage,Q,W)),this._resetPositionFillFilter(b)}}},{key:"_createInstance",value:function(b,S){var P;switch(b){case"rect":P=new J.fabric.Rect(S);break;case"circle":P=new J.fabric.Ellipse(Y()({type:"circle"},S));break;case"triangle":P=new J.fabric.Triangle(S);break;default:P={}}return P}},{key:"_extendOptions",value:function(b){var S=Tr.SELECTION_STYLE,P=this.graphics,Q=P.canvasImage,W=P.createStaticCanvas;return b=Y()({},bb,this._options,S,b),Eb(b,Q,W)}},{key:"_bindEventOnShape",value:function(b){var S=this,P=this.getCanvas();b.on({added:function(){S._shapeObj=this,ci().setOrigins(S._shapeObj)},selected:function(){S._isSelected=!0,S._shapeObj=this,P.uniformScaling=!0,P.defaultCursor="default",ci().setOrigins(S._shapeObj)},deselected:function(){S._isSelected=!1,S._shapeObj=null,P.defaultCursor="crosshair",P.uniformScaling=!1},modified:function(){var W=S._shapeObj;ci().adjustOriginToCenter(W),ci().setOrigins(W)},modifiedInGroup:function(W){S._fillFilterRePositionInGroupSelection(b,W)},moving:function(){S._resetPositionFillFilter(this)},rotating:function(){S._resetPositionFillFilter(this)},scaling:function(W){var G=P.getPointer(W.e),ae=S._shapeObj;P.setCursor("crosshair"),ci().resize(ae,G,!0),S._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(b){if(b.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var S=this.getCanvas();this._startPoint=S.getPointer(b.e),S.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(b){var S=this,P=this.getCanvas(),Q=P.getPointer(b.e),W=this._startPoint.x,G=this._startPoint.y,ae=W-Q.x,ce=G-Q.y,Be=this._shapeObj;Be?(this._shapeObj.set({isRegular:this._withShiftKey}),ci().resize(Be,Q),P.renderAll(),this._resetPositionFillFilter(Be)):this.add(this._type,{left:W,top:G,width:ae,height:ce}).then(function(be){S.fire(Te.ADD_OBJECT,be)})}},{key:"_onFabricMouseUp",value:function(){var b=this,S=this.getCanvas(),P=this._startPoint.x,Q=this._startPoint.y,W=this._shapeObj;W?W&&(ci().adjustOriginToCenter(W),this.fire(Te.OBJECT_ADDED,this.graphics.createObjectProperties(W))):this.add(this._type,{left:P,top:Q,width:Q6,height:H6}).then(function(G){b.fire(Te.ADD_OBJECT,G)}),S.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(b){b.keyCode===en.SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(b){b.keyCode===en.SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(b){if(mg(b)==="filter"){var S=iA(b,"patternSourceCanvas"),P=S.patternSourceCanvas,Q=Zc(b),W=iA(Q,"originalAngle"),G=W.originalAngle;this.graphics.canvasImage.angle!==G&&M6(b,this.graphics.canvasImage);var ae=b.originX,ce=b.originY;ci().adjustOriginToCenter(b),b.width*=b.scaleX,b.height*=b.scaleY,b.rx*=b.scaleX,b.ry*=b.scaleY,b.scaleX=1,b.scaleY=1,E6(b),AV(b,{originX:ae,originY:ce}),x6(P)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(b,S){(S.scaleX!==1||S.scaleY!==1)&&S.addWithUpdate();var P=b.angle,Q=b.left,W=b.top;J.fabric.util.addTransformToObject(b,S.calcTransformMatrix()),this._resetPositionFillFilter(b),b.set({angle:P,left:Q,top:W})}}]),E}(Cr);function z6(j){var O=V6();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function V6(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var Eg=10,_b={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},_g={SIZE:.0045,MARGIN:.003,BORDER_RADIUS:.003},Sg={SIZE:.0066,MARGIN:.0044,BORDER_RADIUS:.003},Jc=1,Sb=Te.ZOOM_CHANGED,G6=Te.ADD_TEXT,W6=Te.TEXT_EDITING,Y6=Te.OBJECT_MODIFIED,Ib=Te.KEY_DOWN,xb=Te.KEY_UP,X6=Te.HAND_STARTED,K6=Te.HAND_STOPPED,Z6=function(j){Pt(E,j);var O=z6(E);function E(_){var b,S,P,Q,W,G,ae,ce,Be,be,Se,_e,Me;X(this,E),Me=O.call(this,Qe.ZOOM,_),Me.zoomArea=null,Me._startPoint=null,Me._centerPoints=[],Me.zoomLevel=Jc,Me.zoomMode=Nn.DEFAULT,Me._listeners={startZoom:le()(b=Me._onMouseDownWithZoomMode).call(b,xt(Me)),moveZoom:le()(S=Me._onMouseMoveWithZoomMode).call(S,xt(Me)),stopZoom:le()(P=Me._onMouseUpWithZoomMode).call(P,xt(Me)),startHand:le()(Q=Me._onMouseDownWithHandMode).call(Q,xt(Me)),moveHand:le()(W=Me._onMouseMoveWithHandMode).call(W,xt(Me)),stopHand:le()(G=Me._onMouseUpWithHandMode).call(G,xt(Me)),zoomChanged:le()(ae=Me._changeScrollState).call(ae,xt(Me)),keydown:le()(ce=Me._startHandModeWithSpaceBar).call(ce,xt(Me)),keyup:le()(Be=Me._endHandModeWithSpaceBar).call(Be,xt(Me))};var Pe=Me.getCanvas();return Me.aspectRatio=Pe.width/Pe.height,Me._verticalScroll=new J.fabric.Rect(_b),Me._horizontalScroll=new J.fabric.Rect(_b),Pe.on(Sb,Me._listeners.zoomChanged),Me.graphics.on(G6,le()(be=Me._startTextEditingHandler).call(be,xt(Me))),Me.graphics.on(W6,le()(Se=Me._startTextEditingHandler).call(Se,xt(Me))),Me.graphics.on(Y6,le()(_e=Me._stopTextEditingHandler).call(_e,xt(Me))),Me}return ie(E,[{key:"attachKeyboardZoomEvents",value:function(){J.fabric.util.addListener(document,Ib,this._listeners.keydown),J.fabric.util.addListener(document,xb,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){J.fabric.util.removeListener(document,Ib,this._listeners.keydown),J.fabric.util.removeListener(document,xb,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(b){this.withSpace||this.isTextEditing||b.keyCode===en.SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(b){b.keyCode===en.SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=Nn.ZOOM;var b=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new J.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),b.discardActiveObject(),b.add(this.zoomArea),b.on("mouse:down",this._listeners.startZoom),b.selection=!1,b.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=Nn.DEFAULT;var b=this.getCanvas(),S=this._listeners,P=S.startZoom,Q=S.moveZoom,W=S.stopZoom;b.selection=!0,b.defaultCursor="auto",b.off({"mouse:down":P,"mouse:move":Q,"mouse:up":W}),this._changeObjectsEventedState(!0),b.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=Nn.HAND;var b=this.getCanvas();this._changeObjectsEventedState(!1),b.discardActiveObject(),b.off("mouse:down",this._listeners.startHand),b.on("mouse:down",this._listeners.startHand),b.selection=!1,b.defaultCursor="grab",b.fire(X6)}},{key:"endHandMode",value:function(){this.zoomMode=Nn.DEFAULT;var b=this.getCanvas();this._changeObjectsEventedState(!0),b.off("mouse:down",this._listeners.startHand),b.selection=!0,b.defaultCursor="auto",this._startHandPoint=null,b.fire(K6)}},{key:"_onMouseDownWithZoomMode",value:function(b){var S=b.target,P=b.e;if(!S){var Q=this.getCanvas();Q.selection=!1,this._startPoint=Q.getPointer(P),this.zoomArea.set({width:0,height:0});var W=this._listeners,G=W.moveZoom,ae=W.stopZoom;Q.on({"mouse:move":G,"mouse:up":ae})}}},{key:"_onMouseMoveWithZoomMode",value:function(b){var S=b.e,P=this.getCanvas(),Q=P.getPointer(S),W=Q.x,G=Q.y,ae=this.zoomArea,ce=this._startPoint,Be=Math.abs(W-ce.x),be=Math.abs(G-ce.y);Be+be>Eg&&(P.remove(ae),ae.set(this._calcRectDimensionFromPoint(W,G)),P.add(ae))}},{key:"_calcRectDimensionFromPoint",value:function(b,S){var P=this.getCanvas(),Q=P.getWidth(),W=P.getHeight(),G=this._startPoint,ae=G.x,ce=G.y,Be=Math.min,be=Be(ae,b),Se=Be(ce,S),_e=At(b,ae,Q)-be,Me=At(S,ce,W)-Se;return{left:be,top:Se,width:_e,height:Me}}},{key:"_onMouseUpWithZoomMode",value:function(){var b=this.zoomLevel,S=this.zoomArea,P=this._listeners,Q=P.moveZoom,W=P.stopZoom,G=this.getCanvas(),ae=this._getCenterPoint(),ce=ae.x,Be=ae.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:ce,y:Be,prevZoomLevel:b,zoomLevel:b+1}),b+=1,G.zoomToPoint({x:ce,y:Be},b),this._fireZoomChanged(G,b),this.zoomLevel=b),G.off({"mouse:move":Q,"mouse:up":W}),G.remove(S),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var b=this.zoomArea,S=b.left,P=b.top,Q=b.width,W=b.height,G=this._startPoint,ae=G.x,ce=G.y,Be=this.aspectRatio;return Q<Eg&&W<Eg?{x:ae,y:ce}:Q>W?{x:S+Be*W/2,y:P+W/2}:{x:S+Q/2,y:P+Q/Be/2}}},{key:"zoom",value:function(b){for(var S=b.x,P=b.y,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.zoomLevel,W=this.getCanvas(),G=this._centerPoints,ae=G.length-1;ae>=0&&!(G[ae].zoomLevel<Q);ae-=1){var ce=G.pop(),Be=ce.x,be=ce.y,Se=ce.prevZoomLevel;W.zoomToPoint({x:Be,y:be},Se),this.zoomLevel=Se}W.zoomToPoint({x:S,y:P},Q),this._isDefaultZoomLevel(Q)||this._centerPoints.push({x:S,y:P,zoomLevel:Q,prevZoomLevel:this.zoomLevel}),this.zoomLevel=Q,this._fireZoomChanged(W,Q)}},{key:"zoomOut",value:function(){var b=this._centerPoints;if(!!b.length){var S=this.getCanvas(),P=b.pop(),Q=P.x,W=P.y,G=P.prevZoomLevel;this._isDefaultZoomLevel(G)?S.setViewportTransform([1,0,0,1,0,0]):S.zoomToPoint({x:Q,y:W},G),this.zoomLevel=G,this._fireZoomChanged(S,this.zoomLevel)}}},{key:"resetZoom",value:function(){var b=this.getCanvas();b.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=Jc,this._centerPoints=[],this._fireZoomChanged(b,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(b){var S=b.x,P=b.y,Q=this._centerPoints;if(!!Q.length){var W=this.getCanvas(),G=this.zoomLevel,ae=Q.pop(),ce=ae.x,Be=ae.y,be=ae.prevZoomLevel,Se=ce-S,_e=Be-P;W.zoomToPoint({x:ce,y:Be},be),W.zoomToPoint({x:Se,y:_e},G),Q.push({x:Se,y:_e,prevZoomLevel:be,zoomLevel:G}),this._fireZoomChanged(W,G)}}},{key:"_onMouseDownWithHandMode",value:function(b){var S=b.target,P=b.e;if(!S){var Q=this.getCanvas();if(!(this.zoomLevel<=Jc)){Q.selection=!1,this._startHandPoint=Q.getPointer(P);var W=this._listeners,G=W.moveHand,ae=W.stopHand;Q.on({"mouse:move":G,"mouse:up":ae})}}}},{key:"_onMouseMoveWithHandMode",value:function(b){var S=b.e,P=this.getCanvas(),Q=P.getPointer(S),W=Q.x,G=Q.y,ae=W-this._startHandPoint.x,ce=G-this._startHandPoint.y;this._movePointOfZoom({x:ae,y:ce})}},{key:"_onMouseUpWithHandMode",value:function(){var b=this.getCanvas(),S=this._listeners,P=S.moveHand,Q=S.stopHand;b.off({"mouse:move":P,"mouse:up":Q}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(b){var S=b.viewport,P=b.zoomLevel,Q=this.getCanvas();if(Q.remove(this._verticalScroll),Q.remove(this._horizontalScroll),!this._isDefaultZoomLevel(P)){var W=Q.width,G=Q.height,ae=S.tl,ce=S.tr,Be=S.bl,be=ce.x-ae.x,Se=Be.y-ae.y,_e=be*be/W,Me=Se*Sg.SIZE,Pe=At(ae.x+ae.x/W*be,ae.x,ce.x-_e),at=Se*Sg.MARGIN,st=Se*Sg.BORDER_RADIUS;this._horizontalScroll.set({left:Pe,top:Be.y-Me-at,width:_e,height:Me,rx:st,ry:st});var ut=be*_g.SIZE,Ye=Se*Se/G,Ot=At(ae.y+ae.y/G*Se,ce.y,Be.y-Ye),Fn=be*_g.MARGIN,qn=be*_g.BORDER_RADIUS;this._verticalScroll.set({left:ce.x-ut-Fn,top:Ot,width:ut,height:Ye,rx:qn,ry:qn}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,S=this.getCanvas();S.forEachObject(function(P){P.evented=b})}},{key:"_addScrollBar",value:function(){var b=this,S=this.getCanvas();S.add(this._horizontalScroll),S.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=f()(function(){S.remove(b._horizontalScroll),S.remove(b._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(b){return b===Jc}},{key:"_fireZoomChanged",value:function(b,S){b.fire(Sb,{viewport:b.calcViewportBoundaries(),zoomLevel:S})}},{key:"mode",get:function(){return this.zoomMode}}]),E}(Cr),J6=Z6,Mb=Gc.create,Db=Gc.types,$6=function(){function j(O){X(this,j),this.name=O}return ie(j,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(Mb(Db.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(Mb(Db.UN_IMPLEMENTATION,"stop"))}}]),j}(),Ri=$6;function q6(j){var O=eW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function eW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var tW=function(j){Pt(E,j);var O=q6(E);function E(){return X(this,E),O.call(this,Tt.CROPPER)}return ie(E,[{key:"start",value:function(b){var S=b.getComponent(Qe.CROPPER);S.start()}},{key:"end",value:function(b){var S=b.getComponent(Qe.CROPPER);S.end()}}]),E}(Ri),nW=tW;function rW(j){var O=iW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function iW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var aW=function(j){Pt(E,j);var O=rW(E);function E(){return X(this,E),O.call(this,Tt.FREE_DRAWING)}return ie(E,[{key:"start",value:function(b,S){var P=b.getComponent(Qe.FREE_DRAWING);P.start(S)}},{key:"end",value:function(b){var S=b.getComponent(Qe.FREE_DRAWING);S.end()}}]),E}(Ri),oW=aW;function sW(j){var O=AW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function AW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var lW=function(j){Pt(E,j);var O=sW(E);function E(){return X(this,E),O.call(this,Tt.LINE_DRAWING)}return ie(E,[{key:"start",value:function(b,S){var P=b.getComponent(Qe.LINE);P.start(S)}},{key:"end",value:function(b){var S=b.getComponent(Qe.LINE);S.end()}}]),E}(Ri),cW=lW;function uW(j){var O=fW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function fW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var hW=function(j){Pt(E,j);var O=uW(E);function E(){return X(this,E),O.call(this,Tt.SHAPE)}return ie(E,[{key:"start",value:function(b){var S=b.getComponent(Qe.SHAPE);S.start()}},{key:"end",value:function(b){var S=b.getComponent(Qe.SHAPE);S.end()}}]),E}(Ri),dW=hW;function gW(j){var O=pW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function pW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var vW=function(j){Pt(E,j);var O=gW(E);function E(){return X(this,E),O.call(this,Tt.TEXT)}return ie(E,[{key:"start",value:function(b){var S=b.getComponent(Qe.TEXT);S.start()}},{key:"end",value:function(b){var S=b.getComponent(Qe.TEXT);S.end()}}]),E}(Ri),mW=vW;function yW(j){var O=CW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function CW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var wW=function(j){Pt(E,j);var O=yW(E);function E(){return X(this,E),O.call(this,Tt.ICON)}return ie(E,[{key:"start",value:function(b){var S=b.getComponent(Qe.ICON);S.start()}},{key:"end",value:function(b){var S=b.getComponent(Qe.ICON);S.end()}}]),E}(Ri),BW=wW;function bW(j){var O=EW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function EW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var _W=function(j){Pt(E,j);var O=bW(E);function E(){return X(this,E),O.call(this,Tt.ZOOM)}return ie(E,[{key:"start",value:function(b){var S=b.getComponent(Qe.ZOOM);S.start()}},{key:"end",value:function(b){var S=b.getComponent(Qe.ZOOM);S.end()}}]),E}(Ri),SW=_W,Tb=null;function Ob(j){Tb=j}function IW(){return Tb}function Ig(j,O){var E;if(j.type==="activeSelection"){var _;E=Kr()(_=j.getObjects()).call(_,function(b){var S=b.angle,P=b.left,Q=b.top,W=b.scaleX,G=b.scaleY,ae=b.width,ce=b.height;J.fabric.util.addTransformToObject(b,j.calcTransformMatrix());var Be=O(b);return b.set({angle:S,left:P,top:Q,width:ae,height:ce,scaleX:W,scaleY:G}),Be})}else E=[O(j)];return E}function xg(j,O,E){return E?{id:j,width:O.width,height:O.height,top:O.top,left:O.left,angle:O.angle,scaleX:O.scaleX,scaleY:O.scaleY}:Y()({id:j},O)}function xW(j){var O=MW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function MW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var DW=function(j){Pt(E,j);var O=xW(E);function E(_){var b;return X(this,E),b=O.call(this,Qe.RESIZE,_),b._dimensions=null,b._originalDimensions=null,b}return ie(E,[{key:"getCurrentDimensions",value:function(){var b=this.getCanvasImage();if(!this._dimensions&&b){var S=b.width,P=b.height;this._dimensions={width:S,height:P}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(b){this._originalDimensions=b}},{key:"resize",value:function(b){var S=this.getCanvasImage(),P=S.width,Q=S.height,W=S.scaleX,G=S.scaleY,ae=b.width,ce=b.height,Be={scaleX:ae?ae/P:W,scaleY:ce?ce/Q:G};return(W!==Be.scaleX||G!==Be.scaleY)&&(S.set(Be).setCoords(),this._dimensions={width:S.width*S.scaleX,height:S.height*S.scaleY}),this.adjustCanvasDimensionBase(),ee().resolve()}},{key:"start",value:function(){var b=this.getCurrentDimensions();this.setOriginalDimensions(b)}},{key:"end",value:function(){}}]),E}(Cr),TW=DW;function OW(j){var O=FW();return function(){var _=ot(j),b;if(O){var S=ot(this).constructor;b=Ue()(_,arguments,S)}else b=_.apply(this,arguments);return Nt(this,b)}}function FW(){if(typeof Reflect=="undefined"||!Ue()||Ue().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Ue()(Boolean,[],function(){})),!0}catch{return!1}}var kW=function(j){Pt(E,j);var O=OW(E);function E(){return X(this,E),O.call(this,Tt.RESIZE)}return ie(E,[{key:"start",value:function(b){var S=b.getComponent(Qe.RESIZE);S.start()}},{key:"end",value:function(b){var S=b.getComponent(Qe.RESIZE);S.end()}}]),E}(Ri),UW=kW,LW=1e3,PW=800,$c=10,NW={cssOnly:!0},RW={backstoreOnly:!0},Fb=function(){function j(O){var E,_,b,S,P,Q,W,G,ae,ce,Be,be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=be.cssMaxWidth,_e=be.cssMaxHeight;X(this,j),this.canvasImage=null,this.cssMaxWidth=Se||LW,this.cssMaxHeight=_e||PW,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=Tt.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:le()(E=this._onMouseDown).call(E,this),onObjectAdded:le()(_=this._onObjectAdded).call(_,this),onObjectRemoved:le()(b=this._onObjectRemoved).call(b,this),onObjectMoved:le()(S=this._onObjectMoved).call(S,this),onObjectScaled:le()(P=this._onObjectScaled).call(P,this),onObjectModified:le()(Q=this._onObjectModified).call(Q,this),onObjectRotated:le()(W=this._onObjectRotated).call(W,this),onObjectSelected:le()(G=this._onObjectSelected).call(G,this),onPathCreated:le()(ae=this._onPathCreated).call(ae,this),onSelectionCleared:le()(ce=this._onSelectionCleared).call(ce,this),onSelectionCreated:le()(Be=this._onSelectionCreated).call(Be,this)},this._setObjectCachingToFalse(),this._setCanvasElement(O),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return ie(j,[{key:"destroy",value:function(){var E=this._canvas.wrapperEl;this._canvas.clear(),E.parentNode.removeChild(E),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){var E=this.getComponent(Qe.ZOOM);E.attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){var E=this.getComponent(Qe.ZOOM);E.detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(E){var _,b=[];db()(E)?b=E:b.push(E),(_=this._canvas).add.apply(_,N(b))}},{key:"contains",value:function(E){return this._canvas.contains(E)}},{key:"getObjects",value:function(){var E;return p()(E=this._canvas.getObjects()).call(E)}},{key:"getObject",value:function(E){return this._objects[E]}},{key:"remove",value:function(E){this._canvas.remove(E)}},{key:"removeAll",value:function(E){var _,b=this._canvas,S=p()(_=b.getObjects()).call(_);return b.remove.apply(b,N(this._canvas.getObjects())),E&&b.clear(),S}},{key:"removeObjectById",value:function(E){var _=[],b=this._canvas,S=this.getObject(E),P=S&&S.isType("group")&&!S.isEmpty();return P?(b.discardActiveObject(),S.forEachObject(function(Q){_.push(Q),b.remove(Q)})):b.contains(S)&&(_.push(S),b.remove(S)),_}},{key:"getObjectId",value:function(E){var _=null;for(_ in this._objects)if(this._objects.hasOwnProperty(_)&&E===this._objects[_])return _;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var E=this.getActiveObject(),_=E.type,b=E.left,S=E.top,P=_==="activeSelection";if(P){var Q=new J.fabric.Group(N(E.getObjects()),{left:b,top:S});return this._addFabricObject(Q)}return this.getObjectId(E)}},{key:"isReadyRemoveObject",value:function(){var E=this.getActiveObject();return E&&!E.isEditing}},{key:"getActiveObjects",value:function(){var E=this._canvas._activeObject;return E&&E.type==="activeSelection"?E:null}},{key:"getActiveSelectionFromObjects",value:function(E){var _=this.getCanvas();return new J.fabric.ActiveSelection(E,{canvas:_})}},{key:"setActiveObject",value:function(E){this._canvas.setActiveObject(E)}},{key:"setCropSelectionStyle",value:function(E){this.cropSelectionStyle=E}},{key:"getComponent",value:function(E){return this._componentMap[E]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(E,_){if(this._isSameDrawingMode(E))return!0;this.stopDrawingMode();var b=this._getDrawingModeInstance(E);return b&&b.start&&(b.start(this,_),this._drawingMode=E),!!b}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(Tt.NORMAL)){var E=this._getDrawingModeInstance(this.getDrawingMode());E&&E.end&&E.end(this),this._drawingMode=Tt.NORMAL}}},{key:"zoom",value:function(E,_){var b=E.x,S=E.y,P=this.getComponent(Qe.ZOOM);P.zoom({x:b,y:S},_)}},{key:"getZoomMode",value:function(){var E=this.getComponent(Qe.ZOOM);return E.mode}},{key:"startZoomInMode",value:function(){var E=this.getComponent(Qe.ZOOM);E.startZoomInMode()}},{key:"endZoomInMode",value:function(){var E=this.getComponent(Qe.ZOOM);E.endZoomInMode()}},{key:"zoomOut",value:function(){var E=this.getComponent(Qe.ZOOM);E.zoomOut()}},{key:"startHandMode",value:function(){var E=this.getComponent(Qe.ZOOM);E.startHandMode()}},{key:"endHandMode",value:function(){var E=this.getComponent(Qe.ZOOM);E.endHandMode()}},{key:"resetZoom",value:function(){var E=this.getComponent(Qe.ZOOM);E.resetZoom()}},{key:"toDataURL",value:function(E){var _=this.getComponent(Qe.CROPPER);_.changeVisibility(!1);var b=this._canvas&&this._canvas.toDataURL(E);return _.changeVisibility(!0),b}},{key:"setCanvasImage",value:function(E,_){_&&He(_),this.imageName=E,this.canvasImage=_}},{key:"setCssMaxDimension",value:function(E){this.cssMaxWidth=E.width||this.cssMaxWidth,this.cssMaxHeight=E.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;E||(E=this.canvasImage);var _=E.getBoundingRect(),b=_.width,S=_.height,P=this._calcMaxDimension(b,S);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(P.width,"px"),"max-height":"".concat(P.height,"px")}),this.setCanvasBackstoreDimension({width:b,height:S}),this._canvas.centerObject(E)}},{key:"setCanvasCssDimension",value:function(E){this._canvas.setDimensions(E,NW)}},{key:"setCanvasBackstoreDimension",value:function(E){this._canvas.setDimensions(E,RW)}},{key:"setImageProperties",value:function(E,_){var b=this.canvasImage;!b||(b.set(E).setCoords(),_&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(E){var _,b=this,S=le()(_=this._callbackAfterLoadingImageObject).call(_,this);return new(ee())(function(P){J.fabric.Image.fromURL(E,function(Q){S(Q),P(b.createObjectProperties(Q))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(Qe.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(E){this.getComponent(Qe.CROPPER).setCropzoneRect(E)}},{key:"getCroppedImageData",value:function(E){return this.getComponent(Qe.CROPPER).getCroppedImageData(E)}},{key:"setBrush",value:function(E){var _=this._drawingMode,b=Qe.FREE_DRAWING;_===Tt.LINE_DRAWING&&(b=Qe.LINE),this.getComponent(b).setBrush(E)}},{key:"setDrawingShape",value:function(E,_){this.getComponent(Qe.SHAPE).setStates(E,_)}},{key:"setIconStyle",value:function(E,_){this.getComponent(Qe.ICON).setStates(E,_)}},{key:"registerPaths",value:function(E){this.getComponent(Qe.ICON).registerPaths(E)}},{key:"changeCursor",value:function(E){var _=this.getCanvas();_.defaultCursor=E,_.renderAll()}},{key:"hasFilter",value:function(E){return this.getComponent(Qe.FILTER).hasFilter(E)}},{key:"setSelectionStyle",value:function(E){Y()(Tr.SELECTION_STYLE,E)}},{key:"setObjectProperties",value:function(E,_){var b=this.getObject(E),S=Y()({},_);return b.set(S),b.setCoords(),this.getCanvas().renderAll(),S}},{key:"getObjectProperties",value:function(E,_){var b=this.getObject(E),S={};return ye()(_)?S[_]=b[_]:db()(_)?aA()(_,function(P){S[P]=b[P]}):Yc()(_,function(P,Q){S[Q]=b[Q]}),S}},{key:"getObjectPosition",value:function(E,_,b){var S=this.getObject(E);return S?S.getPointByOrigin(_,b):null}},{key:"setObjectPosition",value:function(E,_){var b=this.getObject(E),S=_.x,P=_.y,Q=_.originX,W=_.originY;if(!b)return!1;var G=b.getPointByOrigin(Q,W),ae=b.getPointByOrigin("center","center"),ce=ae.x-G.x,Be=ae.y-G.y;return b.set({left:S+ce,top:P+Be}),b.setCoords(),!0}},{key:"getCanvasSize",value:function(){var E=this.getCanvasImage();return{width:E?E.width:0,height:E?E.height:0}}},{key:"createStaticCanvas",value:function(){var E=new J.fabric.StaticCanvas;return E.set({enableRetinaScaling:!1}),E}},{key:"_getDrawingModeInstance",value:function(E){return this._drawingModeMap[E]}},{key:"_setObjectCachingToFalse",value:function(){J.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(E){var _,b;E.nodeType?_=E:_=document.querySelector(E),_.nodeName.toUpperCase()!=="CANVAS"&&(b=document.createElement("canvas"),_.appendChild(b)),this._canvas=new J.fabric.Canvas(b,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new nW),this._register(this._drawingModeMap,new oW),this._register(this._drawingModeMap,new cW),this._register(this._drawingModeMap,new dW),this._register(this._drawingModeMap,new mW),this._register(this._drawingModeMap,new BW),this._register(this._drawingModeMap,new SW),this._register(this._drawingModeMap,new UW)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new d8(this)),this._register(this._componentMap,new T8(this)),this._register(this._componentMap,new U8(this)),this._register(this._componentMap,new R8(this)),this._register(this._componentMap,new z8(this)),this._register(this._componentMap,new J8(this)),this._register(this._componentMap,new i6(this)),this._register(this._componentMap,new l6(this)),this._register(this._componentMap,new w6(this)),this._register(this._componentMap,new j6(this)),this._register(this._componentMap,new J6(this)),this._register(this._componentMap,new TW(this))}},{key:"_register",value:function(E,_){E[_.getName()]=_}},{key:"_isSameDrawingMode",value:function(E){return this.getDrawingMode()===E}},{key:"_calcMaxDimension",value:function(E,_){var b=this.cssMaxWidth/E,S=this.cssMaxHeight/_,P=Math.min(E,this.cssMaxWidth),Q=Math.min(_,this.cssMaxHeight);return b<1&&b<S?(P=E*b,Q=_*b):S<1&&S<b&&(P=E*S,Q=_*S),{width:Math.floor(P),height:Math.floor(Q)}}},{key:"_callbackAfterLoadingImageObject",value:function(E){var _=this.getCanvasImage().getCenterPoint();E.set(Tr.SELECTION_STYLE),E.set({left:_.x,top:_.y,crossOrigin:"Anonymous"}),this.getCanvas().add(E).setActiveObject(E)}},{key:"_attachCanvasEvents",value:function(){var E=this._canvas,_=this._handler;E.on({"mouse:down":_.onMouseDown,"object:added":_.onObjectAdded,"object:removed":_.onObjectRemoved,"object:moving":_.onObjectMoved,"object:scaling":_.onObjectScaled,"object:modified":_.onObjectModified,"object:rotating":_.onObjectRotated,"path:created":_.onPathCreated,"selection:cleared":_.onSelectionCleared,"selection:created":_.onSelectionCreated,"selection:updated":_.onObjectSelected})}},{key:"_onMouseDown",value:function(E){var _=this,b=E.e,S=E.target,P=this._canvas.getPointer(b);if(S){var Q=S.type,W=Ig(S,function(G){return xg(_.getObjectId(G),G,Q==="activeSelection")});Ob(W)}this.fire(Te.MOUSE_DOWN,b,P)}},{key:"_onObjectAdded",value:function(E){var _=E.target;_.isType("cropzone")||this._addFabricObject(_)}},{key:"_onObjectRemoved",value:function(E){var _=E.target;this._removeFabricObject(He(_))}},{key:"_onObjectMoved",value:function(E){var _=this;this._lazyFire(Te.OBJECT_MOVED,function(b){return _.createObjectProperties(b)},E.target)}},{key:"_onObjectScaled",value:function(E){var _=this;this._lazyFire(Te.OBJECT_SCALED,function(b){return _.createObjectProperties(b)},E.target)}},{key:"_onObjectModified",value:function(E){var _=E.target;if(_.type==="activeSelection"){var b=_.getObjects();Re()(b).call(b,function(S){return S.fire("modifiedInGroup",_)})}this.fire(Te.OBJECT_MODIFIED,_,this.getObjectId(_))}},{key:"_onObjectRotated",value:function(E){var _=this;this._lazyFire(Te.OBJECT_ROTATED,function(b){return _.createObjectProperties(b)},E.target)}},{key:"_lazyFire",value:function(E,_,b){var S=this,P=b&&b.canvasEventDelegation,Q=P?b.canvasEventDelegation(E):"none";Q==="unregistered"&&b.canvasEventRegister(E,function(W){S.fire(E,_(W))}),Q==="none"&&this.fire(E,_(b))}},{key:"_onObjectSelected",value:function(E){var _=E.target,b=this.createObjectProperties(_);this.fire(Te.OBJECT_ACTIVATED,b)}},{key:"_onPathCreated",value:function(E){var _=E.path.getCenterPoint(),b=_.x,S=_.y;E.path.set(Y()({left:b,top:S},Tr.SELECTION_STYLE));var P=this.createObjectProperties(E.path);this.fire(Te.ADD_OBJECT,P)}},{key:"_onSelectionCleared",value:function(){this.fire(Te.SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(E){var _=E.target,b=this.createObjectProperties(_);this.fire(Te.OBJECT_ACTIVATED,b),this.fire(Te.SELECTION_CREATED,E.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(E){this._canvas.forEachObject(function(_){_.selectable=E,_.hoverCursor=E?"move":"crosshair"})}},{key:"createObjectProperties",value:function(E){var _=["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"],b={id:He(E),type:E.type};if(Y()(b,Lt(E,_)),Vc(["i-text","text"],E.type))Y()(b,this._createTextProperties(E,b));else if(Vc(["rect","triangle","circle"],E.type)){var S=this.getComponent(Qe.SHAPE);Y()(b,{fill:S.makeFillPropertyForUserEvent(E)})}return b}},{key:"_createTextProperties",value:function(E){var _=["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"],b={};return Y()(b,Lt(E,_)),b}},{key:"_addFabricObject",value:function(E){var _=He(E);return this._objects[_]=E,_}},{key:"_removeFabricObject",value:function(E){delete this._objects[E]}},{key:"resetTargetObjectForCopyPaste",value:function(){var E=this.getActiveObject();E&&(this.targetObjectForCopyPaste=E)}},{key:"pasteObject",value:function(){var E=this;if(!this.targetObjectForCopyPaste)return ee().resolve([]);var _=this.targetObjectForCopyPaste,b=_.type==="activeSelection",S=b?_.getObjects():[_],P=null;return this.discardSelection(),this._cloneObject(S).then(function(Q){if(Q.length>1)P=E.getActiveSelectionFromObjects(Q);else{var W=ve(Q,1);P=W[0]}E.targetObjectForCopyPaste=P,E.setActiveObject(P)})}},{key:"_cloneObject",value:function(E){var _=this,b=Kr()(E).call(E,function(S){return _._cloneObjectItem(S)});return ee().all(b)}},{key:"_cloneObjectItem",value:function(E){var _=this;return this._copyFabricObjectForPaste(E).then(function(b){var S=_.createObjectProperties(b);return _.add(b),_.fire(Te.ADD_OBJECT,S),b})}},{key:"_copyFabricObjectForPaste",value:function(E){var _=this,b=function(P,Q){return Q?P-$c:P+$c};return this._copyFabricObject(E).then(function(S){var P=S.left,Q=S.top,W=S.width,G=S.height,ae=_.getCanvasSize(),ce=ae.width,Be=ae.height,be=P+W/2,Se=Q+G/2;return S.set(Y()({left:b(P,be+$c>ce),top:b(Q,Se+$c>Be)},Tr.SELECTION_STYLE)),S})}},{key:"_copyFabricObject",value:function(E){var _=this;return new(ee())(function(b){E.clone(function(S){var P=_.getComponent(Qe.SHAPE);WB(S)&&P.processForCopiedObject(S,E),b(S)})})}},{key:"getCurrentDimensions",value:function(){var E=this.getComponent(Qe.RESIZE);return E.getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){var E=this.getComponent(Qe.RESIZE);return E.getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(E){var _=this.getComponent(Qe.RESIZE);_.setOriginalDimensions(E)}},{key:"resize",value:function(E){var _=this.getComponent(Qe.RESIZE);return _.resize(E)}}]),j}();pe().mixin(Fb);var QW=Fb,HW=Te.MOUSE_DOWN,jW=Te.OBJECT_MOVED,zW=Te.OBJECT_SCALED,VW=Te.OBJECT_ACTIVATED,GW=Te.OBJECT_ROTATED,kb=Te.OBJECT_ADDED,WW=Te.OBJECT_MODIFIED,YW=Te.ADD_TEXT,XW=Te.ADD_OBJECT,KW=Te.TEXT_EDITING,ZW=Te.TEXT_CHANGED,JW=Te.ICON_CREATE_RESIZE,$W=Te.ICON_CREATE_END,Ub=Te.SELECTION_CLEARED,Lb=Te.SELECTION_CREATED,qW=Te.ADD_OBJECT_AFTER,Mg=function(){function j(O,E){var _,b,S,P,Q,W,G,ae,ce,Be,be,Se,_e,Me,Pe,at;if(X(this,j),E=Y()({includeUI:!1,usageStatistics:!0},E),this.mode=null,this.activeObjectId=null,E.includeUI){var st=E.includeUI;st.usageStatistics=E.usageStatistics,this.ui=new i8(O,st,this.getActions()),E=this.ui.setUiDefaultSelectionStyle(E)}this._invoker=new BV,this._graphics=new QW(this.ui?this.ui.getEditorArea():O,{cssMaxWidth:E.cssMaxWidth,cssMaxHeight:E.cssMaxHeight}),this._handlers={keydown:le()(_=this._onKeyDown).call(_,this),mousedown:le()(b=this._onMouseDown).call(b,this),objectActivated:le()(S=this._onObjectActivated).call(S,this),objectMoved:le()(P=this._onObjectMoved).call(P,this),objectScaled:le()(Q=this._onObjectScaled).call(Q,this),objectRotated:le()(W=this._onObjectRotated).call(W,this),objectAdded:le()(G=this._onObjectAdded).call(G,this),objectModified:le()(ae=this._onObjectModified).call(ae,this),createdPath:this._onCreatedPath,addText:le()(ce=this._onAddText).call(ce,this),addObject:le()(Be=this._onAddObject).call(Be,this),textEditing:le()(be=this._onTextEditing).call(be,this),textChanged:le()(Se=this._onTextChanged).call(Se,this),iconCreateResize:le()(_e=this._onIconCreateResize).call(_e,this),iconCreateEnd:le()(Me=this._onIconCreateEnd).call(Me,this),selectionCleared:le()(Pe=this._selectionCleared).call(Pe,this),selectionCreated:le()(at=this._selectionCreated).call(at,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(E.selectionStyle,{applyCropSelectionStyle:E.applyCropSelectionStyle,applyGroupSelectionStyle:E.applyGroupSelectionStyle}),E.usageStatistics&&Cn(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),J.fabric.enableGLFiltering=!1}return ie(j,[{key:"_attachColorPickerInputBoxEvents",value:function(){var E=this;this.ui.on(Te.INPUT_BOX_EDITING_STARTED,function(){E.isColorPickerInputBoxEditing=!0}),this.ui.on(Te.INPUT_BOX_EDITING_STOPPED,function(){E.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(Te.INPUT_BOX_EDITING_STARTED),this.ui.off(Te.INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(E,_){var b=_.applyCropSelectionStyle,S=_.applyGroupSelectionStyle;E&&this._graphics.setSelectionStyle(E),b&&this._graphics.setCropSelectionStyle(E),S&&this.on("selectionCreated",function(P){P.type==="activeSelection"&&P.set(E)})}},{key:"_attachInvokerEvents",value:function(){var E,_,b=this,S=Te.UNDO_STACK_CHANGED,P=Te.REDO_STACK_CHANGED,Q=Te.EXECUTE_COMMAND,W=Te.AFTER_UNDO,G=Te.AFTER_REDO,ae=Te.HAND_STARTED,ce=Te.HAND_STOPPED;if(this._invoker.on(S,le()(E=this.fire).call(E,this,S)),this._invoker.on(P,le()(_=this.fire).call(_,this,P)),this.ui){var Be=this._graphics.getCanvas();this._invoker.on(Q,function(be){return b.ui.fire(Q,be)}),this._invoker.on(W,function(be){return b.ui.fire(W,be)}),this._invoker.on(G,function(be){return b.ui.fire(G,be)}),Be.on(ae,function(){return b.ui.fire(ae)}),Be.on(ce,function(){return b.ui.fire(ce)})}}},{key:"_attachGraphicsEvents",value:function(){var E;this._graphics.on((E={},H(E,HW,this._handlers.mousedown),H(E,jW,this._handlers.objectMoved),H(E,zW,this._handlers.objectScaled),H(E,GW,this._handlers.objectRotated),H(E,VW,this._handlers.objectActivated),H(E,kb,this._handlers.objectAdded),H(E,WW,this._handlers.objectModified),H(E,YW,this._handlers.addText),H(E,XW,this._handlers.addObject),H(E,KW,this._handlers.textEditing),H(E,ZW,this._handlers.textChanged),H(E,JW,this._handlers.iconCreateResize),H(E,$W,this._handlers.iconCreateEnd),H(E,Ub,this._handlers.selectionCleared),H(E,Lb,this._handlers.selectionCreated),E))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(E){var _=E.ctrlKey,b=E.keyCode,S=E.metaKey,P=_||S;P&&(b===en.C?this._graphics.resetTargetObjectForCopyPaste():b===en.V?(this._graphics.pasteObject(),this.clearRedoStack()):b===en.Z?this.undo().catch(function(){}):b===en.Y&&this.redo().catch(function(){}));var Q=b===en.BACKSPACE||b===en.DEL,W=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&W&&Q&&(E.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var E=this._graphics.getActiveObjectIdForRemove();this.removeObject(E)}},{key:"_onMouseDown",value:function(E,_){this.fire(Te.MOUSE_DOWN,E,_)}},{key:"_pushAddObjectCommand",value:function(E){var _=tn.create(et.ADD_OBJECT,this._graphics,E);this._invoker.pushUndoStack(_)}},{key:"_pushModifyObjectCommand",value:function(E){var _=this,b=E.type,S=Ig(E,function(Q){return xg(_._graphics.getObjectId(Q),Q,b==="activeSelection")}),P=tn.create(et.CHANGE_SELECTION,this._graphics,S);P.execute(this._graphics,S),this._invoker.pushUndoStack(P)}},{key:"_onObjectActivated",value:function(E){this.fire(Te.OBJECT_ACTIVATED,E)}},{key:"_onObjectMoved",value:function(E){this.fire(Te.OBJECT_MOVED,E)}},{key:"_onObjectScaled",value:function(E){this.fire(Te.OBJECT_SCALED,E)}},{key:"_onObjectRotated",value:function(E){this.fire(Te.OBJECT_ROTATED,E)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(et.CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(E){this._graphics.changeSelectableAll(E)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(E){for(var _,b,S,P=arguments.length,Q=new Array(P>1?P-1:0),W=1;W<P;W++)Q[W-1]=arguments[W];var G=R()(_=[this._graphics]).call(_,Q);return(b=this._invoker).execute.apply(b,R()(S=[E]).call(S,N(G)))}},{key:"executeSilent",value:function(E){for(var _,b,S,P=arguments.length,Q=new Array(P>1?P-1:0),W=1;W<P;W++)Q[W-1]=arguments[W];var G=R()(_=[this._graphics]).call(_,Q);return(b=this._invoker).executeSilent.apply(b,R()(S=[E]).call(S,N(G)))}},{key:"undo",value:function(){for(var E=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,b=ee().resolve(),S=0;S<_;S+=1)b=b.then(function(){return E._invoker.undo()});return b}},{key:"redo",value:function(){for(var E=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,b=ee().resolve(),S=0;S<_;S+=1)b=b.then(function(){return E._invoker.redo()});return b}},{key:"zoom",value:function(E){var _=E.x,b=E.y,S=E.zoomLevel;this._graphics.zoom({x:_,y:b},S)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(E,_){if(!E)return ee().reject(Ut.invalidParameters);var b=Z().createObjectURL(E);return _=_||E.name,this.loadImageFromURL(b,_).then(function(S){return Z().revokeObjectURL(E),S})}},{key:"loadImageFromURL",value:function(E,_){return!_||!E?ee().reject(Ut.invalidParameters):this.execute(et.LOAD_IMAGE,_,E)}},{key:"addImageObject",value:function(E){return E?this.execute(et.ADD_IMAGE_OBJECT,E):ee().reject(Ut.invalidParameters)}},{key:"startDrawingMode",value:function(E,_){return this._graphics.startDrawingMode(E,_)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(E){var _=this._graphics.getCroppedImageData(E);return _?this.loadImageFromURL(_.url,_.imageName):ee().reject(Ut.invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(E){this._graphics.setCropzoneRect(E)}},{key:"_flip",value:function(E){return this.execute(et.FLIP_IMAGE,E)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(E,_,b){var S=null;return b?S=this.executeSilent(et.ROTATE_IMAGE,E,_):S=this.execute(et.ROTATE_IMAGE,E,_),S}},{key:"rotate",value:function(E,_){return this._rotate("rotate",E,_)}},{key:"setAngle",value:function(E,_){return this._rotate("setAngle",E,_)}},{key:"setBrush",value:function(E){this._graphics.setBrush(E)}},{key:"setDrawingShape",value:function(E,_){this._graphics.setDrawingShape(E,_)}},{key:"setDrawingIcon",value:function(E,_){this._graphics.setIconStyle(E,_)}},{key:"addShape",value:function(E,_){return _=_||{},this._setPositions(_),this.execute(et.ADD_SHAPE,E,_)}},{key:"changeShape",value:function(E,_,b){var S=b?"executeSilent":"execute";return this[S](et.CHANGE_SHAPE,E,_)}},{key:"addText",value:function(E,_){return E=E||"",_=_||{},this.execute(et.ADD_TEXT,E,_)}},{key:"changeText",value:function(E,_){return _=_||"",this.execute(et.CHANGE_TEXT,E,_)}},{key:"changeTextStyle",value:function(E,_,b){var S=b?"executeSilent":"execute";return this[S](et.CHANGE_TEXT_STYLE,E,_)}},{key:"_changeActivateMode",value:function(E){E!=="ICON"&&this.getDrawingMode()!==E&&this.startDrawingMode(E)}},{key:"_onTextChanged",value:function(E){this.fire(Te.TEXT_CHANGED,E)}},{key:"_onIconCreateResize",value:function(E){this.fire(Te.ICON_CREATE_RESIZE,E)}},{key:"_onIconCreateEnd",value:function(E){this.fire(Te.ICON_CREATE_END,E)}},{key:"_onTextEditing",value:function(){this.fire(Te.TEXT_EDITING)}},{key:"_onAddText",value:function(E){this.fire(Te.ADD_TEXT,{originPosition:E.originPosition,clientPosition:E.clientPosition})}},{key:"_onAddObject",value:function(E){var _=this._graphics.getObject(E.id);this._invoker.fire(Te.EXECUTE_COMMAND,yg(_.type)),this._pushAddObjectCommand(_)}},{key:"_onObjectAdded",value:function(E){this.fire(kb,E),this.fire(qW,E)}},{key:"_onObjectModified",value:function(E){E.type!==Ke.CROPZONE&&(this._invoker.fire(Te.EXECUTE_COMMAND,yg(E.type)),this._pushModifyObjectCommand(E))}},{key:"_selectionCleared",value:function(){this.fire(Ub)}},{key:"_selectionCreated",value:function(E){this.fire(Lb,E)}},{key:"registerIcons",value:function(E){this._graphics.registerPaths(E)}},{key:"changeCursor",value:function(E){this._graphics.changeCursor(E)}},{key:"addIcon",value:function(E,_){return _=_||{},this._setPositions(_),this.execute(et.ADD_ICON,E,_)}},{key:"changeIconColor",value:function(E,_){return this.execute(et.CHANGE_ICON_COLOR,E,_)}},{key:"removeObject",value:function(E){var _=this._graphics.getObject(E),b=_.type;return this.execute(et.REMOVE_OBJECT,E,yg(b))}},{key:"hasFilter",value:function(E){return this._graphics.hasFilter(E)}},{key:"removeFilter",value:function(E){return this.execute(et.REMOVE_FILTER,E)}},{key:"applyFilter",value:function(E,_,b){var S=b?"executeSilent":"execute";return this[S](et.APPLY_FILTER,E,_)}},{key:"toDataURL",value:function(E){return this._graphics.toDataURL(E)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(E){return E?this.execute(et.RESIZE_CANVAS_DIMENSION,E):ee().reject(Ut.invalidParameters)}},{key:"destroy",value:function(){var E=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),$()(this,function(_,b){E[b]=null},this)}},{key:"_setPositions",value:function(E){var _=this._graphics.getCenter();V()(E.left)&&(E.left=_.left),V()(E.top)&&(E.top=_.top)}},{key:"setObjectProperties",value:function(E,_){return this.execute(et.SET_OBJECT_PROPERTIES,E,_)}},{key:"setObjectPropertiesQuietly",value:function(E,_){this._graphics.setObjectProperties(E,_)}},{key:"getObjectProperties",value:function(E,_){var b=this._graphics.getObject(E);return b?this._graphics.getObjectProperties(E,_):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(E,_,b){return this._graphics.getObjectPosition(E,_,b)}},{key:"setObjectPosition",value:function(E,_){return this.execute(et.SET_OBJECT_POSITION,E,_)}},{key:"resize",value:function(E){return this.execute(et.RESIZE_IMAGE,E)}}]),j}();o8.mixin(Mg),pe().mixin(Mg);var eY=Mg,tY=Qe.ICON,nY={name:et.ADD_ICON,execute:function(O,E,_){var b=this,S=O.getComponent(tY);return S.add(E,_).then(function(P){return b.undoData.object=O.getObject(P.id),P})},undo:function(O){return O.remove(this.undoData.object),ee().resolve()}};tn.register(nY);var rY={name:et.ADD_IMAGE_OBJECT,execute:function(O,E){var _=this;return O.addImageObject(E).then(function(b){return _.undoData.object=O.getObject(b.id),b})},undo:function(O){return O.remove(this.undoData.object),ee().resolve()}};tn.register(rY);var iY={name:et.ADD_OBJECT,execute:function(O,E){return new(ee())(function(_,b){O.contains(E)?b(Ut.addedObject):(O.add(E),_(E))})},undo:function(O,E){return new(ee())(function(_,b){O.contains(E)?(O.remove(E),_(E)):b(Ut.noObject)})}};tn.register(iY);var aY=Qe.SHAPE,oY={name:et.ADD_SHAPE,execute:function(O,E,_){var b=this,S=O.getComponent(aY);return S.add(E,_).then(function(P){var Q=P.id;return b.undoData.object=O.getObject(Q),P})},undo:function(O){return O.remove(this.undoData.object),ee().resolve()}};tn.register(oY);var sY=Qe.TEXT,AY={name:et.ADD_TEXT,execute:function(O,E,_){var b=this,S=O.getComponent(sY);if(this.undoData.object){var P=this.undoData.object;return new(ee())(function(Q,W){O.contains(P)?W(Ut.redo):(O.add(P),Q(P))})}return S.add(E,_).then(function(Q){var W=Q.id,G=O.getObject(W);return b.undoData.object=G,Ob(Ig(G,function(){return xg(W,G,!1)})),Q})},undo:function(O){return O.remove(this.undoData.object),ee().resolve()}};tn.register(AY);var Pb=Qe.FILTER,Nb=null;function lY(j,O,E){var _={};return j==="mask"&&(_.object=E.mask),_.options=O,_}var cY={name:et.APPLY_FILTER,execute:function(O,E,_,b){var S=O.getComponent(Pb);if(E==="mask"){var P=O.getObject(_.maskObjId);if(!(P&&P.isType("image")))return ee().reject(Ut.invalidParameters);Y()(_,{mask:P}),O.remove(_.mask)}if(!this.isRedo){var Q=S.getOptions(E),W=lY(E,Q,_);Nb=this.setUndoData(W,Nb,b)}return S.add(E,_)},undo:function(O,E){var _=O.getComponent(Pb);if(E==="mask"){var b=this.undoData.object;return O.add(b),O.setActiveObject(b),_.remove(E)}return this.undoData.options?_.add(E,this.undoData.options):_.remove(E)}};tn.register(cY);var Rb=Qe.ICON,uY={name:et.CHANGE_ICON_COLOR,execute:function(O,E,_){var b=this;return new(ee())(function(S,P){var Q=O.getComponent(Rb),W=O.getObject(E);W||P(Ut.noObject),b.undoData.object=W,b.undoData.color=Q.getColor(W),Q.setColor(_,W),S()})},undo:function(O){var E=O.getComponent(Rb),_=this.undoData,b=_.object,S=_.color;return E.setColor(S,b),ee().resolve()}};tn.register(uY);var Qb=Qe.SHAPE,Hb=null;function fY(j,O){var E={object:O,options:{}};return Yc()(j,function(_,b){E.options[b]=O[b]}),E}var hY={name:et.CHANGE_SHAPE,execute:function(O,E,_,b){var S=O.getComponent(Qb),P=O.getObject(E);if(!P)return ee().reject(Ut.noObject);if(!this.isRedo){var Q=fY(_,P);Hb=this.setUndoData(Q,Hb,b)}return S.change(P,_)},undo:function(O){var E=O.getComponent(Qb),_=this.undoData,b=_.object,S=_.options;return E.change(b,S)}};tn.register(hY);var jb=Qe.TEXT,dY={name:et.CHANGE_TEXT,execute:function(O,E,_){var b=O.getComponent(jb),S=O.getObject(E);return S?(this.undoData.object=S,this.undoData.text=b.getText(S),b.change(S,_)):ee().reject(Ut.noObject)},undo:function(O){var E=O.getComponent(jb),_=this.undoData,b=_.object,S=_.text;return E.change(b,S)}};tn.register(dY);var zb=Qe.TEXT,Vb=null;function gY(j,O){var E={object:O,styles:{}};return Yc()(j,function(_,b){var S=O[b];E.styles[b]=S}),E}var pY={name:et.CHANGE_TEXT_STYLE,execute:function(O,E,_,b){var S=O.getComponent(zb),P=O.getObject(E);if(!P)return ee().reject(Ut.noObject);if(!this.isRedo){var Q=gY(_,P);Vb=this.setUndoData(Q,Vb,b)}return S.setStyle(P,_)},undo:function(O){var E=O.getComponent(zb),_=this.undoData,b=_.object,S=_.styles;return E.setStyle(b,S)}};tn.register(pY);var vY={name:et.CLEAR_OBJECTS,execute:function(O){var E=this;return new(ee())(function(_){E.undoData.objects=O.removeAll(),_()})},undo:function(O){return O.add(this.undoData.objects),ee().resolve()}};tn.register(vY);var Gb=Qe.FLIP,mY={name:et.FLIP_IMAGE,execute:function(O,E){var _=O.getComponent(Gb);return this.undoData.setting=_.getCurrentSetting(),_[E]()},undo:function(O){var E=O.getComponent(Gb);return E.set(this.undoData.setting)}};tn.register(mY);var Wb=Qe.IMAGE_LOADER,yY={name:et.LOAD_IMAGE,execute:function(O,E,_){var b,S=O.getComponent(Wb),P=S.getCanvasImage(),Q=P?P.width:0,W=P?P.height:0,G=mo()(b=O.removeAll(!0)).call(b,function(ae){return ae.type!=="cropzone"});return Re()(G).call(G,function(ae){ae.evented=!0}),this.undoData={name:S.getImageName(),image:P,objects:G},S.load(E,_).then(function(ae){return{oldWidth:Q,oldHeight:W,newWidth:ae.width,newHeight:ae.height}})},undo:function(O){var E=O.getComponent(Wb),_=this.undoData,b=_.objects,S=_.name,P=_.image;return O.removeAll(!0),O.add(b),E.load(S,P)}};tn.register(yY);var Yb=Qe.FILTER,CY={name:et.REMOVE_FILTER,execute:function(O,E){var _=O.getComponent(Yb);return this.undoData.options=_.getOptions(E),_.remove(E)},undo:function(O,E){var _=O.getComponent(Yb),b=this.undoData.options;return _.add(E,b)}};tn.register(CY);var wY={name:et.REMOVE_OBJECT,execute:function(O,E){var _=this;return new(ee())(function(b,S){_.undoData.objects=O.removeObjectById(E),_.undoData.objects.length?b():S(Ut.noObject)})},undo:function(O){return O.add(this.undoData.objects),ee().resolve()}};tn.register(wY);var BY={name:et.RESIZE_CANVAS_DIMENSION,execute:function(O,E){var _=this;return new(ee())(function(b){_.undoData.size={width:O.cssMaxWidth,height:O.cssMaxHeight},O.setCssMaxDimension(E),O.adjustCanvasDimension(),b()})},undo:function(O){return O.setCssMaxDimension(this.undoData.size),O.adjustCanvasDimension(),ee().resolve()}};tn.register(BY);var Xb=Qe.ROTATION,Kb=null;function bY(j){return{angle:j.getCurrentAngle()}}var EY={name:et.ROTATE_IMAGE,execute:function(O,E,_,b){var S=O.getComponent(Xb);if(!this.isRedo){var P=bY(S);Kb=this.setUndoData(P,Kb,b)}return S[E](_)},undo:function(O){var E=O.getComponent(Xb),_=ve(this.args,3),b=_[1],S=_[2];return b==="setAngle"?E[b](this.undoData.angle):E.rotate(-S)}};tn.register(EY);var _Y={name:et.SET_OBJECT_PROPERTIES,execute:function(O,E,_){var b=this,S=O.getObject(E);return S?(this.undoData.props={},Yc()(_,function(P,Q){b.undoData.props[Q]=S[Q]}),O.setObjectProperties(E,_),ee().resolve()):ee().reject(Ut.noObject)},undo:function(O,E){var _=this.undoData.props;return O.setObjectProperties(E,_),ee().resolve()}};tn.register(_Y);var SY={name:et.SET_OBJECT_POSITION,execute:function(O,E,_){var b=O.getObject(E);return b?(this.undoData.objectId=E,this.undoData.props=O.getObjectProperties(E,["left","top"]),O.setObjectPosition(E,_),O.renderAll(),ee().resolve()):ee().reject(Ut.noObject)},undo:function(O){var E=this.undoData,_=E.objectId,b=E.props;return O.setObjectProperties(_,b),O.renderAll(),ee().resolve()}};tn.register(SY);var IY={name:et.CHANGE_SELECTION,execute:function(O,E){return this.isRedo?Re()(E).call(E,function(_){O.setObjectProperties(_.id,_)}):this.undoData=IW(),ee().resolve()},undo:function(O){var E;return Re()(E=this.undoData).call(E,function(_){O.setObjectProperties(_.id,_)}),ee().resolve()}};tn.register(IY);var Zb=Qe.RESIZE,xY={name:et.RESIZE_IMAGE,execute:function(O,E){var _=O.getComponent(Zb),b=_.getOriginalDimensions();return b||(b=_.getCurrentDimensions()),this.undoData.dimensions=b,_.resize(E)},undo:function(O){var E=O.getComponent(Zb);return E.resize(this.undoData.dimensions)}};tn.register(xY);var MY=eY}(),l=l.default,l}()})})(RB);var _j=Ym(RB.exports),Sj={ZoomIn:"\u653E\u5927",ZoomOut:"\u7F29\u5C0F",Hand:"\u624B\u638C",History:"\u5386\u53F2",Resize:"\u8C03\u6574\u5BBD\u9AD8",Crop:"\u88C1\u526A",DeleteAll:"\u5168\u90E8\u5220\u9664",Delete:"\u5220\u9664",Undo:"\u64A4\u9500",Redo:"\u53CD\u64A4\u9500",Reset:"\u91CD\u7F6E",Flip:"\u955C\u50CF",Rotate:"\u65CB\u8F6C",Draw:"\u753B",Shape:"\u5F62\u72B6\u6807\u6CE8",Icon:"\u56FE\u6807\u6807\u6CE8",Text:"\u6587\u5B57\u6807\u6CE8",Mask:"\u906E\u7F69",Filter:"\u6EE4\u955C",Bold:"\u52A0\u7C97",Italic:"\u659C\u4F53",Underline:"\u4E0B\u5212\u7EBF",Left:"\u5DE6\u5BF9\u9F50",Center:"\u5C45\u4E2D",Right:"\u53F3\u5BF9\u9F50",Color:"\u989C\u8272","Text size":"\u5B57\u4F53\u5927\u5C0F",Custom:"\u81EA\u5B9A\u4E49",Square:"\u6B63\u65B9\u5F62",Apply:"\u5E94\u7528",Cancel:"\u53D6\u6D88","Flip X":"X \u8F74","Flip Y":"Y \u8F74",Range:"\u533A\u95F4",Stroke:"\u63CF\u8FB9",Fill:"\u586B\u5145",Circle:"\u5706",Triangle:"\u4E09\u89D2",Rectangle:"\u77E9\u5F62",Free:"\u66F2\u7EBF",Straight:"\u76F4\u7EBF",Arrow:"\u7BAD\u5934","Arrow-2":"\u7BAD\u59342","Arrow-3":"\u7BAD\u59343","Star-1":"\u661F\u661F1","Star-2":"\u661F\u661F2",Polygon:"\u591A\u8FB9\u5F62",Location:"\u5B9A\u4F4D",Heart:"\u5FC3\u5F62",Bubble:"\u6C14\u6CE1","Custom icon":"\u81EA\u5B9A\u4E49\u56FE\u6807","Load Mask Image":"\u52A0\u8F7D\u8499\u5C42\u56FE\u7247",Grayscale:"\u7070\u5EA6",Blur:"\u6A21\u7CCA",Sharpen:"\u9510\u5316",Emboss:"\u6D6E\u96D5","Remove White":"\u9664\u53BB\u767D\u8272",Distance:"\u8DDD\u79BB",Brightness:"\u4EAE\u5EA6",Noise:"\u566A\u97F3","Color Filter":"\u5F69\u8272\u6EE4\u955C",Sepia:"\u68D5\u8272",Sepia2:"\u68D5\u82722",Invert:"\u8D1F\u7247",Pixelate:"\u50CF\u7D20\u5316",Threshold:"\u9608\u503C",Tint:"\u8272\u8C03",Multiply:"\u6B63\u7247\u53E0\u5E95",Blend:"\u6DF7\u5408\u8272",Width:"\u5BBD\u5EA6",Height:"\u9AD8\u5EA6","Lock Aspect Ratio":"\u9501\u5B9A\u5BBD\u9AD8\u6BD4\u4F8B"},wK="";const Ij=m.createElementVNode("div",{id:"tui-image-editor"},null,-1),xj=m.defineComponent({__name:"EditImg",setup(e){const t=m.ref(null),n=m.computed(()=>tt.state.editImgVisible),r=m.computed(()=>tt.state.imgIndex),i=m.computed(()=>tt.state.imgs),a=()=>{const o=setInterval(()=>{const c=document.querySelector("#tui-image-editor");c&&(clearInterval(o),t.value=new _j(c,{includeUI:{loadImage:{path:i.value[r.value],name:"image"},initMenu:"draw",menuBarPosition:"bottom",locale:Sj},cssMaxWidth:1e3,cssMaxHeight:600}))},50)},l=()=>{const o=t.value.toDataURL(),c=[...i.value];c[r.value]=o,tt.commit("setImg",c),console.log(c),tt.commit("setEditImgVisible",!1)};return m.watch(n,o=>{o&&a()}),(o,c)=>{const s=m.resolveComponent("el-button"),A=m.resolveComponent("el-dialog");return m.openBlock(),m.createBlock(A,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=v=>n.value=v),title:"\u7F16\u8F91\u56FE\u7247",top:"2vh",width:"90%",style:{height:"90vh"}},{default:m.withCtx(()=>[m.createVNode(s,{style:{position:"absolute","z-index":"99",right:"43vw",top:"135px"},type:"primary",onClick:l},{default:m.withCtx(()=>[m.createTextVNode("\u7ACB\u5373\u66F4\u6539")]),_:1}),Ij]),_:1},8,["modelValue"])}}});var BK="";const Mj=["src"],Dj=m.defineComponent({__name:"Home",setup(e){const t=m.ref(["https://cdn.erp.jinweitec.com/erpsys/FqDRsgZqneFWmC_e7Y78qJ1_s1j-?imageMogr2/format/webp/interlace/0/quality/50","https://cdn.erp.jinweitec.com/erpsys/o_1bjf6ul918ubhah1ag21nq2m5c.jpg"]),n=m.ref(!1),r=()=>{tt.commit("setImg",t.value),tt.commit("setState",{key:"templateVisible",value:!0}),tt.commit("setState",{key:"templateMode",value:1}),tt.commit("setState",{key:"templateDate",value:Date.now()})},i=a=>{t.value[0]=a,n.value=!1};return m.onMounted(()=>{}),(a,l)=>(m.openBlock(),m.createElementBlock(m.Fragment,null,[m.createElementVNode("div",{class:"flex",onClick:r},[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(t.value,(o,c)=>(m.openBlock(),m.createElementBlock("img",{key:c,src:o,alt:"",style:{width:"200px"}},null,8,Mj))),128))]),m.createVNode(Ej),m.createVNode(xj,{visible:n.value,onDone:i},null,8,["visible"])],64))}}),Tj=tr,Oj=(e,t)=>{if(e.indexOf&&typeof e.indexOf=="function"){const n=e.indexOf(t);if(n>=0)return n}return!1},Fj=(e,t)=>(t.forEach(n=>{delete e[n]}),e),kj=(e,t)=>{const n={};return t.forEach(r=>{n[r]=e[r]}),n},Uj=(e,t)=>Math.floor(Math.random()*(t-e+1)+e);var Lj={},Pj=Object.freeze(Object.defineProperty({__proto__:null,config:Tj,isInArray:Oj,deleteSome:Fj,pickSome:kj,rndNum:Uj,default:Lj},Symbol.toStringTag,{value:"Module"})),bK="";const Nj={name:"size-control",data(){return{dirs:[]}},computed:{...$e.mapGetters(["dActiveElement","dWidgets"]),left(){return parseInt(this.dActiveElement.left)},top(){return parseInt(this.dActiveElement.top)},width(){return parseInt(this.dActiveElement.record.width)},height(){return parseInt(this.dActiveElement.record.height)}},watch:{},methods:{...$e.mapActions(["dResize","initDResize","dResize","stopDResize"]),handlemousedown(e,t){e.stopPropagation(),this.dirs=t.split("-"),this.initDResize({startX:e.pageX,startY:e.pageY,originX:this.dActiveElement.left,originY:this.dActiveElement.top,width:this.width,height:this.height}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove(e){e.stopPropagation(),e.preventDefault(),this.dResize({x:e.pageX,y:e.pageY,dirs:this.dirs})},handlemouseup(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.stopDResize()}}},Rj={key:0,id:"size-control"};function Qj(e,t,n,r,i,a){return e.dActiveElement.record&&e.dActiveElement.uuid!=="-1"?(m.openBlock(),m.createElementBlock("div",Rj,[e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:0,class:"square",style:m.normalizeStyle({left:a.left+"px",top:a.top+"px",cursor:"nw-resize"}),onMousedown:t[0]||(t[0]=l=>a.handlemousedown(l,"left-top"))},null,36)):m.createCommentVNode("",!0),e.dActiveElement.record.dir==="vertical"||e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:1,class:"square",style:m.normalizeStyle({left:a.left+a.width/2+"px",top:a.top+"px",cursor:"n-resize"}),onMousedown:t[1]||(t[1]=l=>a.handlemousedown(l,"top"))},null,36)):m.createCommentVNode("",!0),e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:2,class:"square",style:m.normalizeStyle({left:a.left+a.width+"px",top:a.top+"px",cursor:"ne-resize"}),onMousedown:t[2]||(t[2]=l=>a.handlemousedown(l,"right-top"))},null,36)):m.createCommentVNode("",!0),e.dActiveElement.record.dir==="horizontal"||e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:3,class:"square",style:m.normalizeStyle({left:a.left+"px",top:a.top+a.height/2+"px",cursor:"w-resize"}),onMousedown:t[3]||(t[3]=l=>a.handlemousedown(l,"left"))},null,36)):m.createCommentVNode("",!0),e.dActiveElement.record.dir==="horizontal"||e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:4,class:"square",style:m.normalizeStyle({left:a.left+a.width+"px",top:a.top+a.height/2+"px",cursor:"e-resize"}),onMousedown:t[4]||(t[4]=l=>a.handlemousedown(l,"right"))},null,36)):m.createCommentVNode("",!0),e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:5,class:"square",style:m.normalizeStyle({left:a.left+"px",top:a.top+a.height+"px",cursor:"sw-resize"}),onMousedown:t[5]||(t[5]=l=>a.handlemousedown(l,"left-bottom"))},null,36)):m.createCommentVNode("",!0),e.dActiveElement.record.dir==="vertical"||e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:6,class:"square",style:m.normalizeStyle({left:a.left+a.width/2+"px",top:a.top+a.height+"px",cursor:"s-resize"}),onMousedown:t[6]||(t[6]=l=>a.handlemousedown(l,"bottom"))},null,36)):m.createCommentVNode("",!0),e.dActiveElement.record.dir==="all"?(m.openBlock(),m.createElementBlock("div",{key:7,class:"square",style:m.normalizeStyle({left:a.left+a.width+"px",top:a.top+a.height+"px",cursor:"se-resize"}),onMousedown:t[7]||(t[7]=l=>a.handlemousedown(l,"right-bottom"))},null,36)):m.createCommentVNode("",!0)])):m.createCommentVNode("",!0)}var Hj=ct(Nj,[["render",Qj],["__scopeId","data-v-48f7cb62"]]),jj=Object.freeze(Object.defineProperty({__proto__:null,default:Hj},Symbol.toStringTag,{value:"Module"})),_K="";const zj={name:"text-input",props:{label:{default:""},modelValue:{default:""},editable:{default:!0}},emits:["update:modelValue","finish"],data(){return{inputBorder:!1,tagText:""}},computed:{},methods:{updateValue(e){this.$emit("update:modelValue",e)},focusInput(){this.inputBorder=!0,this.tagText=this.modelValue},blurInput(){this.inputBorder=!1,this.modelValue!==this.tagText&&this.$emit("finish",this.modelValue)}}},Vj={class:"text-input"},Gj={key:0,class:"input-label"},Wj=["value","readonly"];function Yj(e,t,n,r,i,a){return m.openBlock(),m.createElementBlock("div",Vj,[n.label?(m.openBlock(),m.createElementBlock("p",Gj,m.toDisplayString(n.label),1)):m.createCommentVNode("",!0),m.createElementVNode("div",{class:m.normalizeClass({"input-wrap":!0,active:i.inputBorder})},[m.createElementVNode("input",{class:m.normalizeClass({"real-input":!0,disable:!n.editable}),type:"text",value:n.modelValue,readonly:n.editable?!1:"readonly",onInput:t[0]||(t[0]=l=>a.updateValue(l.target.value)),onFocus:t[1]||(t[1]=(...l)=>a.focusInput&&a.focusInput(...l)),onBlur:t[2]||(t[2]=(...l)=>a.blurInput&&a.blurInput(...l))},null,42,Wj)],2)])}var Xj=ct(zj,[["render",Yj],["__scopeId","data-v-2ff701aa"]]),Kj=Object.freeze(Object.defineProperty({__proto__:null,default:Xj},Symbol.toStringTag,{value:"Module"})),IK="";const Zj={class:"my-tabs"},Jj={class:"my-tabs__header p-0.5 mb-3 rounded bg-gray-100 cursor-pointers"},$j={class:"my-tabs__header-shell relative flex justify-between"},qj=["onClick"],ez={class:"my-tabs__content"},tz=Object.assign({name:"Tabs"},{props:{value:{type:String,required:!0}},emits:["update:value","change"],setup(e,{expose:t,emit:n}){const r=e;m.watch(()=>r.value,()=>{c()});const i=m.ref([]),a=m.reactive({width:0,left:0});let l=0;m.onMounted(()=>{l=100/i.value.length,a.width=`${l}%`,c()});let o=null;async function c(A=-1){var v,B,x,M;A<0&&(A=i.value.findIndex(T=>T.props.label===r.value)),a.left=`${l*A}%`;try{await m.nextTick(),(B=(v=o==null?void 0:o.exposed)==null?void 0:v.changeActive)==null||B.call(v,!1),o=i.value[A],(M=(x=o.exposed)==null?void 0:x.changeActive)==null||M.call(x,!0)}catch{}}function s(A,v){n("update:value",A.props.label),c(v)}return t({tabs:i}),(A,v)=>(m.openBlock(),m.createElementBlock("div",Zj,[m.createElementVNode("div",Jj,[m.createElementVNode("div",$j,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(i.value,(B,x)=>(m.openBlock(),m.createElementBlock("div",{key:B.props.label,class:m.normalizeClass(["my-tab__title relative flex-auto py-1 text-center",{"my-active":B.props.label===e.value}]),onClick:M=>s(B,x)},m.toDisplayString(B.props.label),11,qj))),128)),m.createElementVNode("div",{class:"my-tab__slider",style:m.normalizeStyle(a)},null,4)])]),m.createElementVNode("div",ez,[m.renderSlot(A.$slots,"default",{},void 0,!0)])]))}});var nz=ct(tz,[["__scopeId","data-v-5ec3cc7e"]]);const rz=Object.assign({name:"TabPanel"},{props:{label:{type:String,required:!0}},setup(e,{expose:t}){const n=m.getCurrentInstance();n.parent.exposed.tabs.value.push(n);const r=m.ref(!1),i=m.computed(()=>({display:r.value?"block":"none"}));function a(l){r.value=l}return t({changeActive:a}),(l,o)=>(m.openBlock(),m.createElementBlock("div",{class:"tab-panel",style:m.normalizeStyle(i.value)},[m.renderSlot(l.$slots,"default")],4))}});var DK="",TK="",OK="",FK="";const iz={name:"page-style",components:{numberInput:Li,colorSelect:vo,uploader:pl,Tabs:nz,TabPanel:rz},props:["noMenu"],data(){return{activeNames:["1","2","3","4"],innerElement:{},tag:!1,ingoreKeys:["backgroundColor","name","width","height"],downP:0,mode:"\u989C\u8272",modes:["\u989C\u8272","\u56FE\u7247"]}},computed:{...$e.mapGetters(["dActiveElement"]),imgs(){var e;return(e=this.$store.state)==null?void 0:e.imgs},imgIndex(){var e;return(e=this.$store.state)==null?void 0:e.imgIndex}},watch:{dActiveElement:{handler(e,t){this.change()},deep:!0},innerElement:{handler(e,t){this.changeValue()},deep:!0}},created(){this.change()},methods:{...$e.mapActions(["updatePageData"]),selectImg(e,t){this.finish("backgroundImage",e),this.$store.commit("setImgIndex",t)},editImg(e){this.$store.commit("setImgIndex",e),this.$store.commit("setEditImgVisible",!0)},async removeBg(e){jt.ElMessageBox.confirm("\u70B9\u51FB\u786E\u8BA4\u540E\u5C06\u8FDB\u884C\u667A\u80FD\u62A0\u56FE\uFF0C\u53EF\u80FD\u9700\u8981\u4E00\u6BB5\u65F6\u95F4\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","Warning",{confirmButtonText:"\u5F00\u59CB",cancelButtonText:"\u53D6\u6D88",type:"warning",beforeClose:async(t,n,r)=>{if(t==="confirm"){n.confirmButtonLoading=!0,n.confirmButtonText="Loading...";const a=[...this.imgs][e];if((a==null?void 0:a.indexOf("http"))>-1){const l=await wt.ai.uploadByUrl(a),o=URL.createObjectURL(l);this.$store.commit("setImgIndex",e),this.$store.commit("setImageCutoutVisible",!0),this.$store.commit("setImageCutoutResult",o),this.$store.commit("setImageCutoutRaw",a)}r(),n.confirmButtonLoading=!1}else r()}})},colorChange(e){e.mode},onChangeMode(e){this.mode=e,e==="\u989C\u8272"?(this._localTempBG=this.innerElement.backgroundImage,this.finish("backgroundImage","")):this._localTempBG&&this.finish("backgroundImage",this._localTempBG)},change(){this.mode=this.modes[0],this.tag=!0,this.innerElement=JSON.parse(JSON.stringify(this.dActiveElement)),this.innerElement.backgroundImage&&(this.mode=this.modes[1])},changeValue(){if(this.tag){this.tag=!1;return}for(let e in this.innerElement)e!=="setting"&&e!=="record"&&this.innerElement[e]!==this.dActiveElement[e]&&(this.ingoreKeys.indexOf(e)!==-1?this.dActiveElement[e]=this.innerElement[e]:this.updatePageData({key:e,value:this.innerElement[e]}))},finish(e,t){this.updatePageData({key:e,value:t,pushHistory:!0})},async uploadImgDone(e){await wt.material.addMyPhoto(e),this.updatePageData({key:"backgroundTransform",value:{}}),this.finish("backgroundImage",e.url)},async deleteBg(){this._localTempBG=null,this.updatePageData({key:"backgroundImage",value:"",pushHistory:!0}),await this.$nextTick(),this.mode=this.modes[1]},async downloadBG(){await z0.downloadImg(this.innerElement.backgroundImage,e=>{this.downP=e<99?e/100:0})}}},HB=e=>(m.pushScopeId("data-v-069b7440"),e=e(),m.popScopeId(),e),az={id:"page-style"},oz={class:"position-size"},sz={key:0,class:"flex flex-col justify-center items-center"},Az={class:"tool"},lz=["onClick"],cz=[HB(()=>m.createElementVNode("i",{class:"iconfont icon-edit"},null,-1))],uz=["onClick"],fz=[HB(()=>m.createElementVNode("i",{class:"iconfont icon-magic-wand"},null,-1))],hz={key:0,class:"flex flex-col justify-center items-center"},dz={key:1,class:"flex flex-col justify-center items-center"};function gz(e,t,n,r,i,a){const l=m.resolveComponent("number-input"),o=m.resolveComponent("el-collapse-item"),c=m.resolveComponent("el-image"),s=m.resolveComponent("el-button"),A=m.resolveComponent("uploader"),v=m.resolveComponent("color-select"),B=m.resolveComponent("el-collapse");return m.openBlock(),m.createElementBlock("div",az,[m.createVNode(B,{modelValue:i.activeNames,"onUpdate:modelValue":t[7]||(t[7]=x=>i.activeNames=x)},{default:m.withCtx(()=>[m.createVNode(o,{title:"\u753B\u5E03\u5C3A\u5BF8",name:"1"},{default:m.withCtx(()=>[m.createElementVNode("div",oz,[m.createVNode(l,{modelValue:i.innerElement.width,"onUpdate:modelValue":t[0]||(t[0]=x=>i.innerElement.width=x),label:"\u5BBD",maxValue:5e3,onFinish:t[1]||(t[1]=x=>a.finish("width",x))},null,8,["modelValue"]),m.createVNode(l,{modelValue:i.innerElement.height,"onUpdate:modelValue":t[2]||(t[2]=x=>i.innerElement.height=x),label:"\u9AD8",maxValue:5e3,onFinish:t[3]||(t[3]=x=>a.finish("height",x))},null,8,["modelValue"])])]),_:1}),n.noMenu?(m.openBlock(),m.createBlock(o,{key:0,title:"\u4EA7\u54C1\u8BBE\u7F6E",name:"2"},{default:m.withCtx(()=>[i.mode==="\u56FE\u7247"&&i.innerElement.backgroundImage?(m.openBlock(),m.createElementBlock("div",sz,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(a.imgs,(x,M)=>(m.openBlock(),m.createElementBlock("div",{key:M,class:"relative -ml-[28px]"},[m.createElementVNode("div",Az,[m.createElementVNode("div",{class:"tool-item",onClick:T=>a.editImg(M)},cz,8,lz),m.createElementVNode("div",{class:"tool-item",onClick:T=>a.removeBg(M)},fz,8,uz)]),m.createVNode(c,{class:m.normalizeClass(["cursor-pointer border-[1px] border-solid border-[#3468C0] mb-2",{"border-[1px]":M!==a.imgIndex,"border-[2px]":M===a.imgIndex}]),style:{width:"200px",height:"auto"},src:x,fit:"contain",onClick:T=>a.selectImg(x,M)},null,8,["class","src","onClick"])]))),128))])):m.createCommentVNode("",!0),m.withDirectives(m.createVNode(A,{style:{width:"100%","margin-top":"0.7rem"},onDone:a.uploadImgDone},{default:m.withCtx(()=>[m.createVNode(s,{style:{width:"100%"},plain:""},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(i.innerElement.backgroundImage?"\u66FF\u6362\u80CC\u666F":"\u4E0A\u4F20\u80CC\u666F")+"\u56FE",1)]),_:1})]),_:1},8,["onDone"]),[[m.vShow,i.mode==="\u56FE\u7247"&&!i.innerElement.backgroundImage]])]),_:1})):(m.openBlock(),m.createBlock(o,{key:1,title:"\u80CC\u666F\u8BBE\u7F6E",name:"2"},{default:m.withCtx(()=>[i.mode==="\u989C\u8272"&&i.innerElement.backgroundColor?(m.openBlock(),m.createElementBlock("div",hz,[m.withDirectives(m.createVNode(v,{modelValue:i.innerElement.backgroundColor,"onUpdate:modelValue":t[4]||(t[4]=x=>i.innerElement.backgroundColor=x),modes:["\u7EAF\u8272"],onChange:a.colorChange,onFinish:t[5]||(t[5]=x=>a.finish("backgroundColor",x))},null,8,["modelValue","onChange"]),[[m.vShow,i.mode==="\u989C\u8272"]]),m.createVNode(s,{style:{width:"100%","margin-top":"0.7rem"},size:"small",onClick:t[6]||(t[6]=x=>a.finish("backgroundColor",""))},{default:m.withCtx(()=>[m.createTextVNode("\u5220\u9664\u989C\u8272")]),_:1})])):m.createCommentVNode("",!0),i.mode==="\u56FE\u7247"&&i.innerElement.backgroundImage?(m.openBlock(),m.createElementBlock("div",dz,[m.createVNode(s,{style:{width:"100%","margin-top":"0.7rem"},size:"small",onClick:a.deleteBg},{default:m.withCtx(()=>[m.createTextVNode("\u5220\u9664")]),_:1},8,["onClick"])])):m.createCommentVNode("",!0)]),_:1}))]),_:1},8,["modelValue"])])}var pz=ct(iz,[["render",gz],["__scopeId","data-v-069b7440"]]),vz=Object.freeze(Object.defineProperty({__proto__:null,default:pz},Symbol.toStringTag,{value:"Module"})),PK="",NK="";const mz=m.defineComponent({components:{ElRadioGroup:jt.ElRadioGroup,ElRadioButton:jt.ElRadioButton},props:["modelValue","degree"],emits:["change"],setup(e,t){const n=m.reactive({effectSelect:"",visiable:!1,type:"166",list:[]}),r=(a="")=>{n.visiable=!1;const l=JSON.parse(JSON.stringify(ms.setting));l.svgUrl=a,t.emit("change",l)};m.onMounted(async()=>{await m.nextTick(),n.effectSelect=(e==null?void 0:e.modelValue)||"",i()});async function i(){const a=await wt.material.getList({first_id:2,second_id:n.type});n.list=a.list.map(({thumbUrl:l,imgUrl:o})=>({thumbUrl:l,imgUrl:o}))}return m.watch(()=>n.type,a=>{i()}),{...m.toRefs(n),select:r}},methods:{}}),yz=e=>(m.pushScopeId("data-v-5eba818f"),e=e(),m.popScopeId(),e),Cz={class:"card-header"},wz=yz(()=>m.createElementVNode("span",{class:"title"},"\u56FE\u7247\u5BB9\u5668",-1)),Bz={class:"box__header"},bz={class:"select__box"};function Ez(e,t,n,r,i,a){const l=m.resolveComponent("el-radio-button"),o=m.resolveComponent("el-radio-group"),c=m.resolveComponent("el-image"),s=m.resolveComponent("el-button"),A=m.resolveComponent("el-popover"),v=m.resolveComponent("el-card");return m.openBlock(),m.createBlock(v,{class:"box-card",shadow:"hover","body-style":{padding:e.effectSelect?"20px":0}},{header:m.withCtx(()=>[m.createElementVNode("div",Cz,[e.effectSelect?(m.openBlock(),m.createBlock(m.resolveDynamicComponent(e.effectSelect),{key:0,class:"demo"})):m.createCommentVNode("",!0),m.withDirectives(m.createElementVNode("div",null,"\u65E0",512),[[m.vShow,!e.effectSelect]]),wz,m.createVNode(A,{visible:e.visiable,placement:"bottom-end",width:260,trigger:"click"},{reference:m.withCtx(()=>[m.createVNode(s,{class:"button",link:"",onClick:t[2]||(t[2]=B=>e.visiable=!e.visiable)},{default:m.withCtx(()=>[m.createTextVNode(m.toDisplayString(e.visiable?"\u53D6\u6D88":"\u9009\u62E9"),1)]),_:1})]),default:m.withCtx(()=>[m.createElementVNode("div",Bz,[m.createVNode(o,{modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=B=>e.type=B),size:"small"},{default:m.withCtx(()=>[m.createVNode(l,{label:"160"},{default:m.withCtx(()=>[m.createTextVNode("\u5F62\u72B6")]),_:1}),m.createVNode(l,{label:"166"},{default:m.withCtx(()=>[m.createTextVNode("\u6846\u67B6")]),_:1})]),_:1},8,["modelValue"])]),m.createElementVNode("div",bz,[m.createElementVNode("div",{class:"select__box__select-item",onClick:t[1]||(t[1]=B=>e.select(null))},"\u65E0"),(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.list,(B,x)=>(m.openBlock(),m.createBlock(c,{key:x+"l",class:"select__box__select-item",src:B.thumbUrl,fit:"contain",onClick:M=>e.select(B.imgUrl)},null,8,["src","onClick"]))),128))])]),_:1},8,["visible"])])]),_:1},8,["body-style"])}var _z=ct(mz,[["render",Ez],["__scopeId","data-v-5eba818f"]]),Sz=Object.freeze(Object.defineProperty({__proto__:null,default:_z},Symbol.toStringTag,{value:"Module"})),RK="";const Iz=m.defineComponent({props:["types","isBack"],emits:["select","back"],setup(e,{emit:t}){return{select:i=>{t("select",i)},back:()=>{t("back")}}}}),jB=e=>(m.pushScopeId("data-v-70375d67"),e=e(),m.popScopeId(),e),xz={key:0,class:"content__wrap"},Mz=["onClick"],Dz={style:{flex:"1"}},Tz=jB(()=>m.createElementVNode("span",{class:"types__header-more"},[m.createTextVNode("\u5168\u90E8"),m.createElementVNode("i",{class:"iconfont icon-right"})],-1)),Oz=jB(()=>m.createElementVNode("i",{class:"iconfont icon-right"},null,-1));function Fz(e,t,n,r,i,a){return e.isBack?(m.openBlock(),m.createElementBlock("span",{key:1,class:"types__header-back",onClick:t[0]||(t[0]=(...l)=>e.back&&e.back(...l))},[Oz,m.renderSlot(e.$slots,"default",{},void 0,!0)])):(m.openBlock(),m.createElementBlock("div",xz,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.types,(l,o)=>(m.openBlock(),m.createElementBlock("div",{key:o+"t"},[m.createElementVNode("div",{class:"types__header",onClick:c=>e.select(l)},[m.createElementVNode("span",Dz,m.toDisplayString(l.name),1),Tz],8,Mz),m.renderSlot(e.$slots,"default",{index:o},void 0,!0)]))),128))]))}var kz=ct(Iz,[["render",Fz],["__scopeId","data-v-70375d67"]]),Uz=Object.freeze(Object.defineProperty({__proto__:null,default:kz},Symbol.toStringTag,{value:"Module"}));const Lz=m.defineComponent({props:{detail:{}},setup(){return{}}}),Pz={style:{"max-width":"140px"}};function Nz(e,t,n,r,i,a){const l=m.resolveComponent("el-tooltip");return m.openBlock(),m.createBlock(l,{disabled:!e.detail.author,offset:1,effect:"light",placement:"bottom-start","hide-after":0,enterable:!1,"raw-content":""},{content:m.withCtx(()=>[m.createElementVNode("p",Pz,[m.createElementVNode("b",null,m.toDisplayString(e.detail.description),1)]),m.createElementVNode("p",null,"@"+m.toDisplayString(e.detail.author),1)]),default:m.withCtx(()=>[m.renderSlot(e.$slots,"default")]),_:3},8,["disabled"])}var Rz=ct(Lz,[["render",Nz]]),Qz=Object.freeze(Object.defineProperty({__proto__:null,default:Rz},Symbol.toStringTag,{value:"Module"})),QK="";const Hz=m.defineComponent({props:{listData:{},edit:{},isDone:{},isShort:{default:!1}},emits:["load","drag","select"],setup(e,t){const n=m.reactive({loading:!0,list:[],listRef:null}),r=new Qd;let i=!1,a={x:99999,y:99999};const l=p=>{p.preventDefault(),setTimeout(()=>{i=!1,a={x:99999,y:99999}},10)},o=p=>{p.preventDefault(),(p.x-a.x>2||p.y-a.y>2)&&(i=!0)};m.watch(()=>e.listData,async(p,u)=>{if(!u&&(u=[]),p.length<=0){n.list.length=0;return}let g=p.filter(D=>!p.includes(D)||!u.includes(D));g=JSON.parse(JSON.stringify(g));const C=6,f=await c()-C,d=280,h=[];function w(D){return new Promise(F=>{const L=g.shift();if(!L){F({height:I(D),list:D});return}D.push(L);const k=I(D);k>d?F(w(D)):F({height:k,list:D})})}function I(D){let F=0;for(const L of D){const{width:k,height:U}=L;F+=k/U}return(f-C*(D.length-1))/F}async function y(){if(g.length<=0)return;const{list:D,height:F}=await w([g.shift()]);h.push(D.map((L,k)=>(L.listWidth=L.width/L.height*F,L.gap=k!==D.length-1?C:0,L))),g.length>0&&await y()}await y(),n.list=n.list.concat(h.flat(1)),n.loading=!1});async function c(){await m.nextTick();const p=n.listRef;return(p.parentElement||p.parentNode).offsetWidth}function s(){return n.listRef}const A=()=>{n.loading=!0,t.emit("load")},v=p=>{!i&&!n.list[p].isDelect&&t.emit("select",p)},B=async(p,u)=>{if(p.preventDefault(),a={x:p.x,y:p.y},!n.list[u].isDelect){const g=await ea(n.list[u]);r.start(p,g.canvasWidth),t.emit("drag",u)}};function x(p){n.list[p].isDelect=!0}const M=p=>{p.target.scrollTop+p.target.offsetHeight+200>=p.target.scrollHeight&&A()},T=({height:p,listWidth:u,width:g})=>p*u/g;return{load:A,dragStart:B,select:v,...m.toRefs(n),delItem:x,scrollEvent:M,getRef:s,mouseup:l,mousemove:o,getInnerHeight:T}}}),jz=e=>(m.pushScopeId("data-v-1c1c8e52"),e=e(),m.popScopeId(),e),zz={class:"list"},Vz=["onMousedown","onClick","onDragstart"],Gz={key:0,class:"list__mask"},Wz={key:0,class:"loading"},Yz=jz(()=>m.createElementVNode("i",{class:"el-icon-loading"},null,-1)),Xz={key:1,class:"loading"};function Kz(e,t,n,r,i,a){const l=m.resolveComponent("el-image"),o=m.resolveComponent("edit-model"),c=m.resolveComponent("imageTip");return m.openBlock(),m.createElementBlock("ul",{ref:"listRef",class:"img-list-wrap",style:m.normalizeStyle({paddingBottom:e.isShort?"15px":"200px"}),onScroll:t[2]||(t[2]=s=>e.scrollEvent(s))},[m.createElementVNode("div",zz,[(m.openBlock(!0),m.createElementBlock(m.Fragment,null,m.renderList(e.list,(s,A)=>(m.openBlock(),m.createElementBlock("div",{key:A+"i",style:m.normalizeStyle({width:s.listWidth+"px",marginRight:s.gap+"px"}),class:"list__img",draggable:"false",onMousedown:v=>e.dragStart(v,A),onMousemove:t[0]||(t[0]=(...v)=>e.mousemove&&e.mousemove(...v)),onMouseup:t[1]||(t[1]=(...v)=>e.mouseup&&e.mouseup(...v)),onClick:m.withModifiers(v=>e.select(A),["stop"]),onDragstart:v=>e.dragStart(v,A)},[e.edit?(m.openBlock(),m.createBlock(o,{key:0,options:e.edit,data:{item:s,i:A}},{default:m.withCtx(()=>[s.isDelect?(m.openBlock(),m.createElementBlock("div",Gz,"\u5DF2\u5220\u9664")):m.createCommentVNode("",!0),m.createVNode(l,{class:"img transparent-bg",src:s.thumb||s.url,style:m.normalizeStyle({height:e.getInnerHeight(s)+"px"}),lazy:"",loading:"lazy"},null,8,["src","style"])]),_:2},1032,["options","data"])):(m.openBlock(),m.createBlock(c,{key:1,detail:s},{default:m.withCtx(()=>[m.createVNode(l,{class:"img",src:s.thumb||s.url,style:m.normalizeStyle({height:e.getInnerHeight(s)+"px"}),lazy:"",loading:"lazy"},{placeholder:m.withCtx(()=>[m.createElementVNode("div",{style:m.normalizeStyle({backgroundColor:s.color}),class:"image-color"},null,4)]),_:2},1032,["src","style"])]),_:2},1032,["detail"]))],44,Vz))),128))]),e.isDone?(m.openBlock(),m.createElementBlock("div",Xz,"\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5")):m.withDirectives((m.openBlock(),m.createElementBlock("div",Wz,[Yz,m.createTextVNode(" \u62FC\u547D\u52A0\u8F7D\u4E2D")],512)),[[m.vShow,e.loading]])],36)}var Zz=ct(Hz,[["render",Kz],["__scopeId","data-v-1c1c8e52"]]),Jz=Object.freeze(Object.defineProperty({__proto__:null,default:Zz},Symbol.toStringTag,{value:"Module"})),HK="";const $z={},qz={class:"inner-tool-bar"};function eV(e,t){return m.openBlock(),m.createElementBlock("div",qz,[m.renderSlot(e.$slots,"default",{},void 0,!0)])}var tV=ct($z,[["render",eV],["__scopeId","data-v-5abbe7ff"]]),nV=Object.freeze(Object.defineProperty({__proto__:null,default:tV},Symbol.toStringTag,{value:"Module"}));function rV(e){return e.charAt(0).toUpperCase()+e.slice(1)}const iV=RegExp(".*^(?!.*?("+["settings","layout"].join("|")+")).*\\.vue$"),zB={"./layout/designBoard.vue":fD,"./layout/lineGuides.vue":qD,"./layout/sizeControl.vue":jj,"./layout/zoomControl.vue":_D,"./panel/stylePanel.vue":fj,"./panel/widgetPanel.vue":tQ,"./settings/colorSelect.vue":I5,"./settings/iconItemSelect.vue":fH,"./settings/numberInput.vue":wH,"./settings/numberSlider.vue":WO,"./settings/textInput.vue":Kj,"./settings/textInputArea.vue":ZH,"./settings/valueSelect.vue":g3,"./widgets/pageStyle.vue":vz,"./panel/components/layerList.vue":aH,"./panel/wrap/BgImgListWrap.vue":dN,"./panel/wrap/CompListWrap.vue":IN,"./panel/wrap/GraphListWrap.vue":RN,"./panel/wrap/PhotoListWrap.vue":KN,"./panel/wrap/TempListWrap.vue":BR,"./panel/wrap/TextListWrap.vue":MR,"./panel/wrap/ToolsListWrap.vue":PR,"./panel/wrap/UserWrap.vue":YR,"./settings/EffectSelect/ContainerWrap.vue":Sz,"./settings/EffectSelect/TextWrap.vue":R3,"./widgets/wGroup/wGroup.vue":JM,"./widgets/wGroup/wGroupStyle.vue":xH,"./widgets/wImage/wImage.vue":zM,"./widgets/wImage/wImageStyle.vue":VH,"./widgets/wQrcode/wQrcode.vue":oD,"./widgets/wQrcode/wQrcodeStyle.vue":j5,"./widgets/wSvg/wSvg.vue":YM,"./widgets/wSvg/wSvgStyle.vue":J5,"./widgets/wText/wText.vue":LM,"./widgets/wText/wTextStyle.vue":rj,"./panel/wrap/components/classHeader.vue":Uz,"./panel/wrap/components/editModel.vue":sR,"./panel/wrap/components/imageTip.vue":Qz,"./panel/wrap/components/imgWaterFall.vue":dR,"./panel/wrap/components/photoList.vue":Jz,"./panel/wrap/components/searchHeader.vue":tR,"./widgets/wImage/components/innerToolBar.vue":nV};function aV(e){for(const t in zB)if(iV.test(t)){const n=zB[t],r=rV(t.replace(/^\..*\//,"").replace(/\.\w+$/,""));e.component(r,n.default||n)}}var oV=e=>{aV(e)},VB=e=>{const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.head.appendChild(t)},sV={install(e){oV(e),VB(tr.ICONFONT_EXTRA),VB(tr.ICONFONT_URL),e.config.globalProperties.$ajax=DM,e.config.globalProperties.$utils=Pj}},zK="",VK="",GK="";return{install(e,{store:t}){let n=e;if(typeof window!="undefined"&&(window==null?void 0:window.Vue)&&(n=window==null?void 0:window.Vue),!t){console.error("Please provide a Vuex store.");return}n.use(tt),n.use(sV),n.component("ErpPosterDesign",Dj)}}});
//# sourceMappingURL=erp-poster-design.umd.js.map
